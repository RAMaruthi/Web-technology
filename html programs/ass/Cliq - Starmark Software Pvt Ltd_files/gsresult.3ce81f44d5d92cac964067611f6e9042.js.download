!function(window){var zgssearch=function(zgssearch){return(zgssearch=window.zgssearch||{}).setTheme=function(themeName){var element=document.body,GSConstant=zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{};if("zmNightMode"===themeName&&(themeName="zsNightMode"),GSConstant.SUPPORTED_THEME){var supportedThemeArr=GSConstant.SUPPORTED_THEME.split(",");if(-1<supportedThemeArr.indexOf(themeName)){var tIndex,existingBodyCls=element.className.trim();for(tIndex in supportedThemeArr)var tName=supportedThemeArr[tIndex],tName=zgssearch.GSConstant.isNightModeEnabled&&"zsNightMode"==tName?"":tName,existingBodyCls=existingBodyCls.replace(tName,"");element.className=existingBodyCls+" "+themeName}}},zgssearch.getTheme=function(){var element=document.body,GSConstant=zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{};if(GSConstant.SUPPORTED_THEME){var tIndex,supportedThemeArr=GSConstant.SUPPORTED_THEME.split(","),existingBodyClsArr=element.className.trim().split(" ");for(tIndex in existingBodyClsArr){var tName=existingBodyClsArr[tIndex];if(zgssearch.isArrayContain(tName,supportedThemeArr))return tName}}return""},zgssearch.resetTheme=function(){var tIndex,element=document.body,supportedThemeArr=(zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{}).SUPPORTED_THEME.split(","),existingBodyCls=element.className.trim();for(tIndex in supportedThemeArr)var tName=supportedThemeArr[tIndex],existingBodyCls=existingBodyCls.replace(tName,"");element.className=existingBodyCls},zgssearch.setMode=function(modeName){var supportedModeArr=["zsDarkMode","zsLightMode"];if(-1<supportedModeArr.indexOf(modeName)){var mIndex,element=document.body,existingBodyCls=element.className.trim();for(mIndex in supportedModeArr)var mName=supportedModeArr[mIndex],existingBodyCls=existingBodyCls.replace(mName,"");element.className=existingBodyCls+" "+modeName,localStorage.setItem("mode",modeName)}},zgssearch.setNightMode=function(isNightModeEnabled){for(var nightModeCls="zsNightMode",element=document.body,themeOuterEle=document.getElementsByClassName("zgs19_gsModeOutercontainer")[0]||document.body,existingThemeOuterEleCls=(themeOuterEle||element).className.trim(),toggleModeCls="zgs19_gsModeOutercontainerDisabled",existingBodyCls=element.className.trim(),radios=document.getElementsByName("zsmode"),i=0;i<radios.length;i++)radios[i].disabled=isNightModeEnabled;localStorage.setItem("isNightModeEnabled",isNightModeEnabled),isNightModeEnabled?(existingThemeOuterEleCls.indexOf(toggleModeCls)<0&&themeOuterEle&&(themeOuterEle.className=existingThemeOuterEleCls+" "+toggleModeCls),existingBodyCls.indexOf(nightModeCls)<0&&(element.className=existingBodyCls+" "+nightModeCls),zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("enableDarkTheme")&&WebMessanger.enableDarkTheme()):(existingBodyCls=existingBodyCls.replace(nightModeCls,""),element.className=existingBodyCls,existingThemeOuterEleCls=existingThemeOuterEleCls.replace(toggleModeCls,""),themeOuterEle.className=existingThemeOuterEleCls,zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),existingBodyCls=existingBodyCls.replace(nightModeCls="zmNightMode",""),element.className=existingBodyCls)},zgssearch.resetNightMode=function(){var nightModeCls="zsNightMode",existingThemeOuterEleCls=document.body,ziaMountEle=document.getElementsByClassName("zgs19_gsModeOutercontainer")[0]||existingThemeOuterEleCls,existingThemeOuterEleCls=ziaMountEle.className.trim();localStorage.setItem("isNightModeEnabled",!1),-1<existingThemeOuterEleCls.indexOf(nightModeCls)&&(existingThemeOuterEleCls=existingThemeOuterEleCls.replace(nightModeCls,""),ziaMountEle.className=existingThemeOuterEleCls),zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),-1<existingThemeOuterEleCls.indexOf(nightModeCls="zmNightMode")&&(existingThemeOuterEleCls=existingThemeOuterEleCls.replace(nightModeCls,""),ziaMountEle.className=existingThemeOuterEleCls)},zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(zgssearch){zgssearch.ZSNetwork=(ZSNetwork=!zgssearch.isExtension&&zgssearch.network||{},ZSNetwork.imageRenderer={renderImage:function(url,imgElem,callback){imgElem?zgssearch.renderPhoto("",url,imgElem.class_name,imgElem.errorClass,imgElem.img_elem):callback(url)}},ZSNetwork.download_file=function(parent){var iframe=document.createElement("iframe");iframe.frameBorder=0,iframe.id="download_iframe",iframe.src=parent;parent=zgssearch.isPreviewOpenedInComponent?"zgs20_pcSearch":"zgs20_globalsearch";document.getElementById(parent).appendChild(iframe),setTimeout(function(){iframe.parentElement.removeChild(iframe)},5e4)},ZSNetwork),zgssearch.network=zgssearch.isExtension?zgssearch.network:zgssearch.ZSNetwork}(zgssearch,window),function(zgssearch,window){zgssearch.gsspacer=zgssearch.network.getFingerPrintFilePath("images/gsspacer.gif",!0),zgssearch.getGSConstantObj=function(){return zgssearch.GSConstant},zgssearch.setGSTagElems=function(resDiv){_jQueryGS(resDiv).find("*").each(function(){var gsName=this.getAttribute("gs");gsName&&(resDiv[gsName]=this)})},zgssearch.getTargetElem=function(id){if(""!==id&&void 0!==id)return document.getElementById(id)},zgssearch.I18N={},zgssearch.I18N.getValue=function(msg_key,params){var value=null;if(zgssearch.Utils.isValidValue(msg_key)&&(value=msg_key,zgssearch.GSConstant.hasOwnProperty("jsMessages")&&(value=zgssearch.GSConstant.jsMessages[msg_key],zgssearch.Utils.isValidValue(params))))for(var pi=0;pi<params.length;pi++)value=value.split("{"+pi+"}").join(params[pi]);return value},zgssearch.getI18NMsg=function(value,convertLowercase){value=value.trim(),value=zgssearch.GSConstant.hasOwnProperty("jsMessages")?zgssearch.GSConstant.jsMessages[value]||value:"";return value=convertLowercase?value.toLowerCase():value},zgssearch.isMobViewport=function(){return zgssearch.hasOwnProperty("gscomponent")&&zgssearch.gscomponent.isServiceSuite?zgssearch.isWPMobViewPort():!(!zgssearch.hasOwnProperty("gscomponent")||1!==zgssearch.gscomponent.UIType||!window.matchMedia("(max-width: 768px)").matches)},zgssearch.uri=function(type,url,param,args,callback){var timeout=args&&args.hasOwnProperty("timeout")?args.timeout:15e3,req={};req.url=url,req.type=type,req.data=param,req.timeout=timeout,req.args=args,req.success=function(result,status,xhr){xhr?xhr.args=this.args:xhr=result,xhr.args=this.args,callback(result,status,xhr)},req.error=function(result,status,xhr){xhr?xhr.args=this.args:xhr=result,xhr.args=this.args,callback({},"error",xhr)};req=zgssearch.network.uri(req);args&&!_jQueryGS.isEmptyObject(args)&&args.hasOwnProperty("isCalloutReq")&&args.isCalloutReq&&(zgssearch.xmlhttpCalloutReq=req)},zgssearch.getLHSServicePaneWidth=function(){return"ZW"===zgssearch.gscomponent.pcode&&(zgssearch.gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia)?0:_jQueryGS("#zgs20_gsSearchResultLeft").width()},zgssearch.replaceHTMLEntity=function(text){return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi.test(text)?zgssearch.gssecurity.textDecoder(text):text},zgssearch.initNotebookcomponent=function(callback){zgssearch.isNotebookComponentLoaded=!0,zgssearch.gsnotebookresults=zgssearch.gsnotebookresults||{},zgssearch.gsnotebookresults.nbClient=new NBClient(zgssearch.GSConstant.INSTALLATION,window.location.origin)||{},zgssearch.gsnotebookresults.unSupportedBrowser=zgssearch.gsnotebookresults.nbClient.unSupportedBrowser()||!1,callback&&callback()},zgssearch.loadNotebookComponent=function(callback){var nbComponentFile;zgssearch.isNotebookComponentLoaded||(nbComponentFile=zgssearch.network.getFingerPrintFilePath("js/znb-client-sec.js",!0),zgssearch.network.loadJSFile(nbComponentFile,function(){zgssearch.initNotebookcomponent(function(){callback&&callback()})}))},zgssearch.preLoadComponentForServices=function(){var serv,sList=(zgssearch.isDashboardEnabled?zgssearch.getConstAllServList():zgssearch.getServiceList("serviceList"))||[];for(serv in zgssearch.isArrayContain(zgssearch.GSConstant.NOTEBOOK,sList)&&zgssearch.loadNotebookComponent(),zgssearch.addToWdSupportedServices)if(zgssearch.isArrayContain(zgssearch.addToWdSupportedServices[serv],sList)){zgssearch.loadWorkdriveComponent();break}var index,load_res_services=zgssearch.getResRequiredServices();for(index in load_res_services){var service=load_res_services[index];zgssearch.loadServiceComponent(service)}},zgssearch.loadServiceComponent=function(instance){-1<zgssearch.res_services.indexOf(instance)&&(null!=(instance=(new zgssearch.ResourceFactory).createInstance(instance,!1))&&instance.load())},zgssearch.getResRequiredServices=function(){var load_res_services=[];load_res_services.push(zgssearch.GSConstant.SALESFORCE),load_res_services.push(zgssearch.GSConstant.SLACK);var fileService=zgssearch.getFileServiceIfExists();return fileService&&load_res_services.push(fileService),load_res_services.push(zgssearch.GSConstant.ASANA),load_res_services.push(zgssearch.GSConstant.PROJECTS),load_res_services},zgssearch.getFileServiceIfExists=function(){for(var sList=zgssearch.getServiceList("serviceList")||[],fileService="",servicesStorageLen=zgssearch.SERVICES_STORAGE.length,serv=0;serv<servicesStorageLen;serv++)if(-1<sList.indexOf(zgssearch.SERVICES_STORAGE[serv])){fileService=zgssearch.SERVICES_STORAGE[serv];break}return fileService},zgssearch.isWMSChatPaused=function(){return!zgssearch.hasWebMessanger||!WebMessanger.hasOwnProperty("isChatPaused")||WebMessanger.isChatPaused()},zgssearch.isArrayContain=function(value,array){return-1!==_jQueryGS.inArray(value,array)},zgssearch.isJsonObjectContain=function(value,keys){keys=Object.keys(keys);return-1!==_jQueryGS.inArray(value,keys)},zgssearch.getFourDotLoader=function(id,className){return _jQueryGS("<div>",{id:id,class:className,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},zgssearch.removeEle=function(ele){ele&&ele.parentNode&&ele.parentNode.removeChild(ele)},zgssearch.isArrayContain=function(value,array){return-1!==_jQueryGS.inArray(value,array)},zgssearch.getMappedServiceList=function(){return zgssearch.mappedServiceList},zgssearch.getComponentType=function(){if(zgssearch.isPreviewOpenedInComponent){if(zgssearch.hasOwnProperty("pccomponent"))return"pccomponent"}else if(zgssearch.hasOwnProperty("gscomponent"))return"gscomponent";return null},zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.Utils.isValidValue=function(value){return!(null==value||""===value||"null"===value)},zgssearch.Utils.debounce=function(func,delay,funcName,isImmediate){var context=this,args=arguments,funcDebounceTimeout=funcName+"DebounceTimeout";zgssearch[funcDebounceTimeout]&&(clearTimeout(zgssearch[funcDebounceTimeout]),zgssearch[funcDebounceTimeout]=null),zgssearch[funcDebounceTimeout]=setTimeout(function(){zgssearch[funcDebounceTimeout]=null,isImmediate||func.apply(context,args)},delay),isImmediate&&func.apply(context,args)},zgssearch.Utils.throttle=function(func,delay,funcName){zgssearch.throttleTimeout||(func.apply(this,arguments),zgssearch.throttleTimeout=setTimeout(function(){zgssearch.throttleTimeout=null},delay))},zgssearch.getEnabledCloudApps=function(){return zgssearch.GSConstant.accessible_cloud_apps||[]},zgssearch.addToWDEnabled=function(){var hasWD=zgssearch.isArrayContain(zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.allserviceslist),isDB=zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened(),UICheck=1==zgssearch.GSConstant.UIType||location.hostname.endsWith(".localzoho.com");return hasWD&&UICheck&&!isDB&&!zgssearch.isExtension},zgssearch.loadWorkdriveComponent=function(callback){var wdComponentUrl;!zgssearch.workdriveComponentLoaded&&zgssearch.addToWDEnabled()&&(wdComponentUrl=1==zgssearch.GSConstant.UIType?"zgs20_gsOverlayDialog":"zgs20_gsHolder",_jQueryGS("#"+wdComponentUrl).prepend(_jQueryGS("<div>",{id:"zgs20_wdMount"})),wdComponentUrl=window.location.protocol+"//"+zgssearch.GSConstant.STATIC_RESOURCE_SERVER+"/personal/stable/jsapps/workdrive-third-party/workdrive-components.js?_t="+Date.now(),zgssearch.network.loadJSFile(wdComponentUrl,function(){zgssearch.wdComponentLoaded(callback)}))},zgssearch.wdComponentLoaded=function(callback){zgssearch.workdriveComponentLoaded=!0,callback&&callback()}}(zgssearch,window),function(zgssearch,GSConstant){GSConstant._jQueryGS;GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.mappedServiceList={},zgssearch.mappedServiceList[GSConstant.ALL]={hash:"all",api_url_service_name:"All Apps",displayName:zgssearch.getI18NMsg("gs.search.service_allapps"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniAllIcon"},zgssearch.mappedServiceList[GSConstant.MAILS]={hash:"zmail",api_url_service_name:"Mail",displayName:zgssearch.getI18NMsg("gs.search.service_mails"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsmails",results:"gsmailresults",id:"zgs20_gsMailCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),originService:GSConstant.MAILS},zgssearch.mappedServiceList[GSConstant.STREAMS]={hash:"zmail",api_url_service_name:"Streams",displayName:zgssearch.getI18NMsg("common.streams"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsstreams",results:"gsstreamsresults",id:"zgs20_gsStreamsCallout",dH:zgssearch.getI18NMsg("common.streams"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),originService:GSConstant.MAILS,is_module:!0},zgssearch.mappedServiceList[GSConstant.CRM]={hash:"zcrm",api_url_service_name:"CRM",displayName:zgssearch.getI18NMsg("gs.search.service_crm"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCrmIcon",listview:!0,callout:"gscrm",results:"gscrmresults",id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales")},zgssearch.mappedServiceList[GSConstant.DOCUMENTS]={hash:"zdocs",api_url_service_name:"Docs",displayName:zgssearch.getI18NMsg("gs.search.service_documents"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniDocsIcon",listview:!0,callout:"gsdocs",results:"gsdocsresults",id:"zgs20_gsDocsCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.PEOPLE]={hash:"zpeople",api_url_service_name:"People",displayName:zgssearch.getI18NMsg("gs.search.service_people"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPeopleIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",category:zgssearch.getI18NMsg("gs.settings.service.type.hr")},zgssearch.mappedServiceList[GSConstant.ORGCONTACTS]={hash:"orgcontacts",api_url_service_name:"Org Contacts",displayName:zgssearch.getI18NMsg("gs.search.service_org_contact"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOrgIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout"},zgssearch.mappedServiceList[GSConstant.PERSONALCONTACTS]={hash:"personalcontacts",api_url_service_name:"Contacts",displayName:zgssearch.getI18NMsg("common.contact"),is_filter_exist:!1,is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPerIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout"},zgssearch.mappedServiceList[GSConstant.CHAT]={hash:"zchat",api_url_service_name:"Chat",displayName:zgssearch.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gschat",results:"gschatresults",id:"zgs20_gsChatCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.CLIQ]={hash:"zcliq",api_url_service_name:"Cliq",displayName:zgssearch.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gscliq",results:"gscliqresults",id:"zgs20_gsCliqCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.SUPPORT]={hash:"zdesk",api_url_service_name:"Desk",displayName:zgssearch.getI18NMsg("gs.search.service_desk"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniSupportIcon",listview:!0,callout:"gssupport",results:"gssupportresults",id:"zgs20_gsSupportCallout",dH:zgssearch.getI18NMsg("gs.search.filter.portals"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.itdesk")},zgssearch.mappedServiceList[GSConstant.REPORTS]={hash:"zreports",api_url_service_name:"Analytics",displayName:zgssearch.getI18NMsg("gs.search.service_reports"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniReportsIcon",listview:!0,callout:"gsreports",results:"gsreportresults",id:"zgs20_gsReportsCallout",dH:zgssearch.getI18NMsg("gs.search.filter.databases"),category:zgssearch.getI18NMsg("gs.settings.service.type.custom.solutions")},zgssearch.mappedServiceList[GSConstant.CONNECT]={hash:"zconnect",api_url_service_name:"Connect",displayName:zgssearch.getI18NMsg("gs.search.service_connect"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniConnectIcon",listview:!0,callout:"gsconnect",results:"gsconnectresults",id:"zgs20_gsConnectCallout",dH:zgssearch.getI18NMsg("common.networks"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.WIKI]={hash:"zwiki",api_url_service_name:"Wiki",displayName:zgssearch.getI18NMsg("common.wiki"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWikiIcon",listview:!0,callout:"gswiki",results:"gswikiresults",id:"zgs20_gsWikiCallout",dH:zgssearch.getI18NMsg("gs.search.filter.wikis"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.CREATOR]={hash:"zcreator",api_url_service_name:"Creator",displayName:zgssearch.getI18NMsg("gs.search.service_creator"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCreatorIcon",listview:!0,callout:"gscreator",results:"gscreatorresults",id:"zgs20_gsCreatorCallout",dH:zgssearch.getI18NMsg("gs.search.filter.applications"),category:zgssearch.getI18NMsg("gs.settings.service.type.custom.solutions")},zgssearch.mappedServiceList[GSConstant.BOOKS]={hash:"zbooks",api_url_service_name:"Books",displayName:zgssearch.getI18NMsg("gs.search.service_books"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBooksIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.finance")},zgssearch.mappedServiceList[GSConstant.INVOICE]={hash:"zinvoice",api_url_service_name:"Invoice",displayName:zgssearch.getI18NMsg("gs.search.service_invoice"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniInvoiceIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.finance")},zgssearch.mappedServiceList[GSConstant.WEBSITE]={hash:"zwebsite",api_url_service_name:"Help Pages",displayName:zgssearch.getI18NMsg("gs.search.service_website"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniWebsiteIcon",listview:!0,callout:"gswebsite",results:"gswebsiteresults",id:"zgs20_gsWebsiteCallout"},zgssearch.mappedServiceList[GSConstant.ORGRESOURCES]={hash:"orgresources",api_url_service_name:"ZIntranet",displayName:zgssearch.getI18NMsg("gs.search.service_connector"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniConnectorIcon",listview:!0,callout:"gsconnector",results:"gsconnectorresults",id:"zgs20_gsConnectorCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations")},zgssearch.mappedServiceList[GSConstant.CAMPAIGNS]={hash:"campaigns",api_url_service_name:"Campaigns",displayName:zgssearch.getI18NMsg("gs.search.service_campaigns"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCampaignIcon",callout:"gscampaign",results:"gscampaignresults",listview:!0,id:"zgs20_gsCampaignCallout",dH:zgssearch.getI18NMsg("common.modules"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales")},zgssearch.mappedServiceList[GSConstant.WORKDRIVE]={hash:"workdrive",api_url_service_name:"WorkDrive",displayName:zgssearch.getI18NMsg("gs.search.service_workdrive"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWorkDriveIcon",callout:"gsworkdrive",results:"gsworkdriveresults",listview:!0,id:"zgs20_gsWorkDriveCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.CALENDAR]={hash:"calendar",api_url_service_name:"Calendar",displayName:zgssearch.getI18NMsg("gs.search.service_calendar"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCalendarsIcon",callout:"gscalendar",results:"gscalendarresults",listview:!0,id:"zgs20_gsCalendarCallout"},zgssearch.mappedServiceList[GSConstant.NOTEBOOK]={hash:"notebook",api_url_service_name:"Notebook",displayName:zgssearch.getI18NMsg("gs.search.service_notebook"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniNoteBookIcon",callout:"gsnotebook",results:"gsnotebookresults",listview:!0,id:"zgs20_gsNoteBookCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email")},zgssearch.mappedServiceList[GSConstant.BIGIN]={hash:"zbigin",api_url_service_name:"Bigin",displayName:zgssearch.getI18NMsg("gs.search.service_bigin"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBiginIcon",callout:"gscrm",results:"gscrmresults",listview:!0,id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales")},zgssearch.mappedServiceList[GSConstant.PROJECTS]={hash:"projects",api_url_service_name:"Projects",displayName:zgssearch.getI18NMsg("gs.search.service_projects"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniProjectsIcon",callout:"",results:"",listview:!0,id:"zgs20_gsProjectsCallout",sort:"",dH:zgssearch.getI18NMsg("gs.search.filter.portals"),category:zgssearch.getI18NMsg("gs.settings.service.type.project")},zgssearch.mappedServiceList[GSConstant.DROPBOX]={hash:"dropbox",api_url_service_name:"Dropbox",displayName:zgssearch.getI18NMsg("gs.con.service.dropbox"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniDropboxIcon",callout:"gsdocs",results:"gsdocsresults",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.dropbox.desc")},zgssearch.mappedServiceList[GSConstant.GOOGLEDRIVE]={hash:"gdrive",api_url_service_name:"Google Drive",displayName:zgssearch.getI18NMsg("gs.con.service.gdrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniGdriveIcon",callout:"gsdocs",results:"gsdocsresults",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.gdrive.desc")},zgssearch.mappedServiceList[GSConstant.BOX]={hash:"box",api_url_service_name:"Box",displayName:zgssearch.getI18NMsg("gs.con.service.box"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBoxIcon",callout:"gsdocs",results:"gsdocsresults",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.box.desc")},zgssearch.mappedServiceList[GSConstant.SLACK]={hash:"slack",api_url_service_name:"Slack",displayName:zgssearch.getI18NMsg("gs.con.service.slack"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSlackIcon",callout:"gsslack",results:"gsslackres",listview:!0,id:"zgs20_gsSlackCallout",dH:zgssearch.getI18NMsg("gs.search.filter.databases"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),desc:zgssearch.getI18NMsg("gs.settings.service.slack.desc")},zgssearch.mappedServiceList[GSConstant.SALESFORCE]={hash:"salesforce",api_url_service_name:"Salesforce",displayName:zgssearch.getI18NMsg("gs.con.service.salesforce"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSFIcon",callout:"crm_services",results:"crm_services",listview:!0,id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales"),desc:zgssearch.getI18NMsg("gs.settings.service.sf.desc")},zgssearch.mappedServiceList[GSConstant.O365MAIL]={hash:"outlook",api_url_service_name:"Outlook",displayName:zgssearch.getI18NMsg("gs.con.service.outlook"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUnio365MailIcon",callout:"gso365mail",results:"gso365results",listview:!0,id:"zgs20_gsOutlookcallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),desc:zgssearch.getI18NMsg("gs.settings.service.o365mail.desc")},zgssearch.mappedServiceList[GSConstant.ONEDRIVE]={hash:"onedrive",api_url_service_name:"OneDrive",displayName:zgssearch.getI18NMsg("gs.con.service.onedrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOneDriveIcon",callout:"gsdocs",results:"gsdocsresults",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.onedrive.desc")},zgssearch.mappedServiceList[GSConstant.ASANA]={hash:"asana",api_url_service_name:"Asana",displayName:zgssearch.getI18NMsg("gs.con.service.asana"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",serviceicon:"zgs18_gsUniAsanaIcon",listview:!0,dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.project"),desc:zgssearch.getI18NMsg("gs.settings.service.asana.desc")},zgssearch.mappedServiceList[GSConstant.EVERNOTE]={hash:"evernote",api_url_service_name:"Evernote",displayName:zgssearch.getI18NMsg("Evernote"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",results:"gsevernoteres",serviceicon:"zgs18_gsUniEvernoteIcon",id:"zgs20_gsEvernoteCallout",listview:!0,dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.project"),desc:zgssearch.getI18NMsg("gs.settings.service.evernote.desc")},zgssearch.httptxt="http",zgssearch.httpstxt="https",zgssearch.isGSOpenedInWorkplaceApp=zgssearch.hasOwnProperty("gscomponent")&&zgssearch.gscomponent.isServiceSuite&&(zgssearch.gscomponent.hasOwnProperty("actionHandler")||zgssearch.gscomponent.hasOwnProperty("previewHandler")),zgssearch.hasOwnProperty("gscomponent")&&(zgssearch.gscomponent.isPreviewHandlerEnabledInSuiteApp=zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("previewHandler")),zgssearch.isActionHandlerEnabledInSuiteApp=zgssearch.hasOwnProperty("gscomponent")&&zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("actionHandler"),zgssearch.handlebarDependentService=[zgssearch.GSConstant.DOCUMENTS,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE,zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.PROJECTS],zgssearch.multiModServices=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA],zgssearch.multiModSupportedServices=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.CAMPAIGNS],zgssearch.addToWdSupportedServices=[zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.O365MAIL],zgssearch.mailModuleVsDispName={mails:zgssearch.getI18NMsg("gs.search.service_mails"),streams:zgssearch.getI18NMsg("common.streams")},zgssearch.originServiceVsSubService={},zgssearch.originServiceVsSubService[GSConstant.MAILS]=GSConstant.STREAMS,zgssearch.dpa_mod=GSConstant.ALL,zgssearch.configured_mail_module=zgssearch.configured_mail_module||[],zgssearch.account_based_filter_service_list=zgssearch.account_based_filter_service_list||[],zgssearch.IFRAME="iframe",zgssearch.ZIP="zip",zgssearch.FILE="file",zgssearch.FOLDER="folder",zgssearch.updateActionsURL="/zgssearch/gsserviceaction"}(zgssearch,window),function(zgssearch,window){window._jQueryGS;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.serviceList=zgssearch.serviceList||[],zgssearch.allServiceList=zgssearch.allServiceList||[],zgssearch.eventStats="/zgssearch/gsevent",zgssearch.noUserPhoto=zgssearch.noUserPhoto||"/zgssearch/images/no-user-image.png",zgssearch.GSConstant.accessible_cloud_apps=GSConstant.accessible_cloud_apps||[GSConstant.GOOGLEDRIVE,GSConstant.BOX,GSConstant.DROPBOX,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE,GSConstant.SALESFORCE,GSConstant.ASANA],zgssearch.cursor_supported_services=[GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE],zgssearch.GET="GET",zgssearch.POST="POST",zgssearch.LINE_ICON_MAP={zgs18_gsUniAllIcon:4,zgs18_gsAppsIcon:4,zgs18_gsUniConnectIcon:4,zgs18_gsUniDocsIcon:3,zgs18_gsUniPeopleIcon:10,zgs18_gsUniPerIcon:5,zgs18_gsUniOrgIcon:6,zgs18_gsUniMailsIcon:2,zgs18_gsUniNoteBookIcon:6,zgs18_gsUniCreatorIcon:2,zgs18_gsUniWebsiteIcon:2,zgs18_gsUniCampaignIcon:2,zgs18_gsUniChatIcon:2,zgs18_gsUniProjectsIcon:9,zgs18_wone:7,zgs18_wmarketplace:3,zgs18_wofficeintegrator:5,zgs18_wbugtracker:10,zgs18_wsign:5,zgs18_wpayroll:4,zgs18_wmail:2,zgs18_wcliq:2,zgs18_wchat:2,zgs18_wconnect:6,zgs18_wcampaigns:2,zgs18_wmotivator:8,zgs18_wsocial:9,zgs18_wsurvey:8,zgs18_wbugTracker:10,zgs18_wprojects:9,zgs18_wassist:3,zgs18_wpeople:10,zgs18_wcreator:2,zgs18_wdeveloper:9,zgs18_wcalendar:9,zgs18_wnotebook:6,zgs18_wsites:6,zgs18_wsprints:3,zgs18_wvault:7,zgs18_wpagesense:8,zgs18_winventory:4,zgs18_worchestly:2,zgs18_wcatalyst:2,zgs18_wbookings:3,zgs18_wmarketinghub:5,zgs18_wlens:5,zgs18_wsite24x7:3,zgs18_wdocs:3,zgs18_wflow:2,zgs18_wcheckout:5,zgs18_analytics_table:12,zgs18_analytics_report:18,zgs18_analytics_analysisview:4,zgs18_analytics_summaryview:4,zgs18_analytics_pivot:2,zgs18_analytics_querytable:3,zgs18_analytics_dashboard:8,zgs18_gsSuppRequestIcon:7,zgs18_gsSuppSolutionIcon:5,zgs18_gsSuppAccountIcon:6,zgs18_gsSuppContactIcon:2,zgs18_gsUniEvernoteIcon:3,zgs18_gsPlusCircle:4},zgssearch.SERVICES_CRM=[zgssearch.GSConstant.CRM,zgssearch.GSConstant.SALESFORCE],zgssearch.SERVICES_MAIL=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.O365MAIL],zgssearch.SERVICES_STORAGE=[zgssearch.GSConstant.DOCUMENTS,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE],zgssearch.SERVICES_PROJECT=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.ASANA],zgssearch.SERVICES_NOTES=[zgssearch.GSConstant.EVERNOTE],zgssearch.specialkeys={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,CUT:88},zgssearch.originParam=zgssearch.isExtension?"":"frameorigin="+window.location.origin,zgssearch.hasWebMessanger=zgssearch.hasWebMessanger||"undefined"!=typeof WebMessanger,zgssearch.isCliqDomain=zgssearch.isCliqDomain||!(!zgssearch.hasWebMessanger||!WebMessanger.isCliqDomain)&&WebMessanger.isCliqDomain(),zgssearch.hasWMSTranscript=zgssearch.hasWMSTranscript||!!zgssearch.hasWebMessanger&&void 0!==WebMessanger.renderTranscript,zgssearch.hasWmsResource=zgssearch.hasWmsResource||"undefined"!=typeof WmsResource,zgssearch.pcEnabledSer=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.CONNECT,zgssearch.GSConstant.CLIQ,zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.PEOPLE,zgssearch.GSConstant.SUPPORT,zgssearch.GSConstant.WIKI,zgssearch.GSConstant.DOCUMENTS],zgssearch.fetchActionsURL="/zgssearch/gsservicedata",zgssearch.nps="&nps=202",zgssearch.workdriveServices=["zohosheet","zohoshow","writer","docs","spreadsheet","presentation","image","pdf","video","audio","file","folder"],zgssearch.campaigns_version=zgssearch.campaigns_version||{},zgssearch.docIdsVsEncryptedIds=zgssearch.docIdsVsEncryptedIds||{},zgssearch.servicePkIdMapping={people:"pkid",personalContacts:"contact_id",cliq:"cid",support:"doc_id",wiki:"doc_id",website:"pk_id",connector:"oid",notebook:"notecard_id",reports:"vId",workdrive:"dId",connect:"id",crm:"id",bigin:"id",evernote:"id",projects:"id"},zgssearch.entityTypeTitleMap={1:{title:zgssearch.getI18NMsg("gs.search.filter.emails"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasemails"),notitle:"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")"},2:{title:zgssearch.getI18NMsg("gs.search.filter.notes"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasnotes"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},3:{title:zgssearch.getI18NMsg("gs.search.filter.tasks"),hasText:zgssearch.getI18NMsg("gs.search.filter.hastasks"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},4:{title:zgssearch.getI18NMsg("gs.search.filter.events"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasevents"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},6:{title:zgssearch.getI18NMsg("gs.search.filter.postmesseges"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},10:{title:zgssearch.getI18NMsg("gs.search.filter.bookmarks"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"}},zgssearch.iframePreviewServ=[zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.REPORTS],zgssearch.prevAPIServ=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.BOOKS,zgssearch.GSConstant.INVOICE,zgssearch.GSConstant.STREAMS]}(zgssearch,window),function(zgssearch){var gscomponent;zgssearch.gscomponent=(gscomponent=void 0,(gscomponent=zgssearch.gscomponent||{}).UIType=gscomponent.hasOwnProperty("UIType")?gscomponent.UIType:0,gscomponent.isShowAppsData=!gscomponent.hasOwnProperty("isShowAppsData")||gscomponent.isShowAppsData,gscomponent.mount=gscomponent.hasOwnProperty("mount")?gscomponent.mount:"zgs20_globalsearch",gscomponent.searchboxMount=gscomponent.hasOwnProperty("searchboxMount")?gscomponent.searchboxMount:"zgs20_gsSearchBoxRight",gscomponent.searchresultMount=gscomponent.hasOwnProperty("searchresultMount")?gscomponent.searchresultMount:"",gscomponent.searchBoxPosition=gscomponent.hasOwnProperty("searchBoxPosition")?gscomponent.searchBoxPosition:"",gscomponent.searchResultPosition=gscomponent.hasOwnProperty("searchResultPosition")?gscomponent.searchResultPosition:"",gscomponent.zindex=gscomponent.hasOwnProperty("zindex")?gscomponent.zindex:999,gscomponent.theme=gscomponent.hasOwnProperty("theme")?gscomponent.theme:"",gscomponent.query=gscomponent.hasOwnProperty("query")?gscomponent.query:"",gscomponent.showSearchButton=!!gscomponent.hasOwnProperty("showSearchButton")&&gscomponent.showSearchButton,gscomponent.tabIndex=gscomponent.hasOwnProperty("tabIndex")?gscomponent.tabIndex:"",gscomponent.position=gscomponent.hasOwnProperty("position")?gscomponent.position:{},gscomponent.beforeShow=gscomponent.hasOwnProperty("beforeShow")?gscomponent.beforeShow:"",gscomponent.beforeHide=gscomponent.hasOwnProperty("beforeHide")?gscomponent.beforeHide:"",gscomponent.afterShow=gscomponent.hasOwnProperty("afterShow")?gscomponent.afterShow:"",gscomponent.afterHide=gscomponent.hasOwnProperty("afterHide")?gscomponent.afterHide:"",gscomponent.onZSReady=gscomponent.hasOwnProperty("onZSReady")?gscomponent.onZSReady:"",gscomponent.gsserver=gscomponent.hasOwnProperty("gsserver")?gscomponent.gsserver:"zohosearch",gscomponent.suiteServiceObject=gscomponent.hasOwnProperty("suiteServiceObject")?gscomponent.suiteServiceObject:[],gscomponent.isServiceSuite=!!gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite,gscomponent.isEmptySearchAllowed=!!gscomponent.hasOwnProperty("isEmptySearchAllowed")&&gscomponent.isEmptySearchAllowed,gscomponent.isWPSmartViewEnabled=!!gscomponent.hasOwnProperty("isWPSmartViewEnabled")&&gscomponent.isWPSmartViewEnabled,gscomponent.isNoRestrictServicelist=!!gscomponent.hasOwnProperty("isNoRestrictServicelist")&&gscomponent.isNoRestrictServicelist,gscomponent.isSameQrySearchEnabled=4===gscomponent.UIType,gscomponent.suiteServiceUserConfig=gscomponent.suiteServiceUserConfig||[],gscomponent.suiteServices=gscomponent.suiteServices||[],gscomponent.setSuiteServiceList=function(service,widgetId){gscomponent.suiteServices.push(service),gscomponent.suiteServiceUserConfig.push({app_name:service,zaaid:widgetId})},gscomponent.getSuiteServiceList=function(){return 0<gscomponent.suiteServices.length?gscomponent.suiteServices:[]},gscomponent.getSuiteServicesObject=function(){return gscomponent.suiteServiceUserConfig},gscomponent.setSuiteServiceObject=function(suiteServiceObject){0<suiteServiceObject.length&&(gscomponent.suiteServiceObject=suiteServiceObject)},gscomponent.nonAccountFilterServices=[],gscomponent.setSuiteService=function(){if(gscomponent.isServiceSuite){var suiteServiceData=zgssearch.jsonParse(gscomponent.suiteServiceObject),suiteServicesDataLen=Object.keys(suiteServiceData).length;if(0<suiteServicesDataLen){gscomponent.suiteServiceUserConfig=[],gscomponent.suiteServices=[],gscomponent.suiteServices.push("all");for(var i=0;i<suiteServicesDataLen;i++){var widgetId=suiteServiceData[i],service=widgetId.service,widgetId=widgetId.id||"";gscomponent.setSuiteServiceList(service,widgetId),service===zgssearch.GSConstant.WEBSITE&&0<widgetId.length&&gscomponent.nonAccountFilterServices.push(service)}}}},gscomponent.setSuiteService(),gscomponent.gsCloseIconCallback=function(){2===gscomponent.UIType&&zossearch.hasOwnProperty("toggleCloseIcon")&&zossearch.toggleCloseIcon()},gscomponent.setPCode=function(){var pcode=gscomponent.hasOwnProperty("pcode")?gscomponent.pcode:"ZGS";"ZGS"!==(pcode="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("pcode")?zossearch.pcode:pcode)&&(gscomponent.isServiceSuite=!0),gscomponent.pcode=pcode},gscomponent.setPCode(),gscomponent.isSettingsEnabled=gscomponent.hasOwnProperty("isSettingsEnabled")?gscomponent.isSettingsEnabled:!gscomponent.isServiceSuite,gscomponent.getMountAttr=function(){var mountCls="",mountId="",mountParentEle="",isAppendToBody=!1;switch(gscomponent.UIType){case 0:case 2:mountCls=" zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone",mountId="zgs20_globalsearch";break;case 1:mountCls=" zgs19_zohosearch",mountId="zgs20_zohosearch",isAppendToBody=!0;break;case 4:var mountCls=" zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone",serviceSuitCls="";switch(gscomponent.pcode){case"ZO":serviceSuitCls=" zgs19_gsonezoho";break;case"ZW":serviceSuitCls=" zsServiceSuite zsServiceSuite260"}mountCls+=serviceSuitCls,mountId="zgs20_globalsearch",mountParentEle=gscomponent.mount}return{class:mountCls,id:mountId,isAppendToBody:isAppendToBody,mountParentEle:mountParentEle}},gscomponent.getToolTipMountId=function(){return"zgs20_gsHolder"},gscomponent.clearExistingZOS=function(existingEle){existingEle=document.getElementById(existingEle);3!==gscomponent.UIType&&4!==gscomponent.UIType||!existingEle||existingEle.parentNode.removeChild(existingEle)},gscomponent.getMountDetails=function(){var mountAttr=gscomponent.getMountAttr(),mountEle=mountAttr.isAppendToBody;return gscomponent.clearExistingZOS(mountAttr.id),mountEle&&((mountEle=document.createElement("div")).tabIndex=5,mountEle.style.zIndex=gscomponent.zindex,mountEle.id=mountAttr.id,mountEle.className=mountAttr.class,mountEle.setAttribute("gs","globalsearch"),document.body.appendChild(mountEle)),mountAttr},gscomponent.getZOUserData=function(){return"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOUserObject")?zossearch.getZOUserObject():gscomponent.hasOwnProperty("getZOUserObject")?gscomponent.getZOUserObject():gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite?gscomponent.getSuiteServicesObject():void 0},gscomponent.uiPosition=function(){return 2===gscomponent.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?zossearch.getZOSObject():gscomponent.position},gscomponent.getGSOptions=function(){if(3!==gscomponent.UIType)return"";return'<div id="zgs20_gsOption"><div class="zgs19_gsOptionSub zgs19_gsCurPointer"><div id="zgs20_gsactionmin" class="zgs19_gsOptionMinIcon zgs19_gsOptionIcon zgs19_gsDisplayNone" gs="gsactionmin"></div><div id="zgs20_gsactionmax" class="zgs19_gsOptionMaxIcon zgs19_gsOptionIcon" gs="gsactionmax"></div></div></div></div>'},gscomponent.getSearchButton=function(){if(gscomponent.showSearchButton){var existingSearchBtn=document.getElementsByClassName("zgs19_searchbtnOuter")[0];if(existingSearchBtn)return existingSearchBtn;return(new DOMParser).parseFromString("<div class='zgs19_searchbtnOuter'><input gs='defsearchicon' id='zgs20_gsSearchBtn'  class='zgs19_searchbtn zgs19_gsContentBox' type='button'><span gs='defsearchicon' id='zgs20_gsSearchBtnIcon'  class='zgs19_gsSearchBtnIcon zgs18_gsLensIconTab zgs19_gsDisplayNone'></div>","text/html").body.firstChild}return""},gscomponent.getSearchIcon=function(){return(new DOMParser).parseFromString("<div id='zgs20_gsSearchBoxLeft' class='zgs19_gsSearchBoxLeft zgs19_gsServicesPaneWid zgs19_gsCurPointer' gs='defsearchicon'>\n                                            <span class='zgs19_gsSearchIcon zgs18_searchLogo'></span>\n                                            <span class='zgs19_gsZSearchTxt zgs19_gsDisplayNone'>Zia Search</span>\n                                            <span class='zgs18_gsLHSMenu zgs19_gsDisplayNone' gs='showSVLHSServices'></span>\n                                        </div>","text/html").body.firstChild},gscomponent.getSearchBox=function(){var existingSearchBoxOuter=document.getElementsByClassName("zgs19_gsqryinnerdiv")[0];if(existingSearchBoxOuter){var searchBox="<div id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'></div>";searchBox=(searchBox=(new DOMParser).parseFromString(searchBox,"text/html")).body.firstChild.appendChild(existingSearchBoxOuter);existingSearchBoxOuter=document.getElementById("zgs20_gsQueryBoxHolder");return existingSearchBoxOuter.parentNode.removeChild(existingSearchBoxOuter),searchBox}searchBox="<div id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'>\n                                    <div class='zgs19_gsqryinnerdiv'>\n                                         <input id='zgs20_gsQueryBox' tabindex=0 autocomplete='off' gs='gsQueryBox' class='zgs19_gsSearchQueryBox zgs19_gsBorderBox zgs19_gsBoxshadow' placeholder='"+gscomponent.getSearchBoxPlaceholder()+"' type='text'>\n                                    </div>\n                                </div>";return(searchBox=(new DOMParser).parseFromString(searchBox,"text/html")).body.firstChild},gscomponent.getResultsArea=function(){return(new DOMParser).parseFromString("<div id='zgs20_gsSearchResultsArea' class='zgs19_gsSearchResultsArea' tabindex='5'>\n                                <div id='zgs20_gsProgressLoader' class='zgs19_gsProgressLoader zgs19_gsServicesPaneLeft zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsResultsHolder' class='zgs19_gsSearchResultAreaChild zgs19_gsw100h100 zgs19_gsDisplayNone zgs19_gsfl' style='border: none;'></div>\n                                <div id='zgs20_gsCardsPage' class = 'zgs19_gsCardsPage zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsDashboardhome' class = 'zgs19_gsDashboardhome zgs19_gsDisplayNone'></div>\n                                <div id= 'zgs20_gsbannertip' class='zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n                                <div id= 'zgs20_gsbannertipicon' class='zgs19_gsbannertipicon zgs19_gsfl'></div>\n                                <div id= 'zgs20_gsbannertiptext' class='zgs19_gsbannertiptext zgs19_gsfl'></div>\n                                </div>\n                            </div>","text/html").body.firstChild},gscomponent.setUIType=function(){gscomponent.UIType="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?2:gscomponent.UIType},gscomponent.setUIType(),gscomponent.setTheme=function(){"ZO"===gscomponent.pcode&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&(2===gscomponent.UIType||4===gscomponent.UIType)?zgssearch.setTheme("zsGreyMode"):zgssearch.GSConstant.hasOwnProperty("theme")&&zgssearch.setTheme(zgssearch.GSConstant.theme)},gscomponent.getZOSSearchBoxPlaceholder=function(){return 2===gscomponent.UIType&&zossearch.hasOwnProperty("title")?zossearch.title:""},gscomponent.getSearchBoxPlaceholder=function(){return 2===gscomponent.UIType&&zossearch.hasOwnProperty("title")?zossearch.title:4===gscomponent.UIType&&gscomponent.hasOwnProperty("searchboxPlaceholder")?gscomponent.searchboxPlaceholder:zgssearch.hasWmsResource?WmsResource.getRealValue("GS_Search_across_zoho"):""},gscomponent.isToggleZiaEnabled=function(){return 1!==gscomponent.UIType&&4!==gscomponent.UIType},gscomponent.getOverlay=function(){return 0===gscomponent.UIType||2===gscomponent.UIType?"<div id='zgs20_gsOverlay' gs='gsoverlay' class='zgs19_gsOverlay zgs19_globalsearch_position'></div>":""},gscomponent.isResizeEnabled=function(){return 0!==gscomponent.UIType},gscomponent.isDashboardHashingAllowed=function(){return 1===gscomponent.UIType},gscomponent.getGSServer=function(){var zsServer="zohosearch";return zsServer=gscomponent.hasOwnProperty("gsserver")?gscomponent.gsserver:zsServer},gscomponent.getContactServer=function(){return 1===gscomponent.UIType?contactServer:""},gscomponent)}(zgssearch,window),function(window){var document=window.document,zgssearch=function(zgssearch){(zgssearch=window.zgssearch||{}).GSConstant=zgssearch.GSConstant||{};var gscomponent=zgssearch.gscomponent||{};return zgssearch.rpxmlhttp=zgssearch.rpxmlhttp||"",zgssearch.GSConstant.GS_APPS="Apps",zgssearch.relatedProductURL="/zgssearch/gsrelatedproducts?",zgssearch.rpUIConfig=zgssearch.hasOwnProperty("rpUIConfig")?zgssearch.rpUIConfig:[],zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.showAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.isRPSearchCallActive=!1,zgssearch.rpUIConfig.resultData={},zgssearch.rpUIConfig.startAutoSuggestRPCount=0,zgssearch.rpUIConfig.fetchResCount=70,zgssearch.rpUIConfig.isShowMoreCall=!1,zgssearch.rpUIConfig.currCallType="",zgssearch.rpUIConfig.query="",zgssearch.rpUIConfig.searchedQuery="",zgssearch.rpUIConfig.onholdQuery="",zgssearch.rpUIConfig.callEntries={},zgssearch.rpUIConfig.renderedResCount=0,zgssearch.rpUIConfig.iconIncludedApps=zgssearch.rpUIConfig.hasOwnProperty("iconIncludedApps")?zgssearch.rpUIConfig.iconIncludedApps:[],zgssearch.rpUIConfig.appVsUrl=zgssearch.rpUIConfig.hasOwnProperty("appVsUrl")?zgssearch.rpUIConfig.appVsUrl:{},zgssearch.setShowAppsResMin=function(existingRenderedCount){if(1===gscomponent.UIType||4===gscomponent.UIType){var canAvailMinCount=Math.floor(_jQueryGS("#zgs20_gsSearchResultMiddle").width()/70);if("resize"===existingRenderedCount){if(null!==document.getElementById("zgs20_gsAppsResults")&&!zgssearch.rpUIConfig.shownAllFetchedAppsInResults){existingRenderedCount=zgssearch.rpUIConfig.renderedResCount;if(canAvailMinCount<existingRenderedCount&&null!==document.getElementById("zgs20_gsAppsResults").offsetParent)for(var allAppsEle=document.getElementById("zgs20_gsAppsResults").getElementsByClassName("zgs19_gsAppsRes"),i=--existingRenderedCount;canAvailMinCount<=i;i--){var childEle=allAppsEle[i];childEle.parentNode.removeChild(childEle),zgssearch.rpUIConfig.renderedResCount--}else zgssearch.rpUIConfig.showAppsResMin=canAvailMinCount-existingRenderedCount,zgssearch.renderRelatedProductResults(!1)}}else zgssearch.rpUIConfig.showAppsResMin=canAvailMinCount,zgssearch.rpUIConfig.showAppsResMax=2*canAvailMinCount}else zgssearch.rpUIConfig.showAppsResMin=6,zgssearch.rpUIConfig.showAppsResMax=12},zgssearch.getRelatedProductResults=function(searchURL){zgssearch.network.xmlHttpReq("GET",searchURL,!0,function(result){result?zgssearch.onSuccessRelatedProducts(result.response):zgssearch.toggleResultsRelatedProducts()})},zgssearch.canSearchRelatedProducts=function(){var query=zgssearch.getValue("zgs20_gsQueryBox");return 0<((query=zgssearch.hasOwnProperty("gsautocomplete")?zgssearch.gsautocomplete.getautosearchQuery(query):"").trim()?encodeURIComponent(query):"").length},zgssearch.getRelatedProducts=function(url){var query,encodeQuery=zgssearch.getSearchType();0<zgssearch.rpUIConfig.iconIncludedApps.length&&encodeQuery===zgssearch.GSConstant.ALL&&(query=zgssearch.getValue("zgs20_gsQueryBox"),encodeQuery=(query=zgssearch.hasOwnProperty("gsautocomplete")?zgssearch.gsautocomplete.getautosearchQuery(query):"").trim()?encodeURIComponent(query):"",zgssearch.canSearchRelatedProducts()&&!zgssearch.rpUIConfig.isRPSearchCallActive?(zgssearch.rpUIConfig.currCallType=void 0!==url?url:"",url="autosuggest"!==zgssearch.rpUIConfig.currCallType,url=(zgssearch.rpUIConfig.isRPSearchCallActive=url)?zgssearch.rpUIConfig.start||0:zgssearch.rpUIConfig.startAutoSuggestRPCount,zgssearch.rpUIConfig.searchedQuery=query,url=zgssearch.relatedProductURL+"is_zs=true&query="+encodeQuery+"&site_name=zoho&type=2&start="+url+"&no_of_results="+zgssearch.rpUIConfig.fetchResCount+"&__T="+(new Date).getTime(),zgssearch.getRelatedProductResults(url)):zgssearch.toggleResultsRelatedProducts())},zgssearch.resetRelatedProducts=function(){zgssearch.rpUIConfig.resultData={},zgssearch.rpUIConfig.callEntries={},zgssearch.rpUIConfig.start=0,zgssearch.rpUIConfig.totalcount=0,zgssearch.rpUIConfig.length=0,zgssearch.rpUIConfig.renderedResCount=0,zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!1;var element=document.getElementById("zgs20_gsAppsResults");void 0!==element&&null!=element&&(element.innerHTML=""),zgssearch.setShowAppsResMin()},zgssearch.getSearchResultsForRelatedProducts=function(callOrigin){zgssearch.rpUIConfig.isShowMoreCall=void 0!==callOrigin,zgssearch.rpUIConfig.isShowMoreCall||zgssearch.resetRelatedProducts(),zgssearch.getRelatedProducts(callOrigin)},zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(window){var _jQueryGS=window._jQueryGS,document=window.document,zgssearch=function(zgssearch){var gscomponent=(zgssearch=window.zgssearch||{}).gscomponent||{};zgssearch.eventSource,zgssearch.GSConstant=zgssearch.GSConstant||{},zgssearch.xmlhttpReq=zgssearch.xmlhttpReq||"",zgssearch.searchType=zgssearch.searchType||"all",zgssearch.resultHolder=zgssearch.resultHolder||[],zgssearch.fetchResCount=zgssearch.fetchResCount||25,zgssearch.domainOriginObj=zgssearch.domainOriginObj||{},zgssearch.domainOriginInfo=zgssearch.domainOriginInfo||{},zgssearch.isBrowserSupportSSE=!!window.EventSource,zgssearch.isWidgetCallWaitNeeded=zgssearch.isWidgetCallWaitNeeded||!1,zgssearch.userAgent=window.navigator.userAgent,zgssearch.isIE=-1!==zgssearch.userAgent.indexOf("MSIE")||-1!==zgssearch.userAgent.indexOf("Trident"),zgssearch.isSettingsEnabled=zgssearch.isSettingsEnabled||(zgssearch.GSConstant.hasOwnProperty("zsp")?zgssearch.GSConstant.zsp:gscomponent.isSettingsEnabled),zgssearch.isSavedSearchEnabled=zgssearch.isSavedSearchEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("ssp")&&zgssearch.GSConstant.ssp),zgssearch.isDashboardEnabled=zgssearch.isDashboardEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("dashboard")&&zgssearch.GSConstant.dashboard),zgssearch.getserviceresultsURL="/zgssearch/v3/getfallbackserviceresults",zgssearch.domainURL=zgssearch.isBrowserSupportSSE?"/zgssearch/v3/getserviceresults":zgssearch.getserviceresultsURL,zgssearch.servicesListURL="/zgssearch/v3/getmetadata?action=serviceslist",zgssearch.widgetURL="/zgssearch/v3/getmetadata?action=widgetdata",zgssearch.getMetaData="/zgssearch/v3/getmetadata",zgssearch.postCardsURL="/zgssearch/gsupdatecards",zgssearch.getCardsURL="/zgssearch/gscards",zgssearch.GET_DASHBOARDS="/zgssearch/gsdashboards",zgssearch.postUserSettingsDataURL="/zgssearch/gsUpdateSettings",zgssearch.getUserSettingsDataURL="/zgssearch/gsFetchSettings",zgssearch.gsserver=zgssearch.gsserver||gscomponent.getGSServer(),zgssearch.contactServer=zgssearch.contactServer||gscomponent.getContactServer(),zgssearch.hasWMSTranscript=zgssearch.hasWMSTranscript||!!zgssearch.hasWebMessanger&&void 0!==WebMessanger.renderTranscript,zgssearch.hasRebrandResource=zgssearch.hasRebrandResource||zgssearch.hasWebMessanger&&void 0!==WebMessanger.getRebrand,zgssearch.isBulkProximityContactsFetched=zgssearch.isBulkProximityContactsFetched||!1,zgssearch.autoSuggestApiConsumer="zos_contacts_suggestion",zgssearch.all_timezones=zgssearch.all_timezones||{},zgssearch.isQueryObjectModel=zgssearch.isQueryObjectModel||!0,zgssearch.isTabModelCSSFileLoaded=zgssearch.isTabModelCSSFileLoaded||!1,zgssearch.queryOrigin=zgssearch.queryOrigin||1,zgssearch.lastSearchedQueryObject=zgssearch.lastSearchedQueryObject||{},zgssearch.multiSelectfilterEnabledServices=zgssearch.multiSelectfilterEnabledServices||{},zgssearch.maxSelFiltersCount=zgssearch.maxSelFiltersCount||0,zgssearch.mail_module_subset=zgssearch.mail_module_subset||[],zgssearch.isClearRenderedFilters=zgssearch.isClearRenderedFilters||!1,zgssearch.filterFallback=!1,zgssearch.advSearchEnabledServiceArr=zgssearch.advSearchEnabledServiceArr||[];var GSConstant=zgssearch.getGSConstantObj();return zgssearch.detectBrowser=function(){return-1!=(zgssearch.userAgent.indexOf("Opera")||zgssearch.userAgent.indexOf("OPR"))?"Opera":-1!=zgssearch.userAgent.indexOf("Edg")?"Edge":-1!=zgssearch.userAgent.indexOf("Chrome")?"Chrome":-1!=zgssearch.userAgent.indexOf("Safari")?"Safari":-1!=zgssearch.userAgent.indexOf("Firefox")?"Firefox":-1!=zgssearch.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":"Unknown"},zgssearch.show=function(elem){elem.style.display="block"},zgssearch.hide=function(elem){elem.style.display="none"},zgssearch.focus=function(id){return zgssearch.getTargetElem(id).focus()},zgssearch.getValue=function(id){return zgssearch.getTargetElem(id).value},zgssearch.getBuildDetails=function(){if(zgssearch.hasOwnProperty("GSConstant")){var buildDate=GSConstant.BUILD_DATE;if(void 0!==buildDate)return"&bdate="+buildDate}return""},zgssearch.loadUserPropic=function(id,photoURL,clsName){try{var serviceImgDummy=new Image;serviceImgDummy.src=photoURL,serviceImgDummy.setAttribute("gs",id),serviceImgDummy.className="zgs19_gsDisplayNone";var prefix=document.addEventListener?"":"on";serviceImgDummy[document.addEventListener?"addEventListener":"attachEvent"](prefix+"load",function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(clsName&&(imgEle.className=imgEle.className+" "+clsName),imgEle.setAttribute("src",this.src),imgEle.className=imgEle.className.replace("zgs19_gsFetchImgLoader",""),imgEle.className=imgEle.className.replace("zgs19_gstopFetchLoader","")),zgssearch.removeEle(this)},!0)}catch(ex){zgssearch.throwClientError("Unable to load user profile pic.",ex)}},zgssearch.initBiggerGlobalsearch=function(){var userImg=zgssearch.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),searchBtn="<div id='zgs20_zohosearchWrapper' class='zgs19_gszohosearchWrapper zgs19_gsfl'>\n                            <div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                            <div id='zgs20_gsLogoHolder' class='zgs19_gsLogoHolder zgs19_gsServicesPaneWid'>\n                                <a class='zgs19_gsLogo zgs19_gsProductLogo' href='/searchhome'></a>\n                                <div id ='zgs20_gsMobBandName' class='zgs19_gsMobBandName'></div>\n                            </div>\n                            <div id='zgs20_gsSearchBoxRight' class='zgs19_gsInfoBox'>\n                                    <span class='zgs18_gsSettingsIconTop' gs='settingsPanelMenu' style='display: none;'></span>\n                              <div id='zgs20_gsHamburger' class='zmHamburger' gs='hamburger'><div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div></div>\n                              <div id='zgs20_gsHamburgerData' class='zgs19_gsHamburgerData zmHApps zgs19_gsDisplayNone' gs='hamburgerData'></div>\n                              <div class='zgs19_gsUserProfile' gs='userDetails'><img src='"+zgssearch.gsspacer+"'  id='zgs20_gsUserProPic'  gs='gsProfilePhoto' class='zgs19_gsFetchImgLoader zgs19_gstopFetchLoader'></div>\n                              <div id='zgs20_gsUserDetails' class='zgs19_userDetails zgs19_gsDisplayNone' gs='userData'></div>\n                            </div>\n                    </div>\n                    <div id='zgs20_gsOverlayDialog' class='zgs19_gsOverlayDialog zgs19_gsDisplayNone'></div>\n                    <div id='zgs20_zohosearchLoader' class='zgs19_zohosearchLoader'>\n                            <div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div>\n                    </div>\n                    <div id='zgs20_globalsearch' class='zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone'>\n                        <div id='zgs20_gsHolder' class='zgs19_gsHolder' tabindex='5'>\n                            <div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                            </div>\n                            <div id='zgs20_gsSearchBottomHolder' class='zgs19_gsSearchBottomHolder zgs19_gsOldUI'></div>\n                        </div>\n                    </div>\n                    <div id='zgs20_gsTopbannertip' class='zgs19_gsTopbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n                    <div id='zgs20_gsTopbannertipicon' class='zgs19_gsTopbannertipicon zgs19_gsfl'></div>\n                    <div id='zgs20_gsTopbannertiptext' class='zgs19_gsTopbannertiptext zgs19_gsOverflow zgs19_gsfl'></div>\n                    </div>\n                    <div id='zgs20_feedback' class='zgs19_gsDisplayNone'></div>",searchBox=gscomponent.getMountDetails().id;document.getElementById(searchBox).innerHTML=searchBtn;searchBox=gscomponent.getSearchBox(),searchBtn=document.getElementById("zgs20_gsLogoHolder");searchBtn.parentNode.insertBefore(searchBox,searchBtn.nextSibling);searchBtn=gscomponent.getSearchButton();searchBox.parentNode.insertBefore(searchBtn,searchBox.nextSibling),zgssearch.loadUserPropic("zgs20_gsUserProPic",userImg,"zgs19_gsUserImg"),-1<zgssearch.GSConstant.INSTALLATION.indexOf("Fuji")&&(zgssearch.removeEle(document.getElementById("zgs20_gsHamburger")),zgssearch.removeEle(document.getElementById("zgs20_gsHamburgerData"))),document.getElementById("zgs20_gsSearchBottomHolder").appendChild(gscomponent.getResultsArea()),document.getElementById("zgs20_zohosearchLoader").className+=" zgs19_gsDisplayNone",document.getElementById("zgs20_globalsearch").className=document.getElementById("zgs20_globalsearch").className.replace("zgs19_gsDisplayNone",""),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_zohosearch")},zgssearch.initGlobalsearch=function(){var overlay=gscomponent.getOverlay(),toAppendEle=gscomponent.getMountDetails(),searchIcon=document.createElement("div");searchIcon.tabIndex=5,searchIcon.id=toAppendEle.id,searchIcon.className=toAppendEle.class,searchIcon.style.zIndex=gscomponent.zindex;var gsOptions=gscomponent.getGSOptions();searchIcon.innerHTML=overlay+gsOptions+"<div id='zgs20_gsHolder' class='zgs19_gsHolder' tabindex='5'  gs='globalsearch'>\n                                    <div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                                        <div id='zgs20_gsSearchBoxRight' class='zgs19_gsSearchBoxRight zgs19_gsServicesPaneLeft zgs19_gsBorderBox'>\n                                        </div>\n                                    </div>\n                                    <div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                        <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                                    </div>\n                                </div>";toAppendEle=toAppendEle.mountParentEle;(void 0!==toAppendEle&&""!==toAppendEle?document.getElementById(toAppendEle):document.body).appendChild(searchIcon);searchIcon=gscomponent.getSearchIcon();searchIcon&&(searchBox=document.getElementById("zgs20_gsSearchBoxRight")).parentNode.insertBefore(searchIcon,searchBox);var searchBox=gscomponent.getSearchBox();document.getElementById("zgs20_gsSearchBoxRight").appendChild(searchBox),document.getElementById("zgs20_gsHolder").appendChild(gscomponent.getResultsArea()),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_globalsearch")},zgssearch.renderNewUI=function(){zgssearch.isDashboardEnabled?(_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivision"),_jQueryGS("#zgs20_gsSearchBottomHolder").removeClass("zgs19_gsOldUI").addClass("zgs19_gsServicesPaneLeft"),_jQueryGS("#zgs20_gsHideScrollPage").removeClass("zgs19_gsServicesPaneLeft"),_jQueryGS("#zgs20_gsSearchResultMiddle").removeClass("zgs19_gsServicesPaneLeft"),1!=gscomponent.UIType?(_jQueryGS("#zgs20_gsHolder").addClass("zgs_defaultTheme"),_jQueryGS("#zgs20_gsSearchBoxRight").removeClass("zgs19_gsServicesPaneLeft"),_jQueryGS(".zgs19_gsZSearchTxt").removeClass("zgs19_gsDisplayNone")):(_jQueryGS(".zgs19_searchbtnOuter").addClass("zgs19_searchNewbtnOuter"),_jQueryGS("#zgs20_gsSearchBtn").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsSearchBtnIcon").removeClass("zgs19_gsDisplayNone")),zgssearch.renderLHSPaneTab(),zgssearch.renderHomePageQuickActions()):(zgssearch.renderLHSPane(),0===zgssearch.gscomponent.UIType&&_jQueryGS(".zgs19_gsSearchResultLeft").css("height","550px"))},zgssearch.updateUIPostServiceListCall=function(){1===zgssearch.gscomponent.UIType&&(zgssearch.GSConstant.IS_READ_ONLY_MODE&&zgssearch.renderWholeNotification({ty:2,msg:zgssearch.getI18NMsg("gs.search.read_only_mode_message")}),zgssearch.setGSElemSize())},zgssearch.renderWholeNotification=function(req_class){var bannerelem=req_class.msg,req_iconclass=req_class.ty||2,req_class=zgssearch.getBannerClass()[req_iconclass],req_iconclass=zgssearch.getBannerIconClass()[req_iconclass],bannerelem=_jQueryGS("<div>",{id:"zgs20_gsNotificationBanner",class:"zgs19_gsNotificationBanner"}).append(_jQueryGS("<div>",{class:"zgs19_gsNotificationIcon "+req_iconclass})).append(_jQueryGS("<div>",{class:"zgs19_gsNotificationText zgs19_gsOverflow"}).text(bannerelem));_jQueryGS("#zgs20_zohosearchWrapper").before(bannerelem),bannerelem.attr("style",req_class)},zgssearch.fetchWidgetDetails=function(){zgssearch.isWidgetFetched||(zgssearch.isWidgetFetched=!0,zgssearch.getWidgetDetails())},zgssearch.disableParentDOMScroll=function(){zgssearch.currDOMScrollAttr=_jQueryGS("body").css("overflow"),document.body.style.overflow="hidden"},zgssearch.enableParentDOMScroll=function(){document.body.style.overflow=zgssearch.currDOMScrollAttr||"auto",zgssearch.currDOMScrollAttr=""},zgssearch.attachZiaEvent=function(){zgssearch.searchViewport.addEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.searchViewport.addEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.searchViewport.addEventListener("click",zgssearch.clickEvent,!0)},zgssearch.deattachZiaEvent=function(){zgssearch.searchViewport.removeEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.searchViewport.removeEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.searchViewport.removeEventListener("click",zgssearch.clickEvent,!0)},zgssearch.showZiaSearch=function(afterShownCallback){var elem;window.ZSLite&&window.hasOwnProperty("openZSHandler")?window.openZSHandler(afterShownCallback):(zgssearch.deattachZiaEvent(),zgssearch.attachZiaEvent(),(elem=gscomponent.beforeShow)&&elem(),zgssearch.checkAndRenderServiceList(),zgssearch.wmsuiSelectGS(!0),(elem=zgssearch.getTargetElem("zgs20_globalsearch")).style.display="block",elem.setAttribute("data-isgsopened",!0),zgssearch.isGSOpened=!0,zgssearch.focus("zgs20_gsQueryBox"),zgssearch.getTargetElem("zgs20_gsQueryBox").select(),zgssearch.fetchWidgetDetails(),zgssearch.domainOriginObj=afterShownCallback||{},zgssearch.hasOwnProperty("handleGSSearch")&&zgssearch.handleGSSearch(),zgssearch.hasOwnProperty("handleToggleGSEvent")&&zgssearch.handleToggleGSEvent(),(afterShownCallback=gscomponent.afterShow)&&afterShownCallback(),zgssearch.hasOwnProperty("setSearchProperty")&&zgssearch.setSearchProperty(!0),zgssearch.disableParentDOMScroll())},zgssearch.hideZiaSearch=function(afterHideCallback){var elem=gscomponent.beforeHide;elem&&elem();elem=zgssearch.getTargetElem("zgs20_globalsearch");elem.style.display="none",elem.setAttribute("data-isgsopened",!1),zgssearch.isGSOpened=!1,zgssearch.wmsuiSelectGS(!1),zgssearch.domainOriginObj=afterHideCallback||{},zgssearch.hasOwnProperty("handleToggleGSEvent")&&zgssearch.handleToggleGSEvent(),zgssearch.handleServiceOptionsForCallout(!0);afterHideCallback=gscomponent.afterHide;afterHideCallback&&afterHideCallback(),zgssearch.hasOwnProperty("setSearchProperty")&&zgssearch.setSearchProperty(!1),zgssearch.enableParentDOMScroll(),zgssearch.deattachZiaEvent()},zgssearch.serviceSearch=function(service,query,filterObj){zgssearch.isServiceSearch=!0,zgssearch.isWidgetCallWaitNeeded=!zgssearch.isWidgetFetched,service=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(service):service,zgssearch.hasOwnProperty("updateSearchType")&&zgssearch.updateSearchType(service),zgssearch.showZiaSearch({service:service,query:query,filter:filterObj})},zgssearch.helpSearch=function(query,appToSearch,categType){var filterObj={cI:"all_applications",pT:"all_page_types"};void 0!==appToSearch&&""!==appToSearch&&zgssearch.includes(appToSearch,["mail","crm","campaigns","pagesense","forms","contactmanager","sign","motivator","social","salesiq","survey","salesinbox","bugtracker","cliq","docs","writer","showtime","projects","connect","assist","people","creator","analytics","flow","crmplus","one","recruit","subscriptions","books","invoice","expense","inventory","calendar","developer","workerly","accounts","desk","sprints","meeting","sites","show","notebook","backstage","workdrive"])&&(filterObj.cI=appToSearch),void 0!==categType&&""!==categType&&zgssearch.includes(categType,["deskkb","help"])&&(filterObj.pT=categType),zgssearch.serviceSearch("website",query,filterObj)},zgssearch.open=function(){zgssearch.toggleGlobalsearch()},zgssearch.search=function(query){zgssearch.toggleGlobalsearch({query:query})},zgssearch.advancedSearch=function(paramObj){zgssearch.toggleGlobalsearch(paramObj)},zgssearch.toggleGlobalsearch=function(paramObj){1!==gscomponent.UIType&&(gscomponent.gsCloseIconCallback(),zgssearch.isGSOpened?4!==gscomponent.UIType&&(zgssearch.hideZiaSearch(paramObj),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gscardinDb.clearIntervalForAutoRefresh()):(zgssearch.showZiaSearch(paramObj),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gscardinDb.setIntervalForCardsAutoRefresh()))},zgssearch.wmsuiSelectGS=function(ishow){zgssearch.getTargetElem("wmsglobalsearch")&&(ishow?WMSUI.selectGS&&WMSUI.selectGS():WMSUI.unselectGS&&WMSUI.unselectGS())},zgssearch.addQueryEvent=function(){var gsQueryBox=zgssearch.getTargetElem("zgs20_gsQueryBox");gsQueryBox.onfocus=function(){1===gscomponent.UIType&&(document.getElementById("zgs20_gsQueryBoxHolder").className+=" zgs19_gsQueryBoxHolderActive"),4===gscomponent.UIType&&(document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className+=" zgs19_gsqryinnerdivActive"),zgssearch.isQueryFocused=!0},gsQueryBox.onblur=function(){1===gscomponent.UIType&&(document.getElementById("zgs20_gsQueryBoxHolder").className=document.getElementById("zgs20_gsQueryBoxHolder").className.replace("zgs19_gsQueryBoxHolderActive","")),4===gscomponent.UIType&&(document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className=document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className.replace("zgs19_gsqryinnerdivActive","")),zgssearch.isQueryFocused=!1}},zgssearch.addSearchLoader=function(){zgssearch.getTargetElem("zgs20_gsProgressLoader").innerHTML="<div class='zgs19_gsProgressLoadera'></div>\n                                 <div class='zgs19_gsProgressLoaderb'></div>\n                                 <div class='zgs19_gsProgressLoaderc'></div>\n                                 <div class='zgs19_gsProgressLoaderd'></div>"},zgssearch.initiateSearchComponent=function(){zgssearch.addQueryEvent(),zgssearch.addSearchLoader()},zgssearch.triggerGlobalsearch=function(){zgssearch.isGSCreated||(zgssearch.isGSCreated=!0,zgssearch.initGlobalsearch(),zgssearch.initiateSearchComponent())},zgssearch.triggerBiggerGlobalsearch=function(){zgssearch.isBiggerGSCreated||(zgssearch.isBiggerGSCreated=!0,zgssearch.isGSOpened=!0,zgssearch.initBiggerGlobalsearch(),zgssearch.initiateSearchComponent())},zgssearch.mapAppsData=function(responseData){for(var iamAppsData=zgssearch.jsonParse(responseData),appsLen=iamAppsData.length,m=0;m<appsLen;m++){var appObj=iamAppsData[m];zgssearch.rpUIConfig.appVsUrl[appObj.aN]=[appObj.aURL,appObj.dN],-1===zgssearch.rpUIConfig.iconIncludedApps.indexOf(appObj.aN)&&zgssearch.rpUIConfig.iconIncludedApps.push(appObj.aN)}},zgssearch.getWidgetDetails=function(){zgssearch.getServicesListInCommon(),zgssearch.getWidgetDetailsInCommon()},zgssearch.getServicesListInCommon=function(){var fullServiceURL=zgssearch.servicesListURL+zgssearch.getExtraServiceSuiteURL();zgssearch.uri("GET",fullServiceURL,null,null,function(gsConstObj){if(gsConstObj){var appsinfo=zgssearch.jsonParse(gsConstObj);appsinfo.hasOwnProperty("gsConstant")&&(gsConstObj=appsinfo.gsConstant,zgssearch.setGSConstantObj(gsConstObj),zgssearch.setInitialLoadingObjectForGSConstant(gsConstObj),zgssearch.hasOwnProperty("sendGSOpenedStats")&&zgssearch.sendGSOpenedStats(),gsConstObj.hasOwnProperty("timezone")&&(zgssearch.all_timezones=JSON.parse(gsConstObj.timezone))),zgssearch.applyUserThemeAndMode(appsinfo),appsinfo.hasOwnProperty("enabledserviceslist")&&(zgssearch.setAccessibleServiceList(appsinfo.enabledserviceslist),zgssearch.setEnabledServiceList(appsinfo.enabledserviceslist)),appsinfo.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(appsinfo.allserviceslist),gscomponent.isShowAppsData&&appsinfo.hasOwnProperty("appsinfo")?(appsinfo=appsinfo.appsinfo,zgssearch.mapAppsData(appsinfo)):gscomponent.isShowAppsData=!1,zgssearch.readyToLoadServiceList(),zgssearch.dispSetting(),zgssearch.preLoadComponentForServices(),zgssearch.GSConstant.nlpSearchEnabled=zgssearch.GSConstant.hasOwnProperty("nlp_enabled_apps"),zgssearch.GSConstant.nlpSearchEnabled&&zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.createNLPTemplate(),zgssearch.setCardsRelatedData(),zgssearch.setDashboardRelatedData();var multiSelEnabledServiceArr=zgssearch.GSConstant.hasOwnProperty("enabled_multi_select_services")?zgssearch.GSConstant.enabled_multi_select_services:{};if(0<multiSelEnabledServiceArr.length)for(var i=0;i<multiSelEnabledServiceArr.length;i++)zgssearch.multiSelectfilterEnabledServices[multiSelEnabledServiceArr[i].trim()]=i;zgssearch.maxSelFiltersCount=zgssearch.GSConstant.hasOwnProperty("max_filters_count")?zgssearch.GSConstant.max_filters_count:0,zgssearch.advSearchEnabledServiceArr=zgssearch.GSConstant.hasOwnProperty("advanced_search_enabled_services")?zgssearch.GSConstant.advanced_search_enabled_services:{}}})},zgssearch.setCardsRelatedData=function(){zgssearch.isSavedSearchEnabled=zgssearch.isSavedSearchEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("ssp")&&zgssearch.GSConstant.ssp),zgssearch.isSavedSearchEnabled&&(zgssearch.isSavedSearchEnabled&&!zgssearch.includes("cards",zgssearch.gsautocomplete.querymodifiers)&&zgssearch.gsautocomplete.querymodifiers.splice(2,0,"cards"),zgssearch.createSaveIconinSearchBox())},zgssearch.setDashboardRelatedData=function(){zgssearch.isDashboardEnabled=zgssearch.isDashboardEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("dashboard")&&zgssearch.GSConstant.dashboard),zgssearch.cardAutoRefreshTime=zgssearch.GSConstant.cardAutoRefreshTime||18e4,zgssearch.GSConstant.cardsLimitInDB=zgssearch.GSConstant.cardsLimitInDB||30,zgssearch.isDashboardEnabled&&!zgssearch.includes("dashboard",zgssearch.gsautocomplete.querymodifiers)&&zgssearch.gsautocomplete.querymodifiers.splice(3,0,"dashboard"),zgssearch.dashboardEventListeners()},zgssearch.isMultiSelectfilterEnabledService=function(service){return zgssearch.multiSelectfilterEnabledServices.hasOwnProperty(service)},zgssearch.getWidgetDetailsInCommon=function(argParams){var fullWidgetURL=zgssearch.widgetURL+zgssearch.getServiceListAndWidgetIdsURL()+zgssearch.getBuildDetails();zgssearch.uri("GET",fullWidgetURL,null,argParams,function(widgetObject,status,argparams){widgetObject&&(argparams=argparams.args||{},(widgetObject=zgssearch.jsonParse(widgetObject)).hasOwnProperty("build_details")&&(zgssearch.GSConstant.gsbuildDetails=widgetObject.build_details),widgetObject.hasOwnProperty("widget")&&(widgetObject=widgetObject.widget,zgssearch.GSConstant.widgetObject=widgetObject,zgssearch.GSConstant.dashboard=!!widgetObject.hasOwnProperty("dashboard")&&widgetObject.dashboard,zgssearch.setDashboardRelatedData(),zgssearch.applyUserThemeAndMode(widgetObject),zgssearch.readyToLoadServiceList(),zgssearch.hasOwnProperty("handleGSSearch")&&zgssearch.isWidgetCallWaitNeeded&&(zgssearch.isWidgetCallWaitNeeded=!1,zgssearch.handleGSSearch()),argparams.hasOwnProperty("callback")&&(0,argparams.callback)()))})},zgssearch.applyUserThemeAndMode=function(responseData){1===gscomponent.UIType&&zgssearch.isThemeEleLoaded&&responseData.hasOwnProperty("settings")&&(zgssearch.GSConstant.isNightModeEnabled=/true/i.test(zgssearch.getLocalStorageValue("isNightModeEnabled")||!1),responseData.settings.hasOwnProperty("isNightModeEnabled")&&(zgssearch.GSConstant.isNightModeEnabled=zgssearch.jsonParse(responseData.settings.isNightModeEnabled)),document.getElementById("zgs20_gsNightMode").checked=zgssearch.GSConstant.isNightModeEnabled,zgssearch.setNightMode(zgssearch.GSConstant.isNightModeEnabled),zgssearch.GSConstant.theme=zgssearch.getLocalStorageValue("theme")||"zsBlueTheme",responseData.settings.hasOwnProperty("theme")&&(zgssearch.GSConstant.theme=responseData.settings.theme),document.querySelector('[theme="'+zgssearch.GSConstant.theme+'"]').checked=!0,zgssearch.setTheme(zgssearch.GSConstant.theme),localStorage.setItem("theme",zgssearch.GSConstant.theme),zgssearch.GSConstant.mode=zgssearch.getLocalStorageValue("mode")||"zsDarkMode",responseData.settings.hasOwnProperty("mode")&&(zgssearch.GSConstant.mode=responseData.settings.mode),document.querySelector('[mode="'+zgssearch.GSConstant.mode+'"]').checked=!0,zgssearch.setMode(zgssearch.GSConstant.mode))},zgssearch.readyToLoadServiceList=function(){zgssearch.hasOwnProperty("initServiceList")&&zgssearch.initServiceList(),zgssearch.hasOwnProperty("initWidgetList")&&zgssearch.initWidgetList(),zgssearch.hasOwnProperty("onSuccessFunction")&&zgssearch.hasOwnProperty("serviceList")&&zgssearch.loadResultsFromHolder()},zgssearch.setGSHomeFilterParams=function(){var filters={sort:"sortrelv",queryOrigin:zgssearch.queryOrigin};return zgssearch.hasOwnProperty("setDefaultFiltersParams")&&zgssearch.setDefaultFiltersParams(filters),"&filters="+encodeURIComponent(JSON.stringify(filters))},zgssearch.setInitialLoadingObjectForGSConstant=function(gsConstObj){gsConstObj.hasOwnProperty("cuo")&&zgssearch.hasOwnProperty("appendMobSupportInWelPage")&&zgssearch.appendMobSupportInWelPage(),gsConstObj.hasOwnProperty("zsp")&&(zgssearch.isSettingsEnabled=gsConstObj.zsp&&gscomponent.isSettingsEnabled&&4!==gscomponent.UIType),gsConstObj.hasOwnProperty("dashboard")&&(zgssearch.isDashboardEnabled=zgssearch.isDashboardEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("dashboard")&&zgssearch.GSConstant.dashboard),zgssearch.isDashboardEnabled&&!zgssearch.isTabModelCSSFileLoaded&&(zgssearch.network.loadCSSFile(zgssearch.network.getFingerPrintFilePath("css/gstabmodel.css",!0)),zgssearch.isTabModelCSSFileLoaded=!0)),gsConstObj.hasOwnProperty("ssp")&&(zgssearch.isSavedSearchEnabled=zgssearch.isSavedSearchEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!zgssearch.GSConstant.hasOwnProperty("ssp")&&zgssearch.GSConstant.ssp)),zgssearch.gsusercontacts.fetContactsCount=gsConstObj.hasOwnProperty("getContactsLimit")?gsConstObj.getContactsLimit:50,zgssearch.gsusercontacts.clientSearchLimit=gsConstObj.hasOwnProperty("clientAutoSuggLimit")?gsConstObj.clientAutoSuggLimit:10,zgssearch.gsusercontacts.isEmailOnlyResult=!!gsConstObj.hasOwnProperty("emailOnlyResult")&&gsConstObj.emailOnlyResult},zgssearch.handleUserQuery=function(){var searchType=zgssearch.getSearchType();zgssearch.updateSearchType(searchType),zgssearch.renderServiceFilterList(searchType);var encodeQuery,url=zgssearch.getValue("zgs20_gsQueryBox");(zgssearch.isURLParamsSearch||zgssearch.isQueryValid(url)&&zgssearch.searchedQuery!==url||gscomponent.isSameQrySearchEnabled)&&(gscomponent.isSameQrySearchEnabled=!1,zgssearch.searchedQuery=url||"",encodeQuery=url?encodeURIComponent(url):"",url=zgssearch.setGSHomeFilterParams(),url="query="+encodeQuery+"&search_type="+searchType+"&is_scroll=false&startSet=0&no_of_results="+zgssearch.fetchResCount+url,zgssearch.userSearch=!0,zgssearch.getSearchResults(url))},zgssearch.getSearchResults=function(lastQry){var searchType=zgssearch.getSearchType();zgssearch.filterFallback||zgssearch.renderServiceFilterList(searchType),zgssearch.isArrayContain(searchType,zgssearch.handlebarDependentService)&&!zgssearch.isHandlebarLoaded()&&((new ZSHandlebarsResource).load(),zgssearch.handlebarsErrShown=!1,zgssearch.waitForHandlebarLoad=!1);var isSSECall=zgssearch.checkisSSECall(searchType);lastQry=(zgssearch.searchURL=lastQry)+zgssearch.getServiceListAndWidgetIdsURL()+zgssearch.getBuildDetails()+"&__T="+(new Date).getTime();var curService=zgssearch.searchType;if("all"!==curService){var query=zgssearch.getFilterInfo(curService,"sort","current");if(void 0!==query&&""!==query){var sortInt=zgssearch.isListViewSearch()?1:"";switch(query){case"sortrelv":case"sortCreatedDate":sortInt=0;break;case"sorttitle":case"sortduedate":sortInt=2;break;default:sortInt=1}zgssearch.isListViewSearch()&&curService==zgssearch.GSConstant.PROJECTS&&(sortInt=1),zgssearch.updateLastSearchQuery("sort_criteria",sortInt),lastQry=lastQry+"&sort_criteria="+sortInt}}gscomponent.isShowAppsData&&(query=zgssearch.getValue("zgs20_gsQueryBox"),query=zgssearch.hasOwnProperty("gsautocomplete")?zgssearch.gsautocomplete.getautosearchQuery(query):"",zgssearch.isQueryValid(query)&&"all"===curService&&(zgssearch.resetRelatedProducts(),zgssearch.rpUIConfig.currCallType="",zgssearch.rpUIConfig.searchedQuery=query,zgssearch.rpUIConfig.isRPSearchCallActive=!0,lastQry+="&appsearch=true")),zgssearch.isExtension&&(lastQry+="&api_consumer=zgs-ex"),zgssearch.GSConstant.nlpSearchEnabled&&document.getElementById("zgs20_gsNLPSearchEnabled")&&!document.getElementById("zgs20_gsNLPSearchEnabled").disabled&&document.getElementById("zgs20_gsNLPSearchEnabled").checked&&(lastQry+="&nlpsearch=true",zgssearch.updateLastSearchQuery("nlpsearch","true")),zgssearch.isSearchCallActive=!0,zgssearch.network.abortOngoingCalls(),zgssearch.scrollSearch||zgssearch.showSearchPageLoader(),GSConstant.ALL!==searchType&&!zgssearch.isServiceHasMultiPortals(searchType)||zgssearch.setClearRenderedFiltersFlag(!0),lastQry=zgssearch.parsedQueryObjectModelQuery(searchType,lastQry),isSSECall?zgssearch.network.getSearchResultsForSSE(lastQry):zgssearch.getSearchResultsForNonSSE(lastQry);lastQry=zgssearch.getLastSearchedQuery();searchType===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():lastQry&&""!=lastQry&&zgssearch.EnablingSSIcon()},zgssearch.checkisSSECall=function(searchType){var isSSECall=zgssearch.isBrowserSupportSSE;return isSSECall=GSConstant.ALL!==searchType&&!zgssearch.multiPageEnabled&&!zgssearch.subMultiPageEnabled&&zgssearch.isBrowserSupportSSE?!1:isSSECall},zgssearch.getSearchResultsForNonSSE=function(searchURL){zgssearch.network.xmlHttpReq("GET",searchURL,!1,function(result){result&&result.status&&"error"!=result.status?zgssearch.handleSearchResults("NONSSE",result.response):zgssearch.handleSearchResults("ERROR",result.response)})},zgssearch.handleSearchResults=function(key,data){var keyVsData;zgssearch.hasOwnProperty("onSuccessFunction")&&GSConstant.hasOwnProperty("widgetObject")?(zgssearch.loadResultsFromHolder(),zgssearch.onSuccessFunction(key,data)):((keyVsData={})[key]=data,zgssearch.resultHolder.push(keyVsData))},zgssearch.loadResultsFromHolder=function(){var length=zgssearch.resultHolder.length;if(0<length){for(var i=0;i<length;i++){var key,obj=zgssearch.resultHolder[i];for(key in obj)zgssearch.onSuccessFunction(key,obj[key])}zgssearch.resultHolder=[]}},1===gscomponent.UIType?zgssearch.triggerBiggerGlobalsearch():zgssearch.triggerGlobalsearch(),zgssearch.isShortcutDisabled=function(){var isShortcut=!1;return"undefined"!=typeof zossearch&&(isShortcut=zossearch.hasOwnProperty("getGSShortCutKey")?zossearch.getGSShortCutKey():isShortcut),isShortcut=gscomponent.hasOwnProperty("isZiaShortcutDisabled")?gscomponent.isZiaShortcutDisabled:isShortcut},zgssearch.isZohoDomain=function(){var currInstallation=zgssearch.GSConstant.INSTALLATION;return void 0!==currInstallation&&("Zoho"==currInstallation||"Zoho-CN"==currInstallation)},zgssearch.getLocalStorageValue=function(key){return localStorage.getItem(key)||""},zgssearch.deleteLocalStorageValue=function(key){return localStorage.removeItem(key)},window.removeEventListener("keydown",zgssearch.globalgsKeydown),zgssearch.globalgsKeydown=function(event){var paramObj,keycode=event.keyCode||event.which;(event.ctrlKey||event.metaKey)&&191===keycode?zgssearch.isShortcutDisabled()||(paramObj={service:"ZS",origin:event.metaKey?"ZSSM":"ZSSC"},zgssearch.isOpenViaShortcut=!0,zgssearch.toggleGlobalsearch(paramObj),1!==gscomponent.UIType&&zgssearch.stopEvent(event)):zgssearch.isGSOpened&&(zgssearch.hasOwnProperty("handleKeydownAction")?zgssearch.handleKeydownAction(event):keycode===zgssearch.specialkeys.ESC?(zgssearch.toggleGlobalsearch(),zgssearch.stopEvent(event)):keycode===zgssearch.specialkeys.ENTER&&zgssearch.isQueryFocused&&(zgssearch.handleUserQuery(),zgssearch.stopEvent(event)))},window.addEventListener("keydown",zgssearch.globalgsKeydown),window.removeEventListener("extlistener",zgssearch.extensionListener),zgssearch.extensionListener=function(detailJSON){var paramObj=detailJSON.detail,detailJSON=zgssearch.jsonParse(paramObj);detailJSON.toggleGlobalsearch&&(paramObj={service:"ZS",origin:"ZSSC",query:detailJSON.query},zgssearch.isGSOpened&&detailJSON.query?zgssearch.showZiaSearch(paramObj):zgssearch.toggleGlobalsearch(paramObj))},window.addEventListener("extlistener",zgssearch.extensionListener),zgssearch.stopEvent=function(event){event&&(event.preventDefault(),event.stopPropagation())},zgssearch.getQueryOrder=function(tquery){var reg,zuid,query1,query2,qfObj=zgssearch.gsautocomplete.queryFilters,qfmObj=zgssearch.gsautocomplete.queryFiltersMap,queryObj={},queryArr=[],mentionedObj="";return qfObj.hasOwnProperty("services")&&(zuid=(zgssearch.gsautocomplete.modifiers.services.symbol+qfmObj.services).replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+zuid+"\\s|\\s"+zuid+"\\s|\\s"+zuid+"$|^"+zuid+"$)","g"),tquery=tquery.replace(reg,"")),qfObj.hasOwnProperty("users")&&(zuid=(zgssearch.gsautocomplete.modifiers.users.symbol+qfmObj.users).replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),query1=(query2=new RegExp("(^"+zuid+"\\s|\\s"+zuid+"\\s|\\s"+zuid+"$|^"+zuid+"$)","g")).exec(tquery),(zuid=qfObj.users.ZUID)&&-1!=zuid?mentionedObj={men_user_zuid:qfObj.users.ZUID}:qfObj.users.EMAILID&&(mentionedObj={men_user_email:qfObj.users.EMAILID})),query1&&null!==query1?(query1=(query1=tquery.substring(0,query1.index))?query1.trim():"",query2=(query2=tquery.substring(query2.lastIndex,tquery.length))?query2.trim():"",query1&&queryArr.push(queryObj={query:query1}),mentionedObj&&queryArr.push(mentionedObj),query2&&queryArr.push(queryObj={query:query2})):(queryObj={query:tquery.trim()},queryArr.push(queryObj)),queryArr},zgssearch.parsedQueryObjectModelQuery=function(searchType,sortObj){var params=zgssearch.getParamsForURL(sortObj),finalURL=zgssearch.checkisSSECall(searchType)?zgssearch.domainURL:zgssearch.getserviceresultsURL,queryObject=[],accListAdded=!1,sortObj=zgssearch.getValue("zgs20_gsQueryBox"),qArr=zgssearch.getQueryOrder(sortObj);if(zgssearch.updateLastSearchQuery("query",qArr),0<qArr.length){for(var i=0;i<qArr.length;i++){var queryArr,menZUIDArr,menEmailArr,menEmailObj=qArr[i];menEmailObj.hasOwnProperty("query")?(queryArr=[menEmailObj.query],(menZUIDArr={})[zgssearch.QUERY_OBJ_NAME]="zs_query",menZUIDArr[zgssearch.QUERY_OBJ_VALUE]=queryArr,menZUIDArr[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_QUERY,menZUIDArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(menZUIDArr)):menEmailObj.hasOwnProperty("men_user_zuid")?(menZUIDArr=[menEmailObj.men_user_zuid],(menEmailArr={})[zgssearch.QUERY_OBJ_NAME]="zs_mention",menEmailArr[zgssearch.QUERY_OBJ_VALUE]=menZUIDArr,menEmailArr[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MENTION,menEmailArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menEmailArr),delete params.men_user_zuid):menEmailObj.hasOwnProperty("men_user_email")&&(menEmailArr=[menEmailObj.men_user_email],(menEmailObj={})[zgssearch.QUERY_OBJ_NAME]="mentioned_email",menEmailObj[zgssearch.QUERY_OBJ_VALUE]=menEmailArr,menEmailObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MAILID,menEmailObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menEmailObj),delete params.men_user_email)}params.hasOwnProperty("query")&&delete params.query}if(params.hasOwnProperty("sort_criteria")&&(projKey=[params.sort_criteria],(sortObj={})[zgssearch.QUERY_OBJ_NAME]="sort_criteria",sortObj[zgssearch.QUERY_OBJ_VALUE]=projKey,sortObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_LONG,sortObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(sortObj),delete params.sort_criteria),params.hasOwnProperty("nlpsearch")&&(projKey=[params.nlpsearch],(accObjkey={})[zgssearch.QUERY_OBJ_NAME]="nlpsearch",accObjkey[zgssearch.QUERY_OBJ_VALUE]=projKey,accObjkey[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_STRING,accObjkey[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(accObjkey),delete params.nlpsearch),params.hasOwnProperty("accounts_list")&&(filterObj=zgssearch.getFilterObj(searchType),projObj="",zgssearch.widgetServiceList.hasOwnProperty(searchType)&&(projObj=zgssearch.widgetServiceList[searchType].key),projKey=[params.accounts_list],(projArr={})[zgssearch.QUERY_OBJ_NAME]="accounts_list",projArr[zgssearch.QUERY_OBJ_VALUE]=projKey,projArr[zgssearch.QUERY_OBJ_TYPE]=filterObj[projObj].data_type,projArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(projArr),accListAdded=!0,delete params.accounts_list),params.hasOwnProperty("filters")&&searchType!==GSConstant.ALL){var filterObj=zgssearch.getFilterObj(searchType),paramFilterObj=JSON.parse(params.filters);if(filterObj&&!_jQueryGS.isEmptyObject(filterObj)){var accObjkey,projKey,projObj,projArr,pkObjArr,fromDate,toDate,filterObjOrderArr=filterObj.order;!paramFilterObj.hasOwnProperty("accounts_list")||(accObjkey=filterObj[projObj="accounts"]?filterObj[projObj].key:"")&&!accListAdded&&zgssearch.includes(projObj,filterObjOrderArr)&&paramFilterObj.hasOwnProperty(accObjkey)&&(projKey=[],projKey=[paramFilterObj[accObjkey]],(projArr={})[zgssearch.QUERY_OBJ_NAME]="accounts_list",projArr[zgssearch.QUERY_OBJ_VALUE]=projKey,projArr[zgssearch.QUERY_OBJ_TYPE]=filterObj[projObj].data_type,projArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(projArr),delete paramFilterObj.accounts_list),!paramFilterObj.hasOwnProperty("project_id")||"0"==paramFilterObj.project_id||searchType!==zgssearch.GSConstant.PROJECTS||(projObj=filterObj[projKey=zgssearch.gsprojects.projects]?filterObj[projKey].key:"")&&zgssearch.includes(projKey,filterObjOrderArr)&&paramFilterObj.hasOwnProperty(projObj)&&(projArr=[],projArr=[paramFilterObj[projObj]],(projObj={})[zgssearch.QUERY_OBJ_NAME]="project_id",projObj[zgssearch.QUERY_OBJ_VALUE]=projArr,projObj[zgssearch.QUERY_OBJ_TYPE]=filterObj[projKey].data_type,projObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(projObj),delete paramFilterObj.project_id),paramFilterObj.hasOwnProperty("fromdate")&&paramFilterObj.hasOwnProperty("todate")&&(pkObjArr={},zgssearch.filterDates.hasOwnProperty(paramFilterObj.date)?(fromDate=[zgssearch.filterDates[paramFilterObj.date]],toDate=_jQueryGS.extend(!0,{},fromDate),searchType!==GSConstant.CALENDAR&&searchType!==GSConstant.ASANA||fromDate[0].timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK&&fromDate[0].timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH?toDate[0].datetype=fromDate[0].datetype:toDate[0].datetype=zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_ENTIRE,pkObjArr[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_RELATIVE_DATE,pkObjArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,pkObjArr[zgssearch.QUERY_OBJ_VALUE]=[toDate[0]]):(fromDate=paramFilterObj.fromdate+" 00:00:00",toDate=paramFilterObj.todate+" 23:59:59",pkObjArr[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_DATE_TIME,pkObjArr[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_BETWEEN,pkObjArr[zgssearch.QUERY_OBJ_VALUE]=[fromDate,toDate]),pkObjArr[zgssearch.QUERY_OBJ_NAME]="date",delete paramFilterObj.date,delete paramFilterObj.fromdate,delete paramFilterObj.todate,queryObject.push(pkObjArr));for(i=0;i<filterObjOrderArr.length;i++){var dataTypeFilterVal,genericObj,genericArr,innerFilterObjKey=filterObjOrderArr[i],finalKeyObj=filterObj[innerFilterObjKey];finalKeyObj&&(innerKeyId=finalKeyObj.key,paramFilterObj.hasOwnProperty(innerKeyId)&&!paramFilterObj.hasOwnProperty(innerFilterObjKey)&&finalKeyObj.current!==finalKeyObj.default?(dataTypeFilterVal=finalKeyObj.data_type,genericObj={},genericArr=[paramFilterObj[innerKeyId]],zgssearch.isMultiSelectEnabledFilter(searchType,innerFilterObjKey)&&(genericArr=paramFilterObj[innerKeyId].split(",")),genericObj[zgssearch.QUERY_OBJ_NAME]=innerKeyId,genericObj[zgssearch.QUERY_OBJ_VALUE]=genericArr,dataTypeFilterVal!==zgssearch.QUERY_OBJ_DT_DATE_TIME&&(genericObj[zgssearch.QUERY_OBJ_TYPE]=dataTypeFilterVal),genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj),delete paramFilterObj[innerKeyId]):finalKeyObj.current===finalKeyObj.default&&delete paramFilterObj[innerKeyId])}for(var innerKeyId,remFilterOb,remListArr,remFilterObjParams=Object.keys(paramFilterObj),key=0;key<remFilterObjParams.length;key++)"sort"!==(innerKeyId=remFilterObjParams[key])&&"queryOrigin"!==innerKeyId&&(remListArr=[paramFilterObj[innerKeyId]],(remFilterOb={})[zgssearch.QUERY_OBJ_NAME]=innerKeyId,remFilterOb[zgssearch.QUERY_OBJ_VALUE]=remListArr,remFilterOb[zgssearch.QUERY_OBJ_TYPE]="zsoid"==innerKeyId?zgssearch.QUERY_OBJ_DT_LONG:zgssearch.QUERY_OBJ_DT_STRING,remFilterOb[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(remFilterOb)),delete paramFilterObj[innerKeyId]}}params.hasOwnProperty("previewCardObj")&&(cursorVal={},pkObjArr=[JSON.parse(params.previewCardObj)],cursorVal[zgssearch.QUERY_OBJ_NAME]="pk_query",cursorVal[zgssearch.QUERY_OBJ_VALUE]=pkObjArr,cursorVal[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_STRING,cursorVal[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(cursorVal),delete params.previewCardObj);for(var cursorVal,extraParam="",remKeys=Object.keys(params),x=0;x<remKeys.length;x++){var value=params[key=remKeys[x]];"filters"!==key&&"nlpsearch"!==key&&"sort_criteria"!==key&&(extraParam+="widgetIds"===key||"serviceList"===key||"services_list"===key?"&"+key+"="+encodeURIComponent(value):"&"+key+"="+value)}return(zgssearch.isListViewSearch()&&searchType==zgssearch.GSConstant.SLACK||searchType==zgssearch.GSConstant.DROPBOX||searchType==zgssearch.GSConstant.GOOGLEDRIVE||searchType==zgssearch.GSConstant.O365MAIL||searchType==zgssearch.GSConstant.ONEDRIVE||searchType===zgssearch.GSConstant.SALESFORCE)&&((cursorVal=zgssearch.getCursorValue(searchType))&&(extraParam+="&cursor="+cursorVal),zgssearch.resetCusrorValue(searchType)),zgssearch.setQueryObjectForSavedSearch(queryObject),0<queryObject.length?finalURL+"?query_object="+encodeURIComponent(JSON.stringify(queryObject))+extraParam:finalURL+"?"+extraParam},zgssearch.getParamsForURL=function(url){for(var params={},vars=url.split("&"),i=0;i<vars.length;i++){var value=vars[i].split("="),key=value[0],value=value[1];""!==key&&(params[key]=decodeURIComponent(value))}return params},zgssearch.setQueryObjectForSavedSearch=function(queryObject){zgssearch.lastSearchedQueryObject=queryObject},zgssearch.getQueryObjectForSavedSearch=function(){return zgssearch.lastSearchedQueryObject},zgssearch.wmsGSIconClickEvent=function(){var chatBarSearchIcon,oldChatBarSearchIcon=document.getElementById("wmsglobalsearch");oldChatBarSearchIcon&&!zgssearch.iswmsglobalsearchIcon&&(zgssearch.iswmsglobalsearchIcon=!0,chatBarSearchIcon=oldChatBarSearchIcon.cloneNode(!0),oldChatBarSearchIcon.parentNode.replaceChild(chatBarSearchIcon,oldChatBarSearchIcon),chatBarSearchIcon.removeEventListener("click",zgssearch.chatBarSearchIconClickEvent,!0),zgssearch.chatBarSearchIconClickEvent=function(){zgssearch.toggleGlobalsearch()},chatBarSearchIcon.addEventListener("click",zgssearch.chatBarSearchIconClickEvent,!0))},zgssearch.wmsGSIconClickEvent(),zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(zgssearch){zgssearch.zosUserConfig=zgssearch.zosUserConfig||[];var GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.zosConfMultiPortalServices=[GSConstant.SUPPORT,GSConstant.BOOKS,GSConstant.INVOICE],zgssearch.checkAndAddMandatoryService=function(){if("ZO"===gscomponent.pcode){for(var restrictedSuiteService=[],addonServices=[GSConstant.WEBSITE,GSConstant.ORGRESOURCES],zosuc=zgssearch.getZOSUserConfig(),len=zosuc.length,dupServicesMap={mail:GSConstant.MAILS,docs:GSConstant.DOCUMENTS,teamdrive:GSConstant.WORKDRIVE},i=0;i<len;i++){var appname=zosuc[i].app_name;dupServicesMap.hasOwnProperty(appname)&&(appname=dupServicesMap[appname],zosuc[i].app_name=appname),restrictedSuiteService.push(appname)}for(i=0;i<addonServices.length;i++){var addonService=addonServices[i];-1==restrictedSuiteService.indexOf(addonService)&&(restrictedSuiteService.push(addonService),zgssearch.zosUserConfig.push({app_name:addonService}))}if(zgssearch.GSConstant.hasOwnProperty("widgetObject")){var allowedAllServices=zgssearch.GSConstant.widgetObject.allserviceslist;if(0<allowedAllServices.length)for(var addonServicesLen=addonServices.length,i=0;i<addonServicesLen;i++){addonService=addonServices[i];-1==allowedAllServices.indexOf(addonService)&&(zgssearch.zosUserConfig.splice(restrictedSuiteService.indexOf(addonService),1),zgssearch.serviceList.splice(zgssearch.serviceList.indexOf(addonService),1))}}}},zgssearch.setZOSUserConfig=function(){var zosUserObj=gscomponent.getZOUserData();zosUserObj&&(zgssearch.isZOSConfUpdated=!0,zgssearch.zosUserConfig=zosUserObj),zgssearch.checkAndAddMandatoryService()},zgssearch.updateZOSUserConfig=function(zosUserObj){zosUserObj&&(zgssearch.zosUserConfig=zosUserObj),zgssearch.checkAndAddMandatoryService()},zgssearch.getZOSUserConfig=function(){return zgssearch.zosUserConfig},zgssearch.updateZOSConfig=function(){zgssearch.isZOSConfUpdated||(zgssearch.setZOSUserConfig(),zgssearch.isZOSConfUpdated&&zgssearch.readyToLoadServiceList())},zgssearch.getExtraServiceSuiteURL=function(){zgssearch.updateZOSConfig();var pcode=gscomponent.pcode;return pcode&&("ZW"===pcode||"ZO"===pcode||"SS"===pcode)&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite?"&pcode=SS&usd=false":"&usd=true"},zgssearch.getServiceListAndWidgetIdsURL=function(){var serviceURL=zgssearch.getExtraServiceSuiteURL();zgssearch.updateZOSConfig();var zosuc=zgssearch.getZOSUserConfig(),len=zosuc.length||0;if(0<len){var widgetServicesArr=(GSConstant.STATIC_WIDGET_CONFIGURED||"").split(","),serList="all"===zgssearch.searchType?zgssearch.serviceList:[zgssearch.searchType];zgssearch.preCheckForServices();for(var sindex=zgssearch.GSConstant.widgetObject,services_info=sindex&&sindex.hasOwnProperty("servicesinfo")?sindex.servicesinfo:{},widgetIdsObj={},i=0;i<len;i++){var data=zosuc[i],appname=data.app_name,zaaid=data.zaaid;if(-1<serList.indexOf(appname)&&-1<widgetServicesArr.indexOf(appname)&&zaaid){-1<zaaid.indexOf("-")&&(zaaid=zaaid.slice(zaaid.indexOf("-")+1,zaaid.length));data=services_info[appname];if(data){var eO=zgssearch.getEnabledAccListFromWidget(appname,data);if(0<eO.length){for(var widgetIds="",all_length=eO.length-1,index=0;index<=all_length;index++)widgetIds+=eO[index],index!=all_length&&(widgetIds+=",");widgetIdsObj[appname]=widgetIds}}else widgetIdsObj[appname]=zaaid}}0<Object.keys(widgetIdsObj).length&&(serviceURL+="&widgetIds="+encodeURIComponent(JSON.stringify(widgetIdsObj)));var slistOrig=serList.slice(),sindex=slistOrig.indexOf("all");-1<sindex&&slistOrig.splice(sindex,1),serviceURL+=0<slistOrig.length?"&services_list="+encodeURIComponent(slistOrig.toString()):""}return serviceURL},zgssearch.updateZOSConfig()}(zgssearch,window),function(zgssearch,window){var gsnlpsearch,_jQueryGS=window._jQueryGS,gscomponent=(zgssearch=window.zgssearch||{}).gscomponent||{};zgssearch.GSConstant=zgssearch.GSConstant||{},zgssearch.gsnlpsearch=(gsnlpsearch=void 0,(gsnlpsearch=zgssearch.gsnlpsearch||{}).isNLPTracerOpened=!1,gsnlpsearch.createNLPTemplate=function(){var nlptracerFile;_jQueryGS(".zgs19_gsnlpZia").length<=0&&(nlptracerFile=_jQueryGS("<div>",{class:"zgs19_gsnlpZia"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfl"})).append(_jQueryGS("<div>",{class:"zgs19_gsnlpZiaTxt zgs19_gsfl"}).text("Zia")).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsWd40 zgs19_gsnlpZiaIcon"}).append(_jQueryGS("<label>",{class:"zgs19_switch",for:"checkbox"}).append(_jQueryGS("<input>",{type:"checkbox",id:"zgs20_gsNLPSearchEnabled"})).append(_jQueryGS("<div>",{class:"zgs19_slider zgs19_round"})))),_jQueryGS(".zgs19_gsqryinnerdiv").append(nlptracerFile).addClass("zgs19_nlpEnabled"),zgssearch.setSearchBoxSegmentSize(),zgssearch.gsnlpsearch.toggleNLPSearchForServices()),1===gscomponent.UIType&&zgssearch.GSConstant.isNLPTracerEnabled&&!zgssearch.gsnlpsearch.isTracerObtained&&(zgssearch.gsnlpsearch.isTracerObtained=!0,nlptracerFile=zgssearch.network.getFingerPrintFilePath("js/nlptracer.js",!0),zgssearch.network.loadJSFile(nlptracerFile))},gsnlpsearch.toggleNLPSearchForServices=function(){var service=zgssearch.getSearchType();zgssearch.isArrayContain(service,zgssearch.GSConstant.nlp_enabled_apps)?(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!1,_jQueryGS(".zgs19_gsnlpZia").removeClass("zgs19_gsHideEleme")):(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!0,document.getElementById("zgs20_gsNLPSearchEnabled").checked=!1,_jQueryGS(".zgs19_gsnlpZia").addClass("zgs19_gsHideEleme"))},gsnlpsearch.storeNLPTracerData=function(tracer_data){!tracer_data||(tracer_data="string"==typeof tracer_data?JSON.parse(tracer_data):tracer_data).hasOwnProperty("tracer")&&(zgssearch.gsnlpsearch.nlptracerdata=tracer_data.tracer)},gsnlpsearch.clearNLPTracerData=function(){zgssearch.gsnlpsearch.nlptracerdata="",_jQueryGS(".zgs19_nlpTracerContent").html("")},gsnlpsearch.toggleNLPTracer=function(){var elem;gsnlpsearch.isNLPTracerOpened?gsnlpsearch.hideNLPTracer():(elem=zgssearch.getTargetElem("zgs20_gsnlpTracerData"),_jQueryGS(".zgs19_nlpTracerLink").addClass("zmHactive"),_jQueryGS(elem).css("display","block"),zgssearch.gsnlpsearch.nlptracerdata?(_jQueryGS(".zgs19_nlpTracerContent").html("").html(zgssearch.gsnlpsearch.nlptracerdata),_jQueryGS(".zgs19_nlpTracerContent").scrollTop(0),_jQueryGS(".zgs19_nlpTracerContent").scrollLeft(0)):_jQueryGS(".zgs19_nlpTracerContent").html("").append(_jQueryGS("<div>",{class:"zgs19_nlpTracerNoContent"}).text("No Tracer Data Availalble")),gsnlpsearch.isNLPTracerOpened=!0)},gsnlpsearch.hideNLPTracer=function(){var elem;gsnlpsearch.isNLPTracerOpened&&(elem=zgssearch.getTargetElem("zgs20_gsnlpTracerData"),_jQueryGS(".zgs19_nlpTracerLink").removeClass("zmHactive"),_jQueryGS(elem).css("display","none"),gsnlpsearch.isNLPTracerOpened=!1)},gsnlpsearch)}(zgssearch,window),zgssearch.ProximityContacts=zgssearch.ProximityContacts||{},zgssearch.ProximityContacts.proximityContacts=[],zgssearch.ProximityContacts.zuidVsEmailId=zgssearch.ProximityContacts.zuidVsEmailId||{},zgssearch.ProximityContacts.autoSuggContactsURL="/zgssearch/api/v1/contactsSuggestions",zgssearch.ProximityContacts.cuz=zgssearch.ProximityContacts.cuz||"",zgssearch.ProximityContacts.cuo=zgssearch.ProximityContacts.cuo||"",zgssearch.ProximityContacts.peoplePhotoURL=zgssearch.ProximityContacts.peoplePhotoURL||"",zgssearch.ProximityContacts.contacts_photo_url=zgssearch.ProximityContacts.contacts_photo_url||"",zgssearch.ProximityContacts.getTopContacts=function(apiConsumer,isEmailOnlyResParam,argparams){isEmailOnlyResParam=isEmailOnlyResParam.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+isEmailOnlyResParam.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts("action=topContacts&api_consumer="+apiConsumer+isEmailOnlyResParam,{argparams:argparams})},zgssearch.ProximityContacts.getQueriedContacts=function(finalQueryParams,isEmailOnlyResParam,argparams){var params="action=getContacts&api_consumer="+finalQueryParams,finalQueryParams="&start="+isEmailOnlyResParam.start+"&limit="+isEmailOnlyResParam.limit+"&query="+isEmailOnlyResParam.query,isEmailOnlyResParam=isEmailOnlyResParam.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+isEmailOnlyResParam.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts(params+finalQueryParams+isEmailOnlyResParam,{argparams:argparams})},zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts=function(totalParams,finalArgParams){zgssearch.uri("GET",zgssearch.ProximityContacts.autoSuggContactsURL+"?"+totalParams,null,finalArgParams,function(response,status,service){var argObj,queryParams,callback,contactsObj;response&&(contactsObj={},queryParams=(argObj=(service&&service.args?service.args:{}).argparams).hasOwnProperty("queryUrl")?argObj.queryUrl:"",callback=argObj.hasOwnProperty("callback")?argObj.callback:"",service=argObj.hasOwnProperty("service")?argObj.service:"",contactsObj=zgssearch.ProximityContacts.processContacts(response),"zia"===service?zgssearch.gsusercontacts.storeExtraValuesForContacts(response,contactsObj,queryParams,argObj):callback&&callback(contactsObj))})},zgssearch.ProximityContacts.processContacts=function(response){zgssearch.ProximityContacts.cuz=response.hasOwnProperty("cuz")?response.cuz:"",zgssearch.ProximityContacts.cuo=response.hasOwnProperty("cuo")?response.cuo:"",zgssearch.ProximityContacts.peoplePhotoURL=response.hasOwnProperty("people_photo_url")?response.people_photo_url:"",zgssearch.ProximityContacts.contacts_photo_url=response.hasOwnProperty("contacts_photo_url")?response.contacts_photo_url:"";var resArr=[],finalUserObj={};if(response.hasOwnProperty("contacts"))for(var lenResArr=(resArr=response.contacts||[]).length,ra=0;ra<lenResArr;ra++){var userObj=resArr[ra]||{},zuid=userObj.cz,contact_zuid=zuid&&-1!=zuid?zuid:"",emailID=userObj.em||"",fullName=userObj.hasOwnProperty("fN")?userObj.fN.trim():"",contact_nick_name=userObj.hasOwnProperty("nN")?userObj.nN.trim():"",userObj={DNAME:contact_nick_name||fullName,NICKNAME:contact_nick_name,FULLNAME:fullName,EMAILID:emailID,ZUID:contact_zuid,UC:lenResArr-ra,PURL:zgssearch.ProximityContacts.constructPhotoUrl(userObj)};zgssearch.ProximityContacts.proximityContacts.push(userObj),(zgssearch.ProximityContacts.zuidVsEmailId[zuid]=emailID)&&!finalUserObj.hasOwnProperty(emailID)&&(finalUserObj[emailID]=userObj)}return finalUserObj},zgssearch.ProximityContacts.constructPhotoUrl=function(peopPhoURL){var cId,erec,photoUrl="";return peopPhoURL.hasOwnProperty("cId")?(cId=peopPhoURL.cId,photoUrl=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuz+"/contacts/"+cId+"/photo?include=default_photo"):peopPhoURL.hasOwnProperty("ocId")?(erec=peopPhoURL.ocId,photoUrl=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuo+"/contacts/"+erec+"/photo?include=default_photo"):peopPhoURL.hasOwnProperty("erec")&&(erec=peopPhoURL.erec,peopPhoURL=zgssearch.ProximityContacts.peoplePhotoURL,erec&&peopPhoURL&&(photoUrl=peopPhoURL+erec)),photoUrl},zgssearch.ProximityContacts.jsonParse=function(data){try{return JSON.parse(data)}catch(ex){return zgssearch.throwClientError("Error while parsing data",ex),data}},zgssearch.QUERY_OBJ_NAME="name",zgssearch.QUERY_OBJ_VALUE="value",zgssearch.QUERY_OBJ_TYPE="type",zgssearch.QUERY_OBJ_OPERATOR="operator",zgssearch.QUERY_OBJ_EXPANDED_VALUE="ExpandedValue",zgssearch.QUERY_OBJ_DT_QUERY=0,zgssearch.QUERY_OBJ_DT_MENTION=1,zgssearch.QUERY_OBJ_DT_STRING=2,zgssearch.QUERY_OBJ_DT_DATE_TIME=3,zgssearch.QUERY_OBJ_DT_RELATIVE_DATE=4,zgssearch.QUERY_OBJ_DT_LONG=5,zgssearch.QUERY_OBJ_DT_INT=6,zgssearch.QUERY_OBJ_DT_BOOLEAN=7,zgssearch.QUERY_OBJ_DT_MAILID=8,zgssearch.QUERY_OBJ_DT_DECIMAL=9,zgssearch.QUERY_OBJ_STRING_CONTAINS=0,zgssearch.QUERY_OBJ_STRING_NOT_CONTAINS=1,zgssearch.QUERY_OBJ_LONG_IS=0,zgssearch.QUERY_OBJ_LONG_IS_NOT=1,zgssearch.QUERY_OBJ_LONG_BETWEEN=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT=3,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_ENTIRE=4,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_YEAR=3,zgssearch.WS="workspaces",zgssearch.SETTINGS_ACTION_NAMES={APPLICATION_TAB:"S_A",GENERAL_TAB:"S_G",SAVEDSEARCHES_TAB:"S_S",CLOSE_TAB:"S_C"},function(window){var gstopband,document=window.document,zgssearch=window.zgssearch||{};zgssearch.userDetailsTemplateCreated=!1,zgssearch.gstopband=(gstopband=void 0,gstopband=zgssearch.gstopband||{},zgssearch.userDisplayName="undefined"!=typeof userDisplayName&&userDisplayName||"",zgssearch.userEmailId="undefined"!=typeof userEmailId&&userEmailId||"",gstopband.createHamburgerTemplate=function(hamburgerText){var list=gstopband.jsonParse(hamburgerText),hamburgerText={allApps:zgssearch.getI18NMsg("gs.search.hamburger.allApps"),workPlaceApps:zgssearch.getI18NMsg("gs.search.hamburger.workPlaceApps"),allAppsSwitch:zgssearch.getI18NMsg("gs.search.hamburger.allAppsSwitch"),workPlaceSwitch:zgssearch.getI18NMsg("gs.search.hamburger.workPlaceSwitch")};window.topApps.init(list,hamburgerText)},gstopband.appendMobSupportInProfile=function(){var androidIconCls,mobileSupport="";zgssearch.isZohoDomain()&&0==jQuery(".zgs19_gsUPScanner").length&&(androidIconCls=-1<zgssearch.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsCNAndroidSupLink":"zgs19_gsAndroidSupLink",mobileSupport=jQuery("<div>",{class:"zgs19_gsUDMobSup"}).append(jQuery("<div>",{class:"zgs19_gsUDMobSupTit",title:zgssearch.getI18NMsg("gs.search.userdetails.welcomepage.appssupport")}).text(zgssearch.getI18NMsg("gs.search.userdetails.welcomepage.appssupport"))).append(jQuery("<div>",{class:"zgs19_gsUPScannerOuter"}).append(jQuery("<div>",{class:"zgs19_gsUPScanner"}))).append(jQuery("<div>",{class:"zgs19_gsWPSupportInner"}).append(jQuery("<a>",{rel:"noopener noreferrer",class:androidIconCls+" zgs19_gsfl",href:zgssearch.GSConstant.ANDROID_LINK,target:"_blank"})).append(jQuery("<a>",{rel:"noopener noreferrer",class:"zgs19_gsiOSSupLink zgs19_gsfl",href:zgssearch.GSConstant.IOS_LINK,target:"_blank"})))),jQuery("div.zgs19_gsUserDetailsDataNavi").prepend(mobileSupport)},gstopband.appendThemeSupportInProfile=function(){var selectModeEle=jQuery("<div>",{class:"zgs19_gsThemeDetails"}).append(jQuery("<div>",{class:"zgs19_gsThemeDetailsDataOuter"}).append(jQuery("<div>",{class:"zgs19_gsThemeDetailsData zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.theme")}).text(zgssearch.getI18NMsg("gs.search.themesupport.theme"))).append(jQuery("<div>",{class:"zgs19_gsthemeOutercontainer"}).append(jQuery("<label>",{class:"zgs18_gsthemecontainer zgs19_gsfl"}).append(jQuery("<input>",{name:"zstheme",theme:"zsBlueTheme",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cbblue"}))).append(jQuery("<label>",{class:"zgs18_gsthemecontainer zgs19_gsfl"}).append(jQuery("<input>",{name:"zstheme",theme:"zsGreenTheme",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cbgreen"}))).append(jQuery("<label>",{class:"zgs18_gsthemecontainer zgs19_gsfl"}).append(jQuery("<input>",{name:"zstheme",theme:"zsRedTheme",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cbred"}))).append(jQuery("<label>",{class:"zgs18_gsthemecontainer zgs19_gsfl"}).append(jQuery("<input>",{name:"zstheme",theme:"zsYellowTheme",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cbyellow"})))).append(jQuery("<div>",{class:"zgs19_gsModeOutercontainer"}).append(jQuery("<div>",{class:"zgs19_gsthemedarkOuter"}).append(jQuery("<span>",{class:"zgs19_gsthemedark"})).append(jQuery("<label>",{class:"zgs18_gsmodecontainer"}).append(jQuery("<input>",{name:"zsmode",mode:"zsDarkMode",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cbdark"}))).append(jQuery("<div>",{class:"zgs19_themeNameTxt zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.mode.dark")}).text(zgssearch.getI18NMsg("gs.search.themesupport.mode.dark")))).append(jQuery("<div>",{class:"zgs19_gsthemelightOuter"}).append(jQuery("<span>",{class:"zgs19_gsthemelight"})).append(jQuery("<label>",{class:"zgs18_gsmodecontainer"}).append(jQuery("<input>",{name:"zsmode",mode:"zsLightMode",type:"radio"})).append(jQuery("<span>",{class:"zgs19_checkmark zgs19_cblight"}))).append(jQuery("<div>",{class:"zgs19_themeNameTxt zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.mode.light")}).text(zgssearch.getI18NMsg("gs.search.themesupport.mode.light")))))).append(jQuery("<div>",{class:"zgs19_gsNightModeOutercontainer"}).append(jQuery("<div>",{class:"zgs19_gsThemeDetailsData zgs19_gsOverflow zgs19_gsfl",title:zgssearch.getI18NMsg("gs.search.themesupport.nightmode")}).text(zgssearch.getI18NMsg("gs.search.themesupport.nightmode"))).append(jQuery("<div>",{class:"zgs19_gsfl zgs19_gsWd40 zgs19_gsnlpZiaIcon"}).append(jQuery("<label>",{class:"zgs19_switch",for:"checkbox"}).append(jQuery("<input>",{type:"checkbox",id:"zgs20_gsNightMode"})).append(jQuery("<div>",{class:"zgs19_slider zgs19_round"})))));jQuery("div.zgs19_gsUserDetailsDataNavi").prepend(selectModeEle),zgssearch.GSConstant.isNightModeEnabled=/true/i.test(zgssearch.getLocalStorageValue("isNightModeEnabled")||!1),document.getElementById("zgs20_gsNightMode").checked=zgssearch.GSConstant.isNightModeEnabled,zgssearch.setNightMode(zgssearch.GSConstant.isNightModeEnabled);selectModeEle=zgssearch.GSConstant.hasOwnProperty("theme")?zgssearch.GSConstant.theme:zgssearch.getLocalStorageValue("theme")||"zsBlueTheme";jQuery('[theme="'+selectModeEle+'"]').prop("checked",!0),zgssearch.GSConstant.theme=selectModeEle;selectModeEle=zgssearch.GSConstant.hasOwnProperty("mode")?zgssearch.GSConstant.mode:zgssearch.getLocalStorageValue("mode")||"zsDarkMode";jQuery('[mode="'+selectModeEle+'"]').prop("checked",!0),zgssearch.GSConstant.mode=selectModeEle,zgssearch.setMode(zgssearch.GSConstant.mode),jQuery('input[name^="zstheme"]').change(function(){var params=jQuery(this).attr("theme");zgssearch.setTheme(params),localStorage.setItem("theme",params);var postUserSettingsDataURL={};postUserSettingsDataURL.theme=params;params="action=updatesettingsdata&themedata="+JSON.stringify(postUserSettingsDataURL),postUserSettingsDataURL=zgssearch.postUserSettingsDataURL;zgssearch.uri(zgssearch.POST,postUserSettingsDataURL,params,"",function(data,status,xhr){})}),jQuery('input[name^="zsmode"]').change(function(){var params=jQuery(this).attr("mode");zgssearch.setMode(params);var postUserSettingsDataURL={};postUserSettingsDataURL.mode=params;params="action=updatesettingsdata&modedata="+JSON.stringify(postUserSettingsDataURL),postUserSettingsDataURL=zgssearch.postUserSettingsDataURL;zgssearch.uri(zgssearch.POST,postUserSettingsDataURL,params,"",function(data,status,xhr){})}),jQuery("#zgs20_gsNightMode").change(function(){zgssearch.GSConstant.isNightModeEnabled=document.getElementById("zgs20_gsNightMode").checked,zgssearch.setNightMode(zgssearch.GSConstant.isNightModeEnabled);var params="action=updatesettingsdata&isNightMode="+zgssearch.GSConstant.isNightModeEnabled,postUserSettingsDataURL=zgssearch.postUserSettingsDataURL;zgssearch.uri(zgssearch.POST,postUserSettingsDataURL,params,"",function(data,status,xhr){})})},gstopband.createUserDetailsTemplate=function(code){var userImg;zgssearch.userDetailsTemplateCreated||(userImg=zgssearch.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),zgssearch.network.imageRenderer.renderImage(userImg,null,function(userDetailsButton1){var imageSrc=userDetailsButton1||userImg,logoutDomain=zgssearch.isExtension?zgssearch.httpstxt+"://"+GSConstant.searchdomainURL:"",arrow="zgs19_userDetailsArrow",userDetails="zgs19_gsUserDetailsData",userDetailsAccountsPane="zgs19_gsUserDetailsAccountsPane",userDetailsButton="zgs19_userDetailsButton",userDetailsButton1="zgs19_userDetailsButton1";code&&1===code&&(arrow="zgs19_userDetailsArrowPopup",userDetails="zgs19_gsUserDetailsDataPopup",userDetailsAccountsPane="zgs19_gsUserDetailsAccountsPanePopup",userDetailsButton="zgs19_userDetailsButtonPopup",userDetailsButton1="zgs19_userDetailsButton1Popup"),jQuery("#zgs20_gsUserDetails").empty().append(jQuery("<div>",{class:arrow})).append(jQuery("<div>",{class:userDetails}).append(jQuery("<div>",{class:"zgs19_gsUserDetailsDataPhoto"}).append(jQuery("<img>",{src:imageSrc,class:"zgs19_gsUserImgProf zgs19_gsfl"}))).append(jQuery("<div>",{class:"zgs19_gsUserDetailsDataName",gs:"userdisplayname"}).text(zgssearch.userDisplayName)).append(jQuery("<div>",{class:"zgs19_gsUserDetailsDataEmail",gs:"useremailid"}).text(zgssearch.userEmailId)).append(jQuery("<div>",{class:"zgs19_gsUserDetailsDataNavi"}).append(jQuery("<div>",{class:userDetailsAccountsPane}).append(jQuery("<a>",{rel:"noopener noreferrer",gs:"myaccounts",class:userDetailsButton+" zgs19_gsfl",href:"javascript:void(0);",target:"_blank",gstitle:zgssearch.getI18NMsg("gs.search.userdetails.myaccount")}).text(zgssearch.getI18NMsg("gs.search.userdetails.myaccount"))).append(jQuery("<a>",{class:userDetailsButton1+" zgs19_gsfr",target:"_blank",gs:"signout",href:logoutDomain+"/logout",gstitle:zgssearch.getI18NMsg("gs.search.userdetails.signout")}).text(zgssearch.getI18NMsg("gs.search.userdetails.signout")))))),0!=zgssearch.gscomponent.UIType&&(zgssearch.isIE||(gstopband.appendThemeSupportInProfile(),zgssearch.isThemeEleLoaded=!0),gstopband.appendMobSupportInProfile()),jQuery(".zgs19_userDetailsButton1").attr("target","_self"),zgssearch.userDetailsTemplateCreated=!0}))},gstopband.getHamburgerData=function(){gstopband.isHamburgerDataLoaded||(gstopband.isHamburgerDataLoaded=!0,gstopband.getAllAppsData())},gstopband.hamburgerMouseEvent=function(){jQuery("div#zgs20_gsHamburger").off().on({mouseenter:function(){gstopband.getHamburgerData()}})},gstopband.triggerHamburger=function(){jQuery("#zgs20_gsHamburgerData").append("<div class='zgs19_gsHamburgerDataLoader'><div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div></div>"),gstopband.hamburgerMouseEvent()},gstopband.toggleHamburger=function(){var elem;gstopband.isAllappsOpened?gstopband.hideHamburger():(elem=gstopband.getTargetElem("zgs20_gsHamburgerData"),jQuery("#zgs20_gsHamburger").addClass("zmHactive"),jQuery("#zgs20_gsHamburgerData").removeClass("zmHApps"),jQuery(elem).show(),gstopband.isAllappsOpened=!0)},gstopband.hideHamburger=function(){var elem;gstopband.isAllappsOpened&&(elem=gstopband.getTargetElem("zgs20_gsHamburgerData"),jQuery("#zgs20_gsHamburger").removeClass("zmHactive"),jQuery(elem).hide(),gstopband.isAllappsOpened=!1)},gstopband.toggleUserDetails=function(){var elem;gstopband.isUserDetailsOpened?gstopband.hideUserDetails():(elem=gstopband.getTargetElem("zgs20_gsUserDetails"),jQuery("#zgs20_gsUserDetails").addClass("zmHactive"),jQuery(elem).show(),gstopband.isUserDetailsOpened=!0)},gstopband.hideUserDetails=function(){var elem;gstopband.isUserDetailsOpened&&(elem=gstopband.getTargetElem("zgs20_gsUserDetails"),jQuery("#zgs20_gsUserDetails").removeClass("zmHactive"),jQuery(elem).hide(),gstopband.isUserDetailsOpened=!1)},gstopband.handleHamburgerError=function(key,data){var keyVsData={};keyVsData[key]=data,zgssearch.resultHolder.push(keyVsData)},gstopband.getAllAppsData=function(){zgssearch.network.xmlHttpReq("POST","/allapps",!1,function(result){result&&result.status&&"error"!=result.status?gstopband.createHamburgerTemplate(result.response):gstopband.handleHamburgerError("ERROR",result)})},gstopband.getTargetElem=function(id){return document.getElementById(id)},gstopband.jsonParse=function(data){try{return JSON.parse(data)}catch(ex){return zgssearch.throwClientError("Error while parsing data",ex),data}},gstopband),window.zgssearch=zgssearch}(window),zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.Utils.RESULTS_WIDTH={},zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={},zgssearch.Utils.trim=function(value){return null!=value?value.replace(/^\s+|\s+$/g,""):value},zgssearch.Utils.isUndefined=function(value){return void 0===value},zgssearch.Utils.isValidDepartmentInfo=function(value){return!("none"===(value=null!=value?value.trim().toLowerCase():value)||""===value||"-"===value||"na"===value||"nil"===value||"-na-"===value)},zgssearch.Utils.createElement=function(type,id,classname,attributes,text,html){var element=document.createElement(type);if(classname&&(element.className=classname),id&&(element.id=id),text&&(element.textContent=text),html&&(element.innerHTML=html),attributes&&""!==attributes)for(var attr in attributes)element.setAttribute(attr,attributes[attr]);return element},zgssearch.Utils.addEvent=function(el,evname,func,useCapture,args){useCapture="boolean"!=typeof useCapture||useCapture;function handlerFn(ev){func.call(this,ev,args)}return el.addEventListener?el.addEventListener(evname,handlerFn,useCapture):el.attachEvent?el.attachEvent("on"+evname,handlerFn):el["on"+evname]=handlerFn,handlerFn},zgssearch.Utils.isEmptyString=function(content){return!(content&&0<content.trim().length)},zgssearch.Utils.isEmpty=function(val){return null==val||""===val},zgssearch.Utils.getEventTarget=function(event){return event?event.target:window.event.srcElement},zgssearch.Utils.indexOf=function(arrayobj,elem){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(arrayobj,elem);for(var i=0;i<arrayobj.length;i++)if(elem===arrayobj[i])return i;return-1},zgssearch.Utils.showMessage=function(left){var banner_msg=left.message,banner_class=left.banner_class,banner_tip_text_elem=left.banner_icon_class,textWidth=zgssearch.getTargetElem("zgs20_gsSearchResultsArea").getBoundingClientRect().width-70,banner_tip_elem=zgssearch.getWidthOfText(banner_msg,300)+50,left=(textWidth-banner_tip_elem)/2,textWidth=banner_tip_elem-30,banner_tip_elem=_jQueryGS("#zgs20_gsbannertip");banner_tip_elem.find("#zgs20_gsbannertipicon").attr("style",banner_tip_text_elem);banner_tip_text_elem=_jQueryGS("#zgs20_gsbannertiptext");banner_tip_text_elem.css("maxWidth","470px"),banner_tip_text_elem.text(banner_msg),banner_tip_text_elem.hasClass("zgs19_gsfl")?300<textWidth&&banner_tip_text_elem.removeClass("zgs19_gsfl"):textWidth<300&&banner_tip_text_elem.addClass("zgs19_gsfl"),banner_tip_elem.stop(!0).attr("style",banner_class).css({maxWidth:"500px",left:left,opacity:0}).show(),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").animate({opacity:1},500)},200),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").fadeOut(),_jQueryGS("#zgs20_gsbannertip").hide()},3e3)},zgssearch.Utils.showInfoMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #ededed; border-color: #c7c6c5;",props.banner_icon_class="background-position: -82px -700px;",zgssearch.Utils.showMessage(props)},zgssearch.Utils.showSuccessMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #e6f3fb; border-color: #70b2db;",props.banner_icon_class="background-position: -3px -700px",zgssearch.Utils.showMessage(props)},zgssearch.Utils.showErrorMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #f6dede; border-color: #ec9789;",props.banner_icon_class="background-position: -57px -700px;",zgssearch.Utils.showMessage(props)},zgssearch.Utils.getUIDisplayTime=function(ampm){var hours=ampm.getHours(),minutes=ampm.getMinutes(),ampm=12<=hours?"PM":"AM";return(hours=(hours%=12)||12)+":"+(minutes=minutes<10?"0"+minutes:minutes)+" "+ampm},zgssearch.Utils.getServiceIcon=function(service){return service&&zgssearch.mappedServiceList.hasOwnProperty(service)?zgssearch.mappedServiceList[service].serviceicon:""},zgssearch.Utils.createCalloutIframe=function(source_url,menuEl){var callout_iframe_id="callout_iframe_"+(new Date).getTime();_jQueryGS("#callout_iframe").remove(),isiframe_loading_completed=!1;var iframe_elem=document.createElement("iframe");iframe_elem.frameBorder=0,iframe_elem.id=callout_iframe_id,iframe_elem.className="zgs19_Border0px zgs19_gsDocsIframeTag",iframe_elem.setAttribute("frameborder","0"),iframe_elem.setAttribute("allowfullscreen","true");var ua=window.navigator.userAgent;/MSIE|Trident/.test(ua)?setTimeout(function(){zgssearch.Utils.handleIframeOnLoad(callout_iframe_id,menuEl)},15e3):iframe_elem.onload=function(){zgssearch.Utils.handleIframeOnLoad(callout_iframe_id,menuEl)},iframe_elem.src=source_url,_jQueryGS(menuEl.docspreviewHolder).append(iframe_elem),setTimeout(function(){isiframe_loading_completed||zgssearch.gsdocs.constructErrorContent(callout_iframe_id,menuEl)},3e4)},zgssearch.Utils.handleIframeOnLoad=function(iframe_elem,menuEl){var loader_elem=document.getElementById("zgs20_gscoutLoadHolder");null!=loader_elem&&loader_elem.remove();iframe_elem=document.getElementById(iframe_elem);iframe_elem&&(iframe_elem.contentWindow||iframe_elem.contentDocument)&&(isiframe_loading_completed=!0,menuEl.calloutFooter.classList.remove("zgs19_gsOverflowHidden"),menuEl.docspreviewHolder.style.display="block")},zgssearch.Utils.handleIframeOnError=function(){isiframe_loading_completed||zgssearch.gsdocs.constructErrorContent()},zgssearch.Utils.openSettingsTemplate=function(pageName,tabName){zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage();var loadericon=zgssearch.getFourDotLoader("zgs20_gsSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsAutoSuggestLoader");return _jQueryGS("<div>",{id:"zgs20_gsSettingsPage",class:"zgs19_gsSettingsPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetNavHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHTitle"}).text(pageName))).append(_jQueryGS("<div>",{class:"zgs19_gsSetClose",gs:"renderPrefActions",datatype:"S_C",tabName:tabName}).append(_jQueryGS("<span>",{class:"zgs18_gsCloseIcon zgs19_gsSetCloseIcon",gs:"renderPrefActions",datatype:"S_C",tabName:tabName})))).append(_jQueryGS("<div>",{class:"zgs19_gsSettingsNavigationContent",id:"zgs20_gsSettingsNavigationContent"}).append(loadericon))},zgssearch.Utils.settingsPageActionsCallable=function(target_element,action){_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),action===zgssearch.SETTINGS_ACTION_NAMES.APPLICATION_TAB?(zgssearch.gssettingsapptab.fillWidgetResponseByServiceList(),zgssearch.gssettingsapptab.constructServiceAccountsPage(),zgssearch.gssettingsapptab.renderTabsView(),zgssearch.gsusersettings.showServiceReorderPage()):action===zgssearch.SETTINGS_ACTION_NAMES.CLOSE_TAB?"Cards"===target_element.attr("tabName")?zgssearch.closeActionForCards():(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()):action===zgssearch.SETTINGS_ACTION_NAMES.GENERAL_TAB&&(zgssearch.gssettingsgeneraltab.constructGeneralPanelInSettings(),zgssearch.gssettingsgeneraltab.renderConfigurations())},zgssearch.Utils.calculatePositionForSettings=function(){var settingsPageWidth=_jQueryGS("#zgs20_gsResultsHolder").width(),leftPanelWidth=zgssearch.getLHSServicePaneWidth(),temptopPos=_jQueryGS("#zgs20_gsResultsHolder").height(),settingsPageLoaderTop=_jQueryGS(".zgs19_gsSetNavHeader").height()+1,navContentHeight=temptopPos-settingsPageLoaderTop,temptopPos="0";zgssearch.isMobViewport()&&(leftPanelWidth=0,navContentHeight-=temptopPos=_jQueryGS("#zgs20_gsSearchResultLeft").height());settingsPageWidth-=leftPanelWidth=zgssearch.isDashboardEnabled?0:zgssearch.getLHSServicePaneWidth();_jQueryGS("#zgs20_gsSettingsNavigationContent").css({top:settingsPageLoaderTop+"px",height:navContentHeight+"px"});settingsPageLoaderTop=navContentHeight/2-settingsPageLoaderTop;_jQueryGS("#zgs20_gsSettingsPageLoader").css({position:"relative",top:settingsPageLoaderTop+"px"}),_jQueryGS("#zgs20_gsSettingsPage").css({top:temptopPos+"px",width:settingsPageWidth+"px",left:leftPanelWidth+"px"})},zgssearch.Utils.hideSettingsPage=function(){_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),_jQueryGS("#zgs20_gsServiceReOrdering").css("display","none"),_jQueryGS("#zgs20_gsServiceAccountsReOrdering").css("display","none"),_jQueryGS(".zgs19_gsServiceAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),zgssearch.gsusersettings.isSettingsOpened=!1};var GSConstant=zgssearch.getGSConstantObj()||{};function dashboardHome(){this.get=function(){var dashboardId=zgssearch.dashboard.Hash.getDBIdFromURL(),defaultdbId="";zgssearch.gsaddcards.removeAddCardPopupAction(!1),dashboardId?(zgssearch.gscomponent.isDashboardHashingAllowed()&&dashboardId&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(dashboardId)&&(defaultdbId=dashboardId),zgssearch.gsdbUtils.dashboardDataObtained&&defaultdbId?zgssearch.gsdbhome.renderDashboardContent(defaultdbId):zgssearch.clickActionForDashboards("dashboard")):zgssearch.gsdbhome.openDashboardListContent()}}function dashboardEdit(){this.get=function(){var defaultdbId,dashboardId=zgssearch.dashboard.Hash.getDBIdFromURL();zgssearch.isIE?(zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.dashboard.no_edit_info_IE")}),zgssearch.gshistory.pushDashboardsState("/dashboards/"+dashboardId,"#"+zgssearch.dashboard.Hash.home)):(defaultdbId="",zgssearch.gscomponent.isDashboardHashingAllowed()&&dashboardId&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(dashboardId)?zgssearch.gsaddcards.addCardPopup(dashboardId):(defaultdbId=zgssearch.gsdbUtils.defaultDashboardId||zgssearch.gsdbUtils.listOfDashboards[0],zgssearch.gshistory.pushDashboardsState("/dashboards/"+defaultdbId,"#"+zgssearch.dashboard.Hash.home),zgssearch.dashboard.Hash.render()))}}function cardsHome(){this.get=function(){var cardHashPreview,cardId=zgssearch.cardHash.getcardIdFromURL();cardId?(cardHashPreview=zgssearch.gscards.getcardTypeWithId(cardId),"block"==_jQueryGS("#zgs20_gsCreateCardPage").css("display")&&zgssearch.gscreatecards.closeCreateCard(),zgssearch.gscards.getCardsInfo(cardId,cardHashPreview,zgssearch.gscards.loadCardsPreview)):(cardHashPreview=(cardHashPreview=zgssearch.cardHash.pageView)&&"preview"!==cardHashPreview?cardHashPreview:"allCards",zgssearch.gscardUtils.isCardPageOpened()?zgssearch.gscards.renderSpecificCardSection(cardHashPreview):zgssearch.openCards("allCards"),zgssearch.cardHash.pageView="")}}function cardsEdit(){this.get=function(){var cardId=zgssearch.cardHash.getcardIdFromURL(),currentType=zgssearch.gscards.getcardTypeWithId(cardId);currentType?zgssearch.gscards.cardsEditbasedUpohashChange(cardId,currentType):zgssearch.gscards.getCardsInfo(cardId,currentType,zgssearch.gscards.cardsEditbasedUpohashChange)}}function cardsCreate(){this.get=function(){zgssearch.gscreatecards.createCardPage("createCard",zgssearch.SAVED_RESULT_CARD)}}zgssearch.gsusersettings=zgssearch.gsusersettings||{},zgssearch.gsusersettings.openSettingsMenuOptions=function(){_jQueryGS("#zgs20_gsQueryBoxHolder").append(_jQueryGS("<div>",{id:"zgs20_gsMenuOptionHolder"}))},zgssearch.gsusersettings.getTempSortableListOfServices=function(){return zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.getSortableListOfServices=function(){return zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.storeServicesListInfo=function(servicesList){zgssearch.gsusersettings.servicesArrayList=servicesList&&0<servicesList.length?servicesList:[]},zgssearch.gsusersettings.getServicesListInfo=function(){var servicesArrayListLen=zgssearch.gsusersettings.hasOwnProperty("servicesArrayList")?zgssearch.gsusersettings.servicesArrayList.length:0;return zgssearch.gsusersettings.servicesArrayList=0<servicesArrayListLen?zgssearch.gsusersettings.servicesArrayList:zgssearch.getAccessibleServiceList(),zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.updateReorderActions=function(action){"cancelSerOrder"!==action&&"saveSerOrder"!==action&&(_jQueryGS("#zgs20_gsSearchResultMiddle").hide(),_jQueryGS("#zgs20_gsSearchResultRight").hide()),"saveSerOrder"===action?zgssearch.gsusersettings.isSettingsOpened?zgssearch.gsusersettings.updateServiceOrder(!0):zgssearch.gsusersettings.updateServiceOrderWithoutSettings(!0):"cancelSerOrder"===action&&(zgssearch.gsusersettings.cancelServiceReOrder(),zgssearch.hideServiceOrderOverlay())},zgssearch.gsusersettings.updateServiceOrderWithoutSettings=function(isAllDataCalled){var tempSortedData=zgssearch.gsusersettings.getTempSortableListOfServices(),params="action=updateservicereorder&appsorder="+JSON.stringify(tempSortedData),postUserSettingsDataURL=zgssearch.postUserSettingsDataURL;zgssearch.uri(zgssearch.POST,postUserSettingsDataURL,params,"",function(data,status,xhr){if("1008"===zgssearch.jsonParse(data).status){zgssearch.gsusersettings.saveServiceReOrder(),zgssearch.setConstAllServList(tempSortedData),zgssearch.hideServiceOrderOverlay();var sortedData=zgssearch.gsusersettings.getSortableListOfServices(),length=sortedData.length;zgssearch.orderedServiceList=[GSConstant.ALL];for(var ol=0;ol<length;ol++){var oservice=sortedData[ol];zgssearch.orderedServiceList.push(oservice)}zgssearch.gsusersettings.storeServicesListInfo(sortedData),zgssearch.renderServiceList(),zgssearch.gsusersettings.SERVICE_MODIFIED=!1,zgssearch.changeBgcolorForLHS(),isAllDataCalled&&zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.settings.order.success")}),_jQueryGS("#zgs20_gsServiceSave").addClass("zgs19_gsHideEleme")}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.settings.order.failure")})})},zgssearch.gsusersettings.saveServiceReOrder=function(){zgssearch.gsusersettings.servicesArrayList=zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.cancelServiceReOrder=function(){zgssearch.gsusersettings.tempServicesArrayList=[]},zgssearch.gsusersettings.updateTempSortableListOfServices=function(sortedServicesList){0<sortedServicesList.length&&(zgssearch.gsusersettings.tempServicesArrayList=sortedServicesList)},zgssearch.gsusersettings.changeUrlBeforeSettingsClose=function(){var previousState;1===zgssearch.gscomponent.UIType&&((!(previousState=history.state.previousState)||zgssearch.isMobViewport()||zgssearch.gsusersettings.selectedServiceBeforeSettings==zgssearch.GSConstant.ALL&&"zsearch"==previousState.id)&&(previousState={id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"}),history.pushState(previousState,previousState.title,previousState.url))},zgssearch.gssettingsapptab=zgssearch.gssettingsapptab||{},zgssearch.gssettingsapptab.assignServiceListBeforeReorder=function(){var servList;null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(servList=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(servList)),null!=zgssearch.gssettingsapptab.enabledServicesList&&0!=zgssearch.gssettingsapptab.enabledServicesList.length||(zgssearch.gssettingsapptab.enabledServicesList=zgssearch.getEnabledServListFromWidget())},zgssearch.gssettingsapptab.displayServicesReOrderingOverlay=function(){var mList,ulRes,sty,serList;zgssearch.isSettingsEnabled&&(zgssearch.seletedLeftPanelDivision="reorder",0<zgssearch.gsusersettings.servicesArrayList.length&&(mList=zgssearch.getMappedServiceList(),ulRes=_jQueryGS("<ul>",{class:"zgs19_gsTabCont zgs19_dragger zgs19_gsTabContService",id:"zgs20_ulservices"}),sty=0===zgssearch.gscomponent.UIType?"max-width:80px;":"",_jQueryGS.each(zgssearch.gsusersettings.servicesArrayList,function(index,value){var enabledClass=zgssearch.isArrayContain(value,zgssearch.gssettingsapptab.enabledServicesList)?"zgs19_serReorderEnblName":"zgs19_serReorderDisbName",liRes=mList[value],liRes=_jQueryGS("<li>",{id:value}).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsServiceEle zgs19_gsDragCursor zgs19_gsDummyHoverServices"}).append(_jQueryGS("<div>",{class:"zgs10_gsSerFullWid"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsServiceDrag zgs19_gsResultsUniIcons"})).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsFS13 "+enabledClass,id:"servicetext",ser:value,style:sty}).text(liRes.displayName))).append(_jQueryGS("<div>",{class:"zgs19_gsSSDummyServiceM2T",gs:"serviceM2T",dt:"services"})));_jQueryGS(ulRes).append(_jQueryGS(liRes))}),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS("#zgs20_gsHolder").append(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderDialog"}).html(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderOverlay zgs19_gsSSDialogPos",gs:"gsSerOrderoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsServiceReOrdering",class:"zgs19_gsSerOverlayLayer zgs19_gsServiceOrderOverlayLayer"}).append(_jQueryGS("<div>",{id:"zgs20_gsServicesListOrder",class:"zgs19_gsSetReorderAppsList zgs19_gsZSTabOrg"}).append(ulRes)).append(_jQueryGS("<div>",{class:"zgs19_gsServiceSaveNew zgs19_gsPdLt10Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel",gs:"reorderfields",gstitle:zgssearch.getI18NMsg("common.cancel"),datatype:"cancelSerOrder"}).text(zgssearch.getI18NMsg("common.cancel"))).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsHideEleme",gs:"reorderfields",gstitle:zgssearch.getI18NMsg("gs.settings.application.save"),datatype:"saveSerOrder"}).text(zgssearch.getI18NMsg("gs.settings.application.save")))))),zgssearch.isLeftDivisonPanelHidden&&_jQueryGS(".zgs19_gsSerOverlayLayer").css("left","50px"),1===zgssearch.gscomponent.UIType&&_jQueryGS("#zgs20_gsServiceReOrdering").addClass("zgs19_gsBiggerSOLayer"),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:_jQueryGS("#zgs20_gsSearchResultsArea").height()+"px"}),zgssearch.isServiceOverlayOpened=!0,zgssearch.gssettingsapptab.attachHoverEventForReorder(),serList=_jQueryGS("#zgs20_gsServListHolder").height(),_jQueryGS("#zgs20_gsServicesListOrder").css({height:serList+"px","border-bottom":"1px solid #ddd;"}),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:serList+_jQueryGS("#zgs20_gsSettingsHolder").outerHeight()+"px"}),zgssearch.gssettingsapptab.sortableOptionsForServices("zgs20_gsServiceReOrdering")))},zgssearch.gssettingsapptab.attachHoverEventForReorder=function(){_jQueryGS(".zgs19_gsDummyHoverServices").off().on({mouseenter:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(0,this)},mouseleave:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(1,this)}})},zgssearch.gssettingsapptab.sortableOptionsForServices=function(orderId){var mBody=_jQueryGSUI("#zgs20_gsHolder").find("#"+orderId);mBody.find(".zgs19_dragger").sortable({placeholder:"zgs19_gsMoverHolder",start:function(del){del=_jQueryGS(del.item),del=_jQueryGS(del).find(".zgs19_gsSSDummyServiceM2T").get();_jQueryGS(del).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},update:function(){var tempList=[];mBody.find(".zgs19_dragger").children().each(function(ind,ser){ser=_jQueryGS(ser).attr("id");tempList.push(ser)}),zgssearch.gsusersettings.updateTempSortableListOfServices(tempList),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS("#zgs20_ulservices>li:first").find(".zgs18_gsMoveToTopIcon").removeClass("zgs18_gsMoveToTopIcon"),_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme")}}).disableSelection()},zgssearch.gssettingsapptab.actionForTopMoveIcon=function(type,dummyPin){_jQueryGS(dummyPin).parent("li").attr("id")!==_jQueryGS("#zgs20_gsServicesListOrder>ul>li:first-child").attr("id")&&(dummyPin=_jQueryGS(dummyPin).find(".zgs19_gsSSDummyServiceM2T"),0===type?_jQueryGS(dummyPin).addClass("zgs19_gsfr zgs18_gsMoveToTopIcon zgs19_gsCurPointer").attr("title",zgssearch.I18N.getValue("gs.settings.reorder.top.title")).show():1===type&&_jQueryGS(dummyPin).addClass("zgs19_gsSSDummyServiceM2T").removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer").hide())},zgssearch.gssettingsapptab.removeMoveToTopIcon=function(dummyPin,className){dummyPin=_jQueryGS(dummyPin).closest("."+className);_jQueryGS(dummyPin).addClass(className).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},zgssearch.gssettingsapptab.moveToTopForServices=function(parEle){var moveUp,moveDown=_jQueryGS(parEle).parents("li"),clicked=_jQueryGS(moveDown),previousAll=_jQueryGS(moveDown).prevAll();0<previousAll.length&&(moveUp=_jQueryGS(previousAll[previousAll.length-1]),moveDown=_jQueryGS(previousAll[0]),moveUp=clicked.offset().top-moveUp.offset().top,moveDown=clicked.offset().top+clicked.outerHeight()-(moveDown.offset().top+moveDown.outerHeight()),zgssearch.gssettingsapptab.removeMoveToTopIcon(parEle,"zgs19_gsDummyHoverServices"),clicked.css("position","relative"),previousAll.css("position","relative"),parEle=_jQueryGS(parEle).parents(".zgs19_gsDummyHoverServices"),clicked.animate({top:-moveUp},1e3),previousAll.animate({top:moveDown},1e3,function(){clicked.parent().prepend(clicked),clicked.css({position:"static",top:0}),previousAll.css({position:"static",top:0})}),_jQueryGS(".zgs19_gsTabContService").scrollTop(0),zgssearch.gssettingsapptab.animateWithHighlightForServices(parEle))},zgssearch.gssettingsapptab.animateWithHighlightForServices=function(parEle){_jQueryGSUI(parEle).effect("highlight",{"background-color":"#000000",opacity:"0.5"},2e3,function(){_jQueryGS(parEle).css({opacity:"1.0"}).fadeIn(1e3),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsServicesListOrder").scrollTop(0),zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop("zgs20_ulservices")})},zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop=function(orderId){for(var accIdOrder=[],serviceFullObj=_jQueryGS("#zgs20_gsServicesListOrder").find("#"+orderId+">li").get(),len=serviceFullObj.length,i=0;i<len;i++){var id=serviceFullObj[i],id=_jQueryGS(id).attr("id");id&&accIdOrder.push(id)}zgssearch.gsusersettings.updateTempSortableListOfServices(accIdOrder)},zgssearch.gssettingsapptab.animateWithChangeInBG=function(parEle){_jQueryGS(parEle).animate({"background-color":"#000000",opacity:"0.5"},1e3,function(){setTimeout(function(){_jQueryGS(parEle).css({opacity:"1.0"}).fadeIn(2e3)},1e3)})},zgssearch.Utils.obtainPageOpenBtn=function(menuEl,resObj,paramsObj){var service=(paramsObj=paramsObj||{}).service||GSConstant.ORGRESOURCES,txt=paramsObj.text||zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page"),connectorprev=paramsObj.btnTxt||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page");paramsObj=paramsObj||{};connectorprev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(txt)).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"connPage",service:service,style:"margin-top: 10px"}).append(_jQueryGS("<div>",{style:"margin-right:5px"}).text(connectorprev)).append(_jQueryGS("<div>",{style:"float:left;max-width:200px;"})));_jQueryGS("#zgs20_gsconnectorprevLoader").remove(),service===GSConstant.DROPBOX||service===GSConstant.GOOGLEDRIVE||service===GSConstant.BOX||service===GSConstant.ONEDRIVE?(_jQueryGS("#zgs20_gsdocsprevLoader").remove(),_jQueryGS("#zgs20_gscoutLoadHolder").remove(),_jQueryGS(menuEl.docspreviewHolder).html(connectorprev),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")):service===GSConstant.SLACK?(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl.slackpreviewHolder).html(connectorprev)):_jQueryGS(menuEl.connectorpreviewHolder).html(connectorprev),zgssearch.setGSTagElems(menuEl),resObj.url||resObj.webUrl||_jQueryGS(menuEl.connPage).css("display","none"),zgssearch.gsconnector.setPreviewBtnPosition(menuEl)},zgssearch.Utils.clearAllModResInfo=function(){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={}},zgssearch.Utils.clearServiceModResInfo=function(service_name){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=[]},zgssearch.Utils.setServiceModInfo=function(service_name,mod_info){var mod_data=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]||[];mod_data.push(mod_info),zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=mod_data},zgssearch.Utils.setServiceModResultsWidth=function(service_name){for(var mod_data=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]||[],mod_length=mod_data.length,mod=0;mod<mod_length;mod++)zgssearch.Utils.setResultsWidth(mod_data[mod]);zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=[]},zgssearch.Utils.setResultsWidthInfo=function(service_name,account_id,service_info){null!=account_id?(zgssearch.Utils.RESULTS_WIDTH[service_name]={},zgssearch.Utils.RESULTS_WIDTH[service_name][account_id]=service_info):zgssearch.Utils.RESULTS_WIDTH[service_name]=service_info},zgssearch.Utils.getResultsWidthInfo=function(service_name,account_id){return null!=account_id?zgssearch.Utils.RESULTS_WIDTH[service_name]&&zgssearch.Utils.RESULTS_WIDTH[service_name][account_id]||{}:zgssearch.Utils.RESULTS_WIDTH[service_name]||{}},zgssearch.Utils.setResultsWidth=function(service_info){var div_id,service_name=service_info.service_name,account_id=service_info.account_id,results_parent_id=service_info.results_parent_id,results_area_width=service_info.total_results_area_width,is_cursor_need=void 0===service_info.is_cursor_need||service_info.is_cursor_need,prev_last_element_id=(service_info=zgssearch.Utils.getResultsWidthInfo(service_name,account_id)).current_last_elem_id||"",current_last_elem_id="",results_area_rem_width=results_area_width-50-15,second_row_remaining_width=Math.floor(results_area_rem_width/100*90),elem_widths_obj={};for(div_id in(""===prev_last_element_id?_jQueryGS("#"+results_parent_id+" >div"):_jQueryGS("#"+results_parent_id).find("#"+prev_last_element_id).first().nextAll()).each(function(index){var header1_elem_width,header2_elem_width,elements_width,div_id=_jQueryGS(this).attr("id"),footer1_elem_width=_jQueryGS(this).find(".zgs19_gsCRMResultTitleNew"),footer2_elem_width=footer1_elem_width.length;0<footer2_elem_width&&(header1_elem_width=0<footer2_elem_width?_jQueryGS(_jQueryGS(footer1_elem_width)[0]).outerWidth()+15:0,0===(header2_elem_width=1<footer2_elem_width?_jQueryGS(_jQueryGS(footer1_elem_width)[1]).outerWidth()+15:0)?header1_elem_width=results_area_rem_width:header2_elem_width=results_area_rem_width<=header1_elem_width?(header1_elem_width=results_area_rem_width,0):results_area_rem_width-header1_elem_width,footer1_elem_width=0<(footer2_elem_width=(elements_width=_jQueryGS(this).find(".zgs19_gsCRMResultField")).length)?_jQueryGS(_jQueryGS(elements_width)[0]).outerWidth()+15:0,footer2_elem_width=1<footer2_elem_width?_jQueryGS(_jQueryGS(elements_width)[1]).outerWidth()+15:0,0===(footer2_elem_width=footer1_elem_width<second_row_remaining_width?second_row_remaining_width-footer1_elem_width:0)?footer1_elem_width=second_row_remaining_width:footer2_elem_width=second_row_remaining_width<=footer1_elem_width?(footer1_elem_width=second_row_remaining_width,0):second_row_remaining_width-footer1_elem_width,(elements_width=[]).push(header1_elem_width),elements_width.push(header2_elem_width),elements_width.push(footer1_elem_width),elements_width.push(footer2_elem_width),elem_widths_obj[div_id]=elements_width,current_last_elem_id=div_id)}),elem_widths_obj){var footer_elements_length=_jQueryGS("#"+div_id),elements_width=elem_widths_obj[div_id],footer_elements=footer_elements_length.find(".zgs19_gsCRMResultTitleNew"),header_elements_length=footer_elements.length;0<header_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[0]+"px"),1<header_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[1]+"px"));footer_elements=footer_elements_length.find(".zgs19_gsCRMResultField"),footer_elements_length=footer_elements.length;0<footer_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[2]+"px"),1<footer_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[3]+"px"))}is_cursor_need&&((service_info={}).results_area_width=results_area_width,service_info.results_icon_width=50,service_info.prev_last_element_id=prev_last_element_id,service_info.current_last_elem_id=current_last_elem_id,zgssearch.Utils.setResultsWidthInfo(service_name,account_id,service_info))},zgssearch.Utils.getResultObjectofType=function(card,cardId){card=card||(zgssearch.gsdbUtils.isDashboardOpened()?zgssearch.dbCrdCalloutType:zgssearch.gscardUtils.isCardPageOpened()?zgssearch.crdPagecalloutType:"search");if(card!==zgssearch.dbCrdCalloutType&&card!==zgssearch.crdPagecalloutType)return zgssearch.getCurrentResObj();if(!cardId&&!_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)){card=zgssearch.gsaction.currSearchType.getCurrentCard();if(_jQueryGS(card).attr("cardid")==cardId)return zgssearch.gsaction.currSearchType.getCurrentResultObj()}return zgssearch.gscardsresult.getCardCurrentResObj(cardId)},zgssearch.Utils.removePageLoader=function(pageLoaderTag){_jQueryGS(pageLoaderTag).remove()},zgssearch.Utils.isArrayContainsObject=function(object,array,key){var isContains=!1;return _jQueryGS.each(array,function(index,val){object[key]===val[key]&&(isContains=!0)}),isContains},zgssearch.Utils.objectEntries=function(initObj){return"function"!=typeof Object.entries&&(Object.entries=function(obj){for(var ownProps=Object.keys(obj),i=ownProps.length,resArray=new Array(i);i--;)resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray}),Object.entries(initObj)},zgssearch.Utils.fromEntries=function(entries){return"function"!=typeof Object.fromEntries&&(Object.fromEntries=function(entries){for(var res={},i=0;i<entries.length;i++)res[entries[i][0]]=entries[i][1];return res}),Object.fromEntries(entries)},zgssearch.Utils.getServiceRelatedInfo=function(service){var serviceObj={};switch(service){case GSConstant.PERSONALCONTACTS:case GSConstant.ORGCONTACTS:serviceObj={dbCardColor:"zgs19_gsFeF2F2Color"};break;case GSConstant.PEOPLE:serviceObj={dbCardColor:"zgs19_gsEBF7F0Color"};break;case GSConstant.CLIQ:case GSConstant.CHAT:case GSConstant.MAILS:case GSConstant.DOCUMENTS:case GSConstant.CALENDAR:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color"};break;case GSConstant.CONNECT:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color"};break;case GSConstant.WIKI:case GSConstant.CREATOR:case GSConstant.WORKDRIVE:case GSConstant.CRM:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.ORGRESOURCES:case GSConstant.WEBSITE:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color"};break;case GSConstant.REPORTS:case GSConstant.CAMPAIGNS:serviceObj={dbCardColor:"zgs19_gsFeF2F2Color"};break;case GSConstant.NOTEBOOK:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color"};break;case GSConstant.SUPPORT:case GSConstant.BIGIN:serviceObj={dbCardColor:"zgs19_gsEBF7F0Color"};break;case GSConstant.PROJECTS:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color"};break;case GSConstant.GOOGLEDRIVE:case GSConstant.ONEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.SALESFORCE:case GSConstant.O365MAIL:case GSConstant.ASANA:case GSConstant.SLACK:case GSConstant.EVERNOTE:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color"}}return serviceObj},zgssearch.workspaceRelatedFilters=["projects","tags"],zgssearch.gsprojects={},zgssearch.gsprojects.portalTimezone={},zgssearch.gsprojects.portalTzOffset={},zgssearch.gsprojects.portalTzOffsetStr={},zgssearch.gsprojects.projects="projects",zgssearch.gsprojects.modules="modules",zgssearch.gsprojects.modChildFilters={3:["dueDate"],4:["modifiedTime"],5:["dueDate"],6:["dueDate"],7:["modifiedTime"]},zgssearch.gsprojects.childFilterModules=["3","5","6","7"],zgssearch.loadProjectsModChildFilter=function(service,currMod,currProj,portalId,callbackObj){var modFilters=zgssearch.gsprojects.modChildFilters[currMod];if(modFilters&&0<modFilters.length){var isCrd=callbackObj&&callbackObj.hasOwnProperty("cards")&&callbackObj.cards,eachModFil=modFilters[0];if(childFil=zgssearch.getFilterInfo(service,eachModFil,"data"),zgssearch.updateDynamicFilterDetails(service,childFil,eachModFil),-1!=zgssearch.Utils.indexOf(zgssearch.gsprojects.childFilterModules,currMod)){if(1<modFilters.length)if((childFil=zgssearch.getFilterInfo(service,modFilters[1],"data"))[projId=currProj+"_"+currMod]){if(isCrd)return;for(var fil=1;fil<modFilters.length;fil++){var eachModFil=modFilters[fil],childFil=zgssearch.getFilterInfo(service,eachModFil,"data");zgssearch.updateDynamicFilterDetails(service,childFil[projId],eachModFil)}return}var projId=currProj||zgssearch.getFilterInfo(service,zgssearch.gsprojects.projects,"current"),portalId=portalId||zgssearch.getFilterInfo(service,"accounts","current");zgssearch.gsprojects.setModFilters(currMod,modFilters,portalId,projId,callbackObj)}}},zgssearch.gsprojects.setModFilters=function(mod,childFil,portalId,projId,callbackObj){zgssearch.uri(zgssearch.GET,"/zgssearch/gsfilters","action=getprojectsmoduledata&module="+mod+"&portal_id="+portalId+"&project_id="+projId,{childFil:childFil,module:mod,projectId:projId,callbackObj:callbackObj},function(callbackObj,status,p1){var p2=zgssearch.jsonParse(callbackObj);if(p2&&!_jQueryGS.isEmptyObject(p2)&&p2.filters){var filter,argparams=p1.args,modFilters=p2.filters,callbackObj=argparams.callbackObj,service=zgssearch.GSConstant.PROJECTS,gffo=zgssearch.getFilterObj(service),curSelCardObj=callbackObj.hasOwnProperty("curSelCardObj")?callbackObj.curSelCardObj:"";for(filter in modFilters){var fmod=modFilters[filter],filterUnorderedData=fmod.data,filterData={};if(_jQueryGS.isEmptyObject(filterUnorderedData))return;for(var dispName,currFilId="0",order="0",filterOrder=fmod.filter_key_order,filIndex=0;filIndex<filterOrder.length;filIndex++){var filVal=filterUnorderedData[filKey=filterOrder[filIndex]];filterData[filKey]=filVal}1==Object.keys(filterData).length?(currFilId=order=Object.keys(filterData)[0],dispName=filterData[0]):filterData[0]=dispName=zgssearch.getI18NMsg("common.all")+" "+fmod.display_name;var wffodata={},filData={};filData[projId+"_"+argparams.module]=filterData;var oldData,filKey=fmod.key;zgssearch.Utils.indexOf(argparams.childFil,filKey)<0?zgssearch.gsprojects.modChildFilters[argparams.module].push(filKey):(wffodata=zgssearch.getFilterObj(service)[filKey]||{},_jQueryGS.isEmptyObject(wffodata)||((oldData=wffodata.data)[projId+"_"+argparams.module]=filterData,filData=oldData)),zgssearch.setFiltersDetails(wffodata,"title",fmod.display_name),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",order),zgssearch.setFiltersDetails(wffodata,"current",currFilId),zgssearch.setFiltersDetails(wffodata,"dispname",dispName),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(filterData).length),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"data",filData),zgssearch.setFiltersDetails(wffodata,"key",fmod.key),zgssearch.setFiltersDetails(wffodata,"parId",[argparams.module]),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(gffo,filKey,wffodata),curSelCardObj&&(curSelCardObj[filKey]=[order]),zgssearch.includes(filKey,gffo.order)||((order=gffo.order).splice(order.length-2,0,filKey),zgssearch.setFiltersDetails(gffo,"order",order))}curSelCardObj&&(zgssearch.gscreatecards.CCSelectedFiltersObj=curSelCardObj),callbackObj&&(p1=callbackObj.param1,p2=callbackObj.param2,callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,p2))}})},zgssearch.gsprojects.editCrdCallback=function(service,crdActionType){_jQueryGS("#zgs20_gsFiltersHolder").empty(),_jQueryGS("#zgs20_gsOtherFiltersHolder").empty();var cardConfig=zgssearch[zgssearch.cardTypeClass[zgssearch.gscreatecards.cardType]].cardIdsVsObject[zgssearch.gscreatecards.cardId].cardconfig;zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(crdActionType,service,cardConfig),zgssearch.gscreatecards.renderServiceFiltersForCreateOrEditCard(service,zgssearch.gscreatecards.filtersMetaInfo,cardConfig)},function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.ZSCRMSuiteAction=function(){var actionObj;this.createActionObj=function(service){switch(service){case zgssearch.GSConstant.CRM:actionObj=new zgssearch.CRMAction;break;case zgssearch.GSConstant.BIGIN:actionObj=new zgssearch.BiginAction}return actionObj.orgDetails={},actionObj.usersInfo={},actionObj.allUsers={},actionObj.modProf={},actionObj.usersInMod={},actionObj.modData={},actionObj.setOrgDetails=function(servObj){for(var org in this.orgDetails.domain={},servObj)this.setDomain(org,servObj[org].domain_name)},actionObj.setDomain=function(orgId,domain){this.orgDetails.domain[orgId]=domain},actionObj.getDomain=function(orgId){return this.orgDetails.domain[orgId]},actionObj.isUserExists=function(orgId){return 0<this.getUsersInfoObj(orgId).count},actionObj.setProfileForMod=function(crmModProfile,orgId){this.modProf[orgId]=crmModProfile},actionObj.getProfileForMod=function(mod,orgId){return this.modProf[orgId][mod].split(",")},actionObj.setModuleData=function(moduleData,orgId){this.modData[orgId]=moduleData},actionObj.getModuleData=function(module,orgId){return this.modData[orgId][module]},actionObj.getUsersInfo=function(orgId,extraInfo){var argParams,self,callback=extraInfo.callback||"",params=this.getUsersInfoObj(orgId);params.more_records&&params.count<1e3?(argParams={timeout:0,extraInfo:extraInfo},params="action="+this.getActionForUsers()+"&page="+params.page+"&orgId="+orgId,self=this,zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(usersObj,status,extraInfo){var callback=extraInfo.args||{},extraInfo=zgssearch.jsonParse(usersObj),usersObj=extraInfo.hasOwnProperty("info")?extraInfo.info:{};self.setUserInfo(usersObj,orgId),extraInfo.hasOwnProperty("users")&&(usersObj=extraInfo.users||{},self.setUserData(orgId,usersObj),(callback=(extraInfo=callback.extraInfo||{}).callback)&&callback(self.getServiceName(),usersObj,extraInfo))})):callback&&callback(this.getServiceName(),{},extraInfo)},actionObj.ownerssearch=function(ownerList,query){var matchedOwnerArr=[];if(ownerList&&0<Object.keys(ownerList).length){var id,dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&");for(id in ownerList){var ownerObj=ownerList[id],email=zgssearch.replaceHTMLEntity(ownerObj.full_name),emailReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");-1<email.search(emailReg)?matchedOwnerArr.push(ownerObj):(email=zgssearch.replaceHTMLEntity(ownerObj.email),emailReg=new RegExp(dn,"i"),-1<email.search(emailReg)&&matchedOwnerArr.push(ownerObj))}}return matchedOwnerArr},actionObj.fetchUsersInfo=function(argParams,orgId){var self,params=this.getUsersInfoObj(orgId);params.more_records&&params.count<1e3&&(argParams={timeout:0,curCount:zgssearch.gsusercontacts.getServerCallCount(),obj:argParams},params="action="+this.getActionForUsers()+"&page="+params.page+"&orgId="+orgId,self=this,zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(activeUsersRespObj,status,response){var argObj=response.args||{},response=zgssearch.jsonParse(activeUsersRespObj),activeUsersRespObj=response.hasOwnProperty("info")?response.info:{};self.setUserInfo(activeUsersRespObj,orgId),response.hasOwnProperty("users")&&(aObj=response.users||{},self.setUserData(orgId,aObj));var aObj=argObj.obj||{};aObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&self.renderInnerEditFieldsUI(aObj,orgId)}))},actionObj.renderInnerEditFieldsUI=function(acrmObj,err3){if(zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),this.isUserExists(err3)){var id,uniqueIds=[],ownerList=this.getUsersInMod(err3),curOwnerId=zgssearch.gsaction.currSearchType.getCurrentCRMOwner()||"";for(id in ownerList){var ownerObj=ownerList[id];if(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,acrmObj.type,"")),10<=uniqueIds.length)break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","block"),uniqueIds.length<1&&(_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(zgssearch.getI18NMsg("gs.bigin.no_users"))),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","none"),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","none")),zgssearch.gsaction.displayEditFieldsUI(acrmObj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gsaction.updateEditFieldsHeight(acrmObj.tarElem)}else{err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},actionObj.setUserData=function(orgId,userRespData){this.allUsers[orgId]||(this.allUsers[orgId]={}),_jQueryGS.extend(this.allUsers[orgId],userRespData)},actionObj.getUserData=function(orgId){return _jQueryGS.isEmptyObject(this.allUsers)?{}:this.allUsers[orgId]},actionObj.getUsersInfoObj=function(orgId){if(this.usersInfo[orgId]&&!_jQueryGS.isEmptyObject(this.usersInfo[orgId]))return this.usersInfo[orgId];this.usersInfo[orgId]={};return{count:0,page:1,more_records:!0}},actionObj.setUserInfo=function(userInfo,orgId){var oldUsersInfoObj=this.getUsersInfoObj(orgId);this.usersInfo[orgId].page=userInfo.page||1,this.usersInfo[orgId].more_records=userInfo.more_records||!1,this.usersInfo[orgId].count=oldUsersInfoObj.count+(userInfo.count||0)},actionObj.getUsersInMod=function(orgId){var mod=zgssearch.gsaction.currSearchType.getCurrentResultObj().mod,service=zgssearch.gsaction.currSearchType.getServiceName(),allUsers=this.getUserData(orgId);if(_jQueryGS.isEmptyObject(this.usersInMod)||_jQueryGS.isEmptyObject(this.usersInMod[orgId])||_jQueryGS.isEmptyObject(this.usersInMod[orgId][mod])){_jQueryGS.isEmptyObject(this.usersInMod[orgId])&&(this.usersInMod[orgId]={}),this.usersInMod[orgId][mod]={};var user,profilesInMod=zgssearch[service+"OrgInfo"].getProfileForMod(mod,orgId);for(user in allUsers)zgssearch.isArrayContain(allUsers[user].profile,profilesInMod)&&(this.usersInMod[orgId][mod][user]=allUsers[user])}return this.usersInMod[orgId][mod]},actionObj}},zgssearch.CRMAction=function(){this.usersInMod={},this.getActionForUsers=function(){return"fetchCRMUserInfo"},this.getServiceName=function(){return GSConstant.CRM}},zgssearch.BiginAction=function(){this.getActionForUsers=function(){return"fetchBiginUserInfo"},this.getServiceName=function(){return GSConstant.BIGIN}}}(zgssearch,window),zgssearch.dashboard={},zgssearch.dashboard.Hash=zgssearch.dashboard.Hash||{},zgssearch.isDashboardHashingAllowed=zgssearch.gscomponent.isDashboardHashingAllowed(),zgssearch.dashboard.Hash.home="Home",zgssearch.dashboard.Hash.edit="Edit",zgssearch.dashboard.Hash.tabs_set=[zgssearch.dashboard.Hash.home,zgssearch.dashboard.Hash.edit],zgssearch.dashboard.Hash.getPathFromURL=function(){return window.location.pathname},zgssearch.dashboard.Hash.getDBIdFromURL=function(){var path_data=zgssearch.dashboard.Hash.getPathFromURL().split("/");return 1<path_data.length?path_data[2]:""},zgssearch.dashboard.Hash.getFullHash=function(){return window.location.hash},zgssearch.dashboard.Hash.getCurrentHash=function(){return zgssearch.dashboard.Hash.getFullHash().split("#")[1]},zgssearch.dashboard.Hash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.dashboard.Hash.Change),zgssearch.dashboard.Hash.checkForEmpty()},zgssearch.dashboard.Hash.setDefaultHash=function(){zgssearch.includes("/dashboards",zgssearch.dashboard.Hash.getPathFromURL())&&(window.location.hash=zgssearch.dashboard.Hash.home)},zgssearch.dashboard.Hash.checkForEmpty=function(){""===window.location.hash&&zgssearch.dashboard.Hash.setDefaultHash()},zgssearch.dashboard.Hash.Change=function(){zgssearch.dashboard.Hash.validate(),zgssearch.dashboard.Hash.render()},zgssearch.dashboard.Hash.validate=function(){zgssearch.dashboard.Hash.checkForEmpty();var tab,hash_data=zgssearch.dashboard.Hash.getCurrentHash().split("/");1===hash_data.length?(tab=hash_data[0],-1<zgssearch.dashboard.Hash.tabs_set.indexOf(tab)||zgssearch.dashboard.Hash.setDefaultHash()):(hash_data[0],hash_data[1])},zgssearch.dashboard.Hash.render=function(){var hash_instance=zgssearch.dashboard.Hash.getCurrentHash(),hash_instance=(new zgssearch.dashboard.HashingFactory).createInstance(hash_instance);hash_instance&&hash_instance.get()},zgssearch.dashboard.HashingFactory=function(){var instance;this.createInstance=function(current_hash){switch(current_hash){case zgssearch.dashboard.Hash.home:instance=new dashboardHome;break;case zgssearch.dashboard.Hash.edit:instance=new dashboardEdit}return instance}},zgssearch.cardHash=zgssearch.cardHash||{},zgssearch.isDashboardHashingAllowed=zgssearch.gscomponent.isDashboardHashingAllowed(),zgssearch.cardHash.home="Home",zgssearch.cardHash.edit="Edit",zgssearch.cardHash.create="Create",zgssearch.cardHash.tabs_set=[zgssearch.cardHash.home,zgssearch.cardHash.edit,zgssearch.cardHash.create],zgssearch.cardHash.getPathFromURL=function(){return window.location.pathname},zgssearch.cardHash.getcardIdFromURL=function(){var path_data=zgssearch.cardHash.getPathFromURL().split("/");return 1<path_data.length?path_data[2]:""},zgssearch.cardHash.getFullHash=function(){return window.location.hash},zgssearch.cardHash.getCurrentHash=function(){return zgssearch.cardHash.getFullHash().split("#")[1]},zgssearch.cardHash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.cardHash.Change),zgssearch.cardHash.checkForEmpty()},zgssearch.cardHash.setDefaultHash=function(){zgssearch.includes("/cards",zgssearch.cardHash.getPathFromURL())&&(window.location.hash=zgssearch.cardHash.home)},zgssearch.cardHash.checkForEmpty=function(){""===window.location.hash&&zgssearch.cardHash.setDefaultHash()},zgssearch.cardHash.Change=function(){zgssearch.cardHash.validate(),zgssearch.cardHash.render()},zgssearch.cardHash.validate=function(){zgssearch.cardHash.checkForEmpty();var tab,hash_data=zgssearch.cardHash.getCurrentHash().split("/");1===hash_data.length?(tab=hash_data[0],-1<zgssearch.cardHash.tabs_set.indexOf(tab)||zgssearch.cardHash.setDefaultHash()):(hash_data[0],hash_data[1])},zgssearch.cardHash.render=function(){var hash_instance=zgssearch.cardHash.getCurrentHash(),hash_instance=(new zgssearch.cardHashingFactory).createInstance(hash_instance);hash_instance&&hash_instance.get()},zgssearch.cardHashingFactory=function(){var instance;this.createInstance=function(current_hash){switch(current_hash){case zgssearch.cardHash.home:instance=new cardsHome;break;case zgssearch.cardHash.edit:instance=new cardsEdit;break;case zgssearch.cardHash.create:instance=new cardsCreate}return instance}},zgssearch.CARD_TYPE="card",zgssearch.DASHBOARD_TYPE="dashboard",zgssearch.UPDATE_DASHBOARDS="/zgssearch/gsupdatedashboards",zgssearch.GET_EMBED_CARDS="/zgssearch/gsembedcards",zgssearch.UPDATE_EMBED_CARDS="/zgssearch/gsupdateembedcards",zgssearch.GET_PREVIEW_CARDS="/zgssearch/gspreviewcards",zgssearch.UPDATE_PREVIEW_CARDS="/zgssearch/gsupdatepreviewcards",zgssearch.SAVED_RESULT_CARD=0,zgssearch.SAVED_WIDGET_CARD=1,zgssearch.EMBED_CARD=2,zgssearch.SYSTEM_CARD=4,zgssearch.SYSTEM_WIDGET_CARD=5,zgssearch.PREVIEW_CARD=3,zgssearch.dbCrdCalloutType="dashboardCard",zgssearch.crdPagecalloutType="cardPageCallout",zgssearch.numericCardTypes=[zgssearch.SAVED_RESULT_CARD,zgssearch.SYSTEM_CARD],zgssearch.cardTypes={0:"Saved",3:"Preview",4:"System"},zgssearch.savedCardTypes={0:zgssearch.getI18NMsg("gs.cards.saved_result_card"),1:zgssearch.getI18NMsg("gs.cards.saved_numeric_card")},zgssearch.cardTypeTitle={0:zgssearch.getI18NMsg("gs.cards.saved_cards_title"),3:zgssearch.getI18NMsg("gs.cards.previewCards"),4:"System Cards"},zgssearch.cardTypeClass={0:"gssavedsearches",2:"gsembedcard",3:"gspreviewcard",4:"gssystemcard"},zgssearch.cardNameVsTypes={savedcards:"0",previewcards:"3",systemcards:"4"},zgssearch.cardAutoRefreshTime=18e4;GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.AUTOREF_SUPPORTED_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.CHAT,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.ORGRESOURCES],zgssearch.WIDGET_CARD_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.WEBSITE,GSConstant.ORGRESOURCES,GSConstant.PROJECTS],zgssearch.noOfCardsTobeFetched=zgssearch.noOfCardsTobeFetched||50,zgssearch.dashboardCount=zgssearch.dashboardCount||50,function(zgssearch){zgssearch.gscardUtils=zgssearch.gscardUtils||{},zgssearch.gssavedsearches=zgssearch.gssavedsearches||{},zgssearch.gssystemcard=zgssearch.gssystemcard||{},zgssearch.gsembedcard=zgssearch.gsembedcard||{},zgssearch.gspreviewcard=zgssearch.gspreviewcard||{},zgssearch.gscardUtils.cardIdsVsObject=zgssearch.gscardUtils.cardIdsVsObject||{},zgssearch.gscardUtils.zuidcardsinfo=zgssearch.gssavedsearches.zuidcardsinfo||{},zgssearch.gscardUtils.cardsCount=zgssearch.gscardUtils.cardsCount||100,zgssearch.gscardUtils.oldCardObjLen=zgssearch.gscardUtils.oldCardObjLen||0,zgssearch.gscardUtils.allCardIds=zgssearch.gscardUtils.allCardIds||[],zgssearch.isCardPageOpened=zgssearch.isCardPageOpened||!1,zgssearch.gscardUtils.constructGetCardParams=function(cardTypeArr,start,count,params,argparams){argparams={callback:argparams,start:start,count:count},params="start="+start+"&count="+count+"&cardtype="+encodeURIComponent(JSON.stringify(cardTypeArr))+"&sort="+params;zgssearch.gscardUtils.getAllCardsResponse(params,argparams)},zgssearch.gscardUtils.getCardsMeta=function(params){var argparams={callback:params,start:0,count:zgssearch.gscardUtils.cardsCount},params=Object.keys(zgssearch.cardTypes),params="start=0&count="+zgssearch.gscardUtils.cardsCount+"&cardtype="+encodeURIComponent(JSON.stringify(params))+"&resultanttype=1";zgssearch.gscardUtils.fetchCardsMeta(params,argparams)},zgssearch.gscardUtils.getAllCardsResponse=function(params,argparams){zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,"action=getallcards&"+params,argparams,function(callback,status,statusCode){zgssearch.gssavedsearches.isCardRespRecieved=!0;var response=zgssearch.jsonParse(callback),argparams=statusCode.args,callback=argparams.callback,totcardsLen=0;if(response.hasOwnProperty("status")){var cardClass,start,statusCode=response.status;if("1004"===statusCode){for(var eachCardTypeData in 0==start&&(zgssearch.gscardUtils.cardIdsVsObject={}),response)zgssearch.cardNameVsTypes.hasOwnProperty(eachCardTypeData)&&(cardClass=zgssearch.cardNameVsTypes[eachCardTypeData],cardClass=zgssearch.cardTypeClass[cardClass],0==(start=argparams.start)&&zgssearch.gscardUtils.clearCardsData(cardClass),eachCardTypeData=response[eachCardTypeData],zgssearch.storeCardsData(cardClass,eachCardTypeData,argparams),totcardsLen+=zgssearch[cardClass].totCardsLen);0==totcardsLen?callback("",argparams,zgssearch.getI18NMsg("gs.cards.no_card_saved")):callback(response,argparams,"")}else callback("",argparams,"3000"===statusCode?zgssearch.getI18NMsg("gs.cards.no_card_saved"):zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))}else callback("",argparams,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))})},zgssearch.gscardUtils.fetchCardsMeta=function(params,argparams){zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,"action=getcardsmeta&"+params,argparams,function(response,status,args){response=zgssearch.jsonParse(response),args=args.args;if(response.hasOwnProperty("status")&&"1004"===response.status){var i,cardsResp=response.cardsmeta;for(i in cardsResp){var eachCardResp=cardsResp[i];eachCardResp&&!_jQueryGS.isEmptyObject(eachCardResp)&&(zgssearch.gsautocomplete.cards[eachCardResp.id]=eachCardResp,zgssearch.gscardUtils.allCardIds.push(eachCardResp.id))}zgssearch.gscardUtils.allCardsFetched=Object.keys(cardsResp).length<100,args.callback&&args.callback()}})},zgssearch.storeCardsData=function(cardClass,responseData,no_of_cards){responseData.hasOwnProperty("zuidcardsinfo")&&(zgssearch.gscardUtils.zuidcardsinfo=_jQueryGS.extend({},zgssearch.gscardUtils.zuidcardsinfo,responseData.zuidcardsinfo));var cardData=responseData.data;zgssearch[cardClass].cardData=_jQueryGS.extend([],zgssearch[cardClass].cardData,cardData);for(var eachCardLen=cardData.length,i=0;i<eachCardLen;i++){var data=cardData[i];zgssearch.storeCardDetails(data,cardClass)}no_of_cards=no_of_cards.count;zgssearch[cardClass].isMoreResults=!(0<no_of_cards-eachCardLen),zgssearch[cardClass].totCardsLen=eachCardLen},zgssearch.storeCardDetails=function(data,cardClass){var cardId=data.cardid||data.embeddablecardid,ssName=data.cardname||data.name;zgssearch[cardClass].cardIdsVsObject[cardId]=data,zgssearch[cardClass].cardIdVsNames[cardId]=ssName,zgssearch[cardClass].cardIdArr.push(cardId),zgssearch[cardClass].cardNames.push(ssName),zgssearch.gscardUtils.cardIdsVsObject[cardId]=data},zgssearch.gscardUtils.clearCardsData=function(cardClass){zgssearch[cardClass].cardIdsVsObject={},zgssearch[cardClass].cardIdVsNames={},zgssearch[cardClass].cardIdArr=[],zgssearch[cardClass].cardNames=[],zgssearch.gscardUtils.zuidcardsinfo={}},zgssearch.initialiseCardData=function(){for(var cardClass in zgssearch.cardTypes){cardClass=zgssearch.cardTypeClass[cardClass];zgssearch[cardClass].cardIdsVsObject=zgssearch[cardClass].cardIdsVsObject||{},zgssearch[cardClass].cardIdVsNames=zgssearch[cardClass].cardIdVsNames||{},zgssearch[cardClass].cardIdArr=zgssearch[cardClass].cardIdArr||[],zgssearch[cardClass].cardNames=zgssearch[cardClass].cardNames||[]}},zgssearch.gscardUtils.isCardPageOpened=function(){return zgssearch.hasOwnProperty("gscards")&&zgssearch.isCardPageOpened},zgssearch.gscardUtils.deleteAutoSuggOfCard=function(cardId){var cardIndex=zgssearch.Utils.indexOf(zgssearch.gscardUtils.allCardIds,cardId);-1<cardIndex&&zgssearch.gscardUtils.allCardIds.splice(cardIndex,1),zgssearch.gsautocomplete.cards.hasOwnProperty(cardId)&&delete zgssearch.gsautocomplete.cards[cardId]},zgssearch.gscardUtils.addCrdAutoSugg=function(cardId,argParams){zgssearch.gsautocomplete.cards[cardId]={cardtype:argParams.cardType||zgssearch.SAVED_RESULT_CARD,id:cardId,name:argParams.name||argParams.reName,service:argParams.service},zgssearch.gscardUtils.allCardIds.push(cardId)},zgssearch.gscardUtils.updateCrdAutoSugg=function(argParams){var cardId=argParams.cardId;zgssearch.gsautocomplete.cards.hasOwnProperty(cardId)?zgssearch.gsautocomplete.cards[cardId].name=argParams.reName:zgssearch.gscardUtils.addCrdAutoSugg(cardId,argParams)},zgssearch.initialiseCardData()}(zgssearch,window),function(zgssearch){zgssearch.gsdbUtils=zgssearch.gsdbUtils||{},zgssearch.gsdbUtils.dashboardDataObtained=!1,zgssearch.gsdbUtils.defaultDashboardId=zgssearch.gsdbUtils.defaultDashboardId||"",zgssearch.gsdbUtils.listOfDashboards=zgssearch.gsdbUtils.listOfDashboards||[],zgssearch.gsdbUtils.dashboardMeta=zgssearch.gsdbUtils.dashboardMeta||{},zgssearch.gsdbUtils.dashboardsData=zgssearch.gsdbUtils.dashboardsData||{},zgssearch.gsdbUtils.listOfCardsInaDashboard=zgssearch.gsdbUtils.listOfCardsInaDashboard||{},zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard=zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard||{},zgssearch.gsdbUtils.cardsData=zgssearch.gsdbUtils.cardsData||[],zgssearch.gsdbUtils.cardsDetailsinDb=zgssearch.gsdbUtils.cardsDetailsinDb||{},zgssearch.gsdbUtils.cardIdsVsObject=zgssearch.gsdbUtils.cardIdsVsObject||{},zgssearch.gsdbUtils.cardsObjInDB=zgssearch.gsdbUtils.cardsObjInDB||{},zgssearch.gsdbUtils.dbCardIdObjInDB=zgssearch.gsdbUtils.dbCardIdObjInDB||{},zgssearch.gsdbUtils.oldDbObjLen=zgssearch.gsdbUtils.oldDbObjLen||0,zgssearch.isDashboardOpened=zgssearch.isDashboardOpened||!1,zgssearch.gsdbUtils.getDashboardMeta=function(params,argparams){var sortParam=argparams.hasOwnProperty("sort")?"&sort="+argparams.sort:"";zgssearch.uri(zgssearch.GET,zgssearch.GET_DASHBOARDS,"action=getdashboardmeta&"+params+sortParam,argparams,function(data,status,response){var argParams=response.args||argparams,msg="",responseData="";if(data){response=zgssearch.jsonParse(data);if(zgssearch.gsdbUtils.listOfDashboards=[],response.hasOwnProperty("status")&&"1014"===response.status){var responseLength=(responseData=zgssearch.jsonParse(response.dashboards)).length;if(zgssearch.gsdbUtils.allDBFetched=responseLength<zgssearch.dashboardCount,0<responseLength)for(var i=0;i<responseLength;i++){var dashboardId=(data=responseData[i]).dashboardid;zgssearch.gsdbUtils.listOfDashboards.push(dashboardId),zgssearch.gsdbUtils.dashboardMeta[dashboardId]=data,zgssearch.gsautocomplete.dashboard[dashboardId]=data.name}}else msg=zgssearch.getI18NMsg("gs.dashboard.getdashboard_error")}else msg=zgssearch.getI18NMsg("gs.dashboard.getdashboard_error");argParams.hasOwnProperty("callback")&&argparams.callback(msg)})},zgssearch.gsdbUtils.getDashboardData=function(argparams){var sortParam=argparams.hasOwnProperty("sort")?"&sort="+argparams.sort:"";zgssearch.uri(zgssearch.GET,zgssearch.GET_DASHBOARDS,"action=getdashboards"+sortParam,argparams,function(data,status,response){var argParams=response.args||argparams,msg="";if(data){response=zgssearch.jsonParse(data);if(zgssearch.Utils.removePageLoader("#zgs20_gsSettingsPageLoader"),zgssearch.gsdbUtils.clearDashboardDetails(),response.hasOwnProperty("status"))if("1014"===(status=response.status)){zgssearch.gsdbUtils.dashboardDataObtained=!0;var responseData=zgssearch.jsonParse(response.dashboards),responseLength=responseData.length;if(0<responseLength)for(var i=0;i<responseLength;i++){var dashboardId=(data=responseData[i]).dashboardid;zgssearch.gsdbUtils.storeDashboardDetails(dashboardId,data),zgssearch.gsdbUtils.listOfDashboards.push(dashboardId)}}else msg="3000"===status?"":zgssearch.getI18NMsg("gs.dashboard.getdashboard_error");else msg=zgssearch.getI18NMsg("gs.dashboard.getdashboard_error")}else msg=zgssearch.getI18NMsg("gs.dashboard.getdashboard_error");argParams.hasOwnProperty("callback")&&argparams.callback(argparams.viewName,msg)})},zgssearch.gsdbUtils.storeDashboardDetails=function(dashboardId,data){data.isDefault&&(zgssearch.gsdbUtils.defaultDashboardId=dashboardId);var cardsData=data.dashboarditems;zgssearch.gsdbUtils.dashboardsData[dashboardId]=data,zgssearch.gsdbUtils.cardsDetailsinDb[dashboardId]=cardsData;var cardIdsList=[],dbCardIdsList=[],cardsObj={},dbCardIdObj={};zgssearch.gsdbUtils.listOfCardsInaDashboard[dashboardId]=[],zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard[dashboardId]=[];for(var j=0;j<cardsData.length;j++){var eachCardData=cardsData[j],cardId=eachCardData.viewid,cardType=eachCardData.type,dbCardId=zgssearch.gsdbUtils.getDbCardId(eachCardData);cardIdsList.push(cardId),dbCardIdsList.push(dbCardId),zgssearch.gsdbUtils.storeCardDetails(eachCardData,cardId),cardsObj[cardId]=eachCardData,dbCardIdObj[dbCardId]={name:eachCardData.name,height:eachCardData.height,width:eachCardData.width,xpos:eachCardData.xpos,ypos:eachCardData.ypos,cardType:cardType,cardId:cardId}}zgssearch.gsdbUtils.dbCardIdObjInDB[dashboardId]=dbCardIdObj,zgssearch.gsdbUtils.cardsObjInDB[dashboardId]=cardsObj,zgssearch.gsdbUtils.listOfCardsInaDashboard[dashboardId]=cardIdsList,zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard[dashboardId]=dbCardIdsList},zgssearch.gsdbUtils.storeCardDetails=function(cardClass,cardId){var cardDetails=cardClass.viewdetails;cardDetails&&(zgssearch.gsdbUtils.cardIdsVsObject[cardId]=cardDetails).hasOwnProperty("cardtype")&&(cardClass=cardDetails.cardtype,cardClass=zgssearch.cardTypeClass[cardClass],zgssearch[cardClass].cardIdsVsObject[cardId]=cardDetails)},zgssearch.gsdbUtils.clearDashboardDetails=function(){zgssearch.gsdbUtils.listOfDashboards=[],zgssearch.gsdbUtils.listOfCardsInaDashboard={},zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard={},zgssearch.gsdbUtils.cardsData=[],zgssearch.gsdbUtils.dashboardsData={},zgssearch.gsdbUtils.cardsDetailsinDb={},zgssearch.gsdbUtils.cardIdsVsObject={}},zgssearch.gsdbUtils.getDbCardId=function(eachCardData){return eachCardData.viewid+"_"+eachCardData.type},zgssearch.gsdbUtils.isDashboardOpened=function(){return zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.isDashboardOpened}}(zgssearch,window),function(zgssearch,window){zgssearch.gsanalytics=function(gsanalytics){(gsanalytics=zgssearch.gsanalytics||{}).analyticsData=[];var _jQueryGS=window._jQueryGS;return gsanalytics.clickedServicePaneList=[],gsanalytics.init=function(){for(var events=["click","keypress"],length=events.length,i=0;i<length;i++)window.addEventListener(events[i],gsanalytics.sendStatsData)},gsanalytics.constructObj=function(event,label){return{t:event?event.type:"",l:label}},gsanalytics.sendStatsForServicesPane=function(key){var event;-1===gsanalytics.clickedServicePaneList.indexOf(key)&&(gsanalytics.clickedServicePaneList.push(key),event=window.event||event,key=zgssearch.getStatsKey("mc-sp-"+key),zgssearch.gsanalytics.sendStatsData(event,key))},gsanalytics.sendStatsData=function(event,gsaAttrArr){var params="";gsaAttrArr?params=gsaAttrArr:!(event=window.event||event)||0<(gsaAttrArr=_jQueryGS(event.target).closest("[gsa]")).length&&(params=zgssearch.getStatsKey(_jQueryGS(gsaAttrArr[0]).attr("gsa"))),""!==params&&(params=gsanalytics.constructObj(event,params),gsanalytics.analyticsData.push(params),gsanalytics.pushDataToServer())},gsanalytics.pushDataToServer=function(){var args;0<gsanalytics.analyticsData.length&&(args="ej="+JSON.stringify(gsanalytics.analyticsData[0]),zgssearch.uri(zgssearch.POST,zgssearch.eventStats,args,{},function(){gsanalytics.analyticsData=[]}))},gsanalytics.init(),gsanalytics}(void 0)}(zgssearch,window),function(zgssearch,window){var gsversion,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsversion=(gsversion=void 0,(gsversion=zgssearch.gsversion||{}).gsb=gsversion.gsb||GSConstant.BUILD_DATE||"",gsversion.isBuildChanged=function(resultObject){return void 0!==resultObject&&resultObject.BUILD_DATE},gsversion.handleVersionChanges=function(resultObject){resultObject&&(gsversion.getLatestFiles(resultObject),zgssearch.setGSConstantObj(resultObject))},gsversion.getLatestFiles=function(resultObject){resultObject&&resultObject.hasOwnProperty("BUILD_DATE")&&gsversion.gsb!=resultObject.BUILD_DATE&&(zgssearch.isBuildChanged=!0,gsversion.BUILD_DATE=resultObject.BUILD_DATE,zgssearch.isExtension?(gsversion.gsb=GSConstant.BUILD_DATE=gsversion.BUILD_DATE,setTimeout(function(){gsversion.updateLatestChanges()},100)):(zgssearch.GSConstant.gsbuildDetails=resultObject.hasOwnProperty("build_details")?resultObject.build_details:resultObject,gsversion.loadZSFiles(resultObject)))},gsversion.loadZSFiles=function(resultObject){zgssearch.gscomponent=Object.assign(zgssearch.gscomponent,resultObject),zgssearch.gsbuildDetails=Object.assign(zgssearch.gsbuildDetails,resultObject),gsversion.gsb=GSConstant.BUILD_DATE=zgssearch.gscomponent.BUILD_DATE,zgssearch.gscomponent.hasOwnProperty("isFingerprintEnabled")&&zgssearch.gscomponent.isFingerprintEnabled&&(GSConstant.gsjQueryURL=zgssearch.network.getFingerPrintFilePath("js/jquery-3.6.0.min.js",!0),GSConstant.gsi18NJSURL=zgssearch.getLanguageFileName(),GSConstant.resultNewJSURL=zgssearch.network.getFingerPrintFilePath(1===zgssearch.gscomponent.UIType?"js/zsresult.js":"js/gsresult.js",!0),GSConstant.resultNewCSSURL=zgssearch.network.getFingerPrintFilePath(1===zgssearch.gscomponent.UIType?"css/zsresult.css":"css/gsresult.css",!0)),zgssearch.network.loadCSSFile(GSConstant.resultNewCSSURL,zgssearch.gsversion.loadNewUICSS),gsversion.loadI18NResultJsFiles()},gsversion.loadNewUICSS=function(){zgssearch.isDashboardEnabled&&zgssearch.network.loadCSSFile(zgssearch.network.getFingerPrintFilePath("css/gstabmodel.css",!0))},gsversion.updateLatestChanges=function(){var latest_widget_servicesinfo;zgssearch.hasOwnProperty("gstopband")&&(zgssearch.gstopband.isHamburgerDataLoaded=!1),_jQueryGS("#zgs20_gsSearchResultMiddle > #zgs20_gsModuleFilterList")[0]||(zgssearch.removeEle(document.getElementById("zgs20_gsModuleFilterList")),_jQueryGS("#zgs20_gsSearchResultMiddle").prepend(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"}))),_jQueryGS("#zgs20_gsSearchResultsArea > #zgs20_gsProgressLoader")[0]||(zgssearch.removeEle(document.getElementById("zgs20_gsProgressLoader")),_jQueryGS("#zgs20_gsSearchResultsArea").prepend(_jQueryGS("<div>",{id:"zgs20_gsProgressLoader",class:"zgs19_gsProgressLoader zgs19_gsServicesPaneLeft zgs19_gsDisplayNone"})),zgssearch.addSearchLoader()),zgssearch.loadWelcomePage=!1,zgssearch.renderWelcomePage(),zgssearch.preLoadComponentForServices(),zgssearch.settingsFileLoaded=!1,zgssearch.isCardsandDBFilesloaded=!1,zgssearch.gsbuildDetails.hasOwnProperty("latest_widget")&&(latest_widget_servicesinfo=zgssearch.gsbuildDetails.latest_widget.servicesinfo,zgssearch.GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&(zgssearch.filterFallback=!0,zgssearch.gsbuildDetails.latest_widget.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(zgssearch.GSConstant.widgetObject.allserviceslist),zgssearch.GSConstant.widgetObject.servicesinfo=zgssearch.assignObject(zgssearch.GSConstant.widgetObject.servicesinfo,latest_widget_servicesinfo),zgssearch.loadWidgetList(zgssearch.GSConstant.widgetObject),zgssearch.renderServiceList())),zgssearch.statusOfWidgetFetchData="READY",zgssearch.initWidgetList(),zgssearch.isBuildChanged&&(zgssearch.isBuildChanged=!1,zgssearch.isNewSettingNeeded=!0,zgssearch.isNewCardsFileNeeded=!0,zgssearch.searchURL&&zgssearch.getSearchResults(zgssearch.searchURL))},gsversion.loadLatestJSFileAndChanges=function(){GSConstant.resultNewJSURL,zgssearch.network.loadJSFile(GSConstant.resultNewJSURL,function(){gsversion.updateLatestChanges()})},gsversion.loadLatestCoreJqueryFile=function(){zgssearch.network.loadJSFile(GSConstant.gsjQueryURL,function(){var zsJquery;"undefined"!=typeof jQuery&&"3.6.0"===jQuery().jquery&&(window._jQueryGS=(zsJquery=jQuery).noConflict(!0),window.jQuery=void 0===window.jQuery?zsJquery:window.jQuery),gsversion.loadLatestJSFileAndChanges()})},gsversion.loadI18NResultJsFiles=function(){zgssearch.network.loadJSFile(GSConstant.gsi18NJSURL,function(){GSConstant.hasOwnProperty("loadLatestCoreJQueryFile")&&GSConstant.loadLatestCoreJQueryFile?gsversion.loadLatestCoreJqueryFile():gsversion.loadLatestJSFileAndChanges()})},gsversion.checkGSVersion=function(){gsversion.getLatestFiles(zgssearch.GSConstant.gsbuildDetails)},gsversion)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.moreDataList={},zgssearch.connectLinkURL=zgssearch.connectLinkURL||"/zgssearch/images/default-pulse-link.png",zgssearch.hasListSearchEnabled="undefined"!=typeof hasListSearchEnabled?zgssearch.jsonParse(hasListSearchEnabled):zgssearch.hasListSearchEnabled||!1,zgssearch.ziaOrderedServiceList=[GSConstant.ALL,GSConstant.PEOPLE,GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.MAILS,GSConstant.CHAT,GSConstant.CLIQ,GSConstant.NOTEBOOK,GSConstant.WORKDRIVE,GSConstant.CONNECT,GSConstant.DOCUMENTS,GSConstant.CRM,GSConstant.BOOKS,GSConstant.INVOICE,GSConstant.SUPPORT,GSConstant.CREATOR,GSConstant.CAMPAIGNS,GSConstant.REPORTS,GSConstant.WIKI,GSConstant.ORGRESOURCES,GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.BOX,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.WEBSITE,GSConstant.CALENDAR,GSConstant.ONEDRIVE,GSConstant.SALESFORCE,GSConstant.PROJECTS];var backtotop,zstitle=zgssearch.gscomponent.isServiceSuite?gscomponent.getSuiteServiceList():[];zgssearch.orderedServiceList=zgssearch.orderedServiceList||(0<zstitle.length?zstitle:zgssearch.ziaOrderedServiceList),zgssearch.clickedServicePaneList=[],zgssearch.moreDataList.settings={displayName:zgssearch.getI18NMsg("gs.settings.header.settings"),serviceicon:"zgs19_gsUniSettingsIcon",id:"zgs20_gsSettingsView"},zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES=[GSConstant.PEOPLE,GSConstant.PERSONALCONTACTS,GSConstant.CONNECT,GSConstant.CLIQ,GSConstant.STREAMS,GSConstant.PROJECTS],zgssearch.havingUserPhoto=[GSConstant.CLIQ,GSConstant.CHAT,GSConstant.PEOPLE,GSConstant.ORGCONTACTS,GSConstant.PERSONALCONTACTS,GSConstant.CONNECT,GSConstant.SLACK,GSConstant.STREAMS],zgssearch.obtainServicesLoader=function(className){for(var skeletonLoaderEle=_jQueryGS("."+className)[0],i=0;i<4;i++){var div=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");_jQueryGS(skeletonLoaderEle).append(div)}},zgssearch.setLHSHiddenScrollHeight=function(){var pcode=zgssearch.gscomponent.pcode,servListheight=0;"ZO"==pcode?servListheight=_jQueryGS("#zgs20_gsResultsHolder").height():"ZW"==pcode&&(servListheight=_jQueryGS("#zgs20_gsHolder").height()),0<servListheight&&_jQueryGS("#zgs20_gsSearchResultLeft").height(servListheight+"px")},zgssearch.resultarea||(zgssearch.resultarea=!0,backtotop=zgssearch.getI18NMsg("gs.search.service_backtotop"),zstitle=zgssearch.getI18NMsg("gs.search.service_backtohome"),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultMiddle",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultMiddle zgs19_gsServicesPaneLeft zgs19_gsDisplayNone zgs19_isPanelHidden"}).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"})).append(_jQueryGS("<div>",{id:"zgs20_gsAllSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone",gs:"AllSearchPage"})).append(_jQueryGS("<div>",{id:"zgs20_gsMultiSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone",gs:"ModulePage"})).append(_jQueryGS("<div>",{id:"zgs20_gsBackToTop",class:"zgs19_gsBackToTop zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:backtotop,gs:"backToTop"}))).append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultRight",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultRight zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsSettingsPages",class:"zgs19_gsSettingsPages zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsHomeIcon",class:"zgs18_gsHomeIcon zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:zstitle,gs:"backToHome"})),zgssearch.setLHSHiddenScrollHeight(),zgssearch.obtainServicesLoader("zgs19_gsSkeletonLoading"),_jQueryGS("#zgs20_gsQueryBox").after(_jQueryGS("<div>",{id:"zgs20_gsQueryDiv",class:"zgs19_gsQueryDiv zgs19_gsBorderBox zgs19_gsBoxshadow zgs19_gsuserselnone"})),_jQueryGS("#zgs20_gsQueryBoxHolder").append(_jQueryGS("<div>",{id:"zgs20_gsQuerySugg",class:"zgs19_gsQuerySugg zgs19_gsBorderBox zgs19_gsOverflow zgs19_gsDisplayNone"})),zstitle=_jQueryGS("#zgs20_gsQueryBoxHolder").find(".zgs19_gsqryinnerdiv"),_jQueryGS(zstitle).append(_jQueryGS("<div>",{id:"zgs20_gsQueryCloseBox",class:"zgs19_gsQueryCloseBox zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsCurPointer"}))),1===gscomponent.UIType&&(zstitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),_jQueryGS("#zgs20_gsMobBandName").empty().append(_jQueryGS("<a>",{title:zstitle,class:"zgs19_gsOverflow zgs19_gsLogoText",href:"/searchhome"}).text(zstitle)))),zgssearch.createSaveIconinSearchBox=function(){var lastQry=zgssearch.getLastSearchedQuery(),searchType=zgssearch.getSearchType(),isSSSupportedData="zgs19_gsSTS zgs19_gsHideEleme";searchType===GSConstant.ALL||zgssearch.isServiceHasMultiPortals(searchType)?isSSSupportedData="zgs19_gsSTS zgs19_gsHideEleme":lastQry&&""!=lastQry&&(isSSSupportedData="zgs19_gsCSTS");isSSSupportedData=_jQueryGS("<div>",{id:"zgs20_gsSSIconHolder",class:"zgs19_gsSSIconHolder zgs19_gsfl"}).append(_jQueryGS("<span>",{id:"zgs20_gsSSIcon",class:"zgs18_gsSTSIcon zgs19_gsCurPointer "+isSSSupportedData,gs:"savethissearch"}));_jQueryGS(".zgs19_gsqryinnerdiv").append(isSSSupportedData).addClass("zgs19_gsSSEnabled"),zgssearch.setSearchBoxSegmentSize()},zgssearch.getAccountType=function(currService,accId){currService=zgssearch.isArrayContain(currService,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[currService].originService:currService;return zgssearch.gFilterData.hasOwnProperty(currService)&&zgssearch.gFilterData[currService].hasOwnProperty("allAccDetailsObj")&&zgssearch.gFilterData[currService].allAccDetailsObj.hasOwnProperty(accId)?zgssearch.gFilterData[currService].allAccDetailsObj[accId].accountType:0},zgssearch.setSearchType=function(service){zgssearch.searchType=service},zgssearch.getSearchType=function(){return zgssearch.searchType},zgssearch.getOrderedServiceList=function(){return zgssearch.orderedServiceList},zgssearch.clearOrderedServiceList=function(){zgssearch.orderedServiceList=[]},zgssearch.checkAndRenderServiceList=function(){var oldzosUserObj;gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&(oldzosUserObj=Object.assign({},zgssearch.zosUserConfig),zgssearch.gscomponent.setSuiteService(),zgssearch.setZOSUserConfig(),JSON.stringify(oldzosUserObj)!==JSON.stringify(zgssearch.zosUserConfig)&&(zgssearch.storeSuitServiceList(),zgssearch.renderServiceList()))},zgssearch.preCheckForServices=function(){for(var dupServices=[[GSConstant.CLIQ,GSConstant.CHAT],[GSConstant.PEOPLE,GSConstant.ORGCONTACTS]],dlen=dupServices.length,i=0;i<dlen;i++){var slIndex=dupServices[i],sList=zgssearch.getServiceList("serviceList")||[];zgssearch.isArrayContain(slIndex[0],sList)&&zgssearch.isArrayContain(slIndex[1],sList)&&(slIndex=sList.indexOf(slIndex[1]),zgssearch.serviceList.splice(slIndex,1))}},zgssearch.updateStaticURL=function(){GSConstant.hasOwnProperty("gsspacergifurl")&&(zgssearch.gsspacer=zgssearch.network.getFingerPrintFilePath("images/gsspacer.gif",!0),zgssearch.noUserPhoto=zgssearch.network.getFingerPrintFilePath("images/no-user-image.png",!0),zgssearch.connectLinkURL=zgssearch.network.getFingerPrintFilePath("images/default-pulse-link.png",!0))},zgssearch.initServiceList=function(){var zosuc,allServices;zgssearch.updateStaticURL(),zgssearch.renderLandingPage(),"COMPLETE"!=zgssearch.statusOfServiceFetchData&&((zosuc=zgssearch.getServiceList("serviceList")||[])&&0!=zosuc.length||(allServices=zgssearch.getAccessibleServiceList()||[],(gscomponent.isServiceSuite||0<allServices.length||GSConstant.hasOwnProperty("widgetObject"))&&(zgssearch.statusOfServiceFetchData="COMPLETE",gscomponent.isServiceSuite?gscomponent.isNoRestrictServicelist?(zgssearch.statusOfServiceFetchData="",0<allServices.length?(zgssearch.statusOfServiceFetchData="COMPLETE",zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList")):GSConstant.hasOwnProperty("widgetObject")&&(zgssearch.processServListFromWidgetCall(),zgssearch.statusOfServiceFetchData="COMPLETE")):(zosuc=zgssearch.getZOSUserConfig(),zgssearch.storeServiceList(zosuc,"serviceList")):0<allServices.length?(zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList"),allServices=zgssearch.getConstAllServList()||[],zgssearch.setConstAllServList(allServices)):zgssearch.processServListFromWidgetCall(),zgssearch.renderNewUI(),zgssearch.updateUIPostServiceListCall(),zgssearch.renderServiceList(),zgssearch.displayDefaultPage(!1)))),zgssearch.loadAdditionalInfo()},zgssearch.processServListFromWidgetCall=function(){var allServices=zgssearch.getEnabledServListFromWidget()||[];zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList");allServices=zgssearch.GSConstant.widgetObject.allserviceslist||[];zgssearch.setConstAllServList(allServices)},zgssearch.getExtraServiceList=function(services,accServiceList){for(var newServList=[],servArrLen=services.length,i=0;i<servArrLen;i++)-1===accServiceList.indexOf(services[i])&&newServList.push(services[i]);return newServList},zgssearch.isServiceAllowedForLHSPanel=function(service){return!!zgssearch.mappedServiceList.hasOwnProperty(service)&&!zgssearch.mappedServiceList[service].hasOwnProperty("is_module")},zgssearch.renderNewServiceInLeftPanel=function(newServList){for(var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mList=zgssearch.getMappedServiceList(),newServListLen=newServList.length,i=0;i<newServListLen;i++){var oService=newServList[i];zgssearch.isServiceAllowedForLHSPanel(oService)&&zgssearch.isArrayContain(oService,sList)&&zgssearch.mappedServiceList.hasOwnProperty(oService)&&zgssearch.renderServicePanelList(oService,mList[oService])}},zgssearch.loadAdditionalInfo=function(){1!==gscomponent.UIType&&(zgssearch.hasListSearchEnabled=GSConstant.hlse||!1),zgssearch.hasOwnProperty("fetchTopContacts")&&zgssearch.fetchTopContacts(),zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.initServiceList()},zgssearch.storeServiceList=function(serviceArray,type){if("orderedServiceList"==type&&zgssearch.clearOrderedServiceList(),zgssearch[type]=[GSConstant.ALL],"ZO"==zgssearch.gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&!gscomponent.isNoRestrictServicelist)zgssearch.storeSuitServiceList();else for(var serviceArrayLen=serviceArray.length,i=0;i<serviceArrayLen;i++)zgssearch[type].push(serviceArray[i].trim())},zgssearch.getServiceList=function(type){return zgssearch.hasOwnProperty(type)?zgssearch[type]:zgssearch.serviceList},zgssearch.getSuitServicesObject=function(){return zgssearch.suiteServiceUserConfig},zgssearch.getServiceSuiteWidgetServices=function(slistOrig){if("ZO"===gscomponent.pcode&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite)for(var dupServices=[[GSConstant.CHAT,GSConstant.CLIQ]],dlen=dupServices.length,i=0;i<dlen;i++){var slIndex,sobj=dupServices[i];zgssearch.isArrayContain(sobj[0],slistOrig)&&(slIndex=slistOrig.indexOf(sobj[0]),zgssearch.serviceList[slIndex]=sobj[1],slistOrig[slIndex]=sobj[1])}return slistOrig},zgssearch.storeSuitServiceList=function(){var zosuc=zgssearch.getZOSUserConfig(),len=zosuc.length,tempServiceList=zgssearch.serviceList||[];if(0<len){var serList=[GSConstant.ALL];if(1<tempServiceList.length)serList=zgssearch.getServiceSuiteWidgetServices(tempServiceList);else for(var i=0;i<len;i++){var appname=zosuc[i],appname=appname.hasOwnProperty("app_name")?appname.app_name.trim():"";zgssearch.isArrayContain(appname,zgssearch.ziaOrderedServiceList)&&serList.push(appname)}zgssearch.serviceList=serList,zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.addServices(),zgssearch.gscomponent.isNoRestrictServicelist||(zgssearch.orderedServiceList=serList)}},zgssearch.manageApps=function(){var overlayDiv="",hgt=2;1==zgssearch.gscomponent.UIType&&(hgt++,overlayDiv=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"zsfeedback"})).append(zgssearch.Utils.createElement("span","","zgs18_gsFeedbackMenuIcon")).append(zgssearch.Utils.createElement("span","zgs19_gsFeedback","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:zgssearch.I18N.getValue("gs.search.feedback.view")},zgssearch.I18N.getValue("gs.search.feedback.title"))));var cards,menu=zgssearch.Utils.createElement("div","zgs20_manageApps","zgs19_gsSettingsPopUp ",{gs:"settingPopUp"}),reoredrEle=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"reorderservices"})).append(zgssearch.Utils.createElement("span","","zgs18_gsReorderAppMenuIcon")).append(zgssearch.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:zgssearch.I18N.getValue("gs.settings.application.reorder_apps")},zgssearch.I18N.getValue("gs.settings.application.reorder_apps"))),arrowEle=zgssearch.Utils.createElement("div","","zgs19_gsBorderBox zgs19_gstoolSidearrow"),settingEle=_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsSettingsHolder","zgs19_manageAppsEle zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsFontSize15Px")).append(_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsServicePanelListsettings","zgs19_gsServiceMenu zgs19_gsCurPointer",{service:"settings",gs:"settingsPanelMenu"})).append(_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsSettingPopupwth")).append(zgssearch.Utils.createElement("span","","zgs18_gsSettingsMenuIcon")).append(zgssearch.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gs:"settingsPanel",gstitle:zgssearch.I18N.getValue("gs.settings.header.settings")},zgssearch.I18N.getValue("gs.settings.header.settings")))));zgssearch.isSavedSearchEnabled&&(cards=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer",{gs:"openCards"})).append(zgssearch.Utils.createElement("span","","zgs18_CardsIcon zgs19_gsMgRL8Px")).append(zgssearch.Utils.createElement("span","","zgs19_gsReorderTxt",{gs:"openCards"},zgssearch.getI18NMsg("Cards"))),hgt++);overlayDiv=_jQueryGS(menu).append(arrowEle).append(reoredrEle).append(settingEle).append(cards).append(overlayDiv),hgt=40*hgt+"px";return _jQueryGS(menu).css("height",hgt),overlayDiv},zgssearch.lhsComponentHeight=function(){var settingComponentHeight=_jQueryGS(".zgs19_gsServiceListBtm").height()||0;_jQueryGS("#zgs20_gsServListHolder").css("height","calc(100% - "+settingComponentHeight+"px)")},zgssearch.renderLHSPane=function(){var settingsholder;_jQueryGS("#zgs20_gsSearchResultLeft").html(""),_jQueryGS("#zgs20_gsSearchResultLeft").append(_jQueryGS("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox",gs:"servListHolder"})),zgssearch.isSettingsEnabled&&(settingsholder=_jQueryGS("<div>",{id:"zgs20_gsSettingsHolder",class:"zgs19_gsSettingsHolder zgs19_gsServiceListBtm zgs19_gsBorderBox",gs:"manageApps"}).append(_jQueryGS("<span>",{class:"zgs18_gsSettingsNewIcon"})),_jQueryGS("#zgs20_gsSearchBoxRight").find(".zgs18_gsSettingsIconTop").css("display","block"),_jQueryGS(".zgs19_gsInfoBox").css("width","130px"),_jQueryGS("#zgs20_gsSearchResultLeft").append(settingsholder)),zgssearch.lhsComponentHeight()},zgssearch.renderLHSPaneTab=function(){_jQueryGS("#zgs20_gsSearchResultLeft").html("");_jQueryGS("#zgs20_gsSearchResultLeft").append(_jQueryGS("<div>",{id:"zgs20_gsLeftBand1"})).append(_jQueryGS("<div>",{id:"zgs20_gsLeftBand2"})),_jQueryGS("#zgs20_gsLeftBand1").append('<div id="zgs20_gsLeftDivisonPanel" class="" gs="leftpanel1" >\n                            <div id="zgs20_gsLeftPanelSearch" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG zgs19_gsCurPointer"  action="search" gs="leftPanelMenu" >\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsLensIconTab zgs19_gsLensIconTab" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Search</span>\n                            </div>\n                            <div id="zgs20_gsLeftPanelCards" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="openCards"  gs="leftPanelMenu" >\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_CardsIcon zgs19_gsCardsIcon" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Cards</span>\n                            </div>\n                            <div id="zgs20_gsLeftPanelDashboard" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="dashboard" gs="leftPanelMenu" >\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsDashboardIcon zgs19_gsDashboardIcon" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Dashboards</span>\n                            </div>\n                        </div>'),_jQueryGS("#zgs20_gsLeftBand2").append(_jQueryGS("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox zgs19_gsSelectedServiceListBG",gs:"servListHolder",style:"float: left;padding-right: 50px;"}));var servList;_jQueryGS("#zgs20_gsLeftBand1").append('<div id="zgs20_gsMinLeftBand" gs="hideLeftBand" class="zgs19_gsMinLeftBand zgs18_gsarrowleft zgs19_gsCurPointer"></div>').append('<div id="zgs20_gsMaxLeftBand" gs="showLeftBand" class="zgs19_gsMaxLeftBand zgs18_gsarrowright zgs19_gsCurPointer zgs19_gsDisplayNone"></div>'),zgssearch.isSettingsEnabled&&(servList=_jQueryGS("<span>",{class:"zgs18_gsSettingsIconTop zgs19_gsDisplayNone",gs:"settingsPanelMenu"}),_jQueryGS("#zgs20_gsLeftBand1").append(servList),_jQueryGS(".zgs19_gsInfoBox").css("width","130px"),_jQueryGS("#zgs20_gsLeftBand2").append('<div id="zgs20_gsReorderBtm" class="zgs19_gsServiceSaveNew zgs19_gsServiceListBtm zgs19_gsCurPointer " gs="reorderservices"><div class="zgs18_gsReorderAppMenuIcon" style="margin-left: 0px;"></div><div class="zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow" gstitle="Reorder Apps">Reorder Apps</div></div>'),null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(servList=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(servList))),zgssearch.lhsComponentHeight()},zgssearch.dispSetting=function(){_jQueryGS("#zgs20_gsSettingsHolder").css("display","block")},zgssearch.enabledSubServicesList=function(slist){for(var slistLen=slist.length,i=0;i<slistLen;i++){var service=slist[i];zgssearch.isArrayContain(service,zgssearch.account_based_filter_service_list)&&zgssearch.originServiceVsSubService.hasOwnProperty(service)&&!zgssearch.isArrayContain(zgssearch.originServiceVsSubService[service],slist)&&slist.push(zgssearch.originServiceVsSubService[service])}return slist},zgssearch.renderServiceList=function(){zgssearch.preCheckForServices();var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mList=zgssearch.getMappedServiceList(),oList=zgssearch.getOrderedServiceList();1===gscomponent.UIType&&zgssearch.hasOwnProperty("gshistory")&&(zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&(zgssearch.gshistory.isURLParamsHandled=!0),zgssearch.gshistory.handleURLSearch()),_jQueryGS("#zgs20_gsServListHolder").empty();for(var oListLen=oList.length,i=0;i<oListLen;i++){var oService=oList[i];zgssearch.isServiceAllowedForLHSPanel(oService)&&zgssearch.isArrayContain(oService,sList)&&zgssearch.mappedServiceList.hasOwnProperty(oService)&&zgssearch.renderServicePanelList(oService,mList[oService])}zgssearch.hasOwnProperty("jqueryMouseEvent")&&zgssearch.jqueryMouseEvent();var target=zgssearch.getSearchType(),target=zgssearch.getTargetElem("zgs20_gsServicePanelList"+target);_jQueryGS("#zgs20_gsSearchResultLeft").scrollTop(0),target&&zgssearch.gskeyboard&&(zgssearch.gskeyboard.isCurElementInViewPort(target)||target.scrollIntoView(!1)),zgssearch.isSettingsEnabled&&zgssearch.loadSettingsUIJqueryFile(),zgssearch.lhsComponentHeight(),zgssearch.setLHSHiddenScrollHeight()},zgssearch.obtainLineIconPaths=function(className,toBeAppendEle,isReturnEle,gsAttr,gsActionType){var pathCount=zgssearch.LINE_ICON_MAP[className],existingPathEle=_jQueryGS(toBeAppendEle).children()[0];if(existingPathEle&&existingPathEle.className===className+"_path1")return toBeAppendEle;for(var i=1;i<=pathCount;i++){var span=zgssearch.Utils.createElement("span","",className+"_path"+i);_jQueryGS(span).attr("gs",gsAttr),_jQueryGS(span).attr("actionType",gsActionType),_jQueryGS(toBeAppendEle).append(span)}if(isReturnEle)return _jQueryGS(toBeAppendEle)},zgssearch.renderServicePanelList=function(service,serviceDispName){var className="zgs19_gsUnServiceLeftPanel";zgssearch.getSearchType()===service&&(className="zgs19_gsSelectedServicepanel");var serviceicon=serviceDispName.serviceicon,serviceDispName=serviceDispName.displayName;_jQueryGS("#zgs20_gsServListHolder").append(_jQueryGS("<div>",{id:"zgs20_gsServicePanelList"+service,gsParentTip:!0,class:"zgs19_gsServiceMenu zgs19_gsServiceLeftPanel zgs19_gsServicesPaneWid zgs19_gsCurPointer "+className,service:service,gs:"serviceLeftPanelMenu"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelCell1New zgs19_gsServicesPaneWid"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons "+serviceicon,gs:"icon"})).append(_jQueryGS("<span>",{class:"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",isParentTip:!0,gstitle:serviceDispName,gs:"text"}).text(serviceDispName))))),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceicon)&&zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS(".zgs19_gsServiceLeftPanelCell1New > ."+serviceicon)[0])},zgssearch.setScrollTop=function(elem,value){_jQueryGS(elem).scrollTop(value)},zgssearch.displayAllResultPage=function(){_jQueryGS("#zgs20_gsModuleSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsMultiSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsSearchResultRight").empty(),_jQueryGS("#zgs20_gsAllSearchResultPage").empty().show(),zgssearch.setScrollTop("#zgs20_gsAllSearchResultPage",0)},zgssearch.displayDefaultPage=function(isShowFilterPortion){zgssearch.displayAllResultPage(),isShowFilterPortion?_jQueryGS(".zgs19_gsResultsHolderChild").show():_jQueryGS(".zgs19_gsResultsHolderChild").hide(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block")},zgssearch.showSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").css("display","block")},zgssearch.hideSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").css("display","none")},zgssearch.getStatsKey=function(key){var prefix="";switch(gscomponent.UIType&&"ZO"==gscomponent.pcode){case 2:prefix="olderzos-";break;case 4:prefix="newerzos-"}return(prefix="ZW"===gscomponent.pcode?"zw-":prefix)+key},zgssearch.clickActionForServiceList=function(service){try{var query,mquery,isSettingsOpened,isCardPageOpened,isDashboardOpened,oldService,mlist,cwidth,selectedService;(zgssearch.gscomponent.hasOwnProperty("isWPSmartViewEnabled")&&gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia)&&zgssearch.toggleSmartViewServicePane(!1),zgssearch.isArrayContain(service,zgssearch.serviceList)&&(zgssearch.hasOwnProperty("gsanalytics")&&zgssearch.gsanalytics.sendStatsForServicesPane(service),zgssearch.gsautocomplete.checkQueryFilterExists("services",service),zgssearch.gsautocomplete.checkQueryFilterExists("users"),query=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.isServiceHasMultiPortals(service)||(zgssearch.multiPageEnabled=!1),isSettingsOpened=zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened,isCardPageOpened=zgssearch.gscardUtils.isCardPageOpened(),isDashboardOpened=zgssearch.gsdbUtils.isDashboardOpened(),oldService=zgssearch.getSearchType(),zgssearch.isQueryValid(mquery)||zgssearch.isQueryHasFilters()?(zgssearch.searchedQuery!==query||oldService!==service||isSettingsOpened||isCardPageOpened||isDashboardOpened)&&zgssearch.handleUserSearchQuery(mquery,service):oldService!==service?(mlist=zgssearch.getWidgetServiceList(service),zgssearch.updateMultiPageFlag(service,mlist.key),zgssearch.updateSearchType(service),zgssearch.updateCurrentPage(service),zgssearch.handleEmptySearchQry(service)):(0==zgssearch.total_no_of_results&&!zgssearch.noMoreResults||isSettingsOpened||isCardPageOpened||isDashboardOpened)&&zgssearch.handleEmptySearchQry(service),cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width(),zgssearch.minPrevPane!=cwidth&&zgssearch.curSelectedEle&&(selectedService=_jQueryGS(zgssearch.curSelectedEle).attr("service"),zgssearch.minCalloutPreview(selectedService))),zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.handleEmptySearchBox(),zgssearch.handleServiceOptionsForCallout()}catch(ex){zgssearch.throwClientError("Error in clickActionForServiceList. service > "+service+" Exception>",ex)}},zgssearch.handleOpeningOfCardsAndDashboard=function(tabName){zgssearch.setHighlightForLeftDivisonPanel(tabName),zgssearch.hideQuickActionsPage(),_jQueryGS("#zgs20_gsResultsHolder").css("display","none"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),_jQueryGS("#zgs20_gsQuickActionsPage").css("display","none"),zgssearch.setStatusClsForLeftDivision(),_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected")},zgssearch.setStatusClsForLeftDivision=function(){zgssearch.isLeftDivisonPanelHidden?("search"==zgssearch.seletedLeftPanelDivision?_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch"):_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision")).removeClass("zgs19_gsMaxLeftDivisionNoSearch"):"search"==zgssearch.seletedLeftPanelDivision?_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMaxLeftDivisionNoSearch"):_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision")},zgssearch.resizeForLeftPanelchanges=function(){var minPrev,height=_jQueryGS(window).height(),width=_jQueryGS(window).width(),leftServicePaneW=zgssearch.getLHSServicePaneWidth(),resultAndCalloutAreaW=_jQueryGS("#zgs20_gsHolder").width()-leftServicePaneW;1==zgssearch.gscomponent.UIType?(height=_jQueryGS("#zgs20_zohosearchWrapper").outerHeight(!0)-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),zgssearch.setSearchBoxWidth(),"search"==zgssearch.seletedLeftPanelDivision&&zgssearch.setSizeForRespectiveResultsArea()):0==zgssearch.gscomponent.UIType&&(height=_jQueryGS("#zgs20_gsHolder").height(),width=_jQueryGS("#zgs20_gsHolder").width(),height-=_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),minPrev=resultAndCalloutAreaW-_jQueryGS("#zgs20_gsSearchResultMiddle").width(),"search"==zgssearch.seletedLeftPanelDivision&&zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,minPrev),_jQueryGS("#zgs20_gsSearchResultRight").css("width",minPrev+"px")),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:width-leftServicePaneW+"px",height:height+"px"}),zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&zgssearch.gsusersettings.resizeSettingsPage(),zgssearch.gscardUtils.isCardPageOpened()&&zgssearch.gscards.handleHorizontalResizeForCards(),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gsdbhome.setSizeForDashboards()},zgssearch.setHighlightForLeftDivisonPanel=function(tabNameId){_jQueryGS(".zgs19_gsLeftPanelTab").removeClass("zgs19_gsLeftPanelTabSelected").addClass("zgs19_gsLeftPanelTabUnselected").removeClass("zgs19_gsSelectedServiceListBG"),tabNameId&&(tabNameId=(zgssearch.seletedLeftPanelDivision=tabNameId).charAt(0).toUpperCase()+tabNameId.slice(1),_jQueryGS("#zgs20_gsLeftPanel"+tabNameId).addClass("zgs19_gsLeftPanelTabSelected").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsSelectedServiceListBG")),zgssearch.setStatusClsForLeftDivision(),"search"==zgssearch.seletedLeftPanelDivision?_jQueryGS("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsSelectedServiceListBG"):_jQueryGS("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone").removeClass("zgs19_gsSelectedServiceListBG"),zgssearch.resizeForLeftPanelchanges()},zgssearch.changeBgcolorForLHS=function(settingsTarElem){zgssearch.isDashboardEnabled&&"dashboard"===settingsTarElem?(servicesTarElem=_jQueryGS("#zgs20_gsDashboardHolder").children("#zgs20_gsServicePanelListDashboard"),_jQueryGS(servicesTarElem).addClass("zgs19_gsSelectedServicepanel").removeClass("zgs19_gsUnServiceLeftPanel")):(settingsTarElem=_jQueryGS("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),_jQueryGS(settingsTarElem).addClass("zgs19_gsSelectedServicepanel").removeClass("zgs19_gsUnServiceLeftPanel"),servicesTarElem=_jQueryGS("#zgs20_gsDashboardHolder").children("#zgs20_gsServicePanelListDashboard"),_jQueryGS(servicesTarElem).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel"));var servicesTarElem=_jQueryGS("#zgs20_gsServListHolder").children(".zgs19_gsServiceLeftPanel");_jQueryGS.each(servicesTarElem,function(index,value){_jQueryGS(value).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")})},zgssearch.clickActionForDashboards=function(){var loadericon;"COMPLETE"!=zgssearch.statusOfWidgetFetchData?(_jQueryGS("#zgs20_gsInAppSettingsPageLoader","#zgs20_gsHideScrollPage").length?_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","visible"):(_jQueryGS("#zgs20_gsWelcomePage").css("display","none"),loadericon=zgssearch.getFourDotLoader("zgs20_gsInAppSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsInAppSettingsPageLoader"),_jQueryGS("#zgs20_gsHideScrollPage").append(loadericon)),setTimeout(function(){_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","hidden"),zgssearch.clickActionForDashboards()},500)):zgssearch.openDashboard()},zgssearch.dashboardFileCallback=function(argParams){zgssearch.gsdbhome.renderDashboardPage(argParams.pageView)},zgssearch.openDashboard=function(pageView){var dashboardhome,loadericon,argParams;zgssearch.isDashboardEnabled?zgssearch.isDashboardOpened||(zgssearch.network.abortOngoingCalls(),zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.dashboard.Hash.Listen(),zgssearch.hideSearchPageLoader(),zgssearch.hideCardsPage(),zgssearch.disablingSSIcon(),zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.gsusersettings.isSettingsOpened=!1),_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,zgssearch.changeBgcolorForLHS("dashboard"),zgssearch.hideWelcomePage(),zgssearch.hideHomeIcon(),dashboardhome=_jQueryGS("#zgs20_gsDashboardhome"),loadericon=zgssearch.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader"),dashboardhome.html("").append(loadericon),dashboardhome.css("display","block"),zgssearch.isDashboardOpened=!0,argParams={pageView:pageView},zgssearch.loadCardsandDashboardFile(function(){zgssearch.dashboardFileCallback(argParams)})):zgssearch.clickActionForServiceList(GSConstant.ALL)},zgssearch.hideDashboard=function(){var dashboardContent;zgssearch.isDashboardOpened&&(null!==(dashboardContent=document.getElementById("zgs20_gsDashboardContent"))&&(dashboardContent.innerHTML=""),_jQueryGS("#zgs20_gsDashboardhome").css("display","none"),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),zgssearch.isDashboardOpened=!1,zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.gsdbhome.currentlyOpenedDbId="",zgssearch.gscardinDb.maximisedCardId="",zgssearch.gscardinDb.isCardMaximised=!1,zgssearch.gscardinDb.clearIntervalForAutoRefresh()))},zgssearch.clickActionForSettings=function(tabName){var loadericon;zgssearch.hasOwnProperty("gsusersettings")&&!zgssearch.gsusersettings.isSettingsOpened&&("COMPLETE"!=zgssearch.statusOfWidgetFetchData?(_jQueryGS("#zgs20_gsInAppSettingsPageLoader","#zgs20_gsHideScrollPage").length?_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","visible"):(zgssearch.hideQuickActionsPage(),_jQueryGS("#zgs20_gsWelcomePage").css("display","none"),loadericon=zgssearch.getFourDotLoader("zgs20_gsInAppSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsInAppSettingsPageLoader"),_jQueryGS("#zgs20_gsHideScrollPage").append(loadericon)),setTimeout(function(){_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","hidden"),zgssearch.clickActionForSettings(tabName)},500)):(zgssearch.actionsBeforeOpeningSettingsTab(),zgssearch.loadSettingsFiles(tabName)))},zgssearch.actionsBeforeOpeningSettingsTab=function(){zgssearch.network.abortOngoingCalls(),zgssearch.hideSearchPageLoader(),zgssearch.hideDashboard(),zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType||zgssearch.gsusersettings.selectedServiceBeforeSettings,zgssearch.seletedLeftPanelDivisionBeforeSettings=zgssearch.seletedLeftPanelDivision||"",zgssearch.isDashboardEnabled&&(zgssearch.seletedLeftPanelDivision="",zgssearch.setHighlightForLeftDivisonPanel(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),_jQueryGS("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone"),zgssearch.setStatusClsForLeftDivision(),zgssearch.resizeForLeftPanelchanges()),zgssearch.changeBgcolorForLHS();var servList=[],servList=void 0!==zgssearch.gsusersettings.servicesArrayList&&0<zgssearch.gsusersettings.servicesArrayList.length?zgssearch.gsusersettings.servicesArrayList:zgssearch.getAllServiceListFromWidget();zgssearch.gsusersettings.storeServicesListInfo(servList),zgssearch.disablingSSIcon()},zgssearch.loadSettingsFiles=function(tabName){var settingsURL=zgssearch.gsbuildDetails||{};zgssearch.settingsFileLoaded?zgssearch.openingEachTab(tabName):(zgssearch.isNewSettingNeeded?zgssearch.gsversion:settingsURL).BUILD_DATE&&(zgssearch.isNewSettingNeeded=!1,settingsURL=zgssearch.network.getFingerPrintFilePath("js/settings.js",!0),zgssearch.network.loadJSFile(settingsURL,function(){zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,zgssearch.settingsFileLoaded=!0,zgssearch.openingEachTab(tabName)}))},zgssearch.openingEachTab=function(tabName){"settings"===tabName&&(zgssearch.gshistory.pushStateOfAView({id:"settings",title:"Settings Page",url:"/settings"}),zgssearch.openActionForSettings(tabName))},zgssearch.openActionForSettings=function(tabName){zgssearch.seletedLeftPanelDivision=tabName,zgssearch.gsusersettings.isSettingsOpened=!0,_jQueryGS(".zgs18_gsSettingsIconTop").addClass("zgs19_gsSettingsIconTopSelected"),zgssearch.gsusersettings.openSettingsPage(tabName),zgssearch.hasOwnProperty("gsanalytics")&&zgssearch.gsanalytics.sendStatsForServicesPane("settings")},zgssearch.closeActionForSettings=function(){var service,tabName;zgssearch.hideServiceOrderOverlay(),zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),tabName=_jQueryGS("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),_jQueryGS(tabName).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel"),zgssearch.gsusersettings.isSettingsOpened=!1,zgssearch.isAsanaWorkspacesAuthentication=!1,service=zgssearch.gsusersettings.selectedServiceBeforeSettings,(tabName=zgssearch.seletedLeftPanelDivisionBeforeSettings)&&zgssearch.isDashboardEnabled&&(zgssearch.setHighlightForLeftDivisonPanel(tabName),zgssearch.setStatusClsForLeftDivision()),zgssearch.isDashboardEnabled&&zgssearch.includes("/dashboards",window.location.pathname)?zgssearch.clickActionForDashboards():zgssearch.isSavedSearchEnabled&&zgssearch.includes("/cards",window.location.pathname)?zgssearch.clickActionForCards():(""===service||service===GSConstant.ALL||zgssearch.isArrayContain(service,zgssearch.gssettingsapptab.enabledServicesList)?zgssearch.isArrayContain(service,zgssearch.gssettingsapptab.enabledServicesList)?(zgssearch.updateSearchType(service),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():zgssearch.EnablingSSIcon()):(zgssearch.disablingSSIcon(),zgssearch.updateSearchType(GSConstant.ALL)):(service=GSConstant.ALL,zgssearch.clickActionForServiceList(service),zgssearch.disablingSSIcon()),_jQueryGS(".zgs19_gsServiceOrderDialog").hide(),_jQueryGS(".zgs19_gsServiceAccOrderDialog").hide(),document.getElementById("zgs20_gsdelAccCnfrm")&&zgssearch.hideCnfrmtnPopUp(),zgssearch.showQuickActionsPage?zgssearch.isDashboardEnabled&&zgssearch.renderHomePageQuickActions():(_jQueryGS("#zgs20_gsSearchResultMiddle").show(),_jQueryGS("#zgs20_gsSearchResultRight").show())))},zgssearch.hideServiceOrderOverlay=function(){_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()},zgssearch.hideManageAppPopUp=function(){zgssearch.isManageAppPopUpEnab=!1,_jQueryGS("#zgs20_manageApps").css("display","none")},zgssearch.loadSettingsUIJqueryFile=function(){var jQueryUIURL;zgssearch.isSettingsUIJqueryFileLoaded||(void 0!==_jQueryGS&&_jQueryGS.fn.hasOwnProperty("sortable")&&_jQueryGS.fn.hasOwnProperty("resizable")&&_jQueryGS.fn.hasOwnProperty("effect")&&_jQueryGS.fn.hasOwnProperty("draggable")?zgssearch.loadSortableJQueryComponent():(jQueryUIURL=zgssearch.network.getFingerPrintFilePath("js/jquery-ui.min.js",!0),zgssearch.network.loadJSFile(jQueryUIURL,zgssearch.loadSortableJQueryComponent)))},zgssearch.loadSortableJQueryComponent=function(){zgssearch.isSettingsUIJqueryFileLoaded=!0,window._jQueryGSUI=window._jQueryGS},zgssearch.clickActionForCards=function(){var loadericon;"COMPLETE"!=zgssearch.statusOfWidgetFetchData?(_jQueryGS("#zgs20_gsInAppSettingsPageLoader","#zgs20_gsHideScrollPage").length?_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","visible"):(_jQueryGS("#zgs20_gsWelcomePage").css("display","none"),loadericon=zgssearch.getFourDotLoader("zgs20_gsInAppSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsInAppSettingsPageLoader"),_jQueryGS("#zgs20_gsHideScrollPage").append(loadericon)),setTimeout(function(){_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","hidden"),zgssearch.clickActionForCards()},500)):zgssearch.openCards("allCards")},zgssearch.openCards=function(pageView,target){var argParams;zgssearch.isSavedSearchEnabled&&(zgssearch.isCardPageOpened||(zgssearch.hideQuickActionsPage(),zgssearch.actionsBeforeOpeningSettingsTab(),zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPage").remove(),zgssearch.gsusersettings.isSettingsOpened=!1),zgssearch.cardHash.pageView=pageView,zgssearch.handleOpeningOfCardsAndDashboard("cards"),zgssearch.showCardsPage(),argParams={pageView:pageView,target:target},zgssearch.loadCardsandDashboardFile(function(){zgssearch.cardsFileCallBack(argParams)})))},zgssearch.showCardsPage=function(){zgssearch.hideHomeIcon(),zgssearch.isCardPageOpened=!0,_jQueryGS("#zgs20_gsCardsPage").html("").append(zgssearch.getFourDotLoader("zgs20_gsAddCardLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsAddCardLoader")),_jQueryGS("#zgs20_gsCardsPage").css("display","block"),_jQueryGS("#zgs20_gsSettingsPages").css("display","none")},zgssearch.cardsFileCallBack=function(argParams){zgssearch.includes("/cards",window.location.pathname)||zgssearch.gshistory.pushCardsState("/cards","#"+zgssearch.cardHash.home),zgssearch.cardHash.Listen(),zgssearch.gscards.openCardsPage(argParams.pageView,argParams.target)},zgssearch.loadCardsandDashboardFile=function(callback){var dashboardFileUrl;zgssearch.isCardsandDBFilesloaded?callback():(dashboardFileUrl=zgssearch.gsbuildDetails||{},(zgssearch.isNewCardsFileNeeded?zgssearch.gsversion:dashboardFileUrl).BUILD_DATE&&(zgssearch.isNewCardsFileNeeded=!1,dashboardFileUrl=zgssearch.network.getFingerPrintFilePath("js/dashboard.js",!0),zgssearch.network.loadJSFile(dashboardFileUrl,function(){zgssearch.isCardsandDBFilesloaded=!0,callback()})))},zgssearch.closeActionForCards=function(){var service;zgssearch.isCardPageOpened&&(zgssearch.isCardPageOpened=!1,zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.hideCardsPage(),zgssearch.isDashboardEnabled&&zgssearch.includes("/dashboards",window.location.pathname)?zgssearch.clickActionForDashboards():zgssearch.includes("/settings",window.location.pathname)?zgssearch.clickActionForSettings("settings"):(service=zgssearch.gsusersettings.selectedServiceBeforeSettings,zgssearch.updateSearchType(service),service===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():zgssearch.EnablingSSIcon(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block")))},zgssearch.hideCardsPage=function(){zgssearch.isCardPageOpened=!1,_jQueryGS("#zgs20_gsCardsPage").css("display","none"),zgssearch.hasOwnProperty("gscards")&&(zgssearch.gscreatecards.isCreateCardPageOpened=!1,zgssearch.hasEditCard=!1,_jQueryGS("#zgs20_gsCreateCardPage").remove())},zgssearch.disablingSSIcon=function(){zgssearch.isSavedSearchEnabled&&_jQueryGS("#zgs20_gsSSIcon").removeClass("zgs19_gsCSTS").addClass("zgs19_gsSTS zgs19_gsHideEleme")},zgssearch.EnablingSSIcon=function(){zgssearch.isSavedSearchEnabled&&_jQueryGS("#zgs20_gsSSIcon").removeClass("zgs19_gsSTS zgs19_gsHideEleme").addClass("zgs19_gsCSTS")},zgssearch.hideSavedSearches=function(){zgssearch.gssavedsearches.isSSOpened=!1,_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsSavedPage").css("display","none"),zgssearch.gssavedsearches.hideSavedSearchDialog()},zgssearch.updateCurrentPage=function(service){zgssearch.showHomeIcon(),zgssearch.isServiceHasFilter(service)?(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()):zgssearch.displayDefaultPage(!1),zgssearch.renderServiceFilterList(service)},zgssearch.appendMobSupportInWelPage=function(){var androidIconCls,storeLinks,storeContainer,iosLink,browserName,wtitle,wtips,wtipscls,fNew,tipdiv,intranetHeader,browserType=zgssearch.detectBrowser();!zgssearch.GSConstant.zdwp&&zgssearch.isZohoDomain()&&4!==gscomponent.UIType?(1!==gscomponent.UIType&&_jQueryGS("#zgs20_gsWelcomePageTitle").removeClass("zgs19_gsWelcomeTitleNew").addClass("zgs19_gsSmallerWelcomeTitleNew"),0==_jQueryGS(".zgs19_gsWCPScanner").length&&(browserName=1===gscomponent.UIType?"zgs19_gsWPMobSupport":"zgs19_gsSWPMobSupport",_jQueryGS(".zgs19_gsWPSupportOuter").remove(),androidIconCls=-1<zgssearch.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsResultsUniIcons zgs19_gsSCNAndroidSupLink":"zgs19_gsSAndroidSupLink",storeLinks=_jQueryGS("<div>",{class:"zgs19_gsWPSupportInner"}),storeContainer=_jQueryGS("<div>",{class:browserName}),wtipscls=_jQueryGS("<div>",{class:"zgs19_gsWPSupportOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsUDMobSupTit"}).text(zgssearch.getI18NMsg("gs.search.userdetails.welcomepage.appssupport"))).append(storeContainer.append(storeLinks)),iosLink=jQuery("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl zgs19_gsSiOSSupLink",href:zgssearch.GSConstant.IOS_LINK,target:"_blank"}),storeLinks.append(iosLink),browserName=zgssearch.detectBrowser(),!zgssearch.isExtension||zgssearch.isExtension&&"Safari"!=browserName?storeLinks.append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl "+androidIconCls,href:zgssearch.GSConstant.ANDROID_LINK,target:"_blank"})):iosLink.addClass("zgs19_gsSiOSSupLinkExtn"),storeContainer.append(_jQueryGS("<div>",{class:"zgs19_gsWCPScanner zgs19_gsfl"})),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(wtipscls))):zgssearch.GSConstant.zdwp&&4!==gscomponent.UIType&&2!==gscomponent.UIType&&"Chrome"!==browserType&&"Safari"!==browserType&&"Edge"!==browserType&&"Firefox"!==browserType&&(_jQueryGS(".zgs19_gsWPSupportOuter").remove(),wtitle=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_header"),wtips=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_tagline"),fNew=zgssearch.getI18NMsg("gs.search.service.feature_new"),tipdiv=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),intranetHeader=_jQueryGS("<div>",{class:"zgs19_gsWPSupportOuter zgs19_gsWPHoverEffect",gs:"intranetSearch"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeader"}).append(_jQueryGS("<div>",{class:"zgs18_gsConnectorWelPageIcon"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeaderTxt zgs19_gsOverflow",gstitle:wtitle,gs:"intranetSearch"}).text(wtitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageNewTxt"}).text(fNew))).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich2New zgs19_gsfl zgs19_gsTextAlignCenter"}).append(tipdiv)),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(intranetHeader)),zgssearch.isExtension||"Chrome"!==browserType&&"Safari"!==browserType&&"Edge"!==browserType&&"Firefox"!==browserType||(_jQueryGS(".zgs19_gsWPSupportOuter").remove(),wtitle=zgssearch.getI18NMsg("gs.search.extension.welcomepage_header_"+browserType.toLowerCase()),wtips=zgssearch.getI18NMsg("gs.search.extension.welcomepage_tagline"),wtipscls="zgs19_gsExtensionWelPageIcon"+browserType.toLowerCase(),fNew=zgssearch.getI18NMsg("gs.search.service.feature_new"),tipdiv=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),intranetHeader=_jQueryGS("<div>",{class:"zgs19_gsWPSupportOuter zgs19_gsWPExtensionOuter zgs19_gsWPHoverEffect",browserType:browserType,gs:"extensionSearch"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeader"}).append(_jQueryGS("<div>",{class:wtipscls})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeaderTxt zgs19_gsOverflow",gstitle:wtitle,browserType:browserType,gs:"extensionSearch"}).text(wtitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageNewTxt"}).text(fNew))).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich2New zgs19_gsExtensionWelcomelich2New zgs19_gsfl zgs19_gsTextAlignCenter"}).append(tipdiv)),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(intranetHeader))},zgssearch.createOverlayButton=function(){var closeTitle,profileTitle,gsMiniProfileDiv,boxOuterOptionDiv;zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&0===_jQueryGS("#zgs20_gsOverlayButtons").length&&(closeTitle=zgssearch.getI18NMsg("gs.search.close"),profileTitle=zgssearch.getI18NMsg("gs.search.profile"),boxOuterOptionDiv=zgssearch.getI18NMsg("gs.search.service_welcome_go_to")+zgssearch.getI18NMsg("gs.search.service_welcome_page"),gsMiniProfileDiv=_jQueryGS("<div>",{id:"zgs20_gsUserDetails",class:"zgs19_userDetailsPopup zgs19_gsDisplayNone zgs19_zmHactivePopup",gs:"userData"}),boxOuterOptionDiv=_jQueryGS("<div>",{id:"zgs20_gsOverlayButtons"}).append(_jQueryGS("<div>",{class:"zgs19_gsCloseHolder zgs19_gsButtonHolder",title:closeTitle,gs:"gsClose"}).append(_jQueryGS("<div>",{id:"zgs20_closeIcon",class:"zgs19_gsClose",gs:"gsClose"}))).append(_jQueryGS("<div>",{class:"zgs19_gsProfileHolder zgs19_gsButtonHolder",title:profileTitle,gs:"gsOpenProfile"}).append(_jQueryGS("<div>",{id:"zgs20_openProfile",class:"zgs19_gsProfile",gs:"gsOpenProfile"}))).append(_jQueryGS("<div>",{class:"zgs19_gsOpenPageHolder zgs19_gsButtonHolder",title:boxOuterOptionDiv,gs:"gsOpenInNewTab"}).append(_jQueryGS("<div>",{id:"zgs20_openInNewTab",class:"zgs19_gsOpenPage",gs:"gsOpenInNewTab"}))),_jQueryGS("#zgs20_gsSearchTopBandHolder").append(boxOuterOptionDiv).append(gsMiniProfileDiv))},zgssearch.appendGoToInWelPage=function(){var domainSupport;0!==gscomponent.UIType&&2!==gscomponent.UIType||void 0===GSConstant.searchdomainURL||0!=_jQueryGS(".zgs19_gsWPDomainSupportOuter").length||(domainSupport=_jQueryGS("<div>",{class:"zgs19_gsWPDomainSupportOuter"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.service_welcome_go_to")).append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:"zgs19_gsDomainLink",href:zgssearch.httptxt+"://"+GSConstant.searchdomainURL,target:"_blank"}).text(GSConstant.searchdomainURL))),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(domainSupport))},_jQueryGS.fn.exists=function(){return 0<_jQueryGS(this).length},zgssearch.renderHomePageQuickActions=function(){var argparams,params;zgssearch.isMobViewport()||document.getElementById("zgs20_gsQuickActionsPage")||(zgssearch.displayDefaultPage(!1),_jQueryGS("#zgs20_gsSearchTab").addClass("zgs19_gsTabOptionSelected"),_jQueryGS("#zgs20_gsResultsHolder").append("<div id='zgs20_gsQuickActionsPage' class='zgs19_gsQuickActionsPage zgs19_gsDisplayNone'>"),params=Object.keys(zgssearch.cardTypes),zgssearch.isCardRespRecieved=!1,zgssearch.isDashboardRespRecieved=!1,zgssearch.gscardUtils.constructGetCardParams(params,0,20,0,zgssearch.renderQuickActionsCardsSection),zgssearch.gscardUtils.getCardsMeta(),argparams={sort:0,callback:zgssearch.renderQuickDashboardSection},params="start=0&count="+zgssearch.dashboardCount,zgssearch.gsdbUtils.getDashboardMeta(params,argparams))},zgssearch.constructQuickActionSection=function(viewType,totalSections,QuickActSects){zgssearch.showQuickActionsPage=!0,zgssearch.hideWelcomePage();totalSections="<div id='zgs20_gs"+viewType+"QuickActions' class='zgs19_gsQuickActSection'>\n                                <div class='zgs19_gsQuickActSectInr'>\n                                    <div class='zgs19_gsQuickActHdr'>"+totalSections+"</div>\n                                    <div id='zgs20_gs"+viewType+"QuickActList' class='zgs19_gsQuickActCont'></div>\n                                    <div id='zgs20_gs"+viewType+"More' class='zgs19_gsQuickActMore' gs="+viewType+"More type="+QuickActSects+">More..</div>\n                                </div>\n                            </div>",QuickActSects=_jQueryGS("#zgs20_gsQuickActionsPage");QuickActSects.css("display","flex"),"savedcards"===viewType||"previewcards"===viewType||"systemcards"===viewType?QuickActSects.prepend(totalSections):QuickActSects.append(totalSections);QuickActSects=_jQueryGS(".zgs19_gsQuickActSection"),totalSections=QuickActSects.length;QuickActSects.css("width",100/totalSections+"%")},zgssearch.renderQuickActionsElements=function(parentId,viewid,serviceIcon,ssElement,type,gsattr){var iconHolder=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl "+serviceIcon}),ssElement=_jQueryGS("<div>",{viewid:viewid,class:"zgs19_gsCardsInfoHome zgs19_gsSSServiceIcon zgs19_gsMenuOptionChild",type:type,gs:gsattr}).append(_jQueryGS("<div>",{class:"zgs19_gsQuickActEachElem"}).append(iconHolder).append(_jQueryGS("<span>",{class:"zgs19_gsSSTitle zgs19_gsOverflow",gstitle:ssElement}).text(ssElement)).append(_jQueryGS("<div>",{class:"zgs19_gsCardActionHolder zgs19_gsCurPointer zgs19_gsVisibleHidden"})));_jQueryGS("#zgs20_gs"+parentId+"QuickActList").append(ssElement),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceIcon)&&zgssearch.obtainLineIconPaths(serviceIcon,_jQueryGS(iconHolder)[0])},zgssearch.renderQuickActionsCardsSection=function(responseData,argparams,msg){if(zgssearch.isCardRespRecieved=!0,!msg)for(var totalCrds=0==zgssearch.gscomponent.UIType?10:15,totalTypes=Object.keys(zgssearch.cardNameVsTypes),i=totalTypes.length-1;0<=i;i--){var typeName=totalTypes[i];if(responseData.hasOwnProperty(typeName)){var cardType=zgssearch.cardNameVsTypes[typeName],cardData=responseData[typeName].data,eachCardLen=cardData.length;if(0<eachCardLen){var title=zgssearch.cardTypeTitle[cardType];zgssearch.constructQuickActionSection(typeName,title,cardType);for(var j=0;j<eachCardLen&&j<totalCrds;j++){var data=cardData[j],serviceIcon=data.hasOwnProperty("service")?zgssearch.mappedServiceList[data.service].serviceicon:"",cardId=data.cardid||data.embeddablecardid,title=data.cardname||data.name;zgssearch.renderQuickActionsElements(typeName,cardId,serviceIcon,title,cardType,"cardMenuTitle")}j==totalCrds&&j<eachCardLen&&_jQueryGS("#zgs20_gs"+typeName+"More").css("display","block");var totalListHeight=40*j;_jQueryGS("#zgs20_gs"+typeName+"QuickActList").css("height",totalListHeight+"px")}}}zgssearch.toggleHomePageBasedOnQuickActResp()},zgssearch.renderQuickDashboardSection=function(totalListHeight){if(zgssearch.isDashboardRespRecieved=!0,!totalListHeight){var dbData=zgssearch.gsdbUtils.dashboardMeta,dbList=zgssearch.gsdbUtils.listOfDashboards,dbLen=dbList.length,totaldBs=0==zgssearch.gscomponent.UIType?10:15;if(0<dbLen){zgssearch.constructQuickActionSection("dashboard",zgssearch.getI18NMsg("common.d.dashboards"),"");for(var i=0;i<dbLen&&i<totaldBs;i++){var dbId=dbList[i],dbName=dbData[dbId].name;zgssearch.renderQuickActionsElements("dashboard",dbId,"zgs18_gsDashboardIcon zgs19_gsDashboardIcon",dbName,"","dbHomeTitle")}i==totaldBs&&i<dbLen&&_jQueryGS("#zgs20_gsdashboardMore").css("display","block");totalListHeight=40*i;_jQueryGS("#zgs20_gsdashboardQuickActList").css("height",totalListHeight+"px")}}zgssearch.toggleHomePageBasedOnQuickActResp()},zgssearch.toggleHomePageBasedOnQuickActResp=function(){zgssearch.isCardRespRecieved&&zgssearch.isDashboardRespRecieved&&(zgssearch.isDashboardRespRecieved=!1,zgssearch.isCardRespRecieved=!1,0===_jQueryGS(".zgs19_gsQuickActSection").length&&"search"===zgssearch.seletedLeftPanelDivision&&zgssearch.showWelcomePage())},zgssearch.hideQuickActionsPage=function(){zgssearch.showQuickActionsPage=!1,_jQueryGS("#zgs20_gsQuickActionsPage").css("display","none")},zgssearch.renderLandingPage=function(){zgssearch.isDashboardEnabled?zgssearch.renderHomePageQuickActions():zgssearch.renderWelcomePage(),zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED?zgssearch.createOverlayButton():zgssearch.appendGoToInWelPage()},zgssearch.renderWelcomePage=function(){var wtitle,wtips,childElem1,childElem2,childElem3,searchType,searchedQuery;zgssearch.loadWelcomePage||(_jQueryGS("#zgs20_gsWelcomePage").is(":visible")?zgssearch.isWPRNeeded=!0:(zgssearch.loadWelcomePage=!0,wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_pagetips"),_jQueryGS("#zgs20_gsHideScrollPage").exists()&&zgssearch.removeEle(_jQueryGS("#zgs20_gsHideScrollPage")[0]),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsHideScrollPage",class:"zgs19_gsHideScroll zgs19_gsServicesPaneLeft zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsWelcomePage",class:"zgs19_gsWelcomePage"}).append(_jQueryGS("<div>",{id:"zgs20_gsWelcomeHeaderScroll",class:"zgs19_gsWelcomeHeaderScroll"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTitleNew zgs19_gsOverflow zgs19_gsBorderBox",id:"zgs20_gsWelcomePageTitle"}).append(_jQueryGS("<span>").text(wtitle))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTips zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{gstitle:wtips}).text(wtips))))))),searchedQuery=_jQueryGS("<div>",{class:"zgs19_gsWelcomeulNew"}),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyapps"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappstips"),childElem3=(zgssearch.gscomponent.hasOwnProperty("suiteServices")&&zgssearch.gscomponent.suiteServices[1]?"#"+zgssearch.gscomponent.suiteServices[1]:"")||zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsMail"),searchType=zgssearch.getI18NMsg("gs.search.service_common_or"),childElem1=(zgssearch.gscomponent.hasOwnProperty("suiteServices")&&zgssearch.gscomponent.suiteServices[2]?"#"+zgssearch.gscomponent.suiteServices[2]:"")||zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsCRM"),childElem2=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappstips")+childElem3+searchType+childElem1,searchType=_jQueryGS("<span>",{gstitle:childElem2}).text(wtips).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(childElem3)).append(searchType).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(childElem1)),childElem1=zgssearch.renderWelcomeChild("zgs18_gsWelcomeHash",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontact"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontacttips"),childElem3=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontactJohn"),searchType=_jQueryGS("<div>",{gstitle:childElem2=wtips+childElem3}).text(wtips).append(_jQueryGS("<div>",{class:"zgs19_gsFitContent zgs19_gsWelcomementionNew"}).text(childElem3)),childElem2=zgssearch.renderWelcomeChild("zgs18_gsWelcomeAT",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_filter"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_filtertips"),searchType=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),childElem3=zgssearch.renderWelcomeChild("zgs18_gsWelcomeFilter",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_quickactions"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_quickactionstip"),searchType=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),searchType=zgssearch.renderWelcomeChild("zgs18_gsWelcomeQuickActions",wtitle,searchType),searchedQuery.append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem1).append(childElem2)).append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem3).append(searchType)),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeFooter"}).append(searchedQuery)),_jQueryGS(".zgs19_gsWPSupportOuter").remove(),zgssearch.appendMobSupportInWelPage(),_jQueryGS("#zgs20_gsHomeIcon").hide(),searchType=zgssearch.getSearchType(),searchedQuery=zgssearch.searchedQuery||"",GSConstant.ALL==searchType&&""==searchedQuery&&(zgssearch.showWelcomePage(),zgssearch.displayDefaultPage(!1))))},zgssearch.renderWelcomeChild=function(icon,title,tipdiv){return _jQueryGS("<div>",{class:"zgs19_gsWelcomeli zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich1 zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeIconHol zgs19_gsfl"}).append(_jQueryGS("<div>",{class:icon}))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomechnameNew zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:title}).text(title)))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich2New zgs19_gsfl zgs19_gsOverflowWrap"}).append(tipdiv)))},zgssearch.showWelcomePage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsHideScrollPage").css("display","block")},zgssearch.hideWelcomePage=function(){_jQueryGS("#zgs20_gsHideScrollPage").css("display","none")},zgssearch.showHomeIcon=function(){zgssearch.hideHomeIcon();var searchType=zgssearch.getSearchType();GSConstant.ALL!=searchType||0<zgssearch.total_no_of_results||zgssearch.noMoreResults||_jQueryGS("#zgs20_gsHomeIcon").css("display","block")},zgssearch.hideHomeIcon=function(){_jQueryGS("#zgs20_gsHomeIcon").css("display","none")},zgssearch.getWidthOfText=function(tdummywidth,maxWidth,className){className=className||"zgs19_gstooltext";var telem1=zgssearch.getTargetElem("zgs20_globalsearch");_jQueryGS(telem1).append(_jQueryGS("<div>",{id:"zgs20_gsDummytootltip",class:"zgs19_gsdummytooltext zgs19_gsOverflow "+className}).text(tdummywidth));tdummywidth=zgssearch.getTargetElem("zgs20_gsDummytootltip").getBoundingClientRect().width;return _jQueryGS("#zgs20_gsDummytootltip").remove(),maxWidth<tdummywidth?maxWidth:tdummywidth},zgssearch.isWPMobViewPort=function(){if("ZW"===gscomponent.pcode&&gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia){var zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0;return 0!=zsWidth&&zsWidth<=768}return!1},zgssearch.focusForWeb=function(id){_jQueryGS("#"+id)[0]&&(zgssearch.isMobileBrowser()?zgssearch.getTargetElem(id).blur():zgssearch.focus(id))},zgssearch.isMobileBrowser=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(zgssearch.userAgent)},zgssearch.isIOS=function(){return zgssearch.userAgent.match(/ipad|iphone/i)},zgssearch.setConstAllServList=function(serviceArray){zgssearch.allServiceList=serviceArray},zgssearch.getAllServiceList=function(){return zgssearch.allServiceList||[]},zgssearch.setConstAllServList=function(allserviceslist){zgssearch.GSConstant.allserviceslist=allserviceslist},zgssearch.getConstAllServList=function(){return zgssearch.GSConstant.allserviceslist||[]},zgssearch.setEnabledServiceList=function(enabledserviceslist){zgssearch.GSConstant.enabledserviceslist=enabledserviceslist},zgssearch.getEnabledServiceList=function(){return zgssearch.GSConstant.enabledserviceslist||[]},zgssearch.setAccessibleServiceList=function(serviceList){zgssearch.GSConstant.accessibleServices=serviceList},zgssearch.getAccessibleServiceList=function(){return zgssearch.GSConstant.accessibleServices||[]},zgssearch.initServiceList()}(zgssearch,window),function(zgssearch,window){var GSConstant=(zgssearch=window.zgssearch||{}).getGSConstantObj()||{};zgssearch.checkAndAddMultiSelectFilter=function(service,wffodata){zgssearch.isMultiSelectfilterEnabledService(service)&&zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0)},zgssearch.getFilterRelatedDetails=function(service){var detailsObj={};switch(service){case GSConstant.PEOPLE:case GSConstant.CLIQ:case GSConstant.CRM:case GSConstant.BIGIN:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.CAMPAIGNS:case GSConstant.ORGRESOURCES:detailsObj={title:zgssearch.getI18NMsg("gs.search.multi.organization"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allorganizations")};break;case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:case GSConstant.MAILS:case GSConstant.WORKDRIVE:case GSConstant.DOCUMENTS:case GSConstant.NOTEBOOK:case GSConstant.CALENDAR:case GSConstant.CREATOR:case GSConstant.WEBSITE:case GSConstant.GOOGLEDRIVE:case GSConstant.DROPBOX:case GSConstant.BOX:case GSConstant.ONEDRIVE:case GSConstant.O365MAIL:case GSConstant.SALESFORCE:case GSConstant.ASANA:case GSConstant.EVERNOTE:detailsObj={title:zgssearch.getI18NMsg("common.accounts"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allaccounts")};break;case GSConstant.CONNECT:detailsObj={title:zgssearch.getI18NMsg("common.networks"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allnetworks")};break;case GSConstant.REPORTS:case GSConstant.SLACK:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.databases"),fdispName:zgssearch.getI18NMsg("gs.search.filter.alldatabases")};break;case GSConstant.WIKI:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.wikis"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allwikis")};break;case GSConstant.SUPPORT:case GSConstant.PROJECTS:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.portals"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allportals")}}return detailsObj},zgssearch.loadWidgetList=function(widgetObj){var servicesInfoObj={},enabledService=[],slist=zgssearch.serviceList;if(widgetObj.hasOwnProperty("servicesinfo")){zgssearch.setFullWidgetResponseData(widgetObj);for(var servicesInfoObj=widgetObj.servicesinfo,slistLen=(slist=widgetObj.hasOwnProperty("allserviceslist")?widgetObj.allserviceslist:slist).length,i=0;i<slistLen;i++){var service=slist[i],eachServiceObj=servicesInfoObj.hasOwnProperty(service)?servicesInfoObj[service]:{};eachServiceObj.hasOwnProperty("e")&&eachServiceObj.e&&enabledService.push(service),(!zgssearch.filterFallback||zgssearch.filterFallback&&service!==zgssearch.searchType)&&(zgssearch.setWidgetResponseData(service,eachServiceObj),zgssearch.formatWidgetData(service,eachServiceObj))}zgssearch.setEnabledServiceList(enabledService)}},zgssearch.formatWidgetData=function(service,eachServiceObj){var accList=eachServiceObj.hasOwnProperty("all")?eachServiceObj.all:[],accsObj=eachServiceObj.hasOwnProperty("aD")?eachServiceObj.aD:{},sortVal=eachServiceObj.hasOwnProperty("s")?eachServiceObj.s:-1,gffo={};switch(service){case GSConstant.PEOPLE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setPeopleWidgetData(service,accList,accsObj,gffo);break;case GSConstant.PERSONALCONTACTS:case GSConstant.ORGCONTACTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.MAILS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setMailWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CLIQ:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCliqWidgetData(service,gffo,sortVal);break;case GSConstant.CHAT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setChatWidgetData(service,gffo,sortVal);break;case GSConstant.CONNECT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setConnectWidgetData(service,gffo,sortVal);break;case GSConstant.WORKDRIVE:zgssearch.setWorkdriveWidgetData(service,accList,accsObj,sortVal);break;case GSConstant.DOCUMENTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setDocumentsWidgetData(service,gffo,sortVal);break;case GSConstant.REPORTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setReportsWidgetData(service,gffo);break;case GSConstant.WIKI:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setWikiWidgetData(service,gffo,sortVal);break;case GSConstant.NOTEBOOK:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setNotebookWidgetData(service,gffo,sortVal);break;case GSConstant.CALENDAR:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCalendarWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.SUPPORT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setDeskWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.CRM:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCrmWidgetData(service,accList,accsObj,gffo);break;case GSConstant.BIGIN:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setBiginWidgetData(service,accList,accsObj,gffo);break;case GSConstant.BOOKS:case GSConstant.INVOICE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setBooksWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CAMPAIGNS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCampaignsWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CREATOR:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCreatorWidgetData(service,gffo);break;case GSConstant.ORGRESOURCES:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setOrgResourcesWidgetData(service,accList,accsObj,gffo);break;case GSConstant.WEBSITE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setWebsiteWidgetData(service,accList,accsObj,gffo);break;case GSConstant.GOOGLEDRIVE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setGDriveWidgetData(service,gffo);break;case GSConstant.DROPBOX:case GSConstant.BOX:case GSConstant.ONEDRIVE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.O365MAIL:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setO365MailWidgetData(service,accList,accsObj,gffo);break;case GSConstant.SLACK:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.SALESFORCE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setSalesForceWidgetData(service,accList,accsObj,gffo);break;case GSConstant.ASANA:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAsanaWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.EVERNOTE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setEvernoteWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.PROJECTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setProjectsWidgetData(service,accList,accsObj,gffo,sortVal)}},zgssearch.setAccountsObjForService=function(service,accList,accsObj){for(var fdefault="",multidefault="",fdispName="",gffo={},fData={},wffodata={},alldata={},accIdArr=[],eachAccObj={},accLen=accList.length,i=0;i<accLen;i++){var name,accId=accList[i];accsObj.hasOwnProperty(accId)&&(name=(eachAccObj=accsObj[accId]).hasOwnProperty("n")?eachAccObj.n:"",name=zgssearch.replaceHTMLEntity(name),eachAccObj.e&&(fData[accId]=name,accIdArr.push(accId)),alldata[accId]=name,eachAccObj.d&&(multidefault=accId))}var fdispName=alldata[fdefault=accIdArr[0]],multidefault=multidefault||fdefault,filterTitle=zgssearch.getFilterRelatedDetails(service);zgssearch.updateMultiPageServiceList(service,accIdArr.length)&&(fdispName=filterTitle.fdispName,fData[fdefault="0"]=fdispName,accIdArr.unshift(fdefault));filterTitle=filterTitle.title;return zgssearch.setFiltersDetails(wffodata,"title",filterTitle),-1<zgssearch.GSConstant.accessible_cloud_apps.indexOf(service)&&zgssearch.setFiltersDetails(wffodata,"app_id",eachAccObj.app_id),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",accIdArr.length),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"alldata",alldata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","accounts_list"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"accounts",wffodata),gffo},zgssearch.setAccountOnlyWidgetData=function(service,gffo){zgssearch.setFiltersDetails(gffo,"order",["accounts"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setPeopleWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){var dId,deptObj={},eachObj=accsObj[accId],depData=eachObj.hasOwnProperty("deptData")?eachObj.deptData:{},deptLen=0;for(dId in depData){var name=depData[dId];deptObj[dId]=name,0===deptLen&&(fdefault=dId,fdispName=name),deptLen++}1<deptLen&&(fdispName=zgssearch.getI18NMsg("gs.search.filter.alldepartments"),deptObj[fdefault="0"]=fdispName,deptLen++),fData[accId]=deptObj}}var msgText=zgssearch.getI18NMsg("gs.search.filter.departments");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",deptLen),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","department"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"departments",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","departments"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setMailWidgetData=function(service,accList,accsObj,gffo){for(var fData={},wffodata={},fLen=0,allAccLen=accList.length,i=0;i<allAccLen;i++){var accId=accList[i],mailAccount=accsObj[accId],tempFolderArr=mailAccount.fArr||[];fData[accId]=zgssearch.formatMailFoldersDetails(tempFolderArr),fLen+=tempFolderArr.length;try{if("1"===mailAccount.accountType&&mailAccount.hasOwnProperty("m")){for(var modules=mailAccount.m,mod_length=modules.length,enabled_mod_list=[],all_mod_list=[],mod=0;mod<mod_length;mod++){var mod_info=JSON.parse(modules[mod]),module_name=mod_info.n,is_enabled=mod_info.e;all_mod_list.push(module_name),is_enabled&&enabled_mod_list.push(module_name),zgssearch.configured_mail_module.push(module_name)}zgssearch.isArrayContain(GSConstant.STREAMS,all_mod_list)&&(zgssearch.isStreamsEnabled=!0),zgssearch.setFiltersDetails(gffo,"allAccDetailsObj",accsObj),zgssearch.setFiltersDetails(gffo,"enabled_mod_list",enabled_mod_list),zgssearch.setFiltersDetails(gffo,"all_mod_list",all_mod_list),zgssearch.setFiltersDetails(gffo,"can_render_account_list",1<allAccLen);var streamsaccsObj={};streamsaccsObj[accId]=mailAccount;var streamsgffo=zgssearch.setAccountsObjForService(GSConstant.STREAMS,[accId],streamsaccsObj);zgssearch.setFilterObj(GSConstant.STREAMS,streamsgffo),zgssearch.isArrayContain(GSConstant.MAILS,zgssearch.account_based_filter_service_list)||zgssearch.account_based_filter_service_list.push(GSConstant.MAILS)}}catch(ex){zgssearch.throwClientError("Error while obatining Mail modules")}}var foldText=zgssearch.getI18NMsg("gs.search.filter.folders");zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","allfolders"),zgssearch.setFiltersDetails(wffodata,"current","allfolders"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"folders",wffodata),zgssearch.setMailOtherFiltersData(service,gffo)},zgssearch.setMailOtherFiltersData=function(service,gffo){var fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};gffo=zgssearch.setDateTypeWidgetData(fData,gffo),wffodata={};var titleText=zgssearch.getI18NMsg("gs.search.filter.withattach");if(fData={withattach:titleText},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","hasAtt"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"attach",wffodata),wffodata={},fData={flagged:titleText=zgssearch.getI18NMsg("gs.search.filter.flagged")},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","hasFlg"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"flag",wffodata),wffodata={},fData={withreplies:titleText=zgssearch.getI18NMsg("gs.search.filter.withreplies")},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","hasResp"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"replies",wffodata),zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)){for(var wffodata={},ffodata={},allffodata=ffodata={all:zgssearch.getI18NMsg("common.allmodules")},enabled_mod_list=gffo.hasOwnProperty("enabled_mod_list")?gffo.enabled_mod_list:[],all_mod_list=gffo.hasOwnProperty("all_mod_list")?gffo.all_mod_list:[],mod=0;mod<enabled_mod_list.length;mod++)ffodata[module_name=enabled_mod_list[mod].toLowerCase()]=zgssearch.mailModuleVsDispName[module_name];for(var module_name,mod=0;mod<all_mod_list.length;mod++)allffodata[module_name=all_mod_list[mod].toLowerCase()]=zgssearch.mailModuleVsDispName[module_name];var mail_order=1==all_mod_list.length?service:GSConstant.ALL;zgssearch.dpa_mod=mail_order;var can_render_account_list=zgssearch.dpa_mod===GSConstant.ALL?zgssearch.getI18NMsg("common.allmodules"):zgssearch.getI18NMsg("gs.search.service_mails");zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("common.modules")),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"alldata",allffodata),zgssearch.setFiltersDetails(wffodata,"length",enabled_mod_list.length),zgssearch.setFiltersDetails(wffodata,"default",mail_order),zgssearch.setFiltersDetails(wffodata,"current",mail_order),zgssearch.setFiltersDetails(wffodata,"dispname",can_render_account_list),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"module",wffodata),wffodata={},ffodata={};ffodata={tome:zgssearch.getI18NMsg("gs.search.filter.allstreams"),allUnread:zgssearch.getI18NMsg("gs.search.filter.unread"),invited:zgssearch.getI18NMsg("gs.search.filter.invites"),mention:zgssearch.getI18NMsg("gs.search.filter.at_mentions"),label:zgssearch.getI18NMsg("gs.search.filter.favourites"),byme:zgssearch.getI18NMsg("gs.search.filter.streams_by_me")},mail_order=zgssearch.getI18NMsg("gs.search.filter.view");zgssearch.setFiltersDetails(wffodata,"title",mail_order),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","view"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"alldata",ffodata),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"mdefault","tome"),zgssearch.setFiltersDetails(wffodata,"default","tome"),zgssearch.setFiltersDetails(wffodata,"current","tome"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allstreams")),zgssearch.setFiltersDetails(gffo,"view",wffodata),wffodata={},ffodata={},ffodata={"-1":zgssearch.getI18NMsg("gs.search.filter.allentities"),1:zgssearch.getI18NMsg("gs.search.filter.emails"),2:zgssearch.getI18NMsg("gs.search.filter.notes"),3:zgssearch.getI18NMsg("gs.search.filter.tasks"),4:zgssearch.getI18NMsg("gs.search.filter.events"),6:zgssearch.getI18NMsg("gs.search.filter.postmesseges"),10:zgssearch.getI18NMsg("gs.search.filter.bookmarks")};mail_order=zgssearch.getI18NMsg("gs.search.filter.entity_type");zgssearch.setFiltersDetails(wffodata,"title",mail_order),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","entity_type"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"alldata",ffodata),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(ffodata).length),zgssearch.setFiltersDetails(wffodata,"default","-1"),zgssearch.setFiltersDetails(wffodata,"current","-1"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allentities")),zgssearch.setFiltersDetails(wffodata,"render_order",[-1,1,2,3,4,6,10]),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"entity_type",wffodata);can_render_account_list=!(!gffo.hasOwnProperty("can_render_account_list")||!zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS))&&gffo.can_render_account_list,mail_order=can_render_account_list?["module","folders","date","attach","flag","replies"]:["folders","date","attach","flag","replies"];zgssearch.setFiltersDetails(gffo,"streams_order",can_render_account_list?["module","view","entity_type","date"]:["view","entity_type","date"]),zgssearch.setFiltersDetails(gffo,"mails_order",mail_order),gffo.hasOwnProperty("enabled_mod_list")&&0<gffo.enabled_mod_list.length&&can_render_account_list&&zgssearch.setFiltersDetails(gffo,"primary_order",["module"])}mail_order=["accounts","folders","date","attach","flag","replies"];zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)&&(mail_order=can_render_account_list?["accounts"]:["module"],zgssearch.setFiltersDetails(gffo,"non_primary_order",["folders","date","attach","flag","replies"]),zgssearch.setFiltersDetails(gffo,"hidden_bg_order",["accounts","module","folders","date","attach","flag","replies","view","entity_type","date"])),zgssearch.setFiltersDetails(gffo,"order",mail_order),zgssearch.setFilterObj(service,gffo),zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)&&(zgssearch.gFilterData[GSConstant.MAILS].accounts.subtype=1)},zgssearch.setConnectWidgetData=function(service,gffo,sortVal){var wffodata={},fData={all:zgssearch.getI18NMsg("common.allmodules"),feeds:zgssearch.getI18NMsg("gs.search.filter.feeds"),forums:zgssearch.getI18NMsg("gs.search.filter.forums")},connecttypeText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",connecttypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"connecttype",wffodata),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","connecttype","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCliqWidgetData=function(service,gffo,sortVal){var wffodata={},fData={0:zgssearch.getI18NMsg("common.allmodules"),1:zgssearch.getI18NMsg("gs.search.filter.cliq.chat"),8:zgssearch.getI18NMsg("gs.search.filter.cliq.channel"),9:zgssearch.getI18NMsg("gs.search.filter.cliq.bot")},msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",4),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setChatWidgetData=function(service,gffo,sortVal){var fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},gffo=zgssearch.setDateTypeWidgetData(fData,gffo);zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["chattype","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setWorkdriveWidgetData=function(service,accList,fData,sortVal){var gffo={},edition=fData[accList[0]||""]||"",edition=edition.hasOwnProperty("moduleData")?edition.moduleData:[];0<edition.length&&((edition=(edition=edition[0]).hasOwnProperty("edition")?edition.edition:"")&&""!==edition&&("TEAM"===(zgssearch.editionTypeForWD=edition)?(gffo=zgssearch.formatWDTeamEditionDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","filetype","date"])):"ENTERPRISE"===edition&&(gffo=zgssearch.formatWDEnterpriseDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","teams","folders","filetype","date"]))));fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),folder:zgssearch.getI18NMsg("gs.search.filter.folders"),documents:zgssearch.getI18NMsg("gs.search.filter.writer"),spreadsheets:zgssearch.getI18NMsg("gs.search.filter.sheet"),presentations:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),images:zgssearch.getI18NMsg("gs.search.filter.image"),audio:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video")},gffo=zgssearch.setFileTypeWidgetData(fData,gffo),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};gffo=zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFilterObj(service,gffo)},zgssearch.formatWDTeamEditionDetails=function(accList,accsObj,gffo){for(var wffodata={},fData={},accIdArr=[],folderData={},accListArr=[],fdefault="",fdispName="",fLen=0,folderLen=0,accLen=accList.length,i=0;i<accLen;i++){var moduleObj=accList[i];accListArr.push(moduleObj);moduleObj=accsObj[moduleObj],moduleObj=moduleObj.hasOwnProperty("moduleData")?moduleObj.moduleData:[];if(0<moduleObj.length)for(var moduleObj=moduleObj[0],defaultTeam=moduleObj.hasOwnProperty("d")?moduleObj.d:"",teamsList=moduleObj.hasOwnProperty("list")?moduleObj.list:[],teamfolders=moduleObj.hasOwnProperty("teamws")?moduleObj.teamws:[],fLen=teamsList.length,m=0;m<fLen;m++){var tempWSArr=teamsList[m],teamId=tempWSArr.id,folderArr=tempWSArr.n;(fdefault=defaultTeam||teamsList[0].id)===teamId&&(fdispName=folderArr),accIdArr.push(teamId),fData[teamId]=folderArr;tempWSArr=teamfolders[teamId]||[],folderArr=zgssearch.formatTeamFolderDetails(tempWSArr);folderData[teamId]=folderArr,folderLen+=tempWSArr.length+3}}var foldText=zgssearch.getI18NMsg("gs.search.filter.teams");zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"accListData",accListArr),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"alldata",fData),zgssearch.setFiltersDetails(wffodata,"key","accounts_list"),zgssearch.setFiltersDetails(wffodata,"keyName","WD_teamId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"accounts",wffodata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0);var wffodata={},sfObj=[{isrequired:!0},{0:zgssearch.getI18NMsg("gs.search.filter.searchin"),2:zgssearch.getI18NMsg("gs.search.filter.teamfolders")}],foldText=zgssearch.getI18NMsg("gs.search.filter.locations");return zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alllocations")),zgssearch.setFiltersDetails(wffodata,"length",folderLen),zgssearch.setFiltersDetails(wffodata,"data",folderData),zgssearch.setFiltersDetails(wffodata,"header",sfObj),zgssearch.setFiltersDetails(wffodata,"key","WD_folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"key_type","filter_type"),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"folders",wffodata),gffo},zgssearch.formatTeamFolderDetails=function(wsArr){var tffodata={};tffodata[0]={key:"0",ptype:"staticWS",name:zgssearch.getI18NMsg("gs.search.filter.alllocations")},tffodata[1]={key:"1",ptype:"staticWS",name:zgssearch.getI18NMsg("gs.search.filter.myfolders")},tffodata[2]={key:"2",ptype:"staticWS",name:zgssearch.getI18NMsg("common.shared_with_me")};for(var i=0;i<wsArr.length;i++){var ftype=wsArr[i]||"",fid=ftype.id||"",fname=ftype.n||"",ftype=ftype.ty||"";tffodata[i+3]={key:fid,ptype:ftype,name:fname}}return tffodata},zgssearch.formatWDEnterpriseDetails=function(accList,accsObj,gffo){var wffodata={},fData={},ftdata={},folderData={},fLen=0,folderLen=0;gffo=zgssearch.setAccountsObjForService(GSConstant.WORKDRIVE,accList,accsObj);for(var accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i],oFolen=accsObj[accId],orgWSArr=oFolen.hasOwnProperty("moduleData")?oFolen.moduleData:[];if(0<orgWSArr.length){var id,oFolen=orgWSArr[0],teamsList=oFolen.hasOwnProperty("list")?oFolen.list:[],teamfolders=oFolen.hasOwnProperty("teamws")?oFolen.teamws:[],teamObj={0:zgssearch.getI18NMsg("gs.search.filter.alllocations"),1:zgssearch.getI18NMsg("gs.search.filter.myfolders"),2:zgssearch.getI18NMsg("common.shared_with_me")};for(id in teamObj)ftdata[id]="staticWS";var fLen=3,sfObj=[{isrequired:!0},{0:zgssearch.getI18NMsg("gs.search.filter.searchin")}],orgWSArr=oFolen.hasOwnProperty("orgws")?oFolen.orgws:[],oFolen=orgWSArr.length;0<oFolen?(teamObj[3]=zgssearch.getI18NMsg("gs.search.filter.orgfolders"),ftdata[3]="orgFolder",fLen+=1,sfObj[1][3]=zgssearch.getI18NMsg("gs.search.filter.teams")):sfObj[1][2]=zgssearch.getI18NMsg("gs.search.filter.teams");for(var teamsLen=teamsList.length,m=0;m<teamsLen;m++){var teamId=(eachObj=teamsList[m]).id,name=eachObj.n;teamObj[teamId]=name,ftdata[teamId]=eachObj.ty}if(fLen=teamsLen+fLen,fData[accId]=teamObj,0<teamsLen||0<oFolen){for(m=0;m<teamsLen;m++){var eachObj,tempWSArr=teamfolders[teamId=(eachObj=teamsList[m]).id]||[],folderObj=zgssearch.formatEnterpriseEditionFolderDetails(tempWSArr);folderData[teamId]=folderObj,folderLen+=Object.keys(folderObj).length}0<oFolen&&(folderObj=zgssearch.formatEnterpriseEditionFolderDetails(orgWSArr),folderData[3]=folderObj,folderLen+=Object.keys(folderObj).length)}}}zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("gs.search.filter.locations")),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alllocations")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"ptype",ftdata),zgssearch.setFiltersDetails(wffodata,"header",sfObj),zgssearch.setFiltersDetails(wffodata,"key","WD_teamId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"key_type","filter_type"),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"teams",wffodata);var wffodata={},folderTitle=zgssearch.getI18NMsg("gs.search.filter.teamfolders");return zgssearch.setFiltersDetails(wffodata,"title",folderTitle),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","allfolders"),zgssearch.setFiltersDetails(wffodata,"current","allfolders"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(wffodata,"data",folderData),zgssearch.setFiltersDetails(wffodata,"key","WD_folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"length",folderLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"folders",wffodata),gffo},zgssearch.formatEnterpriseEditionFolderDetails=function(wsArr){var tffodata={},noOffolders=0;1<wsArr.length&&(tffodata[0]={key:"allfolders",name:zgssearch.getI18NMsg("gs.search.filter.allfolders")},noOffolders++);for(var i=0;i<wsArr.length;i++){var fname=wsArr[i]||"",fid=fname.id||"",fname=fname.n||"";tffodata[noOffolders]={key:fid,name:fname},noOffolders++}return tffodata},zgssearch.setDocumentsWidgetData=function(service,gffo,sortVal){var wffodata={},fData={allfiles:zgssearch.getI18NMsg("gs.search.filter.allfiles"),mydocs:zgssearch.getI18NMsg("common.owned_by_me"),sharedtome:zgssearch.getI18NMsg("common.shared_with_me"),sharedbyme:zgssearch.getI18NMsg("gs.search.filter.sharedbyme")},ownertypeText=zgssearch.getI18NMsg("gs.search.filter.ownertype");zgssearch.setFiltersDetails(wffodata,"title",ownertypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","allfiles"),zgssearch.setFiltersDetails(wffodata,"current","allfiles"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfiles")),zgssearch.setFiltersDetails(wffodata,"length",4),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"ownertype",wffodata),fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),writer:zgssearch.getI18NMsg("gs.search.filter.writer"),sheet:zgssearch.getI18NMsg("gs.search.filter.sheet"),show:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),image:zgssearch.getI18NMsg("gs.search.filter.image"),music:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video"),zip:zgssearch.getI18NMsg("gs.search.filter.zip")},zgssearch.setFileTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","ownertype","filetype"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setReportsWidgetData=function(service,gffo){var wffodata,fData,viewtypeText;0<Object.keys(gffo).length&&(wffodata={},fData={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),dashboard:zgssearch.getI18NMsg("common.d.dashboard"),table:zgssearch.getI18NMsg("gs.search.result.reports.table"),pivot:zgssearch.getI18NMsg("gs.search.result.reports.pivot"),analysisview:zgssearch.getI18NMsg("gs.search.result.reports.analysisview"),querytable:zgssearch.getI18NMsg("gs.search.result.reports.querytable"),report:zgssearch.getI18NMsg("gs.search.result.reports.tableview"),summaryview:zgssearch.getI18NMsg("gs.search.result.reports.summaryview")},viewtypeText=zgssearch.getI18NMsg("gs.search.filter.viewtype"),zgssearch.setFiltersDetails(wffodata,"title",viewtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",8),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"viewtype",wffodata)),zgssearch.setFiltersDetails(gffo,"order",["accounts","viewtype"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setWikiWidgetData=function(service,gffo,sortVal){var fData;0<Object.keys(gffo).length&&(fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo)),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setNotebookWidgetData=function(service,gffo,sortVal){var wffodata={},fData={notes:zgssearch.getI18NMsg("common.notes"),notebooks:zgssearch.getI18NMsg("gs.f.nb.notebook")},notetypeTxt=zgssearch.getI18NMsg("gs.search.filter.searchin");zgssearch.setFiltersDetails(wffodata,"title",notetypeTxt),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","notes"),zgssearch.setFiltersDetails(wffodata,"current","notes"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.notes")),zgssearch.setFiltersDetails(wffodata,"length",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"module",wffodata),wffodata={},fData={notes:zgssearch.getI18NMsg("gs.f.nb.allnotes"),favorite:zgssearch.getI18NMsg("gs.f.nb.favorite"),text:zgssearch.getI18NMsg("gs.f.nb.text"),checklist:zgssearch.getI18NMsg("gs.f.nb.checklist"),image:zgssearch.getI18NMsg("gs.f.nb.photo"),contact:zgssearch.getI18NMsg("gs.f.nb.contact"),audio:zgssearch.getI18NMsg("gs.f.nb.audio"),sketch:zgssearch.getI18NMsg("gs.f.nb.sketch"),bookmark:zgssearch.getI18NMsg("gs.f.nb.link")};notetypeTxt=zgssearch.getI18NMsg("gs.f.nb.notecardtypes");zgssearch.setFiltersDetails(wffodata,"title",notetypeTxt),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","notes"),zgssearch.setFiltersDetails(wffodata,"current","notes"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.f.nb.allnotes")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",9),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"notecardtype",wffodata),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","module","notecardtype","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCalendarWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},accLen=accList.length,defServiceId="",defServiceName="",i=0;i<accLen;i++){var serId,serviceName,eachAccObj=accsObj[accList[i]],serviceData=eachAccObj.hasOwnProperty("serviceData")?eachAccObj.serviceData:{},serLen=0;for(i in serviceData)serId=""+serviceData[i],serviceName=zgssearch.getCalendarServiceName(serId),fData[serId]=serviceName,0===serLen&&(defServiceId=serId,defServiceName=serviceName),serLen++;1<serLen&&(defServiceId="0",defServiceName=zgssearch.getI18NMsg("gs.search.filter.allServices"),fData[defServiceId]=defServiceName)}var eventText=zgssearch.getI18NMsg("gs.search.filter.services");zgssearch.setFiltersDetails(wffodata,"title",eventText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defServiceId),zgssearch.setFiltersDetails(wffodata,"current",defServiceId),zgssearch.setFiltersDetails(wffodata,"dispname",defServiceName),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",serLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"services",wffodata),wffodata={},fData={};fData={0:zgssearch.getI18NMsg("gs.search.filter.allEvents"),1:zgssearch.getI18NMsg("gs.search.filter.upcomingEvents"),"-1":zgssearch.getI18NMsg("gs.search.filter.completedEvents")},eventText=zgssearch.getI18NMsg("gs.search.filter.eventTypes");zgssearch.setFiltersDetails(wffodata,"title",eventText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allEvents")),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","eventTypeId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"eventTypes",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),thisweek:zgssearch.getI18NMsg("gs.search.filter.thisweek"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","services","eventTypes","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setDeskWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},ffodefault="",ffodispname="",fLen=0,accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){for(var supportObj={},permIds=accsObj[accId].deptData,lenPermIds=permIds.length,sp=0;sp<lenPermIds;sp++){var permObj=permIds[sp],permId=permObj.id,permName=permObj.name;supportObj[permId]=permName,0===sp&&(ffodefault=permId,ffodispname=permName)}1<lenPermIds&&(permName=zgssearch.getI18NMsg("gs.search.filter.alldepartments"),ffodefault="0",ffodispname=supportObj[0]=permName,lenPermIds++),fLen+=lenPermIds,fData[accId]=supportObj}}var smodulesText=zgssearch.getI18NMsg("gs.search.filter.departments");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","department"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"departments",wffodata);for(var unusedModuleData={},wffodata={},fData={},fLen=0,i=0;i<accLen;i++){accId=accList[i];if(accsObj.hasOwnProperty(accId)){var mid,modList={},unusedmodList={},moduIds=accsObj[accId].moduleData;for(mid in modList[0]=zgssearch.getI18NMsg("common.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modList[mid]=moduIds[mid]:unusedmodList[mid]=moduIds[mid];fData[accId]=modList,unusedModuleData[accId]=unusedmodList,fLen+=Object.keys(modList).length}}smodulesText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"unusedModData",unusedModuleData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","departments","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCrmWidgetData=function(service,accList,accsObj,gffo){var msgText=new zgssearch.ZSCRMSuiteAction;zgssearch.crmOrgInfo=msgText.createActionObj(zgssearch.GSConstant.CRM)||{},_jQueryGS.isEmptyObject(zgssearch.crmOrgInfo)||zgssearch.crmOrgInfo.setOrgDetails(accsObj);for(var wffodata={},fData={},crmUrlObj={},accLen=accList.length,defOrgId=gffo.accounts.mdefault,i=0;i<accLen;i++){var module_data,crmModUrlObj,accId=accList[i];accsObj.hasOwnProperty(accId)&&(module_data=(crmModUrlObj=accsObj[accId]||"").moduleData||crmModUrlObj.modules||[],crmModUrlObj={},crmModUrlObj=zgssearch.setCRMSuiteModuleData(module_data,service),fData[accId]=crmModUrlObj.ffodata,crmUrlObj[accId]=crmModUrlObj.crmUrlObj,zgssearch.crmOrgInfo.setProfileForMod(crmModUrlObj.profiledata,accId),zgssearch.crmOrgInfo.setModuleData(crmModUrlObj.moduleData,accId))}msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData[defOrgId]).length),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"crm_modules",crmUrlObj),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCRMSuiteModuleData=function(widgetJsonArr,service){var fData={},crmSuiteObj={},moduleData={},profiledata={},fLen=0,widgetsLen=widgetJsonArr.length;if(0<widgetsLen){var crmUrlObj={},all_modules=zgssearch.getI18NMsg("common.allmodules");1<widgetsLen&&(fData={all:all_modules},fLen++);for(var m=0;m<widgetsLen;m++){var eachModData={},moduleInfoObj=widgetJsonArr[m],widgetQueryName=moduleInfoObj.modQueryName,widgetModuleName=moduleInfoObj.modDispName,widgetAPIModuleName=moduleInfoObj.modName,widgetProfile=moduleInfoObj.profile;eachModData.isDefault=moduleInfoObj.d||!1,fData[widgetQueryName]=widgetModuleName,fLen++,profiledata[widgetQueryName]=widgetProfile,moduleData[widgetQueryName]=eachModData,service==zgssearch.GSConstant.CRM&&("Deals"===widgetAPIModuleName&&(widgetAPIModuleName="Potentials"),crmUrlObj[widgetQueryName+"_url"]=widgetAPIModuleName)}}return crmSuiteObj.ffodata=fData,crmSuiteObj.crmUrlObj=crmUrlObj,crmSuiteObj.profiledata=profiledata,crmSuiteObj.fiterLen=fLen,crmSuiteObj.moduleData=moduleData,crmSuiteObj},zgssearch.setBiginWidgetData=function(service,accList,accsObj,gffo){var wffodata=new zgssearch.ZSCRMSuiteAction;zgssearch.biginOrgInfo=wffodata.createActionObj(zgssearch.GSConstant.BIGIN)||{},_jQueryGS.isEmptyObject(zgssearch.biginOrgInfo)||zgssearch.biginOrgInfo.setOrgDetails(accsObj);for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){var module_data,biginModObj,accId=accList[i];accsObj.hasOwnProperty(accId)&&(module_data=(biginModObj=accsObj[accId]||"").moduleData||biginModObj.modules||[],biginModObj={},biginModObj=zgssearch.setCRMSuiteModuleData(module_data,service),fData[accId]=biginModObj.ffodata,fLen+=biginModObj.fiterLen,zgssearch.biginOrgInfo.setProfileForMod(biginModObj.profiledata,accId),zgssearch.biginOrgInfo.setModuleData(biginModObj.moduleData,accId))}zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("common.modules")),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setBooksWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,bpi=0;bpi<accLen;bpi++){var booksModuObj,accId=accList[bpi];accsObj.hasOwnProperty(accId)&&(booksModuObj=accsObj[accId].moduleData,booksModuObj=zgssearch.formatBooksModulesDetails(booksModuObj),fData[accId]=booksModuObj,fLen+=Object.keys(booksModuObj).length)}var smodulesText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.formatBooksModulesDetails=function(bmodObj){zgssearch.booksModulesObj||(zgssearch.booksModulesObj={Contact:{key:"contacts",value:zgssearch.getI18NMsg("common.contact")},Invoice:{key:"invoices",value:zgssearch.getI18NMsg("gs.search.service_books.invoices")},Estimate:{key:"estimates",value:zgssearch.getI18NMsg("gs.search.service_books.estimates")},Credit_Note:{key:"creditnotes",value:zgssearch.getI18NMsg("gs.search.service_books.creditnotes")},Payment_Received:{key:"customerpayments",value:zgssearch.getI18NMsg("gs.search.service_books.payreceived")},Recurring_Invoice:{key:"recurring_invoices",value:zgssearch.getI18NMsg("gs.search.service_books.recurringinv")}});var cmod,childMods,booksModuObj={};for(cmod in booksModuObj.all=zgssearch.getI18NMsg("common.allmodules"),zgssearch.booksModulesObj)bmodObj.hasOwnProperty(cmod)&&"true"==bmodObj[cmod]&&(booksModuObj[(childMods=zgssearch.booksModulesObj[cmod]).key]=childMods.value);return booksModuObj},zgssearch.setCampaignsWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){var moduleData=accsObj[accId].moduleData;for(i in moduleData){var modId=moduleData[i];fData[modId]=i,1===fLen&&(fdefault=modId,fdispName=i),fLen++}1<fLen&&(fdefault="0",fdispName=zgssearch.getI18NMsg("common.allmodules"),fData[fdefault]=fdispName,fLen++)}}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCreatorWidgetData=function(service,gffo){var wffodata={},fData={all_apps:zgssearch.getI18NMsg("gs.search.filter.all_applications"),custom_apps:zgssearch.getI18NMsg("gs.search.result.creator.custom_apps"),personal_apps:zgssearch.getI18NMsg("common.owned_by_me"),shared_apps:zgssearch.getI18NMsg("common.shared_with_me"),shared_to_group_apps:zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps")},applicationtypeText=zgssearch.getI18NMsg("gs.search.filter.applications");zgssearch.setFiltersDetails(wffodata,"title",applicationtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all_apps"),zgssearch.setFiltersDetails(wffodata,"current","all_apps"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.all_applications")),zgssearch.setFiltersDetails(wffodata,"length",5),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"applications",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","applications"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setOrgResourcesWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:{},modArr=orgIdData.hasOwnProperty("moduleData")?orgIdData.moduleData:"",mods={},defModId="",curModId="",dispname="",modLen=modArr.length,con=0;con<modLen;con++){var modName=modArr[con]||"",modId=modName.hasOwnProperty("connector_id")?modName.connector_id:"",modName=modName.hasOwnProperty("display_name")?modName.display_name:"";mods[modId]=modName}1<modLen?(defModId=curModId="0",mods[0]=dispname=zgssearch.getI18NMsg("common.allmodules")):1==modLen&&(defModId=curModId=modArr[0].hasOwnProperty("connector_id")?modArr[0].connector_id:"",dispname=modArr[0].hasOwnProperty("display_name")?modArr[0].display_name:""),fData[accId]=mods,fLen+=modLen}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setWebsiteWidgetData=function(service,accList,accsObj,gffo){for(var finalObj={},fData={},fLen=0,fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var categIdArr=[],eachAccdata=accList[i],eachAccdata=accsObj.hasOwnProperty(eachAccdata)?accsObj[eachAccdata]:"",servicesData=eachAccdata.hasOwnProperty("appsData")?eachAccdata.appsData:{},dataLen=servicesData.length;1<dataLen?(fdefault="all_applications",fdispName=zgssearch.getI18NMsg("gs.search.filter.all_applications"),fData[fdefault]=zgssearch.getI18NMsg("gs.search.filter.all_applications")):1===dataLen&&(fdefault=(serviceInfoObj=servicesData[0]).pN,fdispName=serviceInfoObj.dN);for(var m=0;m<dataLen;m++){var serviceInfoObj,categId=(serviceInfoObj=servicesData[m]).pN,categName=serviceInfoObj.dN;fData[categId]=categName,categIdArr.push(categId)}fLen+=dataLen}var pageType=zgssearch.getI18NMsg("gs.search.filter.applications");zgssearch.setFiltersDetails(finalObj,"title",pageType),zgssearch.setFiltersDetails(finalObj,"type","1"),zgssearch.setFiltersDetails(finalObj,"default",fdefault),zgssearch.setFiltersDetails(finalObj,"current",fdefault),zgssearch.setFiltersDetails(finalObj,"dispname",fdispName),zgssearch.setFiltersDetails(finalObj,"length",fLen),zgssearch.checkAndAddMultiSelectFilter(service,finalObj),zgssearch.setFiltersDetails(finalObj,"isDependentKey",!0),zgssearch.setFiltersDetails(finalObj,"data",fData),zgssearch.setFiltersDetails(finalObj,"key","cI"),zgssearch.setFiltersDetails(finalObj,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"serviceType",finalObj),finalObj={},fData={};fData={all_page_types:zgssearch.getI18NMsg("gs.search.filter.allpagetype"),help:zgssearch.getI18NMsg("gs.search.filter.resources"),deskkb:zgssearch.getI18NMsg("gs.search.filter.deskkb"),helpvideos:zgssearch.getI18NMsg("gs.search.filter.helpvideo")},pageType=zgssearch.getI18NMsg("gs.search.filter.pagetype");return zgssearch.setFiltersDetails(finalObj,"title",pageType),zgssearch.setFiltersDetails(finalObj,"type","1"),zgssearch.setFiltersDetails(finalObj,"default",zgssearch.GSConstant.WEBSITE_PAGE_TYPES),zgssearch.setFiltersDetails(finalObj,"current",zgssearch.GSConstant.WEBSITE_PAGE_TYPES),zgssearch.setFiltersDetails(finalObj,"dispname",zgssearch.getI18NMsg("gs.search.filter.allpagetype")),zgssearch.checkAndAddMultiSelectFilter(service,finalObj),zgssearch.setFiltersDetails(finalObj,"length",4),zgssearch.setFiltersDetails(finalObj,"data",fData),zgssearch.setFiltersDetails(finalObj,"key","pT"),zgssearch.setFiltersDetails(finalObj,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"categ",finalObj),zgssearch.setFiltersDetails(gffo,"order",["accounts","serviceType","categ"]),zgssearch.setFilterObj(service,gffo),-1<zgssearch.gscomponent.nonAccountFilterServices.indexOf(zgssearch.GSConstant.WEBSITE)&&((finalObj=zgssearch.getWidgetResponseData(service)).eO=categIdArr,zgssearch.setWidgetResponseData(service,finalObj)),gffo},zgssearch.setGDriveWidgetData=function(service,gffo){var wffodata={},fData={allfiles:zgssearch.getI18NMsg("gs.search.filter.allfiles"),mydocs:zgssearch.getI18NMsg("common.owned_by_me"),sharedtome:zgssearch.getI18NMsg("common.shared_with_me"),trash:zgssearch.getI18NMsg("gs.search.filter.trash")},filetypeText=zgssearch.getI18NMsg("gs.search.filter.ownertype");zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","allfiles"),zgssearch.setFiltersDetails(wffodata,"current","allfiles"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfiles")),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"ownertype",wffodata),wffodata={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),writer:zgssearch.getI18NMsg("gs.search.filter.writer"),sheet:zgssearch.getI18NMsg("gs.search.filter.sheet"),show:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),image:zgssearch.getI18NMsg("gs.search.filter.image"),music:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video"),zip:zgssearch.getI18NMsg("gs.search.filter.zip")};filetypeText=zgssearch.getI18NMsg("common.fileType");zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"filetype",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","ownertype","filetype"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setO365MailWidgetData=function(service,accList,accsObj,gffo){for(var fData={},accLen=accList.length,wffodata={},fData={},fLen=0,i=0;i<accLen;i++){var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:"",modArr=orgIdData.hasOwnProperty("modules")?orgIdData.modules:"",mods={},defModId="",curModId="",dispname="",modLen=modArr.length;fLen+=modLen,1<modLen?(defModId=curModId="0",mods[0]=dispname=zgssearch.getI18NMsg("gs.search.filter.allfolders")):1==modLen&&(defModId=curModId=modArr[0].hasOwnProperty("id")?modArr[0].id:"",dispname=modArr[0].hasOwnProperty("name")?modArr[0].name:"");for(var con=0;con<modLen;con++){var modName=modArr[con]||"",modId=modName.hasOwnProperty("id")?modName.id:"",modName=modName.hasOwnProperty("name")?modName.name:"";mods[modId]=modName}fData[accId]=mods}var msgText=zgssearch.getI18NMsg("gs.search.filter.allfolders");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"folders",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),wffodata={},fData={},fData={withattach:msgText=zgssearch.getI18NMsg("gs.search.filter.withattach")},zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","hasAtt"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"attach",wffodata),wffodata={},fData={},fData={unread:msgText=zgssearch.getI18NMsg("common.unread")},zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","isRead"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"unread",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","date","attach","unread"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setSalesForceWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i],orgIdData=accsObj[accId]||{},module_data=orgIdData.moduleData||orgIdData.modules||[],modLen=module_data.length,modules_filter_info={};1<modLen&&(modules_filter_info.all=zgssearch.getI18NMsg("common.allmodules"),fLen++);for(var module=0;module<modLen;module++){var module_info_obj=module_data[module],display_name=module_info_obj.name;modules_filter_info[module_info_obj.id]=display_name}fData[accId]=modules_filter_info,fLen+=modLen}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setAsanaWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},fdefault="",fdispName="",fLen=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],workspace_details=(accsObj[accId]||"").modules||[],total_ws=workspace_details.length,wsData={},ws=0;ws<total_ws;ws++){var workspace_id=workspace_details[ws],display_name=workspace_id.name,workspace_id=workspace_id.id;wsData[workspace_id]=display_name,0===ws&&(fdefault=workspace_id,fdispName=display_name)}fLen+=total_ws,1<total_ws&&(fdefault="all",fdispName=zgssearch.getI18NMsg("gs.search.filter.allworkspaces"),wsData[fdefault]=fdispName,fLen++),fData[accId]=wsData}var defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.workspaces");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","workspaceId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"workspaces",wffodata);wffodata={},fData={},defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.projects");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allprojects")),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","projectId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"projects",wffodata),wffodata={},fData={};defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.tags");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","tagId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"tags",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),thisweek:zgssearch.getI18NMsg("gs.search.filter.thisweek"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo,zgssearch.getI18NMsg("gs.search.filter.dueDate")),wffodata={},fData={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltasks"),complete:zgssearch.getI18NMsg("gs.search.filter.completed"),incomplete:zgssearch.getI18NMsg("gs.search.filter.incomplete")};defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.task_status");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname","All tasks"),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","completed"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"completed",wffodata);var defaultSortDispName=zgssearch.getI18NMsg("gs.search.filter.createdDate"),sortText=zgssearch.getI18NMsg("gs.search.filter.dueDate");wffodata={},fData={sortCreatedDate:defaultSortDispName,sortDueDate:sortText};defaultSortVal="sortCreatedDate";void 0!==sortVal&&-1!==sortVal&&1===sortVal&&(defaultSortDispName=sortText,defaultSortVal="sortDueDate");sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"]),zgssearch.setFiltersDetails(gffo,"order",["accounts","workspaces","projects","completed","tags","date"]),zgssearch.setFilterObj(zgssearch.GSConstant.ASANA,gffo)},zgssearch.setEvernoteWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},totalModLen=0,accListLen=accList.length,acc=0;acc<accListLen;acc++){var accId=accList[acc],accObj=accsObj[accId],moduleData=accObj.hasOwnProperty("modules")?accObj.modules:[],moduleDataLen=moduleData.length,moduleFilter={};1<moduleDataLen&&(moduleFilter[0]=zgssearch.getI18NMsg("gs.f.nb.allnotebooks"),totalModLen++);for(var module=0;module<moduleDataLen;module++){var modData=moduleData[module],modName=modData.name;moduleFilter[modData.id]=modName}fData[accId]=moduleFilter,totalModLen+=moduleDataLen}var msgText=zgssearch.getI18NMsg("gs.f.nb.mynotebooks");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.f.nb.allnotebooks")),zgssearch.setFiltersDetails(wffodata,"length",totalModLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","notebookId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setSortFilters(gffo,sortVal,service),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setProjectsWidgetData=function(service,accList,accsObj,gffo,sortVal){gffo.hasOwnProperty("accounts")&&(gffo.accounts.hasChildFilter=!0,1<Object.keys(gffo.accounts.alldata).length&&(gffo.accounts.subtype=1));for(var wffodata={},fData={},allProjData={},modData={},allModData={},fLen=0,defProjId="",curProjId="",defModId="",curModId="",dispname="",modDispName="",modLength=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:{},projArr=orgIdData.hasOwnProperty("projectsData")?orgIdData.projectsData:"",projectData={},allProjectsData={},projLen=projArr.length,proj=0;proj<projLen;proj++){var projMod=projArr[proj]||"",pId=projMod.hasOwnProperty("id")?projMod.id:"",modId=projMod.hasOwnProperty("name")?projMod.name:"",projMod=projMod.hasOwnProperty("modules")?projMod.modules:"";allProjectsData[pId]=modId,allModData[pId]=projMod,1<Object.keys(allModData[pId]).length&&(allModData[pId][0]=zgssearch.getI18NMsg("common.allmodules")),orgIdData.e&&(projectData[pId]=modId,1<(modId=Object.keys(projMod).length)?(defModId=curModId="0",projMod[0]=modDispName=zgssearch.getI18NMsg("common.allmodules")):1==modId&&(modId=Object.keys(projMod)[0],defModId=curModId=Object.keys(projMod),modDispName=projMod[modId]),modData[pId]=projMod)}1<(projLen=Object.keys(projectData).length)?(defProjId=curProjId="0",projectData[0]=dispname=zgssearch.getI18NMsg("gs.search.filter.allprojects")):1==projLen&&(defProjId=curProjId=Object.keys(projectData)[0],dispname=projectData[curProjId],modLength=Object.keys(modData[curProjId]).length),1<Object.keys(allProjectsData).length&&(allProjectsData[0]=zgssearch.getI18NMsg("gs.search.filter.allprojects")),_jQueryGS.isEmptyObject(projectData)||(fData[accId]=projectData),allProjData[accId]=allProjectsData,fLen+=projLen}1<gffo.accounts.length&&(defProjId=curProjId="0",dispname=zgssearch.getI18NMsg("gs.search.filter.allprojects"));var defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.projects");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defProjId),zgssearch.setFiltersDetails(wffodata,"current",curProjId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"parKey","accounts"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"subtype",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"alldata",allProjData),zgssearch.setFiltersDetails(wffodata,"key","project_id"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(gffo,"projects",wffodata);wffodata={},defaultSortVal=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",modDispName),zgssearch.setFiltersDetails(wffodata,"length",modLength),zgssearch.setFiltersDetails(wffodata,"parKey","projects"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",modData),zgssearch.setFiltersDetails(wffodata,"alldata",allModData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.checkAndAddMultiSelectFilter(service,wffodata),zgssearch.setFiltersDetails(gffo,"modules",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo,zgssearch.getI18NMsg("gs.search.modfied_time"),"modifiedTime"),gffo.modifiedTime.length=0,gffo.modifiedTime.parId=["4","7"],gffo.modifiedTime.parKey="modules",fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),next7days:zgssearch.getI18NMsg("gs.search.filter.next7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo,zgssearch.getI18NMsg("gs.search.filter.dueDate"),"dueDate"),gffo.dueDate.length=0,gffo.dueDate.parId=["3","5","6"],gffo.dueDate.parKey="modules";var relvTitle=zgssearch.getI18NMsg("gs.search.filter.sortrelv"),sortText=zgssearch.getI18NMsg("gs.search.filter.dueDate"),defaultSortDispName=zgssearch.getI18NMsg("gs.search.modfied_time");wffodata={};fData={sortrelv:relvTitle,sorttime:defaultSortDispName,sortduedate:sortText},defaultSortVal="sorttime";void 0!==sortVal&&-1!==sortVal&&(0===sortVal?(defaultSortDispName=relvTitle,defaultSortVal="sortrelv"):2===sortVal&&(defaultSortDispName=sortText,defaultSortVal="sortduedate"));sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"]),zgssearch.isArrayContain(GSConstant.PROJECTS,zgssearch.account_based_filter_service_list)||zgssearch.account_based_filter_service_list.push(GSConstant.PROJECTS),zgssearch.setFiltersDetails(gffo,"order",["accounts","projects","modules","modifiedTime","dueDate"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setSortFilters=function(gffo,sortText,service){var relvTitle=zgssearch.getI18NMsg("gs.search.filter.sortrelv"),timeTitle=zgssearch.getI18NMsg("gs.search.filter.sorttime"),sortTitleTxt=zgssearch.getI18NMsg("gs.search.filter.cliq.title"),sort_length=2,wffodata={},fData={sortrelv:relvTitle,sorttime:timeTitle};service&&service===GSConstant.EVERNOTE&&(fData.sorttitle=sortTitleTxt,sort_length=3);var defaultSortVal="",defaultSortDispName="";switch(sortText){case 0:defaultSortVal="sortrelv",defaultSortDispName=relvTitle;break;case 1:defaultSortDispName=timeTitle,defaultSortVal="sorttime";break;case 2:defaultSortDispName=sortTitleTxt,defaultSortVal="sorttitle"}sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",sort_length),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_INT),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"])},zgssearch.setFileTypeWidgetData=function(fData,gffo){var wffodata={},filetypeText=zgssearch.getI18NMsg("common.fileType");return zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"filetype",wffodata),gffo},zgssearch.setDateTypeWidgetData=function(fData,gffo,msgText,key){var wffodata={},key=key||"date",msgText=msgText||zgssearch.getI18NMsg("gs.search.filter.date_rage");return zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_DATE_TIME),zgssearch.setFiltersDetails(gffo,key,wffodata),gffo}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=(zgssearch=window.zgssearch||{}).getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.gFilterData=zgssearch.gFilterData||{},zgssearch.deskmodid=["1","2","3","4"],zgssearch.config_multiPortals=zgssearch.config_multiPortals||{},zgssearch.ismultiConfigEnabled=zgssearch.ismultiConfigEnabled||!1,zgssearch.multiPageServices=zgssearch.multiPageServices||[],zgssearch.filterDates={},zgssearch.filterDates.today={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.yesterday={datevalue:"1",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.tomorrow={datevalue:"1",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.last7days={datevalue:"7",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.next7days={datevalue:"7",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.thismonth={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH},zgssearch.filterDates.thisweek={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK},zgssearch.storedFullWidgetResponseData=zgssearch.storedFullWidgetResponseData||{},zgssearch.storedWidgetResponseData=zgssearch.storedWidgetResponseData||{},zgssearch.setFullWidgetResponseData=function(response){zgssearch.storedFullWidgetResponseData=response},zgssearch.getFullWidgetResponseData=function(){return zgssearch.storedFullWidgetResponseData},zgssearch.setWidgetResponseData=function(service,response){zgssearch.storedWidgetResponseData.hasOwnProperty(service)&&delete zgssearch.storedWidgetResponseData[service],zgssearch.storedWidgetResponseData[service]=response},zgssearch.getWidgetResponseData=function(service){return zgssearch.storedWidgetResponseData.hasOwnProperty(service)?zgssearch.storedWidgetResponseData[service]:{}},zgssearch.getWidgetdata=function(){return zgssearch.GSConstant.hasOwnProperty("widgetObject")&&zgssearch.GSConstant.widgetObject?zgssearch.GSConstant.widgetObject:""},zgssearch.getAllServiceListFromWidget=function(){var widgetData=zgssearch.getWidgetdata(),servList="";return servList=widgetData?widgetData.hasOwnProperty("allserviceslist")&&widgetData.allserviceslist?widgetData.allserviceslist:"":servList},zgssearch.getEnabledServListFromWidget=function(){for(var widgetData=zgssearch.getWidgetdata(),allserviceList=widgetData.hasOwnProperty("allserviceslist")?widgetData.allserviceslist:[],servicesinfo=widgetData.hasOwnProperty("servicesinfo")?widgetData.servicesinfo:{},enabledList=[],i=0;i<allserviceList.length;i++){var service=allserviceList[i];(servicesinfo[service]||{}).e&&enabledList.push(service)}return zgssearch.setEnabledServiceList(enabledList),enabledList},zgssearch.getEnabledAccListFromWidget=function(appname,service_data){var enabled_account_list=[];if(service_data.hasOwnProperty("all"))for(var all_accounts_list=service_data.all,all_accounts_list_length=all_accounts_list.length,account_details=service_data.aD,account=0;account<all_accounts_list_length;account++){var account_id=all_accounts_list[account];((account_details[account_id]||{}).e||!1)&&enabled_account_list.push(account_id)}return enabled_account_list},zgssearch.setFilterObj=function(service,obj){obj&&(zgssearch.gFilterData[service]=obj)},zgssearch.getFilterObj=function(service){return service=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,zgssearch.gFilterData[service]||{}},zgssearch.getFilterInfo=function(service,type,key){try{var ffObj=zgssearch.getFilterObj(service);if(ffObj.hasOwnProperty(type)){var fftype=ffObj[type];if(fftype.hasOwnProperty(key))return fftype[key]}}catch(ex){zgssearch.throwClientError("Error in getFilterInfo. service"+service+"  >>>>>>>>>>>>> ",ex)}return""},zgssearch.getFilterData=function(service,type,sportal,value,acc_Id){var mlist=zgssearch.getWidgetServiceList(service),fftype=zgssearch.getFilterInfo(service,type,sportal),ttype=zgssearch.getFilterInfo(service,type,"type");if(fftype&&""!=fftype)if("1"==ttype||"6"==ttype){if(fftype.hasOwnProperty(value))return fftype[value]}else if("2"==ttype){for(var fid in fftype)if((wObj=fftype[fid]).hasOwnProperty(value))return wObj[value]}else if("3"==ttype){var filterKey=zgssearch.getFilterAccountKeyName(service,type,ttype),sportal=acc_Id||zgssearch.getFilterInfo(service,filterKey,"current");if(fftype.hasOwnProperty(sportal))if((wObj=fftype[sportal]).hasOwnProperty(value))return wObj[value]}else if("4"==ttype){var filterKey=zgssearch.getFilterAccountKeyName(service,type,ttype),mportal=acc_Id||zgssearch.getFilterInfo(service,filterKey,"current");if(fftype.hasOwnProperty(mportal))for(mpi in wObj=fftype[mportal])if((kObj=wObj[mpi]).key==value)return kObj.name}else if("5"==ttype){var wObj,mpi,kObj,mportal=acc_Id||zgssearch.getFilterInfo(service,mlist.key,"current");if(fftype.hasOwnProperty(mportal))for(mpi in wObj=fftype[mportal])if((kObj=wObj[mpi]).ID==value)return kObj.NAME}return""},zgssearch.updateFilterInfo=function(ffObj,fftype,key,value){ffObj=zgssearch.getFilterObj(ffObj);!ffObj.hasOwnProperty(fftype)||(fftype=ffObj[fftype]).hasOwnProperty(key)&&(fftype[key]=value)},zgssearch.isServiceHasFilter=function(service_name,cardConfigArr){var hasFilter=!1,currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;if(gfObj=zgssearch.getFilterObj(currService))for(var common_order=zgssearch.getServiceOrders(gfObj,currService,null,null,null,cardConfigArr),i=0;i<common_order.length;i++){var gfObj,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&(1<(gfObj[fkey].length||0)&&(hasFilter=!0),currService!=zgssearch.GSConstant.ASANA||fkey!=zgssearch.WS||hasFilter||(gfObj=zgssearch.getFilterObj(currService)))}return hasFilter},zgssearch.isServiceHasWidget=function(service_name){var hasFilter=!1;try{var skey,gfObj=zgssearch.getFilterObj(service_name);if(service_name=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list))return!0;gfObj&&(skey=zgssearch.getWidgetKey(service_name),gfObj.hasOwnProperty(skey)&&1<(gfObj[skey].length||0)&&(hasFilter=!0))}catch(ex){}return hasFilter},zgssearch.getCurPortalName=function(skey){var dispname="",gfObj=zgssearch.getFilterObj(skey);return gfObj&&(skey=zgssearch.getWidgetKey(skey),gfObj.hasOwnProperty(skey)&&(dispname=gfObj[skey].dispname||"")),dispname},zgssearch.isWidgetService=function(service){switch(service){case GSConstant.STREAMS:case GSConstant.MAILS:case GSConstant.CRM:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.REPORTS:case GSConstant.CREATOR:case GSConstant.PEOPLE:case GSConstant.BOOKS:case GSConstant.WEBSITE:case GSConstant.ORGRESOURCES:case GSConstant.INVOICE:case GSConstant.CAMPAIGNS:case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.SLACK:case GSConstant.SALESFORCE:case GSConstant.O365MAIL:case GSConstant.ONEDRIVE:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:case GSConstant.ASANA:case GSConstant.BIGIN:case GSConstant.EVERNOTE:case GSConstant.PROJECTS:return!0}return!1},zgssearch.getWidgetKey=function(service){switch(service){case GSConstant.SUPPORT:return"departments";case GSConstant.CREATOR:return"apps";default:return zgssearch.getWidgetServiceList(service).key||""}return""},zgssearch.setAccountListParam=function(gfObj){if(zgssearch.widgetServiceList.hasOwnProperty(gfObj)){var key=zgssearch.widgetServiceList[gfObj].key,gfObj=zgssearch.getFilterObj(gfObj);if(gfObj.hasOwnProperty(key))return"&accounts_list="+gfObj[key].current}return""},zgssearch.getServiceSpecificURL=function(search_type){var searchURL="",filters={queryOrigin:zgssearch.queryOrigin};return zgssearch.getSearchFilterParams(search_type,filters),_jQueryGS.isEmptyObject(filters)||(searchURL+="&filters="+encodeURIComponent(JSON.stringify(filters))),searchURL},zgssearch.getSearchFilterParams=function(search_type,filters){GSConstant.ALL!==search_type&&zgssearch.setFilterParams(search_type,filters)},zgssearch.getAppIdForCloudApps=function(connector_id,widObj){widObj=widObj||zgssearch.getCalloutSearchType(),widObj=zgssearch.getWidgetResponseData(widObj);return connector_id?widObj.aD[connector_id].app_id:""},zgssearch.setSortParams=function(search_type,filters){if(GSConstant.ALL===search_type||zgssearch.multiPageEnabled)for(var slist=GSConstant.ALL===search_type?zgssearch.getServiceList("serviceList"):[search_type],i=0;i<slist.length;i++)for(var service=slist[i],gfObj=zgssearch.getFilterObj(service),sort_order=gfObj.sort_order||[],j=0;j<sort_order.length;j++){var fkObj=sort_order[j];gfObj.hasOwnProperty(fkObj)&&(filters[(fkObj=gfObj[fkObj]).key]=fkObj.default)}},zgssearch.updateFilterParamsForService=function(service,filterObj,setFilterAsDefault){var gfObj=zgssearch.getFilterObj(service);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj,service),i=0;i<common_order.length;i++){var keyData,value,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&(value=(keyData=gfObj[fkey]).key,keyData=keyData.data,filterObj.hasOwnProperty(value)&&(value=filterObj[value],zgssearch.updateFilterInfo(service,fkey,"current",value),zgssearch.updateFilterInfo(service,fkey,"dispname",keyData[value]),setFilterAsDefault&&zgssearch.updateFilterInfo(service,fkey,"default",value)))}},zgssearch.setFilterParams=function(search_type,filters){var gfObj=zgssearch.getFilterObj(search_type);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj,search_type),commonorderLength=common_order.length,i=0;i<commonorderLength;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey)){var teamId,filter_type,fkObj=gfObj[fkey],key=fkObj.key,type=fkObj.type,ovalue=fkObj.current,odefault=fkObj.default;if("date"==key)switch(search_type){case GSConstant.CLIQ:case GSConstant.CHAT:case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.WORKDRIVE:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:case GSConstant.ASANA:case GSConstant.PROJECTS:odefault!=ovalue&&(filters.fromdate=fkObj.fromdate,filters.todate=fkObj.todate,filters.date=ovalue)}else"0"===ovalue||!zgssearch.includes(search_type,zgssearch.GSConstant.accessible_cloud_apps)||"account"!=fkey&&"accounts"!=fkey&&"workspace"!=fkey?"6"==type?(ovalue&&(filters[key]=ovalue),search_type==GSConstant.O365MAIL&&"unread"==fkey&&1==ovalue&&(filters[key]=!ovalue)):GSConstant.PEOPLE==search_type?odefault!=ovalue&&(filters[key]=ovalue):GSConstant.WORKDRIVE===search_type?"ENTERPRISE"===zgssearch.editionTypeForWD?("3"==type&&"teams"===fkey&&(filter_type=zgssearch.mapFilterType(fkObj,ovalue,type),filters[fkObj.key_type]=filter_type),filters[key]=ovalue):"TEAM"===zgssearch.editionTypeForWD&&("1"==type&&"accounts"===fkey?(filters[fkObj.key]=fkObj.accListData[0],filters[fkObj.keyName]=ovalue):"4"==type&&"folders"===fkey?(teamId=zgssearch.getFilterInfo(search_type,"accounts","current"),filter_type=zgssearch.mapFilterType(fkObj,ovalue,type,teamId),filters[key]=ovalue,filters[fkObj.key_type]=filter_type):filters[key]=ovalue):GSConstant.NOTEBOOK==search_type?filters[key]=ovalue:(zgssearch.updateMultiPageFlag(search_type,fkey),zgssearch.multiPageEnabled||(GSConstant.ASANA==search_type?"all"!=ovalue&&(filters[key]=ovalue="completed"==fkey?"complete"==ovalue:ovalue):filters[key]=ovalue)):(filters.app_id=fkObj.app_id,filters[key]=ovalue)}}},zgssearch.getFilterParams=function(search_type,filters){var gfObj=zgssearch.getFilterObj(search_type);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj,search_type),commonorderLength=common_order.length,i=0;i<commonorderLength;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey],key=fkey,type=fkObj.type,ovalue=fkObj.current,odefault=fkObj.default;if("date"==fkObj.key)switch(search_type){case GSConstant.CLIQ:case GSConstant.CHAT:case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.WORKDRIVE:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:case GSConstant.ASANA:case GSConstant.PROJECTS:var date={};odefault!=ovalue&&("customdate"==ovalue||"customrange"==ovalue?(date.fdate=fkObj.fromdate,date.tdate=fkObj.todate,date.type=ovalue,filters.date=[date]):filters.date=[ovalue])}else"accounts"!==fkey&&"workspace"!==fkey||"0"===ovalue||!zgssearch.includes(zgssearch.GSConstant.accessible_cloud_apps,search_type)?"6"==type?(ovalue&&(filters[key]=[ovalue]),search_type==GSConstant.O365MAIL&&"unread"==fkey&&1==ovalue&&(filters[key]=[!ovalue])):GSConstant.WORKDRIVE===search_type&&"TEAM"===zgssearch.editionTypeForWD&&"accounts"===fkey?"1"==type&&(filters[key]=[fkObj.accListData[0]],filters[fkObj.keyName]=[ovalue]):(zgssearch.updateMultiPageFlag(search_type,fkey),zgssearch.multiPageEnabled||(GSConstant.ASANA==search_type?"all"!=ovalue&&(filters[key]=[ovalue="completed"==fkey?"complete"==ovalue:ovalue]):zgssearch.isMultiSelectEnabledFilter(search_type,fkey)?filters[key]=ovalue.split(","):filters[key]=[ovalue])):(filters.app_id=fkObj.app_id,filters[key]=[ovalue])}}},zgssearch.setDefaultFiltersParams=function(filters,searchType){searchType=searchType||zgssearch.getSearchType();GSConstant.ALL!=searchType&&GSConstant.CONNECT!=searchType||filters.hasOwnProperty("searchin")||(filters.searchin="all")},zgssearch.isListViewSearch=function(){var query=zgssearch.getValue("zgs20_gsQueryBox"),query=zgssearch.gsautocomplete.getautosearchQuery(query);return!zgssearch.isQueryValid(query)&&!zgssearch.isQueryHasFilters()},zgssearch.isMultiDefaultAccount=function(mlist,account_id){var gfObj=zgssearch.getFilterObj(mlist),mlist=zgssearch.getWidgetServiceList(mlist);if(gfObj&&mlist&&(gfObj.hasOwnProperty(mlist.key)&&account_id==gfObj[mlist.key].mdefault))return!0;return!1},zgssearch.updateMultiPageFlag=function(search_type,key){var mlist=zgssearch.getWidgetServiceList(search_type);zgssearch.isServiceHasMultiPortals(search_type)&&key==mlist.key&&(zgssearch.multiPageEnabled=!1,"0"==zgssearch.getFilterInfo(search_type,mlist.key,"current")&&(zgssearch.multiPageEnabled=!0))},zgssearch.mapFilterType=function(folderData,ovalue,ftype,teamId){var filter_type="";if("3"==ftype){var ftdata=folderData.ptype;ftdata.hasOwnProperty(ovalue)&&(filter_type=ftdata[ovalue])}else if("4"==ftype){folderData=folderData.data;if(folderData.hasOwnProperty(teamId)){var ikey,fDetails=folderData[teamId];for(ikey in fDetails){var fvalue=fDetails[ikey];if(fvalue.key==ovalue){filter_type=fvalue.ptype;break}}}}return filter_type},zgssearch.initWidgetList=function(){var accessibleSerList,allserList,pcode;"COMPLETE"!=zgssearch.statusOfWidgetFetchData&&GSConstant.hasOwnProperty("widgetObject")&&(zgssearch.statusOfWidgetFetchData="COMPLETE",pcode=GSConstant.widgetObject,zgssearch.loadWidgetList(pcode),allserList=zgssearch.getEnabledServiceList(),accessibleSerList=zgssearch.getAccessibleServiceList(),0<allserList.length&&0<!accessibleSerList.length&&zgssearch.setAccessibleServiceList(allserList),allserList=zgssearch.getConstAllServList()||[],pcode.allserviceslist&&0<!allserList.length&&zgssearch.setConstAllServList(pcode.allserviceslist),"ZO"!=(pcode=zgssearch.gscomponent.pcode)&&"SS"!=pcode&&"ZW"!=pcode&&zgssearch.updateToLatestWidgetData(),zgssearch.fetchAdditionlInfo())},zgssearch.updateToLatestWidgetData=function(){var services=zgssearch.getConstAllServList()||[],newServList=zgssearch.getAllServiceListFromWidget()||[],serviceArrList=newServList.length>=services.length?newServList:services;zgssearch.setConstAllServList(serviceArrList);newServList=zgssearch.getAccessibleServiceList()||[],services=zgssearch.getEnabledServiceList()||[],serviceArrList=services.length>=newServList.length?services:newServList;zgssearch.storeServiceList(serviceArrList,"serviceList"),zgssearch.storeServiceList(serviceArrList,"orderedServiceList"),zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.addServices(),zgssearch.setAccessibleServiceList(serviceArrList);newServList=zgssearch.getExtraServiceList(services,newServList)||[];0<newServList.length&&zgssearch.renderNewServiceInLeftPanel(newServList)},zgssearch.setFiltersDetails=function(fobject,fkey,fvalue){fobject[fkey]=fvalue},zgssearch.updateConfigPortals=function(){zgssearch.ismultiConfigEnabled=!0},zgssearch.updateMultiPageServiceList=function(disElePos,length){zgssearch.updateConfigPortals();var serList=GSConstant.widgetObject.hasOwnProperty("allserviceslist")?GSConstant.widgetObject.allserviceslist:zgssearch.serviceList;return 1<length&&zgssearch.isArrayContain(disElePos,serList)?(zgssearch.isArrayContain(disElePos,zgssearch.multiPageServices)||zgssearch.multiPageServices.push(disElePos),!0):(1===length&&zgssearch.isArrayContain(disElePos,zgssearch.multiPageServices)&&(disElePos=zgssearch.multiPageServices.indexOf(disElePos),zgssearch.multiPageServices.splice(disElePos,1)),!1)},zgssearch.isServiceHasSubMultiPortals=function(service){return zgssearch.isArrayContain(service,zgssearch.configured_mail_module)},zgssearch.isServiceHasMultiPortals=function(service){return zgssearch.isArrayContain(service,zgssearch.multiPageServices)},zgssearch.updateCurrentFilterInfo=function(service){var modulData=zgssearch.getFilterObj(service);if(modulData&&GSConstant.SUPPORT==service){var curPortal=zgssearch.getFilterInfo(service,"accounts","current"),modulData=zgssearch.getFilterInfo(service,"departments","data");if(modulData.hasOwnProperty(curPortal)){var deptId,sddata=modulData[curPortal];for(deptId in sddata){zgssearch.updateFilterInfo(service,"departments","default",deptId),zgssearch.updateFilterInfo(service,"departments","current",deptId),zgssearch.updateFilterInfo(service,"departments","dispname",sddata[deptId]);break}}modulData=zgssearch.getFilterInfo(service,"modules","data");if(modulData.hasOwnProperty(curPortal)){var modulId,smdata=modulData[curPortal];for(modulId in smdata){zgssearch.updateFilterInfo(service,"modules","default",modulId),zgssearch.updateFilterInfo(service,"modules","current",modulId),zgssearch.updateFilterInfo(service,"modules","dispname",smdata[modulId]);break}}}},zgssearch.formatMailFoldersDetails=function(wfArr){var tffodata={},excludeList=[zgssearch.getI18NMsg("gs.search.service_outbox")+"/"];tffodata[0]={key:"allfolders",tip:zgssearch.getI18NMsg("gs.search.filter.allfolders"),name:zgssearch.getI18NMsg("gs.search.filter.allfolders")};for(var i=0;i<wfArr.length;i++){var fname,fnameArr=(wfArr[i]||"").split(","),fid=fnameArr[0]||"",ftip=fnameArr[1]||"";zgssearch.isArrayContain(ftip,excludeList)||(-1<(fnameArr=(fname=ftip).substr(0,ftip.length-1)).indexOf("/")&&(fname=".../"+(fnameArr=fnameArr.split("/"))[fnameArr.length-1]+"/"),tffodata[i+1]={key:fid,tip:ftip,name:fname})}return tffodata},zgssearch.formatMailLabelsDetails=function(wlArr){var tffodata={};tffodata[0]={COLOR:"",ID:"alltags",NAME:zgssearch.getI18NMsg("gs.search.filter.alltags")};for(var i=0;i<wlArr.length;i++){var value=wlArr[i]||{};_jQueryGS.isEmptyObject(value)||(tffodata[i+1]=wlArr[i]||{})}return tffodata},zgssearch.formatDeskModulesDetails=function(moduIds){var mid,resObj={},modul={},unusedPerm={};for(mid in modul[0]=zgssearch.getI18NMsg("common.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modul[mid]=moduIds[mid]:unusedPerm[mid]=moduIds[mid];return resObj.moduleData=modul,resObj.unusedModuleData=unusedPerm,resObj.length=Object.keys(modul).length,resObj},zgssearch.isValidSearchForWidgetService=function(service,target){var soid=_jQueryGS(target).attr("key"),fkey=_jQueryGS(target).attr("fkey"),ftype=_jQueryGS(target).attr("ftype"),curData=zgssearch.getFilterObj(service),targetAccId=_jQueryGS(target).attr("acc_id"),currentAccId=zgssearch.getWidgetServiceList(service),accId=targetAccId||zgssearch.getFilterInfo(service,currentAccId.key,"current"),filterData=zgssearch.getFilterInfo(service,fkey,"current");if(curData&&soid&&soid!=filterData&&curData.hasOwnProperty(fkey)){var widgetObj=curData[fkey];!!widgetObj.hasOwnProperty("isDependentKey")&&widgetObj.isDependentKey?zgssearch.setClearRenderedFiltersFlag(!0):zgssearch.setClearRenderedFiltersFlag(!1);var fWidgetObj=widgetObj.data,currWidgetData=widgetObj.current,currService=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,filterData=zgssearch.gFilterData[currService];if("formList"==ftype||"viewList"==ftype||"pageList"==ftype)zgssearch.updateFilterInfo(service,"formList","current",""),zgssearch.updateFilterInfo(service,"viewList","current",""),zgssearch.updateFilterInfo(service,"pageList","current",""),zgssearch.updateFilterInfo(service,ftype,"current",soid);else if("6"==ftype){if(fWidgetObj.hasOwnProperty(soid)&&currWidgetData!=soid)return zgssearch.updateFilterInfo(currService,fkey,"current",soid),zgssearch.updateFilterInfo(currService,fkey,"dispname",fWidgetObj[soid]),!0}else if("1"==ftype){if("customrange"==soid||"customdate"==soid)zgssearch.curDatePickerObj={service:service,key:fkey,soid:soid},zgssearch.handleDatePicker(soid);else if(fWidgetObj.hasOwnProperty(soid)&&currWidgetData!=soid){if(zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",fWidgetObj[soid]),"date"==widgetObj.key)zgssearch.updateDateFormat(service,fkey,soid);else if(zgssearch.GSConstant.CONNECT==service&&"connecttype"==fkey){var curAccId=zgssearch.getFilterInfo(service,currentAccId.key,"data");zgssearch.updateFilterInfo(service,currentAccId.key,"current",accId),zgssearch.updateFilterInfo(service,currentAccId.key,"dispname",curAccId[accId])}else{if(zgssearch.GSConstant.CALENDAR===service)return!0;zgssearch.updateChildFilterInfo(service,fkey,soid),"0"==soid&&zgssearch.updateServiceFilters(service)}return zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&filterData.hasOwnProperty("module")&&(account_type=zgssearch.getAccountType(currService,accId),selectedModule=filterData.module.current,"1"===account_type?zgssearch.updateSubMultiPageFlag(selectedModule):(zgssearch.updateSubMultiPageFlag(""),selectedModule=filterData.module.default),zgssearch.updateFilterInfo(currService,"module","current",selectedModule),subModuleDispName=zgssearch.getFilterData(currService,"module","data",selectedModule),zgssearch.updateFilterInfo(currService,"module","dispname",subModuleDispName)),!0}}else if("2"==ftype){for(var fid in fWidgetObj)if((wObj=fWidgetObj[fid]).hasOwnProperty(soid)&&currWidgetData!==soid)return zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",wObj[soid]),"0"==soid&&zgssearch.updateServiceFilters(service),!0}else if("3"==ftype||"4"==ftype||"5"==ftype){var projId,filterKey,selectedModule,account_type,subModuleDispName,wObj,finfo,fiobj,curData=zgssearch.getFilterInfo(currService,currentAccId.key,"data"),curAccId=zgssearch.getFilterInfo(currService,currentAccId.key,"current");if(accId!=curAccId&&currService!==zgssearch.GSConstant.WORKDRIVE&&(currWidgetData="0"==curAccId||"all"==curAccId?curAccId:currWidgetData,zgssearch.updateFilterInfo(currService,currentAccId.key,"current",accId),zgssearch.updateFilterInfo(currService,currentAccId.key,"dispname",curData[accId]),zgssearch.updateChildFilterInfo(currService,currentAccId.key,accId)),"3"==ftype){if((service===zgssearch.GSConstant.ASANA&&fkey!=zgssearch.WS||service===zgssearch.GSConstant.PROJECTS)&&(filterKey=zgssearch.getFilterAccountKeyName(service,fkey,ftype),accId=zgssearch.getFilterInfo(service,filterKey,"current"),widgetObj.hasOwnProperty("parId")&&(accId+="_"+widgetObj.parId[0])),service===zgssearch.GSConstant.WORKDRIVE&&"teams"==fkey&&(zgssearch.updateChildFilterInfo(service,"teams",soid),projId=fWidgetObj[accId],zgssearch.updateFilterInfo(service,fkey,"length",Object.keys(projId).length)),service===zgssearch.GSConstant.PROJECTS&&(filterKey!=zgssearch.gsprojects.projects&&filterKey!=zgssearch.gsprojects.modules||(projId=_jQueryGS(target).attr("pid"))&&accId!=projId&&(accId=projId,currentAccId=zgssearch.getFilterInfo(service,currentAccId.key,"current"),curData=zgssearch.getFilterInfo(currService,filterKey,"data"),zgssearch.updateFilterInfo(currService,filterKey,"current",accId),zgssearch.updateFilterInfo(currService,filterKey,"dispname",curData[currentAccId][accId]),zgssearch.updateChildFilterInfo(service,filterKey,accId))),-1<zgssearch.SERVICES_PROJECT.indexOf(service)&&zgssearch.updateChildFilterInfo(service,fkey,soid),fWidgetObj.hasOwnProperty(accId))if((wObj=fWidgetObj[accId]).hasOwnProperty(soid)&&currWidgetData!==soid)return zgssearch.updateFilterInfo(service,fkey,"current",soid),zgssearch.updateFilterInfo(service,fkey,"dispname",wObj[soid]),!0}else if("4"==ftype){if(service===zgssearch.GSConstant.WORKDRIVE&&(targetAccId?zgssearch.updateChildFilterInfo(service,"teams",accId=targetAccId):(filterKey=zgssearch.getFilterAccountKeyName(service,fkey,ftype),accId=zgssearch.getFilterInfo(service,filterKey,"current"))),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list))if(filterData.hasOwnProperty("module")&&(selectedModule=_jQueryGS(target).attr("gsmodule")||filterData.module.current,"1"===(account_type=zgssearch.getAccountType(currService,accId))?zgssearch.updateSubMultiPageFlag(selectedModule):(zgssearch.updateSubMultiPageFlag(""),selectedModule=filterData.module.default),zgssearch.updateFilterInfo(currService,"module","current",selectedModule),subModuleDispName=zgssearch.getFilterData(currService,"module","data",selectedModule),zgssearch.updateFilterInfo(currService,"module","dispname",subModuleDispName)),"entity_type"==fkey)return zgssearch.updateFilterInfo(currService,fkey,"current",soid),zgssearch.updateFilterInfo(currService,fkey,"dispname",fWidgetObj[soid]),!0;if(fWidgetObj.hasOwnProperty(accId))for(finfo in wObj=fWidgetObj[accId])if(((fiobj=wObj[finfo]).key||"")==soid&&currWidgetData!==soid){var tfname=fiobj.name||"";return service==GSConstant.MAILS&&(tfname=(tfname=0==tfname.indexOf(".../")?tfname.replace(new RegExp("(^.../)"),""):tfname).replace(new RegExp("(/$)"),"")),zgssearch.updateFilterInfo(service,fkey,"current",fiobj.key),zgssearch.updateFilterInfo(service,fkey,"dispname",tfname),!0}}else if(fWidgetObj.hasOwnProperty(accId))for(finfo in wObj=fWidgetObj[accId])if((fiobj=wObj[finfo]).ID==soid&&currWidgetData!==fiobj.ID)return zgssearch.updateFilterInfo(service,fkey,"current",fiobj.ID),zgssearch.updateFilterInfo(service,fkey,"dispname",fiobj.NAME),!0}}return!1},zgssearch.updateChildFilterInfo=function(service,fkey,soid,oldObj){var teamsData,accountId,orgdata,connId,oldObj=oldObj||{};if(GSConstant.MAILS===service){if("accounts"==fkey){var mname=soid,mdef=zgssearch.getFilterInfo(service,"folders","default"),mdata=zgssearch.getFilterInfo(service,"folders","data");if(mdata.hasOwnProperty(soid)||(mname=zgssearch.getFilterInfo(service,"accounts","mdefault"),soid&&"0"!=soid&&zgssearch.fetchMailFolderInfo(service,soid)),mdata.hasOwnProperty(mname))for(ikey in mpinfo=mdata[mname]){var fid=(value=mpinfo[ikey]).key||"",tfname=value.name||"";fid==mdef&&(tfname=(tfname=tfname.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),""),zgssearch.updateFilterInfo(service,"folders","current",mdef),zgssearch.updateFilterInfo(service,"folders","dispname",tfname))}if(mdef=zgssearch.getFilterInfo(service,"labels","default"),(mdata=zgssearch.getFilterInfo(service,"labels","data")).hasOwnProperty(soid)||(mname=zgssearch.getFilterInfo(service,"accounts","mdefault"),soid&&"0"!=soid&&zgssearch.fetchMailLabelInfo(service,soid)),mdata.hasOwnProperty(mname))for(ikey in mpinfo=mdata[mname])(value=mpinfo[ikey]||{}).ID==mdef&&(zgssearch.updateFilterInfo(service,"labels","current",value.ID),zgssearch.updateFilterInfo(service,"labels","dispname",value.NAME))}}else if(GSConstant.WORKDRIVE===service){if("ENTERPRISE"===zgssearch.editionTypeForWD&&"teams"==fkey&&(teamsData=zgssearch.getFilterInfo(service,fkey,"data"),accountId=zgssearch.getFilterInfo(service,"accounts","default"),teamsData.hasOwnProperty(accountId)&&(sddata=teamsData[accountId],zgssearch.updateFilterInfo(service,"teams","current",soid),zgssearch.updateFilterInfo(service,"teams","dispname",sddata[soid]))),fkey==("TEAM"===zgssearch.editionTypeForWD?"accounts":"teams")){var mpinfo,ikey,mname=soid;if((mdata=zgssearch.getFilterInfo(service,"folders","data")).hasOwnProperty(mname)){for(ikey in mpinfo=mdata[mname]){var value,fid=(value=mpinfo[ikey]).key||"",tfname=value.name||"";zgssearch.updateFilterInfo(service,"folders","current",fid),zgssearch.updateFilterInfo(service,"folders","dispname",tfname);break}ikey||0!=Object.keys(mpinfo).length||zgssearch.updateFilterInfo(service,"folders","current","allfolders")}else!soid||"0"!==soid&&"1"!==soid&&"2"!==soid||zgssearch.updateFilterInfo(service,"folders","current","allfolders")}}else if(GSConstant.SUPPORT===service){if("accounts"==fkey){var sddata,deptId,sdata=zgssearch.getFilterInfo(service,"departments","data");if(sdata.hasOwnProperty(soid))for(deptId in sddata=sdata[soid]){zgssearch.updateFilterInfo(service,"departments","default",deptId),zgssearch.updateFilterInfo(service,"departments","current",deptId),zgssearch.updateFilterInfo(service,"departments","dispname",sddata[deptId]);break}var sidata,serviceCategName,mname=soid,fid=zgssearch.getFilterInfo(service,"modules","default");(sdata=zgssearch.getFilterInfo(service,"modules","data")).hasOwnProperty(soid)||(zgssearch.fetchSupportModuleInfo(service,soid),mname=zgssearch.getFilterInfo(service,"accounts","mdefault")),sdata.hasOwnProperty(mname)&&(sidata=sdata[mname],serviceCategName=zgssearch.getFilterInfo(service,"modules","default"),sidata.hasOwnProperty(serviceCategName)&&(zgssearch.updateFilterInfo(service,"modules","current",serviceCategName),zgssearch.updateFilterInfo(service,"modules","dispname",sidata[serviceCategName])))}}else if(GSConstant.BOOKS===service||GSConstant.INVOICE===service)"accounts"==fkey&&(mname=soid,(sdata=zgssearch.getFilterInfo(service,"modules","data")).hasOwnProperty(soid)||(zgssearch.fetchFinancePlusModuleInfo(service,soid),mname=zgssearch.getFilterInfo(service,"accounts","mdefault")),sdata.hasOwnProperty(mname)&&(sidata=sdata[mname],serviceCategName=zgssearch.getFilterInfo(service,"modules","default"),sidata.hasOwnProperty(serviceCategName)&&(zgssearch.updateFilterInfo(service,"modules","current",serviceCategName),zgssearch.updateFilterInfo(service,"modules","dispname",sidata[serviceCategName]))));else if(GSConstant.WEBSITE===service)"serviceType"!=fkey||(serviceCategName=zgssearch.getFilterInfo(service,"serviceType","data")).hasOwnProperty(soid)&&(serviceCategName=serviceCategName[soid],zgssearch.updateFilterInfo(service,"serviceType","current",soid),zgssearch.updateFilterInfo(service,"serviceType","dispname",serviceCategName));else if(GSConstant.ORGRESOURCES===service||GSConstant.CRM===service||GSConstant.BIGIN===service){if("accounts"==fkey)if((currData=zgssearch.getFilterInfo(service,"modules","data")).hasOwnProperty(soid)){for(connId in orgdata=currData[soid]){zgssearch.updateFilterInfo(service,"modules","default",connId),zgssearch.updateFilterInfo(service,"modules","current",connId),zgssearch.updateFilterInfo(service,"modules","dispname",orgdata[connId]);break}zgssearch.updateFilterInfo(service,"modules","length",Object.keys(orgdata).length)}}else if(service===GSConstant.EVERNOTE){if("accounts"==fkey)if((currData=zgssearch.getFilterInfo(service,"modules","data")).hasOwnProperty(soid)&&"0"!=soid){for(connId in orgdata=currData[soid]){zgssearch.updateFilterInfo(service,"modules","default",connId),zgssearch.updateFilterInfo(service,"modules","current",connId),zgssearch.updateFilterInfo(service,"modules","dispname",orgdata[connId]);break}zgssearch.updateFilterInfo(service,"modules","length",Object.keys(orgdata).length)}else"0"==soid&&(zgssearch.updateFilterInfo(service,"modules","default","0"),zgssearch.updateFilterInfo(service,"modules","current","0"),zgssearch.updateFilterInfo(service,"modules","dispname",zgssearch.getI18NMsg("gs.f.nb.allnotebooks")))}else if(GSConstant.O365MAIL===service){if("accounts"==fkey)if((currData=zgssearch.getFilterInfo(service,"folders","data")).hasOwnProperty(soid)){for(connId in orgdata=currData[soid]){zgssearch.updateFilterInfo(service,"folders","default",connId),zgssearch.updateFilterInfo(service,"folders","current",connId),zgssearch.updateFilterInfo(service,"folders","dispname",orgdata[connId]);break}zgssearch.updateFilterInfo(service,"folders","length",Object.keys(orgdata).length)}}else if(zgssearch.GSConstant.SALESFORCE===service){if("accounts"==fkey)if((currData=zgssearch.getFilterInfo(service,"modules","data")).hasOwnProperty(soid)){for(connId in orgdata=currData[soid]){zgssearch.updateFilterInfo(service,"modules","default",connId),zgssearch.updateFilterInfo(service,"modules","current",connId),zgssearch.updateFilterInfo(service,"modules","dispname",orgdata[connId]);break}zgssearch.updateFilterInfo(service,"modules","length",Object.keys(orgdata).length)}}else if(GSConstant.NOTEBOOK===service)"module"==fkey&&"notebooks"==soid&&(currData=zgssearch.getFilterInfo(service,"notecardtype","data"),zgssearch.updateFilterInfo(service,"notecardtype","dispname",currData.notes),zgssearch.updateFilterInfo(service,"notecardtype","current","notes"));else if(GSConstant.ASANA==service){if("accounts"==fkey&&((curFilId=zgssearch.getFilterInfo("asana",zgssearch.WS,"data")).hasOwnProperty(soid)&&1==Object.keys(curFilId[soid]).length&&(dispName=Object.keys(curFilId[soid]),zgssearch.updateFilterInfo(service,"workspaces","current",dispName[0]),zgssearch.updateFilterInfo(service,"workspaces","dispname",curFilId[soid][dispName])),0==soid&&(zgssearch.updateFilterInfo(service,"workspaces","current","all"),zgssearch.updateFilterInfo(service,"workspaces","dispname","all"))),"accounts"==fkey||fkey==zgssearch.WS){var kobj=zgssearch.getFilterObj(service);if(kobj.hasOwnProperty("projects")&&kobj.hasOwnProperty("tags"))for(var filterChildArr=["projects","tags"],key=0;key<filterChildArr.length;key++){var fk=filterChildArr[key],odefault=kobj[fk].default,odispname=zgssearch.getFilterData(service,fk,"data",odefault);zgssearch.updateFilterInfo(service,fk,"current",odefault),odispname&&zgssearch.updateFilterInfo(service,fk,"dispname",odispname)}}}else if(GSConstant.PROJECTS===service){var currData,curFilId,dispName,currProj,currPortal,callbackObj,currModId="0";if("accounts"==fkey||fkey==zgssearch.gsprojects.projects?(zgssearch.updateFilterInfo(service,"modules","length",0),currPortal="accounts"==fkey?zgssearch.gsprojects.projects:zgssearch.gsprojects.modules,currProj="",(currData=zgssearch.getFilterInfo(service,currPortal,"data")[soid])?(dispName=curFilId="",1<(callbackObj=Object.keys(currData).length)?(currProj=curFilId="0",dispName=currData[0]):1==callbackObj&&(dispName=currData[currProj=curFilId=Object.keys(currData)[0]]),zgssearch.updateFilterInfo(service,currPortal,"current",curFilId),zgssearch.updateFilterInfo(service,currPortal,"dispname",dispName),zgssearch.updateFilterInfo(service,currPortal,"default",currProj),zgssearch.updateFilterInfo(service,currPortal,"length",callbackObj)):(currProj=zgssearch.getFilterInfo(service,currPortal,"default"),zgssearch.updateFilterInfo(service,currPortal,"current",currProj),zgssearch.updateFilterInfo(service,currPortal,"length",0)),callbackObj=zgssearch.getFilterInfo(service,currPortal,"current"),zgssearch.updateChildFilterInfo(service,currPortal,callbackObj,{fkey:fkey,soid:soid})):fkey==zgssearch.gsprojects.modules&&(currProj=oldObj.soid||zgssearch.getFilterInfo(service,zgssearch.gsprojects.projects,"current"),currPortal=zgssearch.getFilterInfo(service,"accounts","current"),callbackObj={callback:function(){zgssearch.renderServiceFilterList(service)}},zgssearch.loadProjectsModChildFilter(service,soid,currProj,currPortal,callbackObj),currModId=soid),fkey==zgssearch.gsprojects.modules||"accounts"==fkey){var filter,gffo=zgssearch.getFilterObj(service);for(filter in gffo){var def=gffo[filter];def.hasOwnProperty("parId")&&("0"==currModId||zgssearch.Utils.indexOf(def.parId,currModId)<0||"0"==oldObj.soid&&"date"!=def.key)&&(zgssearch.updateFilterInfo(service,filter,"length",0),def=zgssearch.getFilterInfo(service,filter,"default"),zgssearch.updateFilterInfo(service,filter,"current",def))}}}},zgssearch.updateDateFormat=function(service,key,dcolor){var targetId,dispname,today=new Date,dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),mmm="",fromdate="",todate="",curadCal={1:"-01-",2:"-02-",3:"-03-",4:"-04-",5:"-05-",6:"-06-",7:"-07-",8:"-08-",9:"-09-",10:"-10-",11:"-11-",12:"-12-"};switch(dcolor){case"today":fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"yesterday":var tomorrow=new Date(today);tomorrow.setDate(today.getDate()-1),dd=("0"+tomorrow.getDate()).slice(-2),mm=tomorrow.getMonth()+1,yyyy=tomorrow.getFullYear(),fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"tomorrow":tomorrow=new Date(today);tomorrow.setDate(today.getDate()+1),dd=("0"+tomorrow.getDate()).slice(-2),mm=tomorrow.getMonth()+1,yyyy=tomorrow.getFullYear(),fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"last7days":var todate=dd+(mmm=curadCal[mm])+yyyy,next7days=new Date(today);next7days.setDate(today.getDate()-7),dd=("0"+next7days.getDate()).slice(-2),mm=next7days.getMonth()+1,yyyy=next7days.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy;break;case"next7days":fromdate=dd+(mmm=curadCal[mm])+yyyy,next7days=new Date(today);next7days.setDate(today.getDate()+7),dd=("0"+next7days.getDate()).slice(-2),mm=next7days.getMonth()+1,yyyy=next7days.getFullYear(),todate=dd+(mmm=curadCal[mm])+yyyy;break;case"thisweek":if(service===GSConstant.CALENDAR){var weekStartDate=new Date(today.setDate(today.getDate()-today.getDay())),weekEndDate=new Date(today.setDate(today.getDate()-today.getDay()+6));switch(todate=dd+(mmm=curadCal[mm])+yyyy,zgssearch.getFilterInfo("calendar","eventTypes","current")){case"0":fromdate=(dd=("0"+weekStartDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekStartDate.getMonth()+1])+(yyyy=weekStartDate.getFullYear()),todate=(dd=("0"+weekEndDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekEndDate.getMonth()+1])+(yyyy=weekEndDate.getFullYear());break;case"1":fromdate=todate,todate=(dd=("0"+weekEndDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekEndDate.getMonth()+1])+(yyyy=weekEndDate.getFullYear());break;case"-1":fromdate=(dd=("0"+weekStartDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekStartDate.getMonth()+1])+(yyyy=weekStartDate.getFullYear())}}else{var thismonth=today.getDay()||7;today.setHours(-24*thismonth),dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy,today.setHours(144),dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),todate=dd+(mmm=curadCal[mm])+yyyy}break;case"thismonth":if(mmm=curadCal[mm],service===GSConstant.CALENDAR){var monthStartDate=new Date(today.getFullYear(),today.getMonth(),1),monthEndDate=new Date(today.getFullYear(),today.getMonth()+1,0),yyyy=monthStartDate.getFullYear();switch(zgssearch.getFilterInfo("calendar","eventTypes","current")){case"0":fromdate=(dd=("0"+monthStartDate.getDate()).slice(-2))+mmm+yyyy,todate=(dd=("0"+monthEndDate.getDate()).slice(-2))+mmm+yyyy;break;case"1":fromdate=dd+mmm+yyyy,todate=(dd=("0"+monthEndDate.getDate()).slice(-2))+mmm+yyyy;break;case"-1":todate=dd+mmm+yyyy,fromdate=(dd=("0"+monthStartDate.getDate()).slice(-2))+mmm+yyyy}}else{todate=dd+mmm+yyyy;thismonth=new Date(today);thismonth.setDate(1),dd=("0"+thismonth.getDate()).slice(-2),mm=thismonth.getMonth()+1,yyyy=thismonth.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy}}zgssearch.isMoreFilterListDisplay?(zgssearch.curMoreFiltersList[key]=dcolor,zgssearch.curMoreDateFiltersList={fromdate:fromdate,todate:todate},_jQueryGS(targetId="#zgs20_gsMoreFilterElem_"+key).attr("soid",dcolor),dispname=zgssearch.getFilterData(service,key,"data",dcolor),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("gstitle",dispname).text(dispname),dcolor=zgssearch.getFilterInfo(service,key,"default")==dcolor?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor)):(zgssearch.updateFilterInfo(service,key,"fromdate",fromdate),zgssearch.updateFilterInfo(service,key,"todate",todate))},zgssearch.toggleCreatorFormViewsHeader=function(ftype){_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).addClass("zgs19_gsModuleFilterSerNameSelect"),zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+ftype,_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).removeClass("zgs19_gsModuleFilterSerNameSelect")},zgssearch.clickActionForWidgetList=function(target){var service=zgssearch.getSearchType(),ftype=_jQueryGS(target).attr("ftype");zgssearch.gsautocomplete.checkQueryFilterExists("services",service),zgssearch.gsautocomplete.checkQueryFilterExists("users");var query=zgssearch.getValue("zgs20_gsQueryBox"),query=zgssearch.gsautocomplete.getautosearchQuery(query),isValidSearch=!1,soid=_jQueryGS(target).attr("key"),fkey=_jQueryGS(target).attr("fkey"),oldValue=zgssearch.getFilterInfo(service,fkey,"current");zgssearch.isValidSearchForWidgetService(service,target)&&(zgssearch.isQueryValid(query)||zgssearch.isQueryHasFilters()?(isValidSearch=!0,zgssearch.handleUserSearchQuery(query,service,target)):zgssearch.handleEmptySearchQry(service,target)),isValidSearch||("formList"==ftype||"viewList"==ftype||"pageList"==ftype?(zgssearch.hideFilterList(),zgssearch.toggleCreatorFormViewsHeader(ftype),zgssearch.gscreator.loadCreatorFormView(soid,ftype)):"customrange"!=soid&&"customdate"!=soid&&soid!=oldValue&&(zgssearch.updateMultiPageFlag(service,fkey),zgssearch.displayModuleResultPage()))},zgssearch.clickActionForMoreInnerList=function(targetId){var service=zgssearch.getSearchType(),dcolor=_jQueryGS(targetId).attr("key"),fkey=_jQueryGS(targetId).attr("fkey"),value=_jQueryGS(targetId).attr("value"),targetId=zgssearch.getFilterInfo(service,fkey,"key");"customrange"==dcolor||"customdate"==dcolor?(zgssearch.curDatePickerObj={service:service,key:fkey,soid:dcolor},zgssearch.handleDatePicker(dcolor)):"date"==targetId?zgssearch.updateDateFormat(service,fkey,dcolor):(targetId="#zgs20_gsMoreFilterElem_"+fkey,zgssearch.curMoreFiltersList[fkey]=dcolor,_jQueryGS(targetId).attr("soid",dcolor),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("gstitle",value).text(value),dcolor=zgssearch.getFilterInfo(service,fkey,"default")==dcolor?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor))},zgssearch.getServiceOrders=function(sort_order,currService,accId,filterkey,filtervalue,cardConfigArr){var order=sort_order.order||[],currService=zgssearch.isArrayContain(currService,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[currService].originService:currService;zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)&&currService==zgssearch.GSConstant.MAILS&&(order=zgssearch.getAccountBasedServicesOrders(currService,order,sort_order,accId,filterkey,filtervalue,cardConfigArr));sort_order=sort_order.sort_order||[];return order?order.concat(sort_order):{}},zgssearch.getAccountBasedServicesOrders=function(currService,order,gfObj,accId,filterkey,filtervalue,cardConfigArr){try{var originalOrder=Array.from(order);if(currService===GSConstant.MAILS&&zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)){var acc_id,accounts_list,module,selectedModule_order,selectedModule,secondLayerOrder,serviceFilterInfo=zgssearch.gFilterData[currService],fallbackModule=serviceFilterInfo.module.current,currAllAccLen=Object.keys(serviceFilterInfo.accounts.alldata).length,currEnabledAccLen=Object.keys(serviceFilterInfo.accounts.data).length,can_render_account_list=!!gfObj.hasOwnProperty("can_render_account_list")&&gfObj.can_render_account_list,canConcatAccountOrModule=!1,account_type=0;return!zgssearch.filter_type||"dashboard_card"!==zgssearch.filter_type&&"preview_card"!==zgssearch.filter_type&&"createCard"!==zgssearch.filter_type&&"UpdateCardInfo"!==zgssearch.filter_type&&"editCard"!==zgssearch.filter_type&&"saveCard"!==zgssearch.filter_type?"0"!==(acc_id=0<originalOrder.length?zgssearch.getFilterInfo(currService,"accounts","current"):"0")&&(account_type=zgssearch.getAccountType(currService,acc_id),selectedModule_order="non_primary_order","1"===account_type&&(selectedModule_order="primary_order",(selectedModule=fallbackModule)&&selectedModule!==GSConstant.ALL&&(selectedModule_order=selectedModule+"_order")),secondLayerOrder=(gfObj.hasOwnProperty(selectedModule_order)?gfObj[selectedModule_order]:[])||[],originalOrder=originalOrder.concat(secondLayerOrder),zgssearch.isArrayContain("accounts",originalOrder)||originalOrder.unshift("accounts")):("saveCard"===zgssearch.filter_type||"UpdateCardInfo"===zgssearch.filter_type?(!filterkey||"module"!==filterkey&&"accounts"!==filterkey||zgssearch.isArrayContain("accounts",originalOrder)||originalOrder.unshift("accounts"),canConcatAccountOrModule=!0,accId=zgssearch.selectedSearchObj.hasOwnProperty("accounts")?zgssearch.selectedSearchObj.accounts[0]:accId||"",filterkey=zgssearch.selectedSearchObj.hasOwnProperty("module")?"module":"",filtervalue=zgssearch.selectedSearchObj.hasOwnProperty(filterkey)?zgssearch.selectedSearchObj[filterkey][0]:""):"editCard"===zgssearch.filter_type?(filtervalue=(accounts_list=zgssearch.gscardinDb.getFilterVal(cardConfigArr,"accounts_list"))?(accId=accounts_list?0<accounts_list.length?accounts_list[0]:"":accId||"",filterkey=null!==(module=zgssearch.gscardinDb.getFilterVal(cardConfigArr,"module"))?"module":"accounts",null!==module?module[0]:""):(accId=cardConfigArr.hasOwnProperty("accounts")?cardConfigArr.accounts[0]:"",(filterkey=cardConfigArr.hasOwnProperty("module")?"module":"accounts")?cardConfigArr[filterkey][0]:""),canConcatAccountOrModule=can_render_account_list?filterkey?("module"===filterkey||"accounts"===filterkey)&&1<currAllAccLen:canConcatAccountOrModule:(zgssearch.isArrayContain("accounts",originalOrder)||originalOrder.unshift("accounts"),filterkey?"module"===filterkey:canConcatAccountOrModule),"1"===(account_type=zgssearch.getAccountType(currService,accId))&&"accounts"===filterkey&&(canConcatAccountOrModule=!0,fallbackModule=GSConstant.MAILS)):"createCard"===zgssearch.filter_type?(fallbackModule=serviceFilterInfo.module.default,accId=(!accId||"0"===accId)&&1===currEnabledAccLen?serviceFilterInfo.accounts.current:accId,canConcatAccountOrModule=can_render_account_list?(!filterkey||"accounts"===filterkey)&&1<currAllAccLen:(cardConfigArr&&(filtervalue=(filterkey=cardConfigArr.hasOwnProperty("module")?"module":"")?cardConfigArr[filterkey][0]:"",canConcatAccountOrModule=filterkey?"module"===filterkey:canConcatAccountOrModule),zgssearch.isArrayContain("accounts",originalOrder)||"module"===filterkey||originalOrder.unshift("accounts"),"module"===filterkey||fallbackModule!==GSConstant.ALL)):"dashboard_card"===zgssearch.filter_type?cardConfigArr&&(fallbackModule=GSConstant.MAILS,canConcatAccountOrModule=!0,filtervalue=(accounts_list=zgssearch.gscardinDb.getFilterVal(cardConfigArr,"accounts_list"))?(accId=0<accounts_list.length?accounts_list[0]:"",filterkey=null!==(module=zgssearch.gscardinDb.getFilterVal(cardConfigArr,"module"))?"module":"",null!==module?module[0]:""):(accId=cardConfigArr.hasOwnProperty("accounts")?cardConfigArr.accounts[0]:"",(filterkey=cardConfigArr.hasOwnProperty("module")?"module":"")?cardConfigArr[filterkey][0]:""),!filterkey||"module"!==filterkey&&"accounts"!==filterkey||zgssearch.isArrayContain("accounts",originalOrder)||originalOrder.unshift("accounts")):"preview_card"===zgssearch.filter_type&&(canConcatAccountOrModule=!0,!filterkey||"module"!==filterkey&&"accounts"!==filterkey||zgssearch.isArrayContain("accounts",originalOrder)||originalOrder.unshift("accounts"),filterkey=zgssearch.selectedSearchObj.hasOwnProperty("module")?"module":"",filtervalue=zgssearch.selectedSearchObj.hasOwnProperty(filterkey)?zgssearch.selectedSearchObj[filterkey][0]:""),accId&&"0"!==accId&&(account_type=zgssearch.getAccountType(currService,accId),"accounts"!==filterkey&&"module"!==filterkey&&!zgssearch.filter_type||(selectedModule_order="non_primary_order","1"===account_type&&(selectedModule_order="primary_order",(selectedModule="module"===filterkey?filtervalue:fallbackModule)&&selectedModule!==GSConstant.ALL&&(selectedModule_order=selectedModule+"_order")),secondLayerOrder=gfObj.hasOwnProperty(selectedModule_order)?gfObj[selectedModule_order]:originalOrder,originalOrder=canConcatAccountOrModule?originalOrder.concat(secondLayerOrder):secondLayerOrder))),originalOrder}}catch(ex){zgssearch.throwClientError("Error in getAccountBasedServicesOrders. ",ex)}},zgssearch.updateSubMultiPageFlag=function(module){zgssearch.subMultiPageEnabled="all"===module,zgssearch.currSubModule=module||""},zgssearch.updateServiceFilters=function(oldservice,newservice,currentModule){var gfObj,common_order,module_filter_key,serviceFilterInfo,module_name,searchType,defaultModule=!1,currService=zgssearch.isArrayContain(oldservice,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[oldservice].originService:oldservice,fkey="";zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&currService===zgssearch.GSConstant.MAILS&&currentModule&&(gfObj=_jQueryGS(currentModule).attr("key"),searchType="module"===(fkey=_jQueryGS(currentModule).attr("fkey"))?gfObj:"","accounts"!==fkey&&"module"!==fkey||(defaultModule=!0)),newservice==zgssearch.GSConstant.PROJECTS&&"sortduedate"==zgssearch.getFilterInfo(newservice,"sort","current")&&("0"!=(common_order=zgssearch.getFilterInfo(newservice,zgssearch.gsprojects.modules,"current"))&&"4"!=common_order&&"7"!=common_order||(serviceFilterInfo=zgssearch.getFilterInfo(newservice,"sort","default"),module_filter_key=zgssearch.getFilterInfo(newservice,"sort","data"),zgssearch.updateFilterInfo(newservice,"sort","current",serviceFilterInfo),zgssearch.updateFilterInfo(newservice,"sort","dispname",module_filter_key[serviceFilterInfo]))),(newservice!=oldservice||defaultModule||zgssearch.clearAllFilterAction)&&(newservice=zgssearch.hasOwnProperty("gshistory")&&newservice?zgssearch.gshistory.getProperServiceName(newservice):oldservice,module_name=zgssearch.getServiceList("serviceList")||[],!zgssearch.isArrayContain(oldservice,module_name)||(gfObj=zgssearch.getFilterObj(oldservice))&&(common_order=zgssearch.getServiceOrders(gfObj,newservice),module_filter_key="",zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&((serviceFilterInfo=zgssearch.gFilterData[currService]).hasOwnProperty("module")&&(defaultModule=GSConstant.ALL,module_name=zgssearch.getFilterInfo(currService,"accounts","current"),"1"===zgssearch.getAccountType(currService,module_name)&&(module_name=currentModule?_jQueryGS(currentModule).attr("module_name"):"",currentModule=serviceFilterInfo.module.current,(module_name||zgssearch.clearAllFilterAction||currentModule!==defaultModule)&&zgssearch.updateSubMultiPageFlag(defaultModule=module_name||searchType||defaultModule),zgssearch.updateFilterInfo(currService,"module","current",defaultModule),searchType=zgssearch.getFilterData(currService,"module","data",defaultModule),zgssearch.updateFilterInfo(currService,"module","dispname",searchType),"all"!=defaultModule?common_order=serviceFilterInfo[defaultModule+"_order"]:0<(common_order=serviceFilterInfo.hasOwnProperty("hidden_bg_order")?serviceFilterInfo.hidden_bg_order:common_order).length&&zgssearch.isArrayContain("accounts",common_order)&&common_order.splice(common_order.indexOf("accounts"),1),searchType=zgssearch.getSearchType(),"all"!=defaultModule&&serviceFilterInfo.hasOwnProperty("primary_order")&&GSConstant.ALL!=searchType&&(module_filter_key=serviceFilterInfo.primary_order[0])),"accounts"===fkey?(common_order=serviceFilterInfo.hasOwnProperty("hidden_bg_order")?serviceFilterInfo.hidden_bg_order:common_order,module_filter_key=serviceFilterInfo.order[0]):"module"===fkey&&(module_filter_key=serviceFilterInfo.hasOwnProperty("primary_order")?serviceFilterInfo.primary_order[0]:"")),newservice!=oldservice&&(module_filter_key="",zgssearch.isArrayContain(fkey="accounts",common_order)||common_order.unshift("accounts")),zgssearch.clearAllFilterAction=!1),zgssearch.resetToAllDefaultFilter(common_order,module_filter_key,gfObj,oldservice)))},zgssearch.resetToAllDefaultFilter=function(common_order,module_filter_key,gfObj,oldservice){var order_len=common_order.length;if(0<order_len)for(var i=0;i<order_len;i++){var fkObj,odefault,odispname,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&fkey!==module_filter_key&&(odefault=(fkObj=gfObj[fkey]).default,odispname=zgssearch.getFilterData(oldservice,fkey,"data",odefault),zgssearch.updateFilterInfo(oldservice,fkey,"current",odefault),odispname&&zgssearch.updateFilterInfo(oldservice,fkey,"dispname",odispname),"1"==fkObj.type&&zgssearch.updateCurrentFilterInfo(oldservice),"date"==fkey&&(zgssearch.updateFilterInfo(oldservice,fkey,"todate",""),zgssearch.updateFilterInfo(oldservice,fkey,"fromdate","")))}},zgssearch.storeMailLabelInfo=function(mlArr,gffo,foldText){var wffodata,ffodata;0<(mlArr=mlArr||[]).length&&(wffodata={},(ffodata={})[foldText]=zgssearch.formatMailLabelsDetails(mlArr),foldText=zgssearch.getI18NMsg("gs.search.filter.tags"),zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","5"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","labelId"),zgssearch.setFiltersDetails(wffodata,"default","alltags"),zgssearch.setFiltersDetails(wffodata,"current","alltags"),zgssearch.setFiltersDetails(wffodata,"length",mlArr.length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),zgssearch.setFiltersDetails(gffo,"labels",wffodata))},zgssearch.fetchMailFolderInfo=function(serviceName,accId){zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchMailFolderDetails&accId="+accId,{service:serviceName,accId:accId},function(mfArr,status,dataObj){var argObj=dataObj.args||{},dataObj=zgssearch.jsonParse(mfArr),mfArr=zgssearch.formatMailFoldersDetails(dataObj),dataObj=zgssearch.getFilterInfo(argObj.service,"folders","data");dataObj[argObj.accId]=mfArr,zgssearch.updateFilterInfo(argObj.service,"folders","data",dataObj)})},zgssearch.fetchMailLabelInfo=function(serviceName,accId){zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchMailLabelDetails&accId="+accId,{service:serviceName,accId:accId},function(mlArr,status,dataObj){var argObj=dataObj.args||{},dataObj=zgssearch.jsonParse(mlArr),mlArr=zgssearch.formatMailLabelsDetails(dataObj),dataObj=zgssearch.getFilterInfo(argObj.service,"labels","data");dataObj[argObj.accId]=mlArr,zgssearch.updateFilterInfo(argObj.service,"labels","data",dataObj)})},zgssearch.fetchSupportModuleInfo=function(argparam,moduleParam){argparam={service:argparam,portalId:moduleParam},moduleParam="action=fetchDeskModuleDetails&portalId="+encodeURIComponent(moduleParam);zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,moduleParam,argparam,function(dataObj,status,mObj){var argObj=mObj.args||{},unusedData=zgssearch.jsonParse(dataObj),mObj=zgssearch.formatDeskModulesDetails(unusedData),dataObj=zgssearch.getFilterInfo(argObj.service,"modules","data"),unusedData=zgssearch.getFilterInfo(argObj.service,"modules","unusedModData");dataObj[argObj.portalId]=mObj.moduleData,unusedData[argObj.portalId]=mObj.unusedModuleData,zgssearch.updateFilterInfo(argObj.service,"modules","data",dataObj),zgssearch.updateFilterInfo(argObj.service,"modules","unusedModData",unusedData)})},zgssearch.fetchFinancePlusModuleInfo=function(serviceName,moduleParam){var argparam={service:serviceName,portalId:moduleParam},moduleParam="action=fetchFinancePlusModules&service="+serviceName+"&orgId="+encodeURIComponent(moduleParam);zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,moduleParam,argparam,function(mObj,status,dataObj){var argObj=dataObj.args||{},dataObj=zgssearch.jsonParse(mObj),mObj=zgssearch.formatBooksModulesDetails(dataObj),dataObj=zgssearch.getFilterInfo(argObj.service,"modules","data");dataObj[argObj.portalId]=mObj,zgssearch.updateFilterInfo(argObj.service,"modules","data",dataObj)})},zgssearch.fetchAdditionlInfo=function(){zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.openSettingsMenuOptions(),zgssearch.loadResultsFromHolder(),zgssearch.hasOwnProperty("gsversion")&&zgssearch.gsversion.checkGSVersion()},zgssearch.initWidgetList()}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.peopleDeptCache=zgssearch.peopleDeptCache||{result:[],noresult:[]},zgssearch.renderServiceFilterList=function(service_name){try{var searchType=zgssearch.getSearchType();if(searchType!==GSConstant.ALL&&zgssearch.isServiceHasFilter(service_name)){var currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,gfObj=zgssearch.getFilterObj(currService),isModuleSpecificPage=!0;if((zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(service_name)||zgssearch.isServiceHasSubMultiPortals(service_name))&&(isModuleSpecificPage=!1),zgssearch.isClearRenderedFilters&&(_jQueryGS("#zgs20_gsModuleFilterList").empty().show(),_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterIconHolder zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsFilterIcon zgs19_gsModuleFilterIcon"}))).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterDataHolder",class:"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"}))),gfObj){var showFilterIcon=!1,excludeWidth=10,sort_order=gfObj.sort_order||[],query=zgssearch.getValue("zgs20_gsQueryBox");query=zgssearch.gsautocomplete.getautosearchQuery(query);var isEmptySearch=!zgssearch.isQueryValid(query)&&!zgssearch.isQueryHasFilters()&&zgssearch.isServiceHasEmptySearch(service_name);zgssearch.isSortEnabled=!1,!zgssearch.multiPageEnabled&&0<sort_order.length&&!isEmptySearch&&(excludeWidth+=85,zgssearch.isSortEnabled=!0),_jQueryGS("#zgs20_gsModuleFilterSortHolder").css("display","none"),excludeWidth+=_jQueryGS(".zgs19_gsModuleFilterIconHolder").outerWidth(!0);var projData,projLen,statusIndex,tagData,tagLen,dateIndex,projIndex,tagIndex,totalWidth=_jQueryGS("#zgs20_gsSearchResultMiddle").width()-excludeWidth,flistObj=zgssearch.getvalidFilterList(gfObj.order,gfObj),skipvalue=0,flistlen=0,fwidth=0,isMoreFilters=!1;searchType!=zgssearch.GSConstant.ASANA||zgssearch.multiPageEnabled||gfObj.workspaces&&"all"!=gfObj.workspaces.current&&(""!=zgssearch.getFilterInfo("asana","projects","data")&&zgssearch.getFilterInfo("asana","projects","data").hasOwnProperty(gfObj.workspaces.current)?(projData=zgssearch.getFilterInfo("asana","projects","data"),projLen=Object.keys(projData[gfObj.workspaces.current]).length,zgssearch.setFiltersDetails(gfObj.projects,"length",projLen)):(zgssearch.setAsanaProjectsFilter(gfObj.workspaces.current),statusIndex=flistObj.indexOf("completed"),flistObj.splice(statusIndex,0,"projects")),""!=zgssearch.getFilterInfo("asana","tags","data")&&zgssearch.getFilterInfo("asana","tags","data").hasOwnProperty(gfObj.workspaces.current)?(tagData=zgssearch.getFilterInfo("asana","tags","data"),tagLen=Object.keys(tagData[gfObj.workspaces.current]).length,zgssearch.setFiltersDetails(gfObj.tags,"length",tagLen)):(zgssearch.setAsanaTagsFilter(gfObj.workspaces.current),dateIndex=flistObj.indexOf("date"),flistObj.splice(dateIndex,0,"tags"))),service_name==zgssearch.GSConstant.ASANA&&(zgssearch.multiPageEnabled||gfObj.workspaces&&"all"==gfObj.workspaces.current)&&(_jQueryGS.isEmptyObject(zgssearch.getFilterInfo("asana","projects","data"))||(projIndex=flistObj.indexOf("projects"),flistObj.splice(projIndex,1)),_jQueryGS.isEmptyObject(zgssearch.getFilterInfo("asana","tags","data"))||(tagIndex=flistObj.indexOf("tags"),flistObj.splice(tagIndex,1)));var currAccId,acc,account_type=0;zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(currAccId=zgssearch.getFilterInfo(currService,"accounts","current"),"1"===(account_type=zgssearch.getAccountType(currService,currAccId))?(selectedModule=gfObj.hasOwnProperty("module")?gfObj.module.current:"",zgssearch.updateSubMultiPageFlag(selectedModule)):zgssearch.updateSubMultiPageFlag("")),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?(flistlen=1,service_name!=zgssearch.GSConstant.PROJECTS||zgssearch.multiPageEnabled||(acc=zgssearch.getFilterInfo(service_name,"accounts","alldata"),flistlen=1<Object.keys(acc).length?2:1)):isMoreFilters=3<(flistlen=flistObj.length);for(var fwidth=zgssearch.setWidthOfEachfilter(totalWidth,flistlen),i=0;i<flistlen&&i<3;i++){var fkey=flistObj[i];if(gfObj.hasOwnProperty(fkey)){var current=gfObj[fkey].current;if(!zgssearch.isFilterSkipForNB(service_name,fkey,current)){var dsoid="",soid="",aname="",gsattr="",isMoreSelected=!1,isMultiSelected=!1,type=zgssearch.getFilterInfo(service_name,fkey,"type");if(zgssearch.isFilterSkipForWD(service_name,fkey))flistlen--,i--,flistObj.splice(i,1),isMoreFilters=3<flistlen,fwidth=1==flistlen?totalWidth:2==flistlen?totalWidth/2:totalWidth/3;else{if(2==i&&isMoreFilters)fkey="more",gsattr="more_filters",aname=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more"),isMoreSelected=zgssearch.checkSelectedMoreFilter(service_name,gfObj,flistObj,i);else{if("6"==type&&!zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)){skipvalue++;continue}gsattr="mFilterWidget",gfObj[fkey].hasOwnProperty("mulSelectKey")&&(isMultiSelected=!0),dsoid=zgssearch.getFilterInfo(service_name,fkey,"default"),soid=zgssearch.getFilterInfo(service_name,fkey,"current"),aname=zgssearch.getFilterInfo(service_name,fkey,"dispname")}var selectEleCls,showFilterIcon=!0,dcolor=dsoid!=soid||isMoreSelected?"zgs19_tcfd9c10":"zgs19_tc2fa6ea",exitingfKeyEleId="zgs20_gsModuleFilterElem_"+fkey,chelem="",exitingfKeyEle=_jQueryGS("#"+exitingfKeyEleId)[0];if(exitingfKeyEle?(selectEleCls="zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dcolor,(chelem=_jQueryGS(exitingfKeyEle)).attr("fkey",fkey),chelem.attr("soid",soid),chelem.attr("gs",gsattr),chelem.attr("service",service_name),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").attr("fkey",fkey),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").attr("gstitle",aname),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").removeClass().addClass(selectEleCls),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").text(aname),_jQueryGS("#"+exitingfKeyEleId+" > .zgs18_gsModuleFilterDownIcon").remove(),_jQueryGS("#"+exitingfKeyEleId+" > .zgs19_gsModuleFilterCount").remove()):chelem=_jQueryGS("<div>",{id:exitingfKeyEleId,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameAccHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:fkey,soid:soid,gs:gsattr,service:service_name}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dcolor,fkey:fkey,gstitle:aname}).text(aname)),isMultiSelected){var curVal,wObj=zgssearch.getFilterInfo(service_name,fkey,"data"),ftype=zgssearch.getFilterInfo(service_name,fkey,"type"),accId="";"3"!==ftype&&"4"!==ftype||(curVal=zgssearch.getFilterInfo(service_name,"accounts","current"),wObj.hasOwnProperty(curVal)&&(accId=curVal));var selectedFilters=soid.split(","),selectFltrLen=selectedFilters.length;if(1<selectFltrLen){for(var ftrsValue="",s=0;s<selectFltrLen;)ftrsValue+=zgssearch.getDispName(service_name,accId,wObj,selectedFilters[s],ftype),++s<selectFltrLen&&(ftrsValue+=", ");chelem.append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterCount zgs19_gsMgRt5Px zgs19_gsfl",gslabel:zgssearch.getI18NMsg("gs.search.filter.selected_filters"),gstitle:ftrsValue}).text("+"+(selectFltrLen-1)))}}chelem.append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),_jQueryGS(chelem).attr("index",i-skipvalue),exitingfKeyEle?_jQueryGS("#zgs20_gsModuleFilterDataHolder > #"+exitingfKeyEleId).replaceWith(chelem):_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(chelem);var filterDataObj=gfObj.hasOwnProperty(fkey)?gfObj[fkey]:{};1==filterDataObj.length&&(_jQueryGS("#zgs20_gsModuleFilterElem_"+fkey+"> .zgs19_gsModuleFilterSerNameNew").removeClass("zgs19_tc2fa6ea"),"accounts"==fkey?_jQueryGS("#zgs20_gsModuleFilterElem_"+fkey).addClass("zgs19_gsPntEvtNone zgs19_serDisbName"):_jQueryGS("#zgs20_gsModuleFilterElem_"+fkey+"> .zgs19_gsModuleFilterSerNameNew").addClass("zgs19_tcfd9c10"));var sortDiv,stip,dsortId,sortId,sortDisp,dscolor,canrendersecndLayer=current!==(filterDataObj.default||"")||1===gfObj[fkey].length,canshowsecondloayer=canshowsecondloayer||!1;if(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&canrendersecndLayer&&!canshowsecondloayer&&isModuleSpecificPage||"1"===account_type){var orderArr=[];if(currService===zgssearch.GSConstant.MAILS){var selectedModule,selectedModule_order="non_primary_order";"1"===account_type&&(selectedModule_order="primary_order",(selectedModule=gfObj.hasOwnProperty("module")?gfObj.module.current:"")&&selectedModule!==GSConstant.ALL&&(selectedModule_order=selectedModule+"_order")),orderArr=gfObj[selectedModule_order]}else if(currService==zgssearch.GSConstant.PROJECTS){selectedModule_order="filter_order";for(var orderArr=gfObj.order.slice(0),fieldLen=_jQueryGS.inArray(fkey,gfObj.order),field=0;field<=fieldLen;field++)orderArr.splice(0,flistlen);zgssearch.setFiltersDetails(gfObj,selectedModule_order,orderArr),zgssearch.setFiltersDetails(gfObj,selectedModule_order,orderArr)}var newOrder=gfObj.hasOwnProperty(selectedModule_order)?zgssearch.getvalidFilterList(orderArr,gfObj):{};_jQueryGS.isEmptyObject(newOrder)||(canshowsecondloayer=!0)}!zgssearch.isSortEnabled||i!=flistlen-1&&2!=i||(exitingfKeyEleId="zgs20_gsModuleFilterSortHolder",sortDiv="",stip=zgssearch.getI18NMsg("gs.search.filter.sort"),dsortId=zgssearch.getFilterInfo(service_name,"sort","default"),sortId=zgssearch.getFilterInfo(service_name,"sort","current"),sortDisp=zgssearch.getFilterInfo(service_name,"sort","dispname"),dscolor=dsortId===sortId?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",(exitingfKeyEle=_jQueryGS("#zgs20_gsModuleFilterSortHolder")[0])?((sortDiv=_jQueryGS(exitingfKeyEle)).attr("soid",sortId),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").attr("gstitle",sortDisp),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").removeClass().addClass("zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dscolor),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").text(sortDisp)):(sortDiv=_jQueryGS("<div>",{id:exitingfKeyEleId,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",fkey:"sort",soid:sortId,gstitle:stip,gs:"mFilterWidget"}).append(_jQueryGS("<span>",{class:"zgs19_gsModuleSortDownIcon zgs19_gsResultsUniIcons zgs19_gsModuleSortDownIconNew_grey zgs19_gsBorderBox zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dscolor,gstitle:sortDisp}).text(sortDisp)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(sortDiv)),_jQueryGS("#zgs20_gsModuleFilterSortHolder").css("display","block"),zgssearch.isSortEnabled=!1),!canshowsecondloayer||i!=flistlen-1&&2!=i?(_jQueryGS("#zgs20_gsModuleFilterList").removeClass("zgs19_gsModuleFilterAccList"),_jQueryGS("#zgs20_gsModuleFilterList").removeClass("zgs19_cfilterAlign"),_jQueryGS("#zgs20_gsModuleFilterDataHolder").removeClass("zgs19_gsModuleSeleFilterAccElem")):(_jQueryGS("#zgs20_gsModuleFilterList").addClass("zgs19_gsModuleFilterAccList"),_jQueryGS("#zgs20_gsModuleFilterDataHolder").addClass("zgs19_gsModuleSeleFilterAccElem"),_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_secondlayer",class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFiltersHolder zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElemSL_filter"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElemSL_clear"}))),_jQueryGS("#zgs20_gsModuleFilterElem_"+flistObj[0]).addClass("zgs19_gsPdLt10Px"),zgssearch.renderSecondLayerServiceFilterList(currService,gfObj,newOrder,selectedModule_order,account_type),totalWidth-=30,fwidth=zgssearch.setWidthOfEachfilter(totalWidth,flistlen))}}}}var filterIconWid=_jQueryGS(".zgs19_gsModuleFilterIconHolder").outerWidth(!0)+2;_jQueryGS("#zgs20_gsModuleFilterDataHolder").css("width","calc(100% - "+filterIconWid+"px)"),showFilterIcon||(_jQueryGS(".zgs19_gsModuleFilterIcon").css("display","none"),_jQueryGS("#zgs20_gsModuleFilterList").css("display","none"),query=zgssearch.getValue("zgs20_gsQueryBox"),zgssearch.isQueryValid(query)||zgssearch.searchedQuery||zgssearch.displayDefaultPage(!1));var filterCount,countLen=_jQueryGS(".zgs19_gsModuleFilterCount").length;0<countLen&&(filterCount=totalWidth/fwidth,fwidth=(totalWidth-=27*countLen)/filterCount),zgssearch.addEventForFilterElem(),zgssearch.updateWidthOfFilters(totalWidth,fwidth,"zgs19_gsModuleFilterSerNameNew","zgs20_gsModuleFilterDataHolder")}}else _jQueryGS("#zgs20_gsModuleFilterList").empty().hide()}catch(ex){zgssearch.throwClientError("Error in zgssearch.renderServiceFilterList ",ex)}},zgssearch.renderSecondLayerServiceFilterList=function(currService,gfObj,flistObj,selectedModule_order,account_type){try{var showFilterIcon=!1,query=zgssearch.getValue("zgs20_gsQueryBox"),totalWidth=(zgssearch.gsautocomplete.getautosearchQuery(query),_jQueryGS("#zgs20_gsModuleFilterElemSL_filter").width()),fwidth=0,flistlen=flistObj.length,filterLimit=currService!=zgssearch.GSConstant.MAILS||"1"===account_type&&zgssearch.gFilterData[currService].can_render_account_list?4:3,isMoreFilters=filterLimit<flistlen;fwidth=1==flistlen?totalWidth:2==flistlen?totalWidth/2:totalWidth/filterLimit,_jQueryGS("#zgs20_gsModuleFilterList").addClass("zgs19_cfilterAlign");for(var i=0;i<flistlen&&i<filterLimit;i++){var fkey=flistObj[i];if(gfObj.hasOwnProperty(fkey)){var dsoid="",soid="",aname="",gsattr="",isMoreSelected=!1,isMultiSelected=!1;zgssearch.getFilterInfo(currService,fkey,"type");i==filterLimit-1&&isMoreFilters?(fkey="more",gsattr="more_filters",aname=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more"),isMoreSelected=zgssearch.checkSelectedMoreFilter(currService,gfObj,flistObj,i)):(gsattr="mFilterWidget",gfObj[fkey].hasOwnProperty("mulSelectKey")&&(isMultiSelected=!0),dsoid=zgssearch.getFilterInfo(currService,fkey,"default"),soid=zgssearch.getFilterInfo(currService,fkey,"current"),aname=zgssearch.getFilterInfo(currService,fkey,"dispname"));var selectEleCls,showFilterIcon=!0,dcolor=dsoid!=soid||isMoreSelected?"zgs19_tcfd9c10":"zgs19_tc2fa6ea",exitingfKeyEleId="zgs20_gsModuleFilterElem_"+fkey,chelem="",exitingfKeyEle=_jQueryGS("#"+exitingfKeyEleId)[0];if(exitingfKeyEle?(selectEleCls="zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dcolor,(chelem=_jQueryGS(exitingfKeyEle)).attr("fkey",fkey),chelem.attr("subServiceOrder",selectedModule_order),chelem.attr("soid",soid),chelem.attr("gs",gsattr),chelem.attr("service",currService),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").attr("fkey",fkey),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").attr("gstitle",aname),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").removeClass().addClass(selectEleCls),_jQueryGS("#"+exitingfKeyEleId+" .zgs19_gsModuleFilterSerNameNew").text(aname),_jQueryGS("#"+exitingfKeyEleId+" > .zgs18_gsModuleFilterDownIcon").remove(),_jQueryGS("#"+exitingfKeyEleId+" > .zgs19_gsModuleFilterCount").remove()):chelem=_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_"+fkey,subServiceOrder:selectedModule_order,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:fkey,soid:soid,gs:gsattr,service:currService}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dcolor,fkey:fkey,gstitle:aname}).text(aname)),isMultiSelected){var filterKey,modVal,header,wObj=zgssearch.getFilterInfo(currService,fkey,"data"),ftype=zgssearch.getFilterInfo(currService,fkey,"type"),accId="";"3"===ftype?(filterKey=zgssearch.getFilterAccountKeyName(currService,fkey,ftype),accId=zgssearch.getFilterInfo(currService,filterKey,"current"),0<(modVal=zgssearch.getFilterInfo(currService,fkey,"parId")).length&&(accId+="_"+modVal[0])):"4"===ftype&&(header=zgssearch.getFilterInfo(currService,"accounts","current"),wObj.hasOwnProperty(header)&&(accId=header));var selectedFilters=soid.split(","),selectFltrLen=selectedFilters.length;if(1<selectFltrLen){for(var ftrsValue="",s=0;s<selectFltrLen;)ftrsValue+=zgssearch.getDispName(currService,accId,wObj,selectedFilters[s],ftype),++s<selectFltrLen&&(ftrsValue+=", ");chelem.append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterCount zgs19_gsMgRt5Px zgs19_gsfl",gslabel:zgssearch.getI18NMsg("gs.search.filter.selected_filters"),gstitle:ftrsValue}).text("+"+(selectFltrLen-1)))}}chelem.append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),_jQueryGS(chelem).attr("index",+i),exitingfKeyEle?_jQueryGS("#zgs20_gsModuleFilterElemSL_filter > #"+exitingfKeyEleId).replaceWith(_jQueryGS(chelem)):_jQueryGS("#zgs20_gsModuleFilterElemSL_filter").append(chelem)}else _jQueryGS("#zgs20_gsModuleFilterList").removeClass("zgs19_gsModuleFilterAccList"),_jQueryGS("#zgs20_gsModuleFilterDataHolder").removeClass("zgs19_gsModuleSeleFilterAccElem")}showFilterIcon||_jQueryGS("#zgs20_gsModuleFilterElemSL_filter").css("display","none");var filterCount,countLen=_jQueryGS(".zgs19_gsModuleFilterCount").length;0<countLen&&(filterCount=totalWidth/fwidth,fwidth=(totalWidth-=27*countLen)/filterCount),zgssearch.addEventForFilterElem(),zgssearch.updateWidthOfFilters(totalWidth,fwidth,"zgs19_gsModuleFilterSerNameNew","zgs20_gsModuleFilterElemSL_filter"),_jQueryGS("#zgs20_gsModuleFilterDataHolder").addClass("zgs19_gsLayoutFilter");var filterIcon=_jQueryGS("#zgs20_gsModuleFilterList .zgs19_gsModuleFilterIcon")[0];_jQueryGS(filterIcon).addClass("zgs19_gsLayoutFilterIcon")}catch(ex){zgssearch.throwClientError("Error in zgssearch.renderSecondLayerServiceFilterList ",ex)}},zgssearch.openClearAllFilterInSearch=function(noButt){_jQueryGS(".zgs19_gsClearFilterDialog").remove();var overlayDialog=_jQueryGS(noButt).attr("service"),yesButt=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsSaveClear",gs:"clearFilterConfirm",dataType:"Yes",service:overlayDialog}).text(zgssearch.getI18NMsg("common.yesclear")),noButt=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsClearFilterNo",gs:"clearFilterUnConfirm",dataType:"No"}).text(zgssearch.getI18NMsg("common.no")),overlayDialog=1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_gsHolder");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsClearFilterDialog"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"clearfilteroverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsClearFilterPopUp",class:"zgs19_gsClearFilterPopUp"}).append(_jQueryGS("<div>",{class:"zgs19_gsClearFilterAccConfirmTitle"}).text(zgssearch.getI18NMsg("gs.search.filter.clear.msg.title"))).append(_jQueryGS("<div>",{class:"zgs19_gsClearFilterAccConfirm"}).text(zgssearch.getI18NMsg("gs.search.filter.clear.msg")+" ").append(_jQueryGS("<span>",{class:"zgs19_gsClearFilterAccConfirmSF"}).text(zgssearch.getI18NMsg("gs.search.filter.clear.msgpart")+"?"))).append(_jQueryGS("<div>",{class:"zgs19_gsClearFilterActions"}).append(noButt).append(yesButt)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"clearFilterUnConfirm",datatype:"closeSaveDialog"}))))),overlayDialog.css({display:"block","z-index":"10000000000"})},zgssearch.clearAllFilterInSearch=function(service){_jQueryGS(".zgs19_gsClearFilterDialog").remove(),(1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_gsHolder")).css({display:"none"}),zgssearch.clearAllFilterAction=!0;service=_jQueryGS(service).attr("service");zgssearch.clearSearchresults(),zgssearch.updateServiceFilters(service,service),zgssearch.updateCurrentPage(service)},zgssearch.noactionClearAllFilterInSearch=function(){_jQueryGS(".zgs19_gsClearFilterDialog").remove(),(1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_gsHolder")).css({display:"none"})},zgssearch.isFilterSkip=function(service_name,fkey,type){return service_name===GSConstant.REPORTS?zgssearch.isListViewSearch()&&"viewtype"==fkey:"6"==type},zgssearch.isFilterSkipForNB=function(service_name,fkey,current){var currentModule=zgssearch.getFilterInfo(service_name,"module","current");return service_name==GSConstant.NOTEBOOK&&"notecardtype"===fkey&&"notebooks"===currentModule},zgssearch.isFilterSkipForWD=function(service_name,fkey){switch(service_name){case GSConstant.WORKDRIVE:if("folders"!==fkey)break;var folderData="ENTERPRISE"===zgssearch.editionTypeForWD?"teams":"accounts",folderList=zgssearch.getFilterInfo(service_name,folderData,"current"),folderData=zgssearch.getFilterInfo(service_name,"folders","data");if(folderData.hasOwnProperty(folderList)){folderList=folderData[folderList];return!(0<Object.keys(folderList).length)}return!0}},zgssearch.checkSelectedMoreFilter=function(service_name,gfObj,flistObj,i){for(var isMoreSelected=!1,flistlen=flistObj.length;i<flistlen;i++){var fkey=flistObj[i];if(gfObj.hasOwnProperty(fkey))if(zgssearch.getFilterInfo(service_name,fkey,"default")!=zgssearch.getFilterInfo(service_name,fkey,"current")){isMoreSelected=!0;break}}return isMoreSelected},zgssearch.updateWidthOfFilters=function(sortremain,fwidth,className,text){for(var tempobj={},text=zgssearch.getTargetElem(text),childNodes=text&&text.childNodes||[],childLen=childNodes.length,i=0;i<childLen;i++){var fvalue,iterChild=childNodes[i];null!=(fkey=_jQueryGS(iterChild).attr("fkey"))&&"sort"!=fkey&&(fvalue=_jQueryGS(iterChild).find(".zgs19_gsModuleFilterSerNameNew").attr("gstitle"),tempobj[fkey]=fvalue)}var fwid=0;if(1<childLen)for(var dataObj=zgssearch.getDynamicElemWidth(tempobj,sortremain,fwidth-20-5,className),i=0;i<childLen;i++){var dwid,twid,iterChild=childNodes[i],fkey=_jQueryGS(iterChild).attr("fkey");dataObj.hasOwnProperty(fkey)&&(twid=(dwid=dataObj[fkey])+20,_jQueryGS(iterChild).find(".zgs19_gsModuleFilterSerNameNew").css("width",dwid),fwid+=twid)}else{var swid=_jQueryGS(".zgs19_gsModuleFilterIconHolder").outerWidth(!0)+_jQueryGS("#zgs20_gsModuleFilterSortHolder").outerWidth(!0);_jQueryGS(text).css("width","calc(100% - "+swid+"px)")}text=_jQueryGS("#zgs20_gsModuleFilterSortHolder").find(".zgs19_gsModuleFilterSerNameNew").attr("gstitle");text&&(swid=sortremain-fwid,swid=(sortremain=39<(sortremain=zgssearch.getWidthOfText(text,sortremain,"zgs19_gsModuleFilterSerNameNew"))?sortremain-39:0)<swid?sortremain:swid,_jQueryGS("#zgs20_gsModuleFilterSortHolder").find(".zgs19_gsModuleFilterSerNameNew").css("width",39+swid))},zgssearch.getDynamicElemWidth=function(listobj,totalWidth,maxWidth,className){var name,unsortobj={};for(name in maxWidth=Math.round(maxWidth)-1,listobj){var fwidth=zgssearch.getWidthOfText(listobj[name],totalWidth,className);unsortobj[name]=Math.round(fwidth)+5}return zgssearch.adjustElemWidth(unsortobj,maxWidth)},zgssearch.adjustElemWidth=function(unsortobj,maxWidth){var tid,twidth,extra,carry=0,finalobj={};for(tid in unsortobj)(twidth=unsortobj[tid])<maxWidth&&(carry+=maxWidth-twidth);for(tid in unsortobj)maxWidth<(twidth=unsortobj[tid])&&(0<carry?(extra=twidth-maxWidth)<carry?carry-=extra:(twidth=maxWidth+carry,carry=0):twidth=maxWidth),finalobj[tid]=twidth;return finalobj},zgssearch.setClearRenderedFiltersFlag=function(flag){zgssearch.isClearRenderedFilters=flag||!1},zgssearch.setServicesFilterWidth=function(){var searchType=zgssearch.getSearchType();GSConstant.ALL!==searchType&&!zgssearch.isServiceHasMultiPortals(searchType)||zgssearch.setClearRenderedFiltersFlag(!0),zgssearch.renderServiceFilterList(searchType),zgssearch.hasOwnProperty("hideDatePicker")&&zgssearch.hideDatePicker()},zgssearch.renderSubModuleFilterWidgetList=function(searchType,parentTarget){var tarElem=zgssearch.getParentNode(searchType,"moduleFilterChild"),key=_jQueryGS(tarElem).attr("key"),tickEle=_jQueryGS(tarElem).attr("fkey"),listingEleId="zgs20_gsSubModuleFilterWidgetList";_jQueryGS(zgssearch.currFilterClickelem).removeClass("zgs19_gsModuleSeleFilterElem"),zgssearch.currFilterClickelem=parentTarget,zgssearch.isCurrFilterClickelem=!0,_jQueryGS(zgssearch.currFilterClickelem).addClass("zgs19_gsModuleSeleFilterElem");var outerListWid=_jQueryGS("#"+listingEleId).css("display");null==outerListWid||"none"===outerListWid?(searchType=_jQueryGS(tarElem).attr("service")||zgssearch.getSearchType(),outerListWid=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").outerWidth(),zgssearch.updateChildFilterInfo(searchType,tickEle,key),zgssearch.removeEle(_jQueryGS(".zgs18_gsModuleSeleFilterTick")[0]),tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"}),_jQueryGS(tickEle).insertAfter(parentTarget),_jQueryGS(parentTarget).css("width",outerListWid-14+"px"),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").css("width",outerListWid-14+"px"),zgssearch.isSubFilterListDisplay=!0,_jQueryGS("#"+listingEleId).empty(),_jQueryGS(zgssearch.currSubModuleFilterListElem).show(),zgssearch.renderTypeSixModuleFilterList(searchType,tarElem,key,"gs_filters",listingEleId,outerListWid)):zgssearch.hideSubFilterList()},zgssearch.renderTypeSixModuleFilterList=function(service,tarElem,key,filterType,listingEleId,outerListWid){try{var fkey=zgssearch.gFilterData[service].module.current,wObj=zgssearch.getFilterInfo(service,fkey,"data"),fIndex=0,current=zgssearch.getFilterInfo(service,fkey,"current"),selectedArr=current?current.split(","):[],isAllSelected="all"===selectedArr[0],isChecked=!1;if(1<Object.keys(wObj).length){_jQueryGS(tarElem).addClass("zgs19_gsHgtAuto"),_jQueryGS(tarElem).attr("module_name",current);var ikey,gsattr="gs_filters"===filterType?"filterCheckBox":"filterInCardCheckBox";for(ikey in wObj){isChecked=!1,zgssearch.includes(ikey,selectedArr)&&(isChecked=!0);var value=wObj[ikey],localId="zgs20_gsFilterQuerySelection_sub"+fIndex;fIndex++;var chelem=_jQueryGS("<div>",{id:localId,service:service,accId:key,class:"zgs19_gsFilterQuerySelection zgs19_gsFilterQuerySelection_sub zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow ",gs:gsattr,ftype:1,pfkey:fkey,fkey:fkey,key:ikey,value:value});_jQueryGS(chelem).attr("index",fIndex),isAllSelected&&(isChecked=!0),chelem.append(zgssearch.renderCheckBox(isChecked,ikey,value)),chelem.append(_jQueryGS("<span>",{class:"zgs19_gsFlterTxt zgs19_gsWid90Per zgs19_gsOverflow zgs19_gsfl zgs19_gsModuleUnSeleFilterElem"}).text(value)),_jQueryGS(chelem).addClass("zgs19_gsMultiFilterSelection"),_jQueryGS("#"+listingEleId).append(chelem)}zgssearch.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter")}}catch(ex){zgssearch.throwClientError("Error while getting Acronym  ",ex)}},zgssearch.renderModuleFilterWidgetList=function(remWidth){zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1;var fkey=_jQueryGS(remWidth).attr("fkey"),parentEleId="formList"==fkey||"viewList"==fkey||"pageList"==fkey?"zgs20_gsFormViewsFilterDataHolder":"zgs20_gsModuleFilterList",listingEleId="formList"==fkey||"viewList"==fkey||"pageList"==fkey?"zgs20_gsFormViewsFilterWidgetList":"zgs20_gsModuleFilterWidgetList",ddTop=_jQueryGS("#"+listingEleId).attr("fkey");fkey!=ddTop&&(_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon));var parWidth=_jQueryGS("#"+listingEleId).css("display");if(null==parWidth||"none"===parWidth){_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove();var fIndex=-1,searchType=_jQueryGS(remWidth).attr("service")||zgssearch.getSearchType();"formList"!=fkey&&"viewList"!=fkey&&"pageList"!=fkey||(searchType=GSConstant.CREATOR);var wObj=zgssearch.getFilterInfo(searchType,fkey,"data"),ftype=zgssearch.getFilterInfo(searchType,fkey,"type"),current=zgssearch.getFilterInfo(searchType,fkey,"current"),pleft=zgssearch.getFilterInfo(searchType,fkey,"title"),accIdArr=zgssearch.getFilterInfo(searchType,fkey,"accIdArr"),portalTz=zgssearch.getFilterInfo(searchType,fkey,"key"),ddTop=zgssearch.isMultiSelectEnabledFilter(searchType,fkey),defValue=zgssearch.getFilterInfo(searchType,fkey,"default");zgssearch.curFilterType="gs_filters";parWidth="";switch(searchType==zgssearch.GSConstant.PROJECTS&&"date"==portalTz&&(portalTz=zgssearch.getFilterInfo(searchType,"accounts","current"),portalTz=zgssearch.gsprojects.portalTimezone[portalTz],parWidth=_jQueryGS("<div>",{class:"zgs18_gsInfoSmallIcon zgs19_gsDateInfoIcon zgs19_gs000000Col zgs19_gsfr",gslabel:zgssearch.getI18NMsg("gs.search.service_projects_portalTz"),gstitle:portalTz})),_jQueryGS("#"+parentEleId).append(_jQueryGS("<div>",{id:listingEleId,class:"zgs19_gsDropdownOuterElemNew",fkey:fkey}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterTitleHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(pleft).append(parWidth)).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto zgs19_gsPdng10Px0px"}))),zgssearch.currFilterListElem=_jQueryGS("#"+listingEleId),ftype){case"formList":case"viewList":case"pageList":wObj.forEach(function(value){var componentName=value.componentname||"",value=value.displayname||"";zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,componentName,current,value)});break;case"1":zgssearch.renderTypeOneModuleFilterList(searchType,fkey,ftype,"zgs20_gsModuleFilterWidgetFooter",parentEleId,listingEleId,current.split(","),"zgs20_gsModuleFilterElem_date");break;case"2":var hkey,heaObj=zgssearch.getFilterInfo(searchType,fkey,"header");for(hkey in wObj){var innerObj=wObj[hkey],title=heaObj[hkey];if(title&&_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(title)),accIdArr)for(var ia=0;ia<accIdArr.length;ia++){var value,accId=accIdArr[ia];innerObj.hasOwnProperty(accId)&&(value=innerObj[accId],zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,accId,current,value))}else for(var ikey in innerObj)zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,ikey,current,innerObj[ikey])}_jQueryGS(".zgs19_gsFilterQuerySelection").css("padding-left","15px");break;case"3":var wObject=zgssearch.getFilterAccountKeyName(searchType,fkey,ftype),enabledModuleTxt=zgssearch.getFilterInfo(searchType,wObject,"current"),modVal=zgssearch.getFilterInfo(searchType,fkey,"parId");0<modVal.length&&(enabledModuleTxt+="_"+modVal[0]),zgssearch.renderTypeThreeModuleFilterList(searchType,enabledModuleTxt,fkey,ftype,defValue,"zgs20_gsModuleFilterWidgetFooter",listingEleId,current.split(","));break;case"4":var wObject=zgssearch.getFilterAccountKeyName(searchType,fkey,ftype),allWObj=zgssearch.getFilterInfo(searchType,wObject,"current");zgssearch.renderTypeFourModuleFilterList(searchType,allWObj,fkey,ftype,defValue,"zgs20_gsModuleFilterWidgetFooter",listingEleId,current.split(","));break;case"5":var enabledObj=zgssearch.getFilterInfo(searchType,"accounts","current");if(wObj.hasOwnProperty(enabledObj)){var labelObj=wObj[enabledObj];for(ikey in labelObj){var labels=labelObj[ikey];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++fIndex,ftype,fkey,labels.ID,current,labels.NAME)}}break;case"6":var enabledModuleTxt=zgssearch.isArrayContain(searchType,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[searchType].originService:searchType,enabledModules=zgssearch.gFilterData[enabledModuleTxt].hasOwnProperty("enabled_mod_list")?zgssearch.gFilterData[enabledModuleTxt].enabled_mod_list:[],wObject=wObj;for(ikey in zgssearch.isArrayContain(enabledModuleTxt,zgssearch.account_based_filter_service_list)&&(allWObj=zgssearch.getFilterInfo(enabledModuleTxt,fkey,"alldata"),wObject=1==enabledModules.length?((enabledObj={})[enabledModuleTxt=enabledModules[0]]=allWObj[enabledModuleTxt],enabledObj):allWObj),wObject){var gsattr=enabledModules.length===Object.keys(wObj).length-1||zgssearch.isArrayContain(ikey,enabledModules)?"moduleFilterChild":"",selectedCls=enabledModules.length===Object.keys(wObj).length-1||zgssearch.isArrayContain(ikey,enabledModules)?"":"zgs19_moduleFilterChildDisabled";zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter",gsattr,++fIndex,ftype,fkey,ikey,current,wObj[ikey],null,null,null,selectedCls)}}searchType!=GSConstant.WORKDRIVE||""!==(listWidth=zgssearch.getFilterInfo(searchType,fkey,"header"))&&listWidth[0].isrequired&&zgssearch.addSegregationInFilters(fkey,listWidth);zgssearch.curDatePickerElem=remWidth,zgssearch.isFilterListDisplay=!0,250<=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight&&zgssearch.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox");var pleft=_jQueryGS(remWidth).outerWidth(!0),parWidth=200<pleft?pleft:200,listWidth=20;ddTop&&(listWidth+=20),_jQueryGS("#"+listingEleId).css("minWidth",pleft+listWidth),_jQueryGS("#"+listingEleId).css("maxWidth",parWidth+listWidth),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",250);ddTop="zgs20_gsModuleFilterElemSL_filter"===_jQueryGS(remWidth).parent()[0].id?70:30;_jQueryGS(remWidth).addClass("zgs19_gsboxholder");pleft=_jQueryGS(remWidth).position(),parWidth=_jQueryGS("#"+parentEleId).width(),listWidth=_jQueryGS("#"+listingEleId).width(),remWidth=remWidth.getBoundingClientRect().width-2||0,pleft=pleft.left,remWidth=pleft+remWidth;parWidth<pleft+listWidth&&(listWidth<remWidth?pleft=remWidth-listWidth:pleft/=2),_jQueryGS("#"+listingEleId).css("top",ddTop),_jQueryGS("#"+listingEleId).css("left",pleft),zgssearch.focusForWeb("zgs20_gsFilterQueryBox"),zgssearch.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",searchType)}else zgssearch.hideFilterList()},zgssearch.isMultiSelectEnabledFilter=function(filterObj,fkey){filterObj=zgssearch.getFilterObj(filterObj);return!!(0<Object.keys(filterObj).length&&filterObj[fkey].hasOwnProperty("mulSelectKey"))},zgssearch.renderModuleFilterActions=function(elemId,type,actiongsAttr){var successMsg="gs.search.filter.apply";"card_modules"!==type&&"cc_modules"!==type||(successMsg="common.done");actiongsAttr=actiongsAttr?"moreModuleFilterEditFields":"moduleFilterEditFields";elemId&&_jQueryGS("#"+elemId).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom zgs19_gsMgTop10Px"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg(successMsg),value:zgssearch.getI18NMsg(successMsg),gs:actiongsAttr,fType:type,datatype:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.cancel"),value:zgssearch.getI18NMsg("common.cancel"),gs:actiongsAttr,fType:type,datatype:"closeFilterFields"})))},zgssearch.renderModuleFilterList=function(id,gsattr,fIndex,ftype,chelem,key,marigin,value,isMultiSelect,isAllSelected,isChecked,selectedCls){value=zgssearch.replaceHTMLEntity(value);var seleClass=key==marigin?"zgs19_gsModuleSeleFilterElem":"zgs19_gsModuleUnSeleFilterElem",tickEle="";isMultiSelect?isChecked&&(seleClass="zgs19_gsModuleSeleFilterElem "):key==marigin&&(marigin=zgssearch.isExtension?"zgs19_gsModuleSeleFilterTickMargin":"zgs18_gsModuleSeleFilterTickMargin",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick "+marigin}));chelem=_jQueryGS("<div>",{id:"zgs20_gsFilterQuerySelection"+fIndex,class:(selectedCls=selectedCls||"")+" zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+seleClass,gs:gsattr,ftype:ftype,fkey:chelem,key:key,value:value});isMultiSelect?(chelem.append(zgssearch.renderCheckBox(isChecked=isAllSelected?!0:isChecked,key,value)),chelem.append(_jQueryGS("<span>",{class:"zgs19_gsFlterTxt zgs19_gsWid90Per zgs19_gsOverflow zgs19_gsfl "+seleClass}).text(value)),_jQueryGS(chelem).addClass("zgs19_gsMultiFilterSelection")):chelem.text(value),_jQueryGS(chelem).attr("index",fIndex),_jQueryGS("#"+id).append(chelem).append(tickEle)},zgssearch.renderCheckBox=function(isChecked,key,value){return _jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox"}).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",checked:isChecked,key:key,value:value})).append(_jQueryGS("<label>"))},zgssearch.renderMoreFilterWidgetList=function(ptop){zgssearch.curMoreFiltersList={},zgssearch.curFilterType="gs_filters";var pleft=_jQueryGS(ptop).attr("index"),service=_jQueryGS(ptop).attr("service"),gfObj=zgssearch.getFilterObj(service),listWidth=_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("display");if(null==listWidth||"none"===listWidth){_jQueryGS("#zgs20_gsMoreFilterWidgetList").empty().remove();var remWidth=_jQueryGS(ptop).attr("subServiceOrder"),flistObj=remWidth?zgssearch.getvalidFilterList(gfObj[remWidth],gfObj):zgssearch.getvalidFilterList(gfObj.order,gfObj),mflength=flistObj.length;if(0<mflength){_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterWidgetList",class:"zgs19_gsDropdownOuterElemNew zgs19_gsBorderBox",gs:"moreFilterHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})));for(var isBorderNeeded=!1,i=pleft;i<mflength;i++){var key=flistObj[i];if(gfObj.hasOwnProperty(key)){var keyobj=gfObj[key],title=keyobj.title,infoDiv=keyobj.type,dispname=keyobj.dispname;if("6"==infoDiv){isBorderNeeded&&(isBorderNeeded=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag"})));var dkey,dataObj=keyobj.data;for(dkey in dataObj){var dvalue=dataObj[dkey];zgssearch.renderMoreFilterTitleWithCheckBox("zgs20_gsEditFieldsFooter",key,keyobj.current,dkey,dvalue,"more_filters")}}else{var isBorderNeeded=!0,dcolor=zgssearch.getFilterInfo(service,key,"default")==keyobj.current?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",infoDiv="";service==zgssearch.GSConstant.PROJECTS&&"date"==zgssearch.getFilterInfo(service,key,"key")&&(filterCount=zgssearch.getFilterInfo(service,"accounts","current"),selectFltrLen=zgssearch.gsprojects.portalTimezone[filterCount],infoDiv=_jQueryGS("<div>",{class:"zgs18_gsInfoSmallIcon zgs19_gsDateInfoIcon zgs19_gs000000Col zgs19_gsfr",gslabel:zgssearch.getI18NMsg("gs.search.service_projects_portalTz"),gstitle:selectFltrLen}));var filterCount="",selectFltrLen=keyobj.current.split(",").length;1<selectFltrLen&&(filterCount=_jQueryGS("<span>",{id:"zgs20_gsMoreFilterCount_"+key,class:"zgs19_gsModuleFilterCount zgs19_gsfl zgs19_gsMgRt5Px"}).text("+"+(selectFltrLen-1))),_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterTitle zgs19_gsOverflow"}).text(title).append(infoDiv)).append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterElem_"+key,class:"zgs19_gsModuleMoreFilterElemHolder zgs19_gsMoreFilterValueElem zgs19_gsCurPointer zgs19_gsOverflow",fkey:key,soid:keyobj.current,gs:"moreFilterList",service:service}).append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterValue zgs19_gsOverflow zgs19_gsfl "+dcolor}).text(dispname)).append(filterCount).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleMoreFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})))}}}var parWidth=zgssearch.getI18NMsg("gs.search.filter.apply"),listWidth=zgssearch.getI18NMsg("common.cancel");_jQueryGS("#zgs20_gsMoreFilterWidgetList").append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom",style:"margin-top:10px;"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsOverflow",type:"button",gstitle:parWidth,value:parWidth,gs:"moreFilterEditFields",datatype:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsOverflow",type:"button",gstitle:listWidth,value:listWidth,gs:"moreFilterEditFields",datatype:"closeFilterFields"})));remWidth=ptop.getBoundingClientRect().width-2||0;zgssearch.isMoreFilterListDisplay=!0,_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("padding",10),_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("width",250);pleft=_jQueryGS(ptop).position(),parWidth=_jQueryGS("#zgs20_gsModuleFilterList").width(),listWidth=_jQueryGS("#zgs20_gsMoreFilterWidgetList").outerWidth(),pleft=pleft.left,remWidth=pleft+remWidth;parWidth<pleft+listWidth&&(listWidth<remWidth?pleft=remWidth-listWidth:pleft/=2);ptop="zgs20_gsModuleFilterElemSL_filter"===_jQueryGS(ptop).parent()[0].id?67:30;_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("top",ptop),_jQueryGS("#zgs20_gsMoreFilterWidgetList").css("left",pleft),_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",300),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollTop(0),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollLeft(0),zgssearch.addMoreEventForFilterElem()}}else zgssearch.hideMoreFilterList()},zgssearch.renderMoreFilterInnerList=function(tarElem){zgssearch.currFilterSelectedElem="",zgssearch.isMoreInnerFilterListDisplay=!1;var fkey=_jQueryGS(tarElem).attr("fkey"),soid=_jQueryGS(tarElem).attr("soid"),service=_jQueryGS(tarElem).attr("service");fkey!=_jQueryGS("#zgs20_gsMoreFilterInnerList").attr("fkey")&&(_jQueryGS("#zgs20_gsMoreFilterInnerList").css("display","none"),_jQueryGS(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"));var sportal=zgssearch.getFilterObj(service),pleft=_jQueryGS("#zgs20_gsMoreFilterInnerList").css("display");if(null==pleft||"none"===pleft){if(_jQueryGS("#zgs20_gsMoreFilterInnerList").empty().remove(),sportal.hasOwnProperty(fkey)){var fIndex=-1,tpostion=sportal[fkey],type=tpostion.type,pleft=tpostion.key,dataobj=tpostion.data||{};if(_jQueryGS("#zgs20_gsModuleFilterList").append(_jQueryGS("<div>",{id:"zgs20_gsMoreFilterInnerList",class:"zgs19_gsDropdownOuterElemNew",fkey:fkey,gs:"moreInnerFilterHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterInnerHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto"}))),"3"==type){var sportal="",ptop=zgssearch.getFilterAccountKeyName(service,fkey,type),sportal=zgssearch.getFilterInfo(service,ptop,"current");tpostion.hasOwnProperty("parId")&&(sportal+="_"+tpostion.parId[0]);ptop=(zgssearch.curMoreFiltersList[pleft]||tpostion.current).split(",");zgssearch.renderTypeThreeModuleFilterList(service,sportal,fkey,type,tpostion.default,"zgs20_gsModuleFilterWidgetFooter","zgs20_gsMoreFilterInnerList",ptop,!0)}else if("5"==type){var postion=zgssearch.getFilterInfo(service,"accounts","current");if(dataobj.hasOwnProperty(postion)){var ikey,labelObj=dataobj[postion];for(ikey in labelObj){var labels=labelObj[ikey];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++fIndex,type,fkey,labels.ID,soid,labels.NAME)}}}else{if(tpostion.hasOwnProperty("render_order")){var renderOrder=tpostion.render_order;for(kid in renderOrder){var dispname=dataobj[renderOrder[kid]];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++fIndex,type,fkey,renderOrder[kid],soid,dispname)}}else for(var kid in dataobj){dispname=dataobj[kid];zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++fIndex,type,fkey,kid,soid,dispname)}"date"==pleft&&zgssearch.loadDatePicker(zgssearch.createDatePicker.bind(null,service,fkey,"zgs20_gsModuleFilterElem_date"))}ptop=_jQueryGS(tarElem).width();zgssearch.curDatePickerElem=tarElem,zgssearch.isMoreInnerFilterListDisplay=!0,250<=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight&&(_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").css("display","block"),_jQueryGS("#zgs20_gsModuleFilterWidgetHeader").empty().append(_jQueryGS("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<input>",{id:"zgs20_gsFilterQueryBox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:"gsFilterQueryBox",type:"text",placeholder:""}))),zgssearch.focusForWeb("zgs20_gsFilterQueryBox")),_jQueryGS("#zgs20_gsMoreFilterInnerList").css("width",ptop),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",250);postion=_jQueryGS("#zgs20_gsMoreFilterWidgetList").position(),tpostion=_jQueryGS(tarElem).position(),pleft=postion.left+tpostion.left,ptop=tarElem.getBoundingClientRect(),ptop=postion.top+tpostion.top+ptop.height;_jQueryGS("#zgs20_gsMoreFilterInnerList").css("top",ptop),_jQueryGS("#zgs20_gsMoreFilterInnerList").css("left",pleft+1),_jQueryGS(tarElem).addClass("zgs19_gsboxholder"),zgssearch.addEventForMoreFilterQueryBox("zgs20_gsMoreFilterInnerList",service)}}else _jQueryGS("#zgs20_gsMoreFilterInnerList").css("display","none"),_jQueryGS(tarElem).removeClass("zgs19_gsboxholder")},zgssearch.getvalidFilterList=function(forder,gfObj){for(var flistObj=[],i=0;i<forder.length;i++){var fkObj,fkey=forder[i];!gfObj.hasOwnProperty(fkey)||(1<((fkObj=gfObj[fkey]||{}).length||0)||"6"==fkObj.type||"1"==fkObj.subtype)&&flistObj.push(fkey)}return flistObj},zgssearch.filterEditFieldsAction=function(tarElem){switch(_jQueryGS(tarElem).attr("datatype")){case"closeFilterFields":zgssearch.hideMoreFilterList(),zgssearch.hideMoreInnerFilterList();break;case"applyFilterFields":zgssearch.updateMoreFilters()}},zgssearch.moreModuleFilterEditFieldsAction=function(datatype){switch(datatype){case"closeFilterFields":zgssearch.hideMoreInnerFilterList();break;case"applyFilterFields":zgssearch.updateModuleFilters(!0)}},zgssearch.moduleFilterEditFieldsAction=function(datatype){switch(datatype){case"closeFilterFields":zgssearch.hideFilterList();break;case"applyFilterFields":zgssearch.updateModuleFilters()}},zgssearch.updateModuleFilters=function(targetId){var isValid=!1,checkedArr=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").find("input:checked"),checkedArrLen=checkedArr.length;if(0<checkedArrLen){var service=zgssearch.getSearchType(),fkey=_jQueryGS(".zgs19_gsFilterQuerySelection").attr("fkey"),defValue=zgssearch.getFilterInfo(service,fkey,"default"),oValue=zgssearch.getFilterInfo(service,fkey,"current");zgssearch.getFilterInfo(service,fkey,"parKey")&&zgssearch.setClearRenderedFiltersFlag(!0);var dcolor,selectKeys=_jQueryGS(checkedArr[0]).attr("key"),displayName=_jQueryGS(checkedArr[0]).attr("value");if(selectKeys!==defValue)for(var x=1;x<checkedArrLen;x++)x<checkedArrLen&&(selectKeys+=","),selectKeys+=_jQueryGS(checkedArr[x]).attr("key");(isValid=oValue!==selectKeys?!0:isValid)?(service===GSConstant.MAILS&&(displayName=(displayName=0===displayName.indexOf(".../")?displayName.replace(new RegExp("(^.../)"),""):displayName).replace(new RegExp("(/$)"),"")),targetId?(_jQueryGS("#zgs20_gsMoreFilterCount_"+fkey).remove(),targetId="#zgs20_gsMoreFilterElem_"+fkey,zgssearch.curMoreFiltersList[fkey]=selectKeys,_jQueryGS(targetId).attr("soid",selectKeys),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").text(displayName),selectKeys.split(",")[0]!=defValue&&1<checkedArrLen&&(dcolor=_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue"),_jQueryGS("<span>",{id:"zgs20_gsMoreFilterCount_"+fkey,class:"zgs19_gsModuleFilterCount zgs19_gsfl zgs19_gsMgRt5Px"}).text("+"+(checkedArrLen-1)).insertAfter(dcolor)),dcolor=zgssearch.getFilterInfo(service,fkey,"default")==selectKeys?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor),zgssearch.hideMoreInnerFilterList()):(1==oValue.split(",").length&&zgssearch.updateChildFilterInfo(service,fkey,"0"),zgssearch.updateFilterInfo(service,fkey,"current",selectKeys),zgssearch.updateFilterInfo(service,fkey,"dispname",displayName),1==checkedArrLen&&zgssearch.updateChildFilterInfo(service,fkey,selectKeys[0]),zgssearch.handleDefaultSearch())):zgssearch.hideFilterList()}else zgssearch.hideFilterList()},zgssearch.updateMoreFilters=function(){var isValid=!1,curFilterObj=zgssearch.curMoreFiltersList||{};if(_jQueryGS.isEmptyObject(curFilterObj))zgssearch.hideMoreFilterList();else{var name,service=zgssearch.getSearchType(),gObj=zgssearch.getFilterObj(service);for(name in curFilterObj)if(gObj.hasOwnProperty(name)){var currProj,dispname=gObj[name],dataobj=dispname.data||{},ftype=dispname.type||"",curSoid=dispname.current||"",soid=curFilterObj[name];if((sportal=zgssearch.getFilterAccountKeyName(service,name,ftype))&&"accounts"!=sportal&&(dataobj=dataobj[id=zgssearch.getFilterInfo(service,sportal,"current")]),"3"==ftype&&service==GSConstant.PROJECTS&&id&&(currProj=zgssearch.getFilterInfo(GSConstant.PROJECTS,zgssearch.gsprojects.projects,"current"),name==zgssearch.gsprojects.modules&&zgssearch.loadProjectsModChildFilter(service,soid,currProj),dispname.hasOwnProperty("parId")&&(id+="_"+dispname.parId[0],dataobj=dispname.data.hasOwnProperty(id)?dispname.data[id]:{})),"5"==ftype){var sportal="";if(service==GSConstant.MAILS&&(sportal=zgssearch.getFilterInfo(service,"accounts","current")),dataobj.hasOwnProperty(sportal)){var finfo,wObj=dataobj[sportal];for(finfo in wObj){var fiobj=wObj[finfo];fiobj.ID==soid&&curSoid!==fiobj.ID&&(isValid=!0,zgssearch.updateFilterInfo(service,name,"current",fiobj.ID),zgssearch.updateFilterInfo(service,name,"dispname",fiobj.NAME))}}}else if("6"==ftype)curSoid!=soid&&(isValid=!0,zgssearch.updateFilterInfo(service,name,"current",soid));else if("date"==dispname.key){isValid=!0,dispname=zgssearch.curMoreDateFiltersList||{};zgssearch.updateFilterInfo(service,name,"todate",dispname.todate),zgssearch.updateFilterInfo(service,name,"fromdate",dispname.fromdate);dispname=zgssearch.getFilterData(service,name,"data",soid);zgssearch.updateFilterInfo(service,name,"current",soid),zgssearch.updateFilterInfo(service,name,"dispname",dispname)}else for(var id in dataobj)if(soid!=curSoid){isValid=!0;var soidArr=soid.split(",");if(1<soidArr.length){zgssearch.updateFilterInfo(service,name,"current",soid),zgssearch.updateFilterInfo(service,name,"dispname",dataobj[soidArr[0]]);break}soid==id&&(zgssearch.updateFilterInfo(service,name,"current",soid),zgssearch.updateFilterInfo(service,name,"dispname",dataobj[soid]))}}isValid&&zgssearch.handleDefaultSearch()}},zgssearch.addSegregationInFilters=function(fkey,sfObj){if("teams"===fkey||"folders"===fkey){for(var key in sfObj[1]){var id="#zgs20_gsFilterQuerySelection"+key,nextFilter="#zgs20_gsFilterQuerySelection"+(parseInt(key)+1);0<_jQueryGS(nextFilter).length&&("zgs18_gsModuleSeleFilterTick"===_jQueryGS(id).next().attr("class")&&(id=".zgs18_gsModuleSeleFilterTick"),_jQueryGS(id).after(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(sfObj[1][key])))}_jQueryGS(".zgs19_gsFilterQuerySelection").css("padding-left","15px")}},zgssearch.filterSearchQueryAction=function(service_name){_jQueryGS("#zgs20_gsFilterQueryBox").off().on({focus:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){zgssearch.inputFetch(service_name)}},!0)},zgssearch.inputFetch=function(serviceName){zgssearch.currFilterSelectedElem="",_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn");for(var headerId,hid,deskObject,query=(query=zgssearch.getValue("zgs20_gsFilterQueryBox")).trim(),headerobj={},childNodes=zgssearch.getTargetElem("zgs20_gsModuleFilterWidgetFooter").childNodes||[],matchedCount=0,i=0;i<childNodes.length;i++){var filterText,isMultiSelectEnabled,prefix,match,targetDiv,textDiv,iterChild=childNodes[i],docFragment=_jQueryGS(iterChild).attr("gs");docFragment&&("mFilterWidgetHeader"==docFragment?headerobj[headerId=i]=!1:(match=_jQueryGS(iterChild).attr("fkey"),filterText=_jQueryGS(iterChild).attr("value"),prefix=_jQueryGS(iterChild).hasClass("zgs19_gsModuleSeleFilterElem"),isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(serviceName,match),zgssearch.isQueryValid(query)?(docFragment=filterText,serviceName==GSConstant.MAILS&&"folders"==match&&(docFragment=(docFragment=docFragment.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),"")),match=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),match=new RegExp(match,"i"),-1<docFragment.search(match)&&(isMultiSelectEnabled||!prefix)?(matchedCount+=1,zgssearch.isEditFieldsLoader=!1,headerobj[headerId]=!0,docFragment=filterText.search(match),prefix=filterText.substr(0,docFragment),match=filterText.substr(docFragment,query.length),docFragment=filterText.substr(docFragment+query.length,filterText.length),docFragment=zgssearch.gssecurity.getHighlightTextNode(prefix,match,docFragment,{class:"zgs19_gshighlight"}),isMultiSelectEnabled?((textDiv=(targetDiv=_jQueryGS(iterChild)).find(".zgs19_gsFlterTxt")).empty(),_jQueryGS(textDiv).append(docFragment),targetDiv.css("display","block")):(_jQueryGS(iterChild).empty(),iterChild.appendChild(docFragment),_jQueryGS(iterChild).css("display","block"))):((isMultiSelectEnabled?_jQueryGS(iterChild).find(".zgs19_gsFlterTxt"):_jQueryGS(iterChild)).text(filterText),_jQueryGS(iterChild).css("display","none"))):(matchedCount+=1,headerobj[headerId]=!0,isMultiSelectEnabled?((textDiv=(targetDiv=_jQueryGS(iterChild)).find(".zgs19_gsFlterTxt")).text(filterText),targetDiv.css("display","block")):_jQueryGS(iterChild).text(filterText).css("display","block"))))}for(hid in headerobj){var hdisplay=headerobj[hid],hchild=childNodes[hid];hchild&&(hdisplay=hdisplay?"block":"none",_jQueryGS(hchild).css("display",hdisplay))}matchedCount<5&&(serviceName!=GSConstant.PEOPLE||zgssearch.ispeopleDeptCached(query)||(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),deskObject=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader"),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").after(deskObject),deskObject={query:query,nodeLen:childNodes.length},zgssearch.fetchPeopleDeptData(deskObject)))},zgssearch.fetchPeopleDeptData=function(argParams){argParams=argParams||{};var params,search_type=GSConstant.PEOPLE;zgssearch.getFilterObj(search_type).hasOwnProperty("departments")&&(argParams={obj:argParams,query:params=argParams.query||"",curCount:zgssearch.gsusercontacts.getServerCallCount()},params="action=fetchPeopleDept&query="+encodeURIComponent(params),zgssearch.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(curPortal,status,params){var params=params.args||{},fIndex=(params.obj||{}).nodeLen-1||0,response=zgssearch.jsonParse(curPortal)||[];zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},_jQueryGS("#zgs20_gsEditFieldsLoader").remove();var deptName,isMultiSelectEnabled,isAllSelected,curPortal=zgssearch.getFilterInfo(GSConstant.PEOPLE,"accounts","current"),currentPeopleDept=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","data")[curPortal],currentPeopleDeptVal=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","current");if(currentPeopleDept)for(var dId in response)currentPeopleDept.hasOwnProperty(dId)||(deptName=response[dId],currentPeopleDept[dId]=deptName,(isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(GSConstant.PEOPLE,"departments"))?(isAllSelected=_jQueryGS(".zgs19_gsFilterQuerySelection")[0],isAllSelected=_jQueryGS(isAllSelected).find("input[type=checkbox]").prop("checked"),zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","filterCheckBoxChild",fIndex++,"1","departments",dId,currentPeopleDeptVal,deptName,isMultiSelectEnabled,isAllSelected,!1)):zgssearch.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",fIndex++,"1","departments",dId,currentPeopleDeptVal,deptName));zgssearch.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",search_type),zgssearch.updateFilterInfo("people","data",currentPeopleDept);params=(params.obj||{}).query||"";params&&(params="per_page=50&query="+encodeURIComponent(params),zgssearch.peopleDeptCache.noresult.push(params)),zgssearch.inputFetch(search_type)}))},zgssearch.ispeopleDeptCached=function(query){var myCacheResults=zgssearch.peopleDeptCache.result||[],myCacheNoResults=zgssearch.peopleDeptCache.noresult||[];return!!zgssearch.gsusercontacts.isReqCached(query,myCacheResults,myCacheNoResults,"","per_page=50")},zgssearch.setAsanaProjectsFilter=function(workspaceId){var params=zgssearch.getFilterInfo("asana","accounts","current"),url_obj_proj=zgssearch.getAppIdForCloudApps(params,zgssearch.GSConstant.ASANA),params="&service_name="+zgssearch.GSConstant.ASANA+"&connector_id="+params+"&gid="+workspaceId+"&app_id="+url_obj_proj,url_obj_proj={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};url_obj_proj.data="action=getAsanaProjects"+params,url_obj_proj.success=function(response){var response=JSON.parse(response).response,projFilterClassList=document.getElementById("zgs20_gsModuleFilterElem_projects")?document.getElementById("zgs20_gsModuleFilterElem_projects").classList:[],project_details=response.projects,projects_filter_info={},ffodata=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,"projects","data"),gffo=zgssearch.getFilterObj(zgssearch.GSConstant.ASANA).projects;if(response.projects&&0<response.projects.length){projects_filter_info.all=zgssearch.getI18NMsg("gs.search.filter.allprojects");for(var proj=0;proj<project_details.length;proj++){var proj_obj=project_details[proj],display_name=proj_obj.name;projects_filter_info[proj_obj.gid]=display_name}ffodata[workspaceId]=projects_filter_info,zgssearch.isArrayContain("zgs19_gsboxholder",projFilterClassList)&&(_jQueryGS("#zgs20_gsModuleFilterWidgetLoader").remove(),_jQueryGS("#zgs20_gsModuleFilterElem_projects").click()),zgssearch.setFiltersDetails(gffo,"dispname",zgssearch.getI18NMsg("gs.search.filter.allprojects"))}else zgssearch.isArrayContain("zgs19_gsboxholder",projFilterClassList)&&(_jQueryGS("#zgs20_gsModuleFilterWidgetLoader").remove(),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").append("No projects")),_jQueryGS("#zgs20_gsModuleFilterElem_projects").attr("gs",""),_jQueryGS("#zgs20_gsModuleFilterElem_projects").removeClass("zgs19_gsCurPointer"),_jQueryGS("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").removeClass("zgs19_tc2fa6ea"),_jQueryGS("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").addClass("zgs19_serDisbName");zgssearch.setFiltersDetails(gffo,"data",ffodata),zgssearch.setFiltersDetails(gffo,"length",Object.keys(ffodata[workspaceId]).length)},zgssearch.network.uri(url_obj_proj)},zgssearch.setAsanaTagsFilter=function(workspaceId){var params=zgssearch.getFilterInfo("asana","accounts","current"),url_obj_tag=zgssearch.getAppIdForCloudApps(params,zgssearch.GSConstant.ASANA),params="&service_name="+zgssearch.GSConstant.ASANA+"&connector_id="+params+"&gid="+workspaceId+"&app_id="+url_obj_tag,url_obj_tag={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};url_obj_tag.data="action=getAsanaTags"+params,url_obj_tag.success=function(response){var tag_details=(response=JSON.parse(response).response).tags,tags_filter_info={},ffodata=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,"tags","data"),gffo=zgssearch.getFilterObj(zgssearch.GSConstant.ASANA).tags;if(response.tags&&0<response.tags.length){tags_filter_info.all=zgssearch.getI18NMsg("gs.search.filter.alltags");for(var tag=0;tag<tag_details.length;tag++){var tag_obj=tag_details[tag],display_name=tag_obj.name;tags_filter_info[tag_obj.gid]=display_name}ffodata[workspaceId]=tags_filter_info}else ffodata[workspaceId]={};zgssearch.setFiltersDetails(gffo,"data",ffodata),zgssearch.setFiltersDetails(gffo,"length",Object.keys(ffodata[workspaceId]).length),zgssearch.setFiltersDetails(gffo,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags"))},zgssearch.network.uri(url_obj_tag)},zgssearch.getDispName=function(service,accId,fkeyData,value,type){var finfo,wObj;if("4"==type){if(fkeyData.hasOwnProperty(accId))for(finfo in wObj=fkeyData[accId]){var tfname=wObj[finfo];if((tfname.key||"")==value){tfname=tfname.name||"";return tfname=service==GSConstant.MAILS?(tfname=0==tfname.indexOf(".../")?tfname.replace(new RegExp("(^.../)"),""):tfname).replace(new RegExp("(/$)"),""):tfname}}}else if("3"==type){if(fkeyData.hasOwnProperty(accId))return(wObj=fkeyData[accId])[value]||""}else{if("6"==type)return value;if("1"==type)return fkeyData[value]||""}return""},zgssearch.setWidthOfEachfilter=function(totalWidth,flistlen){return 1<(flistlen=3<flistlen?3:flistlen)&&flistlen<=3?totalWidth/flistlen:totalWidth}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.PreModFilterId=zgssearch.PreModFilterId||"",zgssearch.moduleFiltersOpened=zgssearch.moduleFiltersOpened||!1,zgssearch.moduleFilterEditFieldsActionControl=function(target){var type=_jQueryGS(target).attr("fType"),datatype=_jQueryGS(target).attr("datatype");switch(type){case"gs_filters":zgssearch.moduleFilterEditFieldsAction(datatype);break;case"card_filters":zgssearch.gscardfilter.cardFilterEditFieldsAction(datatype);break;case"card_modules":zgssearch.cardModuleFilterEditFieldsAction(datatype,"zgs20_gsCardmoduleFilterPopup",zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId],type),zgssearch.enableApplyButtonForModuleFilters("zgs20_gsCardFilterPopup"),zgssearch.gscardfilter.showSaveAndReplaceOption();break;case"cc_modules":zgssearch.cardModuleFilterEditFieldsAction(datatype,"zgs20_gsCCModuleFilterListPopup",zgssearch.selectedSearchObj,type)}},zgssearch.cardModuleFilterEditFieldsAction=function(datatype,filterHdrId,curSelFilterCardObj,appType){switch(datatype){case"closeFilterFields":zgssearch.hideModuleFilterPopUp(filterHdrId);break;case"applyFilterFields":zgssearch.updateModuleCheckBoxFiltersInCard(curSelFilterCardObj,appType),zgssearch.hideModuleFilterPopUp(filterHdrId)}},zgssearch.moreFilterCheckBoxActionControl=function(target,tarElem){var fkey=_jQueryGS(tarElem).attr("fkey"),isChecked=zgssearch.moreFilterCheckBoxAction(target,tarElem);switch(_jQueryGS(tarElem).closest(".zgs19_gsMoreFilterTitle").attr("fMode")){case"more_filters":zgssearch.curMoreFiltersList[fkey]=isChecked;break;case"card_filters":zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId][fkey]=[isChecked],zgssearch.enableApplyButtonForModuleFilters("zgs20_gsCardFilterPopup"),zgssearch.gscardfilter.showSaveAndReplaceOption();break;case"cc_filters":zgssearch.selectedSearchObj[fkey]=[isChecked],zgssearch.hasFilterChanged=!0,zgssearch.gscreatecards.hideResultsAndShowRefresh(),zgssearch.enabledSaveButtonForCreateCard()}},zgssearch.moreFilterCheckBoxAction=function(target,tarElem){var isChecked=_jQueryGS(tarElem).find("input").prop("checked"),isChecked=target&&"INPUT"==target.tagName?isChecked:!isChecked;return _jQueryGS(tarElem).find("input").prop("checked",isChecked),isChecked},zgssearch.renderEachModulesFilter=function(service,elemDiv,gsType,accId,filterTitle,fkey,ftype,dispName,dcolor,isMandatory){var datekey="date"==fkey||"dueDate"==fkey||"modifiedTime"==fkey?"cardDate":"",elemDiv=_jQueryGS("<div>",{class:"zgs19_gsEachFilterHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterLabel zgs19_gsOverflow",gstitle:filterTitle}).text(filterTitle)).append(_jQueryGS("<div>",{id:"zgs20_gsCardModuleFilterElem_"+fkey,class:"zgs19_gsCardFilterOuter",gs:elemDiv,gs_type:gsType,service:service,fkey:fkey,ftype:ftype,accId:accId,gsa:datekey}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterTxt zgs19_gsOverflow zgs19_gsfl "+dcolor,gs:elemDiv}).text(dispName)).append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterCount zgs19_gsfl zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{class:"zgs18_gsDropDownIcon zgs19_gsCCDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px",gs:elemDiv})));return isMandatory&&_jQueryGS(elemDiv).find(".zgs19_gsCardFilterLabel").append(_jQueryGS("<span>",{class:"zgs19_gsMandatory"}).text("*")),elemDiv},zgssearch.renderMoreFilterTitleWithCheckBox=function(elemId,fKey,isSelected,dkey,dvalue,fMode){_jQueryGS("#"+elemId).append(_jQueryGS("<div>",{class:"zgs19_gsMoreFilterTitle zgs19_gsOverflow",fMode:fMode}).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox",gs:"moreFiltercheckbox",fkey:fKey,soid:isSelected}).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",name:dkey,value:dvalue,checked:isSelected})).append(_jQueryGS("<label>")).append(_jQueryGS("<span>",{class:"zgs19_gsWid90Per zgs19_gsOverflow zgs19_gsfl"}).text(dvalue))))},zgssearch.renderSearchQueryHoldersInFilters=function(elemId,gsAttr,searchBoxId){_jQueryGS("#"+elemId).css("display","block"),_jQueryGS("#"+elemId).empty().append(_jQueryGS("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<input>",{id:searchBoxId,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:gsAttr,type:"text",placeholder:zgssearch.getI18NMsg("gs.search")}))),zgssearch.focusForWeb(searchBoxId),_jQueryGS("#"+searchBoxId).attr("autocomplete","off")},zgssearch.showingFilterCount=function(filterCountDiv,selectkeysLen){filterCountDiv=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+filterCountDiv).find(".zgs19_gsModuleFilterCount");1<selectkeysLen?(filterCountDiv.text("+"+(selectkeysLen-1)),filterCountDiv.css("display","block")):filterCountDiv.css("display","none")},zgssearch.renderAppsMenu=function(selectedService,popUpElem){popUpElem=_jQueryGS("#"+popUpElem);popUpElem.empty();var appsDiv=_jQueryGS("<div>",{class:"zgs19_gsAppsMenu zgs19_gsSSServiceIcon"}),serviceList=zgssearch.getConstAllServList(),serviceLen=serviceList.length;6<serviceLen&&zgssearch.addSearchQueryBox(popUpElem,"zgs20_gsSerListQrybox");for(var i=0;i<serviceLen;i++){var eachSerDiv=serviceList[i];selectedService!==eachSerDiv&&GSConstant.ASANA!==eachSerDiv&&GSConstant.widgetObject.servicesinfo.hasOwnProperty(eachSerDiv)&&(eachSerDiv=_jQueryGS("<div>",{class:"zgs19_gsServiceInfoHolder",service:eachSerDiv}).append(zgssearch.renderEachAppMenu(eachSerDiv)),appsDiv.append(eachSerDiv))}popUpElem.append(appsDiv),popUpElem.css("display","block")},zgssearch.addSearchQueryBox=function(parentElem,searchBoxId){parentElem.append(_jQueryGS("<div>",{id:"zgs20_gsSearchQryHeader",class:"zgs19_gsModuleFilterWidgetHeader"}).append(_jQueryGS("<div>",{id:"zgs20_gsSearchQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons"})).append(_jQueryGS("<input>",{id:searchBoxId,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:zgssearch.getI18NMsg("gs.search")})))),_jQueryGS("#"+searchBoxId).attr("autocomplete","off")},zgssearch.renderEachAppMenu=function(service){var serviceicon,iconHolder="",displayName="",dcolor="";return""===service?(displayName=zgssearch.getI18NMsg("gs.cards.select"),dcolor="zgs19_tc2fa6ea"):(serviceicon=zgssearch.mappedServiceList[service].serviceicon,displayName=zgssearch.mappedServiceList[service].displayName,iconHolder=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px "+serviceicon}),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceicon)&&zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS(iconHolder)[0])),_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"}).append(iconHolder).append(_jQueryGS("<span>",{class:"zgs19_gsSerivceTxt zgs19_gsfl zgs19_gsOverflow "+dcolor}).text(displayName))},zgssearch.renderTypeOneModuleFilterList=function(service,fkey,ftype,hdrElemId,parentEleId,listingEleId,selectedArr,datePickerTargetElem,isAccDefault){try{var filterData=zgssearch.getFilterObj(service),defValue=zgssearch.getFilterInfo(service,fkey,"default"),wObj=zgssearch.getFilterInfo(service,fkey,"data"),isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(service,fkey)&&1<Object.keys(wObj).length,accIdArr=zgssearch.getFilterInfo(service,fkey,"accIdArr"),accIdArrLen=accIdArr.length,fIndex=0,isChecked=(selectedArr[0],!1);if(isMultiSelectEnabled){var isAllSelected=selectedArr[0]===defValue,isChecked=!1;if(accIdArr)for(var ia=0;ia<accIdArrLen;isChecked=!1,ia++){var accId=accIdArr[ia];wObj.hasOwnProperty(accId)&&("0"==accId&&isAccDefault?fIndex++:(zgssearch.includes(accId,selectedArr)&&(isChecked=!0),value=wObj[accId],zgssearch.renderModuleFilterList(hdrElemId,"filterCheckBoxChild",fIndex++,ftype,fkey,accId,selectedArr,value,isMultiSelectEnabled,isAllSelected,isChecked)))}else for(var ikey in wObj)0==fIndex&&isAccDefault?fIndex++:(isChecked=!1,zgssearch.includes(ikey,selectedArr)&&(isChecked=!0),value=wObj[ikey],zgssearch.renderModuleFilterList(hdrElemId,"filterCheckBoxChild",fIndex++,ftype,fkey,ikey,selectedArr,value,isMultiSelectEnabled,isAllSelected,isChecked));zgssearch.renderModuleFilterActions(listingEleId,zgssearch.curFilterType)}else if(accIdArr)for(ia=0;ia<accIdArrLen;ia++){var localIndex,accId=accIdArr[ia];wObj.hasOwnProperty(accId)&&("0"==accId&&isAccDefault?fIndex++:(value=wObj[accId],localIndex=fIndex++,zgssearch.renderModuleFilterList(hdrElemId,"moduleFilterChild",localIndex,ftype,fkey,accId,selectedArr,value)))}else{var keyobj=filterData[fkey];if(keyobj.hasOwnProperty("render_order")){var kid,indexVal,renderOrder=keyobj.render_order;for(kid in renderOrder)0==fIndex&&isAccDefault?fIndex++:(value=wObj[indexVal=renderOrder[kid]])&&zgssearch.renderModuleFilterList(hdrElemId,"moduleFilterChild",fIndex++,ftype,fkey,indexVal,selectedArr,value)}else for(var ikey in wObj)if(0==fIndex&&isAccDefault)fIndex++;else{var value=wObj[ikey];if(service===zgssearch.GSConstant.PROJECTS&&"sortduedate"==ikey){var modArr=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.modules,"current").split(",");if(1<modArr.length||-1<zgssearch.Utils.indexOf(modArr,"0")||-1<zgssearch.Utils.indexOf(modArr,"4")||-1<zgssearch.Utils.indexOf(modArr,"7")||-1<zgssearch.Utils.indexOf(modArr,"9"))continue;zgssearch.renderCustomSortList(hdrElemId)}zgssearch.renderModuleFilterList(hdrElemId,"moduleFilterChild",fIndex++,ftype,fkey,ikey,selectedArr,value)}}"date"==zgssearch.getFilterInfo(service,fkey,"key")&&(zgssearch.loadDatePicker(zgssearch.createDatePicker.bind(null,service,fkey,datePickerTargetElem)),service!==zgssearch.GSConstant.PROJECTS&&_jQueryGS("#"+parentEleId).find(".zgs19_gsModuleFilterTitleHeader").css("display","none"),_jQueryGS("#zgs20_gsFilterQuerySelection4").after(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag",style:"width:90%;margin:0 auto;"})))}catch(ex){zgssearch.throwClientError("Error in zgssearch.renderTypeOneModuleFilterList ",ex)}},zgssearch.renderCustomSortList=function(hdrElemId){_jQueryGS("#"+hdrElemId).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterServiceChild zgs19_gsCustomSortTitle"}).text(zgssearch.getI18NMsg("gs.search.service_projects_customSort")))},zgssearch.renderTypeThreeModuleFilterList=function(service,sportal,fkey,ftype,defValue,hdrElemId,listingEleId,selectedArr,loader){var wObj=zgssearch.getFilterInfo(service,fkey,"alldata"),wObj=wObj&&!_jQueryGS.isEmptyObject(wObj)?wObj:zgssearch.getFilterInfo(service,fkey,"data"),isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(service,fkey),fIndex=0,isChecked=(selectedArr[0],!1);if(wObj.hasOwnProperty(sportal)){var spmold=wObj[sportal];if(isMultiSelectEnabled=isMultiSelectEnabled&&1<Object.keys(spmold).length){var isAllSelected=selectedArr[0]===defValue,isChecked=!1;for(ikey in spmold)isChecked=!1,zgssearch.includes(ikey,selectedArr)&&(isChecked=!0),zgssearch.renderModuleFilterList(hdrElemId,"filterCheckBoxChild",fIndex++,ftype,fkey,ikey,selectedArr,spmold[ikey],isMultiSelectEnabled,isAllSelected,isChecked);zgssearch.renderModuleFilterActions(listingEleId,zgssearch.curFilterType,loader)}else{var ikey,gsAttr=loader?"moduleInnerFilterChild":"moduleFilterChild";for(ikey in spmold)zgssearch.renderModuleFilterList(hdrElemId,gsAttr,fIndex++,ftype,fkey,ikey,selectedArr,spmold[ikey])}}else{loader=zgssearch.getFilterInfo(service,fkey,"length");service==GSConstant.ASANA&&0==loader&&(loader=zgssearch.getFourDotLoader("zgs20_gsModuleFilterWidgetLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsMg10Px zgs19_gsPdng20Px"),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").append(loader))}},zgssearch.renderTypeFourModuleFilterList=function(service,header,fkey,ftype,defValue,hdrElemId,listingEleId,selectedArr){var wObj=zgssearch.getFilterInfo(service,fkey,"data");if(wObj.hasOwnProperty(header)){var mpinfo=wObj[header],isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(service,fkey)&&1<Object.keys(mpinfo).length,fIndex=0,isChecked=(selectedArr[0],!1);if(isMultiSelectEnabled){var isAllSelected=selectedArr[0]===defValue,isChecked=!1;for(ikey in mpinfo){var fid=(value=mpinfo[ikey]).key||"",fname=value.name||"";isChecked=!1,zgssearch.includes(fid,selectedArr)&&(isChecked=!0),zgssearch.renderModuleFilterList(hdrElemId,"filterCheckBoxChild",fIndex++,ftype,fkey,fid,selectedArr,fname,isMultiSelectEnabled,isAllSelected,isChecked)}zgssearch.renderModuleFilterActions(listingEleId,zgssearch.curFilterType)}else for(var ikey in mpinfo){var value,fid=(value=mpinfo[ikey]).key||"",fname=value.name||"";zgssearch.renderModuleFilterList(hdrElemId,"moduleFilterChild",fIndex++,ftype,fkey,fid,selectedArr,fname)}}},zgssearch.getFiltersInfoForService=function(filterType,service_name,cardConfigArr,accId,filterkey,filtervalue){var filterObj=[];zgssearch.currFilterType=filterType;for(var gfObj=zgssearch.getFilterObj(service_name),mlist=zgssearch.getWidgetServiceList(service_name),common_order=zgssearch.getServiceOrders(gfObj,service_name,accId,filterkey,filtervalue,cardConfigArr),filtersLen=common_order.length,i=0;i<filtersLen;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey))switch(filterType){case"editCardFilters":filterObj.push(zgssearch.getFilterDetailsForCardConfig(service_name,mlist,fkey,cardConfigArr,filterObj));break;case"createCardFilters":filterObj.push(zgssearch.getFiltersDetailInFilterObj(service_name,fkey))}}return filterObj},zgssearch.getFilterDetailsForCardConfig=function(service,mlist,fkey,cardConfigArr,filterObj){var eachFilterObj={},accountId=zgssearch.getFilterInfo(service,fkey,"title"),fType=zgssearch.getFilterInfo(service,fkey,"type"),key=zgssearch.getFilterInfo(service,fkey,"key"),parId=zgssearch.getFilterInfo(service,fkey,"parId"),parKey=zgssearch.getFilterInfo(service,fkey,"parKey");eachFilterObj.length=zgssearch.getFilterInfo(service,fkey,"length"),eachFilterObj.title=accountId,eachFilterObj.fkey=fkey,eachFilterObj.key=key,eachFilterObj.type=fType,parId&&(eachFilterObj.parId=parId||""),parKey&&(eachFilterObj.parKey=parKey||"");var accFilterKey=service===GSConstant.WORKDRIVE&&"TEAM"==zgssearch.editionTypeForWD?"WD_teamId":"accounts_list",value="",parFieldVal="";if(cardConfigArr)for(var cardObj in cardConfigArr){var formattedObj=cardConfigArr[cardObj],eachName=formattedObj.name;if(eachName===accFilterKey&&fkey===mlist.key){value=cardConfigArr[cardObj].value;break}if(eachName===accFilterKey&&eachName===mlist.subkey){value=cardConfigArr[cardObj].value;break}if("sort"===fkey&&"sort_criteria"===eachName){value=["0"==cardConfigArr[cardObj].value[0]?[service===GSConstant.ASANA?"sortCreatedDate":"sortrelv"]:[service===GSConstant.ASANA?"sortDueDate":"sorttime"]];break}if("date"===key&&"date"===eachName){var dateObj,formattedObj=zgssearch.gssavedsearches.constructFilterFormatForDate(service,formattedObj);formattedObj.hasOwnProperty("date")?value=[(dateObj=formattedObj.date).value]:formattedObj.hasOwnProperty("relativedate")&&(value=[{fromdate:(dateObj=formattedObj.relativedate).fromDateVal,todate:dateObj.toDateVal,value:dateObj.value}]);break}if(eachName===key){value=cardConfigArr[cardObj].value;break}}if(""===value){accountId=zgssearch.gscardinDb.getFilterVal(cardConfigArr,accFilterKey);if(accountId||(projIndex=zgssearch.getFilterAccountKeyName(service,fkey,fType),accountId=accountId||zgssearch.getFilterInfo(service,projIndex,"default")),parKey&&service===zgssearch.GSConstant.PROJECTS){var fil,projIndex=zgssearch.getFilterAccountKeyName(service,fkey,fType),filArr=[];for(fil in filterObj)filArr.push(filterObj[fil].fkey);projIndex=filArr.indexOf(projIndex);(parFieldVal=filterObj[projIndex]?filterObj[projIndex].value[0]:"")&&(accountId=parKey==zgssearch.gsprojects.modules?parFieldVal+"_"+parId:parFieldVal)}value=[zgssearch.getDefaultValueforFilterObj(service,fkey,fType,accountId)]}return eachFilterObj.value=value,eachFilterObj},zgssearch.getFiltersDetailInFilterObj=function(service_name,parId){var eachFilterObj={};eachFilterObj.fkey=parId,eachFilterObj.title=zgssearch.getFilterInfo(service_name,parId,"title"),eachFilterObj.type=zgssearch.getFilterInfo(service_name,parId,"type"),eachFilterObj.value=[zgssearch.getFilterInfo(service_name,parId,"default")],eachFilterObj.length=zgssearch.getFilterInfo(service_name,parId,"length"),eachFilterObj.key=zgssearch.getFilterInfo(service_name,parId,"key");var parKey=zgssearch.getFilterInfo(service_name,parId,"parKey");parKey&&(eachFilterObj.parKey=parKey);parId=zgssearch.getFilterInfo(service_name,parId,"parId");return parId&&(eachFilterObj.parId=parId),eachFilterObj},zgssearch.getDefaultValueforFilterObj=function(service,fkey,fType,accId){var value="";switch(fType){case"1":case"6":value=zgssearch.getFilterInfo(service,fkey,"default");break;case"3":var spmold,wdObj=zgssearch.getFilterInfo(service,fkey,"alldata");(wdObj=wdObj&&!_jQueryGS.isEmptyObject(wdObj)?wdObj:zgssearch.getFilterInfo(service,fkey,"data")).hasOwnProperty(accId)&&(spmold=wdObj[accId],value=Object.keys(spmold)[0]);break;case"4":(wdObj=zgssearch.getFilterInfo(service,fkey,"data")).hasOwnProperty(accId)&&(value=(spmold=wdObj[accId])[0].key)}return value},zgssearch.getAccountValue=function(service,filPar,curSelFilterObj,account_id,filParId){return service===GSConstant.WORKDRIVE&&"4"==filPar&&(account_id=curSelFilterObj.hasOwnProperty("teams")?curSelFilterObj.teams[0]:""),service===GSConstant.MAILS&&(account_id=curSelFilterObj.hasOwnProperty("accounts")?account_id:zgssearch.gFilterData[service].accounts.current),service===GSConstant.PROJECTS&&(filPar=zgssearch.getFilterInfo(service,filParId,"parKey"),filParId=zgssearch.getFilterInfo(service,filParId,"parId"),filPar&&curSelFilterObj.hasOwnProperty(filPar)&&(account_id=curSelFilterObj[filPar][0]),filParId&&curSelFilterObj.hasOwnProperty(zgssearch.gsprojects.projects)&&curSelFilterObj.projects[0]&&(account_id=curSelFilterObj[zgssearch.gsprojects.projects][0]+"_"+account_id)),account_id},zgssearch.getFilterAccountKeyName=function(serviceName,fkey,fType){var accKey="accounts";return"3"===fType?serviceName===GSConstant.ASANA?fkey!=zgssearch.WS&&(accKey=zgssearch.WS):serviceName===GSConstant.PROJECTS&&fkey!=zgssearch.gsprojects.projects&&(accKey=zgssearch.gsprojects.projects):"4"==fType&&serviceName===GSConstant.WORKDRIVE&&"ENTERPRISE"===zgssearch.editionTypeForWD&&(accKey="teams"),accKey},zgssearch.renderModuleFiltersForService=function(service,filterMetaInfo,fltrHdrElem,gsAttr,gsType,gsFilterMode,account_id,curSelFilterObj,dispName,currKey){try{var fType=filterMetaInfo.type,fTitle=filterMetaInfo.title,fKey=filterMetaInfo.fkey,fValue=curSelFilterObj.hasOwnProperty(fKey)&&curSelFilterObj[fKey]?curSelFilterObj[fKey]:filterMetaInfo.value,soid=fValue[0],fKeyData=zgssearch.getFilterObj(service)[fKey],wObj=fKeyData&&fKeyData.hasOwnProperty("alldata")&&!_jQueryGS.isEmptyObject(fKeyData.alldata)?fKeyData.alldata:fKeyData.data,isMultiportalService=zgssearch.getMappedServiceList()[service].is_multi_accounts;switch(fType){case"1":case"3":case"4":if("accounts"===fKey&&!isMultiportalService&&(service!=GSConstant.WORKDRIVE||"TEAM"!=zgssearch.editionTypeForWD))break;var filterData,currData,filterKey,filterHasPar=filterMetaInfo.hasOwnProperty("parKey")&&filterMetaInfo.parKey,parKeyId=zgssearch.getAccountValue(service,fType,curSelFilterObj,account_id,fKey);if("date"===filterMetaInfo.key){var fVal=fValue[0],dateType=fVal.value;"customdate"===dateType||"customrange"===dateType?(curSelFilterObj[fKey]=[{fdate:fVal.fromdate,tdate:fVal.todate,type:dateType}],soid=dateType):curSelFilterObj[fKey]=fValue}else{if(filterHasPar&&(!curSelFilterObj.hasOwnProperty(filterMetaInfo.parKey)||!wObj[parKeyId]||1<curSelFilterObj[filterMetaInfo.parKey].length))break;filterHasPar&&filterMetaInfo.parKey==currKey?(parKeyId=zgssearch.getAccountValue(service,fType,curSelFilterObj,account_id,fKey),filterKey=1<(currData=(filterData=zgssearch.getFilterInfo(service,fKey,"data"))[parKeyId]?Object.keys(filterData[parKeyId]):{}).length?"0":currData[0],curSelFilterObj[fKey]=soid=fValue=[filterKey]):curSelFilterObj[fKey]=fValue}account_id=zgssearch.getAccountValue(service,fType,curSelFilterObj,account_id,fKey);var dsoid=zgssearch.getDefaultValueforFilterObj(service,fKey,fType,account_id),dName=zgssearch.getDispName(service,account_id,wObj,soid,fType),dcolor="zgs19_tcfd9c10";dsoid==soid&&(dName=dispName||dName,dcolor="zgs19_tc2fa6ea"),_jQueryGS("#"+fltrHdrElem).append(zgssearch.renderEachModulesFilter(service,gsAttr,gsType,account_id,fTitle,fKey,fType,dName,dcolor));var selvalueLen="date"===fKey?0:fValue.length;zgssearch.showingFilterCount(fKey,selvalueLen);break;case"6":if(service===GSConstant.MAILS&&"module"===fKey){curSelFilterObj[fKey]=fValue,account_id=zgssearch.getAccountValue(service,fType,curSelFilterObj,account_id);dsoid=zgssearch.getDefaultValueforFilterObj(service,fKey,fType,account_id),dName=wObj[soid],dcolor="zgs19_tcfd9c10";dsoid==soid&&(dName=dispName||dName,dcolor="zgs19_tc2fa6ea"),_jQueryGS("#"+fltrHdrElem).append(zgssearch.renderEachModulesFilter(service,gsAttr,gsType,account_id,fTitle,fKey,fType,dName,dcolor))}else for(var dkey in wObj){var dvalue=wObj[dkey];zgssearch.renderMoreFilterTitleWithCheckBox(fltrHdrElem,fKey,soid,dkey,dvalue,gsFilterMode),1==soid&&(curSelFilterObj[fKey]=[!0])}}zgssearch.isHideServiceModuleFilter(service,fKey,curSelFilterObj)&&zgssearch.hideChildFilterforCard(fKey)}catch(ex){zgssearch.throwClientError("Error in renderModuleFiltersForService ",ex)}},zgssearch.isHideServiceModuleFilter=function(service,fkey,curSelFilterObj){switch(service){case GSConstant.NOTEBOOK:var allData=curSelFilterObj.hasOwnProperty("module")?curSelFilterObj.module[0]:"";return"notecardtype"===fkey&&"notebooks"===allData;case GSConstant.WORKDRIVE:allData=curSelFilterObj.hasOwnProperty("teams")?curSelFilterObj.teams[0]:"";return"folders"===fkey&&(""===allData||"0"===allData||"1"===allData||"2"===allData);case GSConstant.PROJECTS:var par=zgssearch.getFilterInfo(service,fkey,"parKey"),allData=zgssearch.getFilterInfo(service,fkey,"parId");if(par){if(allData&&0<allData.length)return!curSelFilterObj.hasOwnProperty(par)||!zgssearch.includes(curSelFilterObj[par][0],allData);if(!curSelFilterObj[par]||par!=zgssearch.gsprojects.projects&&"0"==curSelFilterObj[par][0]||!curSelFilterObj[fkey]||"0"==curSelFilterObj[fkey][0])return!1;allData=zgssearch.getFilterInfo(service,fkey,"alldata");return!(allData&&!_jQueryGS.isEmptyObject(allData)?allData:zgssearch.getFilterInfo(service,fkey,"data"))[curSelFilterObj[par][0]].hasOwnProperty(curSelFilterObj[fkey][0])}}return!1},zgssearch.openEachModulesFilter=function(curModFilterId){var curModFltrElem=_jQueryGS(curModFilterId).closest(".zgs19_gsCardFilterOuter"),gs_type=_jQueryGS(curModFltrElem).attr("gs_type"),service=_jQueryGS(curModFltrElem).attr("service"),fKey=_jQueryGS(curModFltrElem).attr("fkey"),fType=_jQueryGS(curModFltrElem).attr("ftype"),acc_id=_jQueryGS(curModFltrElem).attr("accid"),curModFilterId=_jQueryGS(curModFltrElem).attr("id"),modFilterHdrId="cardModuleList"===gs_type?"zgs20_gsCardmoduleFilterPopup":"zgs20_gsCCModuleFilterListPopup";if(_jQueryGS("#"+modFilterHdrId).is(":visible")&&zgssearch.PreModFilterId===curModFilterId)zgssearch.hideModuleFilterPopUp(modFilterHdrId);else{switch(gs_type){case"cardModuleList":zgssearch.gscardfilter.renderCardFilterModules(curModFltrElem,modFilterHdrId,service,fKey,fType,acc_id);break;case"CCModuleList":zgssearch.gscreatecards.renderCreateCardFilterModules(curModFltrElem,modFilterHdrId,service,fKey,fType,acc_id)}zgssearch.PreModFilterId=curModFilterId,zgssearch.moduleFiltersOpened=!0}},zgssearch.renderModulesFilter=function(cuModFltrElem,parentHdrId,service_name,fkey,ftype,accId,defValue,selectedArr,modulePopUpId,isAccDefault){zgssearch.isFilterListDisplay=!1,zgssearch.curFilterType=modulePopUpId;modulePopUpId=_jQueryGS("#"+parentHdrId);switch(modulePopUpId.empty(),modulePopUpId.append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsCardmoduleFilterHdr",service:service_name,fkey:fkey})),ftype){case"1":case"6":"date"===fkey&&(selectedArr=selectedArr[0].hasOwnProperty("type")?[selectedArr[0].type]:selectedArr),zgssearch.renderTypeOneModuleFilterList(service_name,fkey,ftype,"zgs20_gsModuleFilterWidgetFooter","zgs20_gsCardModuleFilterElem_"+fkey,parentHdrId,selectedArr,"zgs20_gsCardModuleFilterElem_date",isAccDefault);break;case"3":zgssearch.renderTypeThreeModuleFilterList(service_name,accId,fkey,ftype,defValue,"zgs20_gsModuleFilterWidgetFooter",parentHdrId,selectedArr);break;case"4":zgssearch.renderTypeFourModuleFilterList(service_name,accId,fkey,ftype,defValue,"zgs20_gsModuleFilterWidgetFooter",parentHdrId,selectedArr)}service_name!==GSConstant.WORKDRIVE||""!==(cardModuleHdrElem=zgssearch.getFilterInfo(service_name,fkey,"header"))&&cardModuleHdrElem[0].isrequired&&zgssearch.addSegregationInFilters(fkey,cardModuleHdrElem);var cardModuleHdrElem=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter");0<modulePopUpId.find("#zgs20_gsEditFieldsBottom").length?cardModuleHdrElem.removeClass("zgs19_gsMxHt310Px").addClass("zgs19_gsMxHt245Px"):cardModuleHdrElem.removeClass("zgs19_gsMxHt245Px").addClass("zgs19_gsMxHt310Px"),modulePopUpId.attr("service",service_name),modulePopUpId.css("display","block"),zgssearch.curDatePickerElem=cuModFltrElem,250<=cardModuleHdrElem[0].scrollHeight?(zgssearch.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox"),cardModuleHdrElem.removeClass("zgs19_gsMxHt190Px zgs19_gsMxHt245Px zgs19_gsMxHt310Px"),0<modulePopUpId.find("#zgs20_gsEditFieldsBottom").length?cardModuleHdrElem.addClass("zgs19_gsMxHt190Px"):cardModuleHdrElem.addClass("zgs19_gsMxHt245Px")):cardModuleHdrElem.addClass("zgs19_gsPdngTp10Px"),zgssearch.isFilterListDisplay=!0,zgssearch.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",service_name)},zgssearch.hideModuleFilterPopUp=function(id){zgssearch.PreModFilterId="",zgssearch.moduleFiltersOpened=!1,_jQueryGS("#"+id).css("display","none")},zgssearch.moduleFilterClickActions=function(target){switch(zgssearch.curFilterType){case"gs_filters":zgssearch.clickActionForWidgetList(target);break;case"card_modules":var curSelCardObj=zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId];zgssearch.moduleFilterActionsforCards(target,"zgs20_gsCardmoduleFilterPopup",curSelCardObj);break;case"cc_modules":curSelCardObj=zgssearch.selectedSearchObj;zgssearch.moduleFilterActionsforCards(target,"zgs20_gsCCModuleFilterListPopup",curSelCardObj)}},zgssearch.moduleFilterActionsforCards=function(target,modFilterPopId,curSelCardObj){var eventType,dcolor=_jQueryGS(target).closest(".zgs19_gsCardmoduleFilterHdr"),service=_jQueryGS(dcolor).attr("service"),fkey=_jQueryGS(dcolor).attr("fkey"),txtElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),key=_jQueryGS(txtElem).attr("key"),value=_jQueryGS(txtElem).attr("value"),txtElem=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+fkey),defKey=_jQueryGS(dcolor).find("#zgs20_gsFilterQuerySelection0").attr("key"),dcolor=defKey==key?"zgs19_tc2fa6ea":"zgs19_tcfd9c10";if("customrange"==key||"customdate"==key)service===GSConstant.CALENDAR&&(eventType=curSelCardObj.eventTypes[0]),zgssearch.handleDatePicker(key,service,eventType),_jQueryGS(txtElem).removeClass("zgs19_gsboxholder");else if(curSelCardObj[fkey][0]!==key){curSelCardObj[fkey]=[key];var currAccountId,callbackObj;service===GSConstant.NOTEBOOK&&"module"===fkey?zgssearch.hideOrShowChildModuleFilterForCard(service,"notecardtype",key,curSelCardObj):service===GSConstant.WORKDRIVE?(callbackObj="ENTERPRISE"===zgssearch.editionTypeForWD?"teams":"accounts",fkey===callbackObj&&zgssearch.hideOrShowChildModuleFilterForCard(service,"folders",key,curSelCardObj)):service===GSConstant.MAILS?"accounts"!==fkey&&"module"!==fkey||(currAccountId=curSelCardObj.hasOwnProperty("accounts")?curSelCardObj.accounts[0]:zgssearch.getFilterInfo(service,"accounts","current"),"accounts"===fkey&&zgssearch.removeChildFilterforCard(),zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(zgssearch.currFilterType,service,curSelCardObj,currAccountId,fkey,key)):service==GSConstant.PROJECTS&&"cc_modules"==zgssearch.curFilterType&&(fkey==zgssearch.gsprojects.projects&&(zgssearch.isChildFilters=!0),"modules"==fkey&&"0"!=value&&(callbackObj={cards:!0,callback:function(){var cardConfig;"editCardFilters"==zgssearch.currFilterType?(cardConfig=zgssearch[zgssearch.cardTypeClass[zgssearch.gscreatecards.cardType]].cardIdsVsObject[zgssearch.gscreatecards.cardId].cardconfig,zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(zgssearch.currFilterType,service,cardConfig,currAccountId,fkey,key)):zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(zgssearch.currFilterType,service,curSelCardObj,currAccountId,fkey,key),zgssearch.gscreatecards.showChildFilters(fkey)}},zgssearch.loadProjectsModChildFilter(service,key,curSelCardObj.projects[0],curSelCardObj.accounts[0],callbackObj)));txtElem=_jQueryGS(txtElem).find(".zgs19_gsCardFilterTxt");switch(_jQueryGS(txtElem).removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor),_jQueryGS(txtElem).text(value),zgssearch.curFilterType){case"card_modules":service==GSConstant.PROJECTS&&(defKey!==key?(mlist=zgssearch.gscardfilter.tempCardIdsVsObj[zgssearch.gscardfilter.curCardId],hasChildFilter=zgssearch.getFiltersInfoForService("editCardFilters",service,mlist.cardconfig),zgssearch.gscardfilter.renderEachCardFiltersForService(service,hasChildFilter,fkey)):zgssearch.gscreatecards.hideChildFilters(target)),zgssearch.enableApplyButtonForModuleFilters("zgs20_gsCardFilterPopup"),zgssearch.gscardfilter.showSaveAndReplaceOption();break;case"cc_modules":var mlist=zgssearch.getWidgetServiceList(service);zgssearch.hasFilterChanged=!0,zgssearch.enabledSaveButtonForCreateCard(),zgssearch.gscreatecards.hideResultsAndShowRefresh();var hasChildFilter=zgssearch.getFilterInfo(service,fkey,"hasChildFilter");mlist.key!==fkey&&mlist.subkey!==fkey&&!hasChildFilter||(defKey!==key||zgssearch.isChildFilters?(zgssearch.isChildFilters=!1,zgssearch.gscreatecards.showChildFilters(fkey)):zgssearch.gscreatecards.hideChildFilters(target)),"accounts"!==fkey&&"modules"!==fkey||zgssearch.checkAdvanceSearchEnabledOrNot()}}zgssearch.hideModuleFilterPopUp(modFilterPopId)},zgssearch.hideOrShowChildModuleFilterForCard=function(service,newKey,pvalue,curSelCardObj){var childElem,defKey,dName,childTxtElem;zgssearch.isHideServiceModuleFilter(service,newKey,curSelCardObj)?zgssearch.hideChildFilterforCard(newKey):(childElem=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+newKey),childTxtElem=zgssearch.getFilterInfo(service,newKey,"type"),defKey=zgssearch.getDefaultValueforFilterObj(service,newKey,childTxtElem,pvalue),dName=zgssearch.getFilterInfo(service,newKey,"data"),dName=zgssearch.getDispName(service,pvalue,dName,defKey,childTxtElem),(childTxtElem=_jQueryGS(childElem).find(".zgs19_gsCardFilterTxt")).removeClass("zgs19_tcfd9c10").addClass("zgs19_tc2fa6ea"),childTxtElem.text(dName),childElem.attr("accId",pvalue),zgssearch.showingFilterCount(newKey,0),zgssearch.showChildFilterforCard(newKey),curSelCardObj[newKey]=[defKey])},zgssearch.updateCardDatePicker=function(txtElem,response,curSelFilterObj){if(response.fromUI){var fromdate="",todate="",dispName="";"customrange"===txtElem?(dispName=zgssearch.getI18NMsg("gs.search.filter.customrange"),todate=""+response.toValueString,fromdate=""+response.fromValueString):"customdate"===txtElem&&(dispName=zgssearch.getI18NMsg("gs.search.filter.customdate"),fromdate=todate=""+response.valueString),curSelFilterObj.date=[{fdate:fromdate,tdate:todate,type:txtElem}];txtElem=_jQueryGS("[gsa='cardDate']").find(".zgs19_gsCardFilterTxt");switch(_jQueryGS(txtElem).removeClass("zgs19_tc2fa6ea").addClass("zgs19_tcfd9c10"),_jQueryGS(txtElem).text(dispName),zgssearch.curFilterType){case"card_modules":zgssearch.enableApplyButtonForModuleFilters("zgs20_gsCardFilterPopup"),zgssearch.gscardfilter.showSaveAndReplaceOption();break;case"cc_modules":zgssearch.hasFilterChanged=!0,zgssearch.gscreatecards.hideResultsAndShowRefresh()}}},zgssearch.showChildFilterforCard=function(childFilterEle){childFilterEle=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+childFilterEle).closest(".zgs19_gsEachFilterHolder");_jQueryGS(childFilterEle).css("display","block")},zgssearch.hideChildFilterforCard=function(childFilterEle){childFilterEle=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+childFilterEle).closest(".zgs19_gsEachFilterHolder");_jQueryGS(childFilterEle).css("display","none")},zgssearch.removeChildFilterforCard=function(){zgssearch.removeEle(_jQueryGS("#zgs20_gsCardModuleFilterElem_module").closest(".zgs19_gsEachFilterHolder")[0])},zgssearch.moduleFilterCheckBoxClickActions=function(target,filterHdr){var tarElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),fkey=_jQueryGS(tarElem).attr("fkey"),ftype=_jQueryGS(tarElem).attr("ftype"),filterHdrId="",service="",defValue="";switch(zgssearch.curFilterType){case"gs_filters":service=zgssearch.getSearchType(),defValue=zgssearch.getFilterInfo(service,fkey,"default"),filterHdrId=filterHdr||"zgs20_gsModuleFilterWidgetList";break;case"card_modules":var service=_jQueryGS(tarElem).closest(".zgs19_gsCardmoduleFilterHdr").attr("service"),accId=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+fkey).attr("accid"),defValue=zgssearch.getDefaultValueforFilterObj(service,fkey,ftype,accId),filterHdrId="zgs20_gsCardmoduleFilterPopup";break;case"cc_modules":service=_jQueryGS(tarElem).closest(".zgs19_gsCardmoduleFilterHdr").attr("service");accId=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+fkey).attr("accid");defValue=zgssearch.getDefaultValueforFilterObj(service,fkey,ftype,accId),filterHdrId="zgs20_gsCCModuleFilterListPopup"}zgssearch.moduleFilterCheckBoxAction(target,tarElem,service,fkey,defValue,filterHdrId)},zgssearch.moduleFilterCheckBoxAction=function(selInputsLen,sElem,service,title,defValue,filterHdrId){var key=_jQueryGS(sElem).attr("key"),isChecked=_jQueryGS(sElem).find("input").prop("checked"),isChecked=selInputsLen&&"INPUT"==selInputsLen.tagName?isChecked:!isChecked,checkBoxes=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").find("input[type=checkbox]"),totalCheckLen=checkBoxes.length,isAllSelected=!1,selInputsLen=0;if(key===defValue)for(var isAllSelected=isChecked,i=0;i<totalCheckLen;i++)_jQueryGS(checkBoxes[i]).prop("checked",isChecked);else{selInputsLen=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").find("input:checked").length;isChecked?((selInputsLen<zgssearch.maxSelFiltersCount||selInputsLen+2===totalCheckLen)&&_jQueryGS(sElem).find("input").prop("checked",isChecked),selInputsLen++):(_jQueryGS(sElem).find("input").prop("checked",isChecked),selInputsLen--),totalCheckLen-1===selInputsLen&&(sElem=_jQueryGS("#zgs20_gsFilterQuerySelection0"),_jQueryGS(sElem).find("input[type=checkbox]").prop("checked",isChecked),isAllSelected=isChecked),selInputsLen>zgssearch.maxSelFiltersCount&&(title=zgssearch.getFilterInfo(service,title,"title"),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.search.filter.selected")+" "+title+" "+zgssearch.getI18NMsg("gs.search.filter.not_exceed")+" "+zgssearch.maxSelFiltersCount}))}zgssearch.filterCheckBoxActionChanges(checkBoxes,isAllSelected,defValue),isAllSelected||0<selInputsLen&&--selInputsLen<=zgssearch.maxSelFiltersCount?zgssearch.enableApplyButtonForModuleFilters(filterHdrId):zgssearch.disableApplyButtonForModuleFilters(filterHdrId)},zgssearch.filterCheckBoxActionChanges=function(inputBoxes,isAllSelected,defaultValue){for(var x=0;x<inputBoxes.length;x++){var tarElem=_jQueryGS(inputBoxes[x]),isSelected=tarElem.prop("checked"),selKey=tarElem.attr("key");(isSelected=isAllSelected&&selKey!==defaultValue?!1:isSelected)?tarElem.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleSeleFilterElem"):tarElem.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleUnSeleFilterElem")}},zgssearch.updateModuleCheckBoxFiltersInCard=function(curSelCardObj,appType){var parentFilterElem=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter"),service=parentFilterElem.attr("service"),fkey=parentFilterElem.attr("fkey"),checkedArr=parentFilterElem.find("input:checked"),checkedArrLen=checkedArr.length;if(0<checkedArrLen){var defKey=_jQueryGS(parentFilterElem).find("#zgs20_gsFilterQuerySelection0").attr("key"),dcolor=_jQueryGS(checkedArr[0]).attr("key"),selectedKeys=[dcolor];if(defKey!==dcolor)for(var i=1;i<checkedArrLen;i++)selectedKeys.push(_jQueryGS(checkedArr[i]).attr("key"));curSelCardObj[fkey]=selectedKeys;var txtElem=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+fkey),callbackObj=_jQueryGS(txtElem).attr("ftype"),accId=_jQueryGS(txtElem).attr("accid"),filterData=zgssearch.getFilterInfo(service,fkey,"data"),callbackObj=zgssearch.getDispName(service,accId,filterData,dcolor,callbackObj),dcolor=defKey===dcolor?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",txtElem=_jQueryGS(txtElem).find(".zgs19_gsCardFilterTxt");_jQueryGS(txtElem).removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor),_jQueryGS(txtElem).text(callbackObj),zgssearch.showingFilterCount(fkey,selectedKeys.length),service==zgssearch.GSConstant.PROJECTS&&fkey==zgssearch.gsprojects.modules&&(callbackObj={cards:!0,curSelCardObj:curSelCardObj,callback:function(){var cardConfig,currCardObj=parentFilterElem.attr("fkey"),currAccountId=curSelCardObj.hasOwnProperty("accounts")?curSelCardObj.accounts[0]:zgssearch.getFilterInfo(service,"accounts","current");"cc_modules"==appType?("editCardFilters"==zgssearch.currFilterType?(cardConfig=zgssearch[zgssearch.cardTypeClass[zgssearch.gscreatecards.cardType]].cardIdsVsObject[zgssearch.gscreatecards.cardId].cardconfig,zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(zgssearch.currFilterType,service,cardConfig,currAccountId,fkey,currCardObj)):zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(zgssearch.currFilterType,service,curSelCardObj,currAccountId,fkey,currCardObj),zgssearch.gscreatecards.showChildFilters(fkey)):(currCardObj=zgssearch.gscardfilter.tempCardIdsVsObj[zgssearch.gscardfilter.curCardId],zgssearch.gscardfilter.renderServiceFiltersForCard(service,currCardObj.cardconfig,fkey))}},1==checkedArrLen&&zgssearch.loadProjectsModChildFilter(service,_jQueryGS(checkedArr[0]).attr("key"),curSelCardObj.projects[0],curSelCardObj.accounts[0],callbackObj),callbackObj.callback()),"cc_modules"===appType&&(zgssearch.hasFilterChanged=!0,zgssearch.enabledSaveButtonForCreateCard(),zgssearch.gscreatecards.hideResultsAndShowRefresh(),"accounts"!==fkey&&"modules"!==fkey||zgssearch.checkAdvanceSearchEnabledOrNot())}},zgssearch.showCautionPopup=function(gsAttr){var modifiedMsg=zgssearch.getI18NMsg("gs.card.caution_modified_message"),cautionMsg=zgssearch.getI18NMsg("gs.dashboard.caution_info_message");zgssearch.popupUtils.openCautionPopup(modifiedMsg,cautionMsg,gsAttr),_jQueryGS("#zgs20_gsOverlayDialog").css("display","block")},zgssearch.enableApplyButtonForModuleFilters=function(elemId){_jQueryGS("#"+elemId).find(".zgs19_gsEditFieldsBottom1").removeClass("zgs19_gsHideEleme")},zgssearch.disableApplyButtonForModuleFilters=function(elemId){_jQueryGS("#"+elemId).find(".zgs19_gsEditFieldsBottom1").addClass("zgs19_gsHideEleme")},zgssearch.enabledSaveButtonForCreateCard=function(){_jQueryGS("#zgs20_gsCCsave").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsCcPreviewButt, #zgs20_gsCcPreviewTxt").removeClass("zgs19_gsHideEleme")},zgssearch.disabledSaveButtonForCreateCard=function(){_jQueryGS("#zgs20_gsCCsave").addClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsCcPreviewButt, #zgs20_gsCcPreviewTxt").addClass("zgs19_gsHideEleme")},zgssearch.setCursorPosInEditableDivElement=function(setpos){var tag=zgssearch.getTargetElem(setpos),set=tag.childNodes,lastNote=tag.childNodes[set.length-1],pos=lastNote.textContent.length,setpos=document.createRange(),set=window.getSelection();setpos.setStart(lastNote,pos),setpos.collapse(!0),set.removeAllRanges(),set.addRange(setpos),tag.focus()},zgssearch.formNewQueryObjectModelQuery=function(curSearchObj){try{var nlpObj,accListArr,queryObject=[];if(curSearchObj.hasOwnProperty("query"))for(var queryArray=curSearchObj.query,i=0;i<queryArray.length;i++){var qObj,queryArr,menZuidObj,menZUIDArr,menEmailObj,menEmailArr,queryObj=queryArray[i];queryObj.hasOwnProperty("query")?(qObj={},queryArr=[queryObj.query],qObj[zgssearch.QUERY_OBJ_NAME]="zs_query",qObj[zgssearch.QUERY_OBJ_VALUE]=queryArr,qObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_QUERY,qObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(qObj)):queryObj.hasOwnProperty("men_user_zuid")?(menZuidObj={},menZUIDArr=[queryObj.men_user_zuid],menZuidObj[zgssearch.QUERY_OBJ_NAME]="zs_mention",menZuidObj[zgssearch.QUERY_OBJ_VALUE]=menZUIDArr,menZuidObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MENTION,menZuidObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menZuidObj)):queryObj.hasOwnProperty("men_user_email")&&(menEmailObj={},menEmailArr=[queryObj.men_user_email],menEmailObj[zgssearch.QUERY_OBJ_NAME]="mentioned_email",menEmailObj[zgssearch.QUERY_OBJ_VALUE]=menEmailArr,menEmailObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MAILID,menEmailObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menEmailObj))}curSearchObj.hasOwnProperty("nlpsearch")&&(nlpObj={},accListArr=curSearchObj.nlpsearch,nlpObj[zgssearch.QUERY_OBJ_NAME]="nlpsearch",nlpObj[zgssearch.QUERY_OBJ_VALUE]=accListArr,nlpObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_STRING,nlpObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(nlpObj));var service=curSearchObj.service,filterObj=zgssearch.getFilterObj(service);if(filterObj&&!_jQueryGS.isEmptyObject(filterObj))for(var accId=curSearchObj.hasOwnProperty("accounts")?curSearchObj.accounts:zgssearch.getFilterInfo(service,"accounts","current"),filterkey=curSearchObj.hasOwnProperty("accounts")?"accounts":"",filtervalue=filterkey?curSearchObj[filterkey][0]:"",common_order=zgssearch.getServiceOrders(filterObj,service,accId,filterkey,filtervalue,curSearchObj),filtersLen=common_order.length,i=0;i<filtersLen;i++){var fkey=common_order[i];if(filterObj.hasOwnProperty(fkey)&&curSearchObj.hasOwnProperty(fkey)){var accListObj,moduleObject,dateObj,dateValue,dateObjArr,newDateObjArr,fromDate,toDate,type,paramName,teamId,filter_type,finalKeyObj=filterObj[fkey],defValue=finalKeyObj.default,innerKeyId=finalKeyObj.key,value=curSearchObj[fkey];if("sort"!==fkey){if("accounts"===fkey?((accListObj={})[zgssearch.QUERY_OBJ_NAME]="accounts_list",accListObj[zgssearch.QUERY_OBJ_VALUE]=value,accListObj[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,accListObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(accListObj)):"module"===fkey?((moduleObject={})[zgssearch.QUERY_OBJ_NAME]="module",moduleObject[zgssearch.QUERY_OBJ_VALUE]=value,moduleObject[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,moduleObject[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(moduleObject)):value[0]&&value[0]!==defValue&&("date"===innerKeyId?(dateObj={},dateValue=value[0],zgssearch.filterDates.hasOwnProperty(dateValue)?(dateObjArr=[zgssearch.filterDates[dateValue]],newDateObjArr=_jQueryGS.extend(!0,{},dateObjArr),service!==GSConstant.CALENDAR&&service!==GSConstant.ASANA||dateObjArr[0].timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK&&dateObjArr[0].timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH?newDateObjArr[0].datetype=dateObjArr[0].datetype:newDateObjArr[0].datetype=zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_ENTIRE,dateObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_RELATIVE_DATE,dateObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,dateObj[zgssearch.QUERY_OBJ_VALUE]=[newDateObjArr[0]]):(fromDate=dateValue.fdate+" 00:00:00",toDate=dateValue.tdate+" 23:59:59",dateObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_DATE_TIME,dateObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_BETWEEN,dateObj[zgssearch.QUERY_OBJ_VALUE]=[fromDate,toDate]),dateObj[zgssearch.QUERY_OBJ_NAME]="date",queryObject.push(dateObj)):((genericObj={})[zgssearch.QUERY_OBJ_NAME]=innerKeyId,genericObj[zgssearch.QUERY_OBJ_VALUE]=value,genericObj[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj))),service===GSConstant.WORKDRIVE&&(filter_type="",type=finalKeyObj.type,"ENTERPRISE"===zgssearch.editionTypeForWD&&"teams"===fkey?filter_type=zgssearch.mapFilterType(finalKeyObj,value,type):"TEAM"===zgssearch.editionTypeForWD&&("accounts"===fkey&&curSearchObj.hasOwnProperty(finalKeyObj.keyName)&&(genericObj={},paramName=finalKeyObj.keyName,genericObj[zgssearch.QUERY_OBJ_NAME]=paramName,genericObj[zgssearch.QUERY_OBJ_VALUE]=curSearchObj[paramName],genericObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_STRING,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj)),"folders"===fkey&&(teamId=curSearchObj.WD_teamId[0],filter_type=zgssearch.mapFilterType(finalKeyObj,value,type,teamId))),""!==filter_type&&((genericObj={})[zgssearch.QUERY_OBJ_NAME]=finalKeyObj.key_type,genericObj[zgssearch.QUERY_OBJ_VALUE]=[filter_type],genericObj[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj))),service===zgssearch.GSConstant.PROJECTS&&"projects"==fkey){var projKey,genericObj,projectIdAdded="project_id"==(genericObj=genericObj||{}).name,curVal=value[0];if(projectIdAdded&&"0"==curVal)for(var obj in queryObject)"project_id"==queryObject[obj].name&&delete queryObject[obj];projectIdAdded||"0"==curVal||(projKey=zgssearch.gsprojects.projects,(genericObj={})[zgssearch.QUERY_OBJ_NAME]="project_id",genericObj[zgssearch.QUERY_OBJ_VALUE]=value,genericObj[zgssearch.QUERY_OBJ_TYPE]=filterObj[projKey].data_type,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj))}}else{var sortObj={},sortInt="sortrelv"===value[0]||"sortCreatedDate"===value[0]?0:1;sortObj[zgssearch.QUERY_OBJ_NAME]="sort_criteria",sortObj[zgssearch.QUERY_OBJ_VALUE]=[sortInt],sortObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_LONG,sortObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(sortObj)}}}}catch(ex){zgssearch.throwClientError("Error in formNewQueryObjectModelQuery. ",ex)}return queryObject},zgssearch.updateDynamicFilterDetails=function(service,currFil,filter){var filLen=Object.keys(currFil).length,defFilId="",curFilId="",dispName="";1<filLen?(defFilId=curFilId="0",dispName=currFil[0]):1==filLen&&(dispName=currFil[defFilId=curFilId=Object.keys(currFil)[0]]),zgssearch.updateFilterInfo(service,filter,"current",curFilId),zgssearch.updateFilterInfo(service,filter,"default",defFilId),zgssearch.updateFilterInfo(service,filter,"dispname",dispName),zgssearch.updateFilterInfo(service,filter,"length",filLen)}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.gsadvancesearch=function(gsadvancesearch){gsadvancesearch=zgssearch.gsadvancesearch||{},zgssearch.curCriteriaList=zgssearch.curCriteriaList||[],gsadvancesearch.maxCriteriaSelectCount=15,gsadvancesearch.maxValueSelectCount=10;var i18nSelect=zgssearch.getI18NMsg("gs.cards.select");return gsadvancesearch.addEventsForAdvancedSearch=function(){_jQueryGS(".zgs19_gsFieldOptionHldr").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){switch(_jQueryGS(this).attr("fType")){case"0":gsadvancesearch.selectField(this);break;case"1":gsadvancesearch.selectOperator(this)}}}),_jQueryGS(".zgs19_gsValueOptionTxt").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){gsadvancesearch.selectSingleValue(this)}}),_jQueryGS(".zgs19_gsFieldValueHolder").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){gsadvancesearch.selectMultipleValueList(this)}}),_jQueryGS(".zgs19_gsAsInputField").off().on({paste:function(textelem){textelem.preventDefault();var text=(text=window.event.clipboardData.getData("text/plain")).replace(/\s|\s+/g," "),textelem=_jQueryGS(textelem.target);text=textelem.val()+text,textelem.val(text),gsadvancesearch.storeInputValues(this)},focus:function(){_jQueryGS(this).removeClass("zgs19_gsBorderBtmFC0D1ECol").addClass("zgs19_gsAsInputFieldFocus")},blur:function(){_jQueryGS(this).removeClass("zgs19_gsAsInputFieldFocus zgs19_gsBorderBtmFC0D1ECol")},input:function(){gsadvancesearch.storeInputValues(this)}}),_jQueryGS(".zgs19_gsNumInputField").off().on({paste:function(textelem){textelem.preventDefault();var text=window.event.clipboardData.getData("text/plain");isNaN(text)?textelem.preventDefault():(20<(text=(textelem=_jQueryGS(textelem.target)).val()+text).length&&(text=text.substring(0,20),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.maxLength_error")})),textelem.val(text),gsadvancesearch.storeInputValues(this))},keypress:function(event){var charCode=event.charCode;(46==charCode&&-1!=_jQueryGS(this).val().indexOf(".")||46!=charCode&&(charCode<48||57<charCode))&&event.preventDefault()},focus:function(){_jQueryGS(this).removeClass("zgs19_gsBorderBtmFC0D1ECol").addClass("zgs19_gsAsInputFieldFocus")},blur:function(){_jQueryGS(this).removeClass("zgs19_gsAsInputFieldFocus zgs19_gsBorderBtmFC0D1ECol")},input:function(){gsadvancesearch.storeInputValues(this)}}),_jQueryGS("#zgs20_gsFieldListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase().trim();_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldOptionTxt").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsFieldOptionHldr");_jQueryGS(parentEle).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})}}),_jQueryGS("#zgs20_gsPickListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase().trim();_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldPickTxt").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsFieldValueHolder");_jQueryGS(parentEle).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})}}),_jQueryGS("#zgs20_gsUserListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){gsadvancesearch.advanceUserSearch(this)}}),_jQueryGS("#zgs20_gsCrtPatnTxt").off().on({focus:function(){_jQueryGS(this).addClass("zgs19_gsAsInputFieldFocus")},blur:function(){_jQueryGS(this).removeClass("zgs19_gsAsInputFieldFocus")}})},gsadvancesearch.enableSaveAndRefreshButtonForCC=function(){zgssearch.gscreatecards.hideResultsAndShowRefresh(),zgssearch.enabledSaveButtonForCreateCard(),zgssearch.hasAdvCriteriaChanged=!0},gsadvancesearch.advancedSearchActions=function(target){switch(_jQueryGS(target).attr("actionType")){case"clearCriteria":gsadvancesearch.clearCriteria();break;case"editCriteria":gsadvancesearch.editCriteriaPattern();break;case"saveCriteria":gsadvancesearch.saveEditedCriteria();break;case"cancelCriteria":gsadvancesearch.cancelEditCriteria();break;case"addCriteria":var index=_jQueryGS(target).closest(".zgs19_gsCriteria").attr("index");gsadvancesearch.addCriteria(!0,index);break;case"removeCriteria":index=_jQueryGS(target).closest(".zgs19_gsCriteria").attr("index");gsadvancesearch.removeCriteria(index);break;case"changeComparator":gsadvancesearch.changeComparator(target);break;case"showFields":gsadvancesearch.showAdvPopUpList(target,0);break;case"showOperators":gsadvancesearch.showAdvPopUpList(target,1);break;case"showValueList":gsadvancesearch.showAdvPopUpList(target,2);break;case"showDatePicker":gsadvancesearch.handleDatepicker(target);break;case"setValueList":gsadvancesearch.storeSelectedValueList();break;case"hideValueList":gsadvancesearch.hideAdvPopUpList()}},gsadvancesearch.showAdvancedSearchPage=function(isEnable){var advSrhElem,adSrhPerantDiv;0===_jQueryGS("#zgs20_gsAdvSearchContainer").length&&(advSrhElem=_jQueryGS("<div>",{id:"zgs20_gsAdvSearchContainer",class:"zgs19_gsAdvSearchContainer"}).append(_jQueryGS("<div>",{class:"zgs19_gsAdSrhTleHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsfl"}).text(zgssearch.getI18NMsg("common.adv.advFilters"))).append(_jQueryGS("<div>",{class:"zgs19_gsclrfltrBtn zgs19_gsHideEleme zgs19_tc2fa6ea",gs:"advSearch",actionType:"clearCriteria"}).text(zgssearch.getI18NMsg("gs.search.filter.clear.msg.title")))),(adSrhPerantDiv=_jQueryGS("<div>",{id:"zgs20_gsCrtContainer",class:"zgs19_gsCrtContainer zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsCrtList",class:"zgs19_gsCrtList"})).append(_jQueryGS("<div>",{id:"zgs20_gsCrtPattern",class:"zgs19_gsCrtPattern zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsCrtPatnLabel"}).text(zgssearch.getI18NMsg("common.adv.crtPattern"))).append(_jQueryGS("<div>",{id:"zgs20_gsCrtPatnTxt",class:"zgs19_gsCrtPatnTxt",contenteditable:"false"})).append(_jQueryGS("<div>",{class:"zgs19_gsCrtPatnActionHdr zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gscriSaveTxt zgs19_tc2fa6ea zgs19_gsfl",gs:"advSearch",actionType:"saveCriteria"}).text(zgssearch.getI18NMsg("gs.settings.application.save"))).append(_jQueryGS("<div>",{class:"zgs19_gscriCancelTxt zgs19_gsfl",gs:"advSearch",actionType:"cancelCriteria"}).text(zgssearch.getI18NMsg("common.cancel")))).append(_jQueryGS("<div>",{id:"zgs20_gsEditPatn",class:"zgs19_gsEditPatnTxt",gs:"advSearch",actionType:"editCriteria"}).text(zgssearch.getI18NMsg("common.edit"))))).append(gsadvancesearch.renderPopUpElement()),advSrhElem.append(adSrhPerantDiv),(adSrhPerantDiv=_jQueryGS("#zgs20_gsAdvSearchHolder")).removeClass("zgs19_gsDisplayNone"),adSrhPerantDiv.append(advSrhElem),gsadvancesearch.addEventsForAdvancedSearch()),gsadvancesearch.cancelEditCriteria(),gsadvancesearch.showCriteriaContainer(isEnable),_jQueryGS("#zgs20_gsAdvSearchContainer").css("display","block"),zgssearch.isAdvanceSearchEnabled=!0,zgssearch.hasAdvCriteriaChanged=!1,zgssearch.curFieldDetails={}},gsadvancesearch.hideAdvancedSearchPage=function(){_jQueryGS("#zgs20_gsAdvSearchContainer").css("display","none"),zgssearch.isAdvanceSearchEnabled=!1},gsadvancesearch.renderPopUpElement=function(){var elem=_jQueryGS("<div>",{id:"zgs20_gsFieldsPopup",class:"zgs19_gsFieldsPopup zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCriteriaInfo"}).append(_jQueryGS("<span>",{class:"zgs18_gsInfoSmallIcon zgs19_gsCriInfoIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsCriInfoTxt"}).text(zgssearch.getI18NMsg("common.adv.pickListMsgInfo"))));return elem.append(zgssearch.addSearchQueryBox(elem,"zgs20_gsFieldListQrybox")),elem.append(_jQueryGS("<div>",{class:"zgs19_gsFieldListCont"})),gsadvancesearch.addAdvancedSearchActions(elem),elem},gsadvancesearch.addAdvancedSearchActions=function(elem){elem.append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom zgs19_gsMgTop10Px"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.done"),value:zgssearch.getI18NMsg("common.done"),gs:"advSearch",actionType:"setValueList"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.cancel"),value:zgssearch.getI18NMsg("common.cancel"),gs:"advSearch",actionType:"hideValueList"})))},gsadvancesearch.enableClearCriteria=function(){_jQueryGS(".zgs19_gsclrfltrBtn").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsCrtPattern").removeClass("zgs19_gsDisplayNone")},gsadvancesearch.disableClearCriteria=function(){_jQueryGS(".zgs19_gsclrfltrBtn").addClass("zgs19_gsHideEleme")},gsadvancesearch.clearCriteria=function(){_jQueryGS("#zgs20_gsCrtList").empty(),gsadvancesearch.hideAdvPopUpList(),zgssearch.curCriteriaList=[],gsadvancesearch.renderDefaultCriteria(),gsadvancesearch.enableSaveAndRefreshButtonForCC(),gsadvancesearch.disableClearCriteria()},gsadvancesearch.showCriteriaContainer=function(fieldsList){var elem=_jQueryGS("#zgs20_gsCrtList");elem.empty(),fieldsList?(fieldsList=zgssearch.getFieldsList(),0<Object.keys(fieldsList).length?gsadvancesearch.handleRenderCriteria(fieldsList):(elem.append(gsadvancesearch.loaderElement()),zgssearch.fetchFieldsList(gsadvancesearch.handleRenderCriteria))):(elem.append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("common.adv.enable_error"))),gsadvancesearch.disableClearCriteria(),_jQueryGS("#zgs20_gsCrtPattern").addClass("zgs19_gsDisplayNone")),_jQueryGS("#zgs20_gsCrtContainer").removeClass("zgs19_gsDisplayNone")},gsadvancesearch.handleRenderCriteria=function(fieldsObj){var criteriaArr,qryPatrn,elem=_jQueryGS("#zgs20_gsCrtList");elem.empty(),0<Object.keys(fieldsObj).length?(zgssearch.curCriteriaList=[],criteriaArr=(qryPatrn=zgssearch.getAdvanceSearchCriteriaList(fieldsObj)).criteriaList||[],(qryPatrn=qryPatrn.pattern)?(gsadvancesearch.renderCriteria(fieldsObj,qryPatrn,criteriaArr),gsadvancesearch.enableClearCriteria(),qryPatrn=gsadvancesearch.addSpaceBetweenParanthesis(qryPatrn),_jQueryGS("#zgs20_gsCrtPatnTxt").text(qryPatrn)):gsadvancesearch.renderDefaultCriteria()):elem.append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("common.adv.filters_error")))},gsadvancesearch.renderDefaultCriteria=function(){gsadvancesearch.addCriteria(!0,-1),gsadvancesearch.disableClearCriteria(),_jQueryGS("#zgs20_gsCrtPatnTxt").text(1)},gsadvancesearch.renderCriteria=function(fieldsObj,qreryPattern,criteriaArr){var criteriaLen=criteriaArr.length;if(0<criteriaLen)for(var comparatorArr=qreryPattern.match(/(and|or)/gi),index=0;index<criteriaLen;index++){var oprTxt=criteriaArr[index],name=oprTxt.name||"",comparator=fieldsObj[name]||"",operator=oprTxt.operator||"",type=oprTxt.type||"0",value=oprTxt.value,dispTxt=comparator.display_name||"",oprTxt=zgssearch.DATATYPEVSOPRMAP[type][operator]||"",comparator=0<index&&comparatorArr&&comparatorArr[index-1]||"";gsadvancesearch.addCriteria(!1,index-1,name,dispTxt,type,operator,oprTxt,value,comparator)}else gsadvancesearch.renderDefaultCriteria()},gsadvancesearch.addCriteria=function(isNewCriteria,crtHolder,fName,fieldTxt,type,opr,crtElement,value,oprElement){var newIndex=(crtHolder=parseInt(crtHolder))+1;newIndex<gsadvancesearch.maxCriteriaSelectCount?(crtHolder=_jQueryGS("#zgs20_gsCrtList"),crtElement=gsadvancesearch.formCriteriaDiv(newIndex,fieldTxt,crtElement),oprElement=0<newIndex?gsadvancesearch.formComparatorDiv(newIndex,oprElement):"",crtHolder.append(oprElement),crtHolder.append(crtElement),crtElement.attr("index",newIndex),gsadvancesearch.renderFieldValueElement(newIndex,fName,type,opr,value),zgssearch.curCriteriaList.splice(newIndex,0,{}),isNewCriteria?(gsadvancesearch.addCriteriaPattern(newIndex+1),gsadvancesearch.enableClearCriteria()):fName&&(zgssearch.curCriteriaList[newIndex]={name:fName,type:type,operator:opr,value:value}),gsadvancesearch.checkAndShowRemoveCrtOption(),gsadvancesearch.addEventsForAdvancedSearch()):zgssearch.showTopbannertip({ty:3,msg:zgssearch.getI18NMsg("common.adv.maxCriteria_error")})},gsadvancesearch.removeCriteria=function(fieldsList){fieldsList=parseInt(fieldsList),zgssearch.curCriteriaList.splice(fieldsList,1),gsadvancesearch.removeCriteriaPattern(fieldsList+1);var pattern=_jQueryGS("#zgs20_gsCrtPatnTxt").text();_jQueryGS("#zgs20_gsCrtList").empty();var criteriaArr=zgssearch.curCriteriaList;zgssearch.curCriteriaList=[];fieldsList=zgssearch.getFieldsList();gsadvancesearch.renderCriteria(fieldsList,pattern,criteriaArr),gsadvancesearch.checkAndShowRemoveCrtOption(),gsadvancesearch.enableSaveAndRefreshButtonForCC()},gsadvancesearch.formCriteriaDiv=function(plusElem,fieldTxt,elem){var hideClass="";fieldTxt||(fieldTxt=i18nSelect,hideClass="zgs19_gsHideEleme"),elem=elem||i18nSelect;elem=_jQueryGS("<div>",{id:"zgs20_gsCriteria"+plusElem,class:"zgs19_gsCriteria"}).append(_jQueryGS("<span>",{class:"zgs19_gsCrtName"}).text(plusElem+1)).append(_jQueryGS("<div>",{id:"zgs20_gsFieldId"+plusElem,class:"zgs19_gsfieldDiv zgs19_gsFieldName zgs19_gsFieldBoderBtm",gs:"advSearch",actionType:"showFields"}).append(_jQueryGS("<span>",{class:" zgs19_gsSelFldName zgs19_gsSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showFields"}).text(fieldTxt)).append(_jQueryGS("<div>",{class:"zgs18_gsDropDownIcon zgs19_gsCrtDropDownIcon zgs19_gsfr",gs:"advSearch",actionType:"showFields"}))).append(_jQueryGS("<div>",{id:"zgs20_gsFieldOpr"+plusElem,class:"zgs19_gsfieldDiv zgs19_gsFieldOpr zgs19_gsFieldBoderBtm "+hideClass,gs:"advSearch",actionType:"showOperators"}).append(_jQueryGS("<span>",{class:"zgs19_gsSelOprTxt zgs19_gsSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showOperators"}).text(elem)).append(_jQueryGS("<div>",{class:"zgs18_gsDropDownIcon zgs19_gsCrtDropDownIcon zgs19_gsfr",gs:"advSearch",actionType:"showOperators"}))).append(_jQueryGS("<div>",{id:"zgs20_gsFieldValue"+plusElem,class:"zgs19_gsfieldDiv zgs19_gsFieldValue"}).append(_jQueryGS("<div>",{id:"zgs20_gsInputFieldHdr",class:"zgs19_gsInputFieldHdr zgs19_gsFieldBoderBtm"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCrtActions"}).append(_jQueryGS("<div>",{class:"zgs18_MinusCircle zgs19_gsRemoveCrt",gs:"advSearch",actionType:"removeCriteria"}))),plusElem=_jQueryGS("<div>",{class:"zgs18_gsPlusCircle zgs19_gsAddCrt zgs19_gsHideEleme"});return elem.find(".zgs19_gsCrtActions").append(plusElem),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsPlusCircle")&&zgssearch.obtainLineIconPaths("zgs18_gsPlusCircle",plusElem[0],!1,"advSearch","addCriteria"),elem},gsadvancesearch.formComparatorDiv=function(index,comp){var compTxt="or"==(comp=comp||"and")?zgssearch.getI18NMsg("common.adv.or"):zgssearch.getI18NMsg("common.adv.and");return _jQueryGS("<div>",{id:"zgs20_gsCrtOper"+index,class:"zgs19_gsCrtOper",cid:index}).append(_jQueryGS("<div>",{class:"zgs19_gsCrtOperTxt zgs19_tc2fa6ea",comparator:comp,gs:"advSearch",actionType:"changeComparator"}).text(compTxt)).append(_jQueryGS("<span>",{class:"zgs18_gsReorderAppMenuIcon zgs19_gsfr",gs:"advSearch",actionType:"changeComparator"}))},gsadvancesearch.checkAndShowRemoveCrtOption=function(){var crtList=_jQueryGS(".zgs19_gsCriteria"),criteriaLen=crtList.length;if(1==criteriaLen)(actionEle=_jQueryGS(crtList[0]).find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(curObj=zgssearch.curCriteriaList[0]||{}).name&&curObj.operator&&curObj.value?actionEle.removeClass("zgs19_gsHideEleme"):actionEle.addClass("zgs19_gsHideEleme"),_jQueryGS(crtList[0]).find(".zgs19_gsRemoveCrt").addClass("zgs19_gsDisplayNone");else if(1<criteriaLen)for(var i=0;i<criteriaLen;i++){var actionEle,curObj,eachCriElem=_jQueryGS(crtList[i]);eachCriElem.find(".zgs19_gsRemoveCrt").removeClass("zgs19_gsDisplayNone"),i==criteriaLen-1?((actionEle=eachCriElem.find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(curObj=zgssearch.curCriteriaList[i]||{}).name&&curObj.operator&&curObj.value?actionEle.removeClass("zgs19_gsHideEleme"):actionEle.addClass("zgs19_gsHideEleme")):eachCriElem.find(".zgs19_gsAddCrt").addClass("zgs19_gsDisplayNone")}},gsadvancesearch.changeComparator=function(compTxtElem){var oprValue=_jQueryGS(compTxtElem).closest(".zgs19_gsCrtOper"),compId=parseInt(oprValue.attr("cid")),compTxtElem=_jQueryGS(oprValue).find(".zgs19_gsCrtOperTxt"),oprValue="and"==(oprValue=compTxtElem.attr("comparator"))?"or":"and";compTxtElem.attr("comparator",oprValue),compTxtElem.text(oprValue.toLocaleUpperCase()),gsadvancesearch.changeComparatorCriteriaPattern(compId+1,oprValue),gsadvancesearch.enableSaveAndRefreshButtonForCC()},gsadvancesearch.showAdvPopUpList=function(holderElem,listType){var index=_jQueryGS(holderElem).closest(".zgs19_gsCriteria").attr("index"),oldIndex=(popUpElem=_jQueryGS("#zgs20_gsFieldsPopup")).attr("index"),oldListType=popUpElem.attr("lType");if(gsadvancesearch.isAdvFieldListOpened&&oldIndex==index&&oldListType==listType)gsadvancesearch.hideAdvPopUpList();else{var popUpElem=_jQueryGS("#zgs20_gsFieldsPopup");_jQueryGS(".zgs19_gsCriteriaInfo").css("display","none"),_jQueryGS("#zgs20_gsSearchQryHeader").css("display","none"),popUpElem.find("#zgs20_gsEditFieldsBottom").css("display","none");var criteriaObj=zgssearch.curCriteriaList[index]||{},fieldName=criteriaObj.name||"",type=criteriaObj.type||"",extraTopVal=0;switch(listType){case 0:extraTopVal=1,gsadvancesearch.handleFieldList(fieldName);break;case 1:var extraTopVal=1,value=criteriaObj.operator||"";gsadvancesearch.handleOperatorList(type,value);break;case 2:value=criteriaObj.value||[];gsadvancesearch.handleValueList(index,fieldName,type,value)}holderElem=_jQueryGS(holderElem).closest(".zgs19_gsfieldDiv");switch(gsadvancesearch.setFieldListPopupPosition(holderElem,popUpElem,extraTopVal),popUpElem.attr("index",index),popUpElem.attr("lType",listType),popUpElem.css("display","block"),gsadvancesearch.setPopUpELementInViewport(popUpElem),gsadvancesearch.isAdvFieldListOpened=!0,type){case"5":zgssearch.focusForWeb("zgs20_gsPickListQrybox");break;case"6":zgssearch.focusForWeb("zgs20_gsUserListQrybox");break;default:zgssearch.focusForWeb("zgs20_gsFieldListQrybox")}}},gsadvancesearch.hideAdvPopUpList=function(){var popupElem=_jQueryGS("#zgs20_gsFieldsPopup");popupElem.find(".zgs19_gsFilterQueryBox").val(""),popupElem.css("display","none"),gsadvancesearch.isAdvFieldListOpened=!1},gsadvancesearch.setFieldListPopupPosition=function(leftPos,popUpElem,topPos){var elemHeight=_jQueryGS(leftPos).height(),ElemPos=_jQueryGS(leftPos).offset(),leftPos=_jQueryGS("#zgs20_gsCrtContainer").offset(),topPos=ElemPos.top+elemHeight+topPos-leftPos.top,leftPos=ElemPos.left-leftPos.left;_jQueryGS(popUpElem).css({top:Math.floor(topPos),left:Math.floor(leftPos)})},gsadvancesearch.setPopUpELementInViewport=function(cardHdrHeight){var scrollTopValue=cardHdrHeight[0].getBoundingClientRect(),totalHeight=scrollTopValue.top+scrollTopValue.height,cardHdrELem=_jQueryGS(".zgs19_gsInrCreateCrdPage"),cardHdrHeight=cardHdrELem.height(),scrollTopValue=cardHdrELem.scrollTop();cardHdrHeight<=totalHeight&&(scrollTopValue=totalHeight-cardHdrHeight+scrollTopValue,_jQueryGS(cardHdrELem).scrollTop(scrollTopValue))},gsadvancesearch.handleFieldList=function(fieldName){var fieldList=zgssearch.getFieldsList();gsadvancesearch.addOptionInFieldList(fieldList,fieldName)},gsadvancesearch.addOptionInFieldList=function(fieldList,curFieldName){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var key,srhhdrEle=Object.keys(fieldList).length;if(0<srhhdrEle){for(key in 6<srhhdrEle&&((srhhdrEle=_jQueryGS("#zgs20_gsSearchQryHeader")).find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsFieldListQrybox"),srhhdrEle.css("display","block")),fieldList){var extraClass=fieldList[key],type=extraClass.type||0,disFieldName=extraClass.display_name,disFieldName=zgssearch.replaceHTMLEntity(disFieldName),extraClass=zgssearch.FILTER_TYPE_ICONS[type];gsadvancesearch.addOptionElementInContainer(listContainer,0,type,curFieldName,key,disFieldName,extraClass)}gsadvancesearch.addEventsForAdvancedSearch()}},gsadvancesearch.handleOperatorList=function(type,operator){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var key,operatorList=zgssearch.DATATYPEVSOPRMAP[type];for(key in operatorList){var disFieldName=operatorList[key];gsadvancesearch.addOptionElementInContainer(listContainer,1,type,operator,key,disFieldName)}gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.addOptionElementInContainer=function(container,finalDiv,type,curValue,key,dispText,extraClass){var seleClass="zgs19_gsModuleUnSeleFilterElem",tickEle="";curValue==key&&(seleClass="zgs19_gsModuleSeleFilterElem",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"}));finalDiv=_jQueryGS("<div>",{class:"zgs19_gsFieldOptionHldr",fType:finalDiv});extraClass&&finalDiv.append(_jQueryGS("<div>",{class:"zgs19_gsFieldTypeIcon "+extraClass})),finalDiv.append(_jQueryGS("<div>",{class:"zgs19_gsFieldOptionTxt zgs19_gsOverflow "+seleClass,type:type,key:key,gstitle:dispText}).text(dispText)),finalDiv.append(tickEle),container.append(finalDiv)},gsadvancesearch.handleValueList=function(index,fieldName,type,value){switch(type){case"2":gsadvancesearch.handleBooleanList(value);break;case"5":gsadvancesearch.handlePickList(fieldName,value);break;case"6":gsadvancesearch.handleUsersList(index,value)}},gsadvancesearch.handleBooleanList=function(curValue){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var key,valueList=zgssearch.BOOLEANPICKLIST;for(key in valueList){var dispValue=valueList[key];gsadvancesearch.addOptionElementInValueListContainer(listContainer,curValue,key,dispValue,!1)}gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.handlePickList=function(pickDataLen,value){_jQueryGS(".zgs19_gsCriteriaInfo").css("display","block");var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var pickList={},srhhdrEle=zgssearch.getFieldsList()[pickDataLen];srhhdrEle.hasOwnProperty("data")&&(pickList=srhhdrEle.data);pickDataLen=Object.keys(pickList).length;if(0<pickDataLen){var key,srhhdrEle=_jQueryGS("#zgs20_gsSearchQryHeader");for(key in 6<pickDataLen?(srhhdrEle.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsPickListQrybox"),srhhdrEle.css("display","block")):srhhdrEle.css("display","none"),pickList){var dispValue=pickList[key]||"";key&&"-None-"!=dispValue&&(dispValue=zgssearch.replaceHTMLEntity(dispValue),gsadvancesearch.addOptionElementInValueListContainer(listContainer,value,key,dispValue,!0))}gsadvancesearch.addEventsForAdvancedSearch()}_jQueryGS("#zgs20_gsFieldsPopup").find("#zgs20_gsEditFieldsBottom").css("display","block")},gsadvancesearch.handleUsersList=function(index,listContainer,query){zgssearch.ContactsSearchType="createCardContacts";var userList=zgssearch.getUserSearchList(query=query||"");0<userList.length?gsadvancesearch.addUserOptionInValueList(userList,listContainer):((listContainer=_jQueryGS(".zgs19_gsFieldListCont")).empty(),listContainer.append(gsadvancesearch.loaderElement()),zgssearch.fetchUsersList({index:index,query:query}))},gsadvancesearch.addOptionElementInValueListContainer=function(container,curValue,key,dispText,isChecked){dispText=zgssearch.replaceHTMLEntity(dispText);var tickEle,selectedCls="zgs19_gsModuleUnSeleFilterElem";isChecked?(isChecked=!1,zgssearch.includes(key,curValue)&&(selectedCls="zgs19_gsModuleSeleFilterElem",isChecked=!0),(tickEle=_jQueryGS("<div>",{class:"zgs19_gsFieldValueHolder zgs19_gsMultiFilterSelection "+selectedCls,value:key,type:1})).append(zgssearch.renderCheckBox(isChecked,key,dispText)),tickEle.append(_jQueryGS("<div>",{class:"zgs19_gsFieldPickTxt zgs19_gsOverflow "+selectedCls,gstitle:dispText}).text(dispText)),container.append(tickEle)):(tickEle="",curValue==key&&(selectedCls="zgs19_gsModuleSeleFilterElem",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"})),container.append(_jQueryGS("<div>",{class:"zgs19_gsValueOptionTxt zgs19_gsOverflow "+selectedCls,value:key,gstitle:dispText}).text(dispText).append(tickEle)))},gsadvancesearch.addUserOptionInValueList=function(userList,value){_jQueryGS(".zgs19_gsCriteriaInfo").css("display","block");var btnElem=_jQueryGS("#zgs20_gsFieldsPopup").find("#zgs20_gsEditFieldsBottom"),listContainer=_jQueryGS(".zgs19_gsFieldListCont");if(listContainer.empty(),0<userList.length){var index,srhhdrEle=_jQueryGS("#zgs20_gsSearchQryHeader");for(index in srhhdrEle.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsUserListQrybox"),srhhdrEle.css("display","block"),userList){var userObj=userList[index],photoURL=userObj.ZUID||userObj.zuid,uId=userObj.uid||photoURL,name=userObj.DNAME||userObj.full_name||"",email=userObj.EMAILID||userObj.email||"";uId&&"-1"!==uId&&(uId+="",zgssearch.renderUserDetailsInContainer(listContainer,2,index,uId,name,email,value,!0),(photoURL=userObj.PURL||(photoURL&&"-1"!=photoURL?zgssearch.getThumbPhotoURL(photoURL):""))?zgssearch.updateUserPhoto("zgs20_gsCustomUserChild"+index,photoURL):zgssearch.loadResNoPhotoImg("zgs20_gsCustomUserChild"+index))}btnElem.css("display","block"),gsadvancesearch.addEventsForAdvancedSearch()}else btnElem.css("display","none")},gsadvancesearch.advanceUserSearch=function(value){var inputValLowerCase=_jQueryGS(value).val().toLowerCase().trim();_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldValueHolder").filter(function(){var name=_jQueryGS(this).find(".zgs19_gsAutoSuggChildName").text().toLowerCase(),email=_jQueryGS(this).find(".zgs19_gsUserChildEmail").text().toLowerCase();_jQueryGS(this).toggle(-1<(name.indexOf(inputValLowerCase)||email.indexOf(inputValLowerCase)))});var index=_jQueryGS("#zgs20_gsFieldsPopup").attr("index"),value=(zgssearch.curCriteriaList[index]||{}).value||"";gsadvancesearch.handleUsersList(index,value,inputValLowerCase)},gsadvancesearch.loaderElement=function(){return zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader")},gsadvancesearch.noResultElement=function(disText){return _jQueryGS("<div>",{class:"zgs19_gsEditFieldNoUser"}).text(disText)},gsadvancesearch.renderFieldValueElement=function(index,fieldName,type,opr,value){var elem=_jQueryGS("#zgs20_gsFieldValue"+index).find("#zgs20_gsInputFieldHdr");if(opr&&elem.removeClass("zgs19_gsFieldBoderBtm"),type&&opr)switch(type){case"0":gsadvancesearch.renderTextField(elem,value);break;case"1":gsadvancesearch.renderNumberField(elem,opr,value);break;case"2":case"5":case"6":gsadvancesearch.renderPickListField(elem,index,fieldName,type,value);break;case"3":case"4":gsadvancesearch.renderDateField(elem,type,opr,value)}gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.renderTextField=function(elem,value){var inputElem;value=value&&value[0],0==_jQueryGS(elem).find(".zgs19_gsAsInputField").length&&(elem.empty(),(inputElem=_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsTxtInputField",type:"text",placeholder:zgssearch.getI18NMsg("gs.search.service_search_enter")})).val(value),inputElem.attr("gstitle",value),elem.append(inputElem)),_jQueryGS(elem).find(".zgs19_gsAsInputField").val(value)},gsadvancesearch.renderNumberField=function(numElem,toValue,toElem){var fromValue=_jQueryGS(numElem).find(".zgs19_gsAsInputField").length;2!=toValue&&3!=toValue||2==fromValue?2!=toValue&&3!=toValue&&1!=fromValue&&(numElem.empty(),numElem.append(_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsNumInputField",type:"text",maxlength:"20",placeholder:zgssearch.getI18NMsg("gs.search.service_search_enter")}))):(numElem.empty(),numElem.append(_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsNumInputField zgs19_gsFromNumField",type:"text",maxlength:"20",placeholder:zgssearch.getI18NMsg("common.from")})).append(_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsNumInputField zgs19_gsToNumField",type:"text",maxlength:"20",placeholder:zgssearch.getI18NMsg("common.to")})));fromValue="";toElem&&(fromValue=toElem[0]),2==toValue||3==toValue?(toValue="",toElem&&(toValue=toElem[1]),toElem=_jQueryGS(numElem).find(".zgs19_gsFromNumField"),20<fromValue.length&&(fromValue=fromValue.substring(0,20),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.maxLength_error")})),toElem.attr("gstitle",fromValue),toElem.val(fromValue),toElem=_jQueryGS(numElem).find(".zgs19_gsToNumField"),20<toValue.length&&(toValue=toValue.substring(0,20),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.maxLength_error")})),toElem.attr("gstitle",toValue),toElem.val(toValue)):((numElem=_jQueryGS(numElem).find(".zgs19_gsNumInputField")).attr("gstitle",fromValue),numElem.val(fromValue))},gsadvancesearch.renderDateField=function(toLabelELem,type,opr,value){0=="#zgs20_gsCustomCalendarHolder".length&&_jQueryGS("#zgs20_globalsearch").append(_jQueryGS("<div>",{id:"zgs20_gsCustomCalendarHolder"}));var HolderDiv=_jQueryGS(toLabelELem).find(".zgs19_gsInputDateHolder");0==HolderDiv.length&&(toLabelELem.empty(),(HolderDiv=_jQueryGS("<div>",{class:"zgs19_gsAsInputField zgs19_gsInputDateHolder",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsSelFieldTxt zgs19_gsDateTxt zgs19_gsDateFromTxt zgs19_gsOverflow zgs19_gsC9C9C9Col",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToLebel zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToText zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})),toLabelELem.append(HolderDiv));var dateFormat=zgssearch.DATEFORMAT[type],toTxtElem=_jQueryGS(HolderDiv[0]).find(".zgs19_gsDateTxt"),fromTxtElem=_jQueryGS(toTxtElem[0]),toLabelELem=_jQueryGS(toTxtElem[1]),toTxtElem=_jQueryGS(toTxtElem[2]);value?(fromTxtElem.removeClass("zgs19_gsC9C9C9Col"),fromTxtElem.addClass("zgs19_gsMxWid100Per"),fromTxtElem.attr("gstitle",value[0]),fromTxtElem.text(value[0]),value[1]&&(fromTxtElem.removeClass("zgs19_gsMxWid100Per"),toLabelELem.removeClass("zgs19_gsDisplayNone"),toLabelELem.text(zgssearch.getI18NMsg("common.to")),toTxtElem.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),toTxtElem.attr("gstitle",value[1]),toTxtElem.text(value[1]))):(fromTxtElem.addClass("zgs19_gsC9C9C9Col zgs19_gsMxWid100Per"),fromTxtElem.text(dateFormat),toLabelELem.addClass("zgs19_gsDisplayNone"),toTxtElem.addClass("zgs19_gsDisplayNone")),zgssearch.loadCustomDatePickers(type,opr,dateFormat,"zgs20_gsCustomCalendarHolder",HolderDiv)},gsadvancesearch.renderPickListField=function(valueLen,index,fieldName,type,dispVal){0==_jQueryGS(valueLen).find(".zgs19_gsAsInputField").length&&(valueLen.empty(),valueLen.append(_jQueryGS("<div>",{class:"zgs19_gsAsInputField zgs19_gsPickValHolder",gs:"advSearch",actionType:"showValueList"}).append(_jQueryGS("<span>",{class:"zgs19_gsSelFieldTxt zgs19_gsSelValueTxt zgs19_gsOverflow zgs19_gsC9C9C9Col",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<span>",{class:"zgs19_gsModuleFilterCount zgs19_gsAdvMultiCount zgs19_gsfl zgs19_gsDisplayNone",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<div>",{class:"zgs18_gsDropDownIcon zgs19_gsCrtDropDownIcon zgs19_gsfr zgs19_gsMgTop8Px",gs:"advSearch",actionType:"showValueList"}))));var txtElem=_jQueryGS(valueLen).find(".zgs19_gsSelValueTxt"),countElem=_jQueryGS(valueLen).find(".zgs19_gsAdvMultiCount"),displayText="";dispVal?(valueLen=dispVal.length,displayText=(dispVal=gsadvancesearch.getDisplayValueAndOverText(fieldName,type,dispVal))[0],txtElem.removeClass("zgs19_gsC9C9C9Col"),1<valueLen&&(countElem.text("+"+--valueLen),countElem.attr("gstitle",dispVal[1]),countElem.removeClass("zgs19_gsDisplayNone"))):(displayText=i18nSelect,txtElem.addClass("zgs19_gsC9C9C9Col"),countElem.addClass("zgs19_gsDisplayNone")),txtElem.attr("gstitle",displayText),txtElem.text(displayText)},gsadvancesearch.getDisplayValueAndOverText=function(fieldName,type,valueArr){var ValArrText="",dispTxt=gsadvancesearch.getPicklistTypeDisplayText(fieldName,type,valueArr[0]),valueArrLen=valueArr.length;if(1<valueArrLen)for(var s=1;s<valueArrLen;)ValArrText+=gsadvancesearch.getPicklistTypeDisplayText(fieldName,type,valueArr[s]),++s<valueArrLen&&(ValArrText+=", ");return[dispTxt,ValArrText]},gsadvancesearch.getPicklistTypeDisplayText=function(pickListData,userList,userObj){var displayName="";return 2==userList&&zgssearch.BOOLEANPICKLIST.hasOwnProperty(userObj)?displayName=zgssearch.BOOLEANPICKLIST[userObj]:5==userList?!(pickListData=zgssearch.getFieldsList()[pickListData]).hasOwnProperty("data")||(pickListData=pickListData.data).hasOwnProperty(userObj)&&(displayName=pickListData[userObj]):6==userList&&(displayName=(userList=zgssearch.gscardUtils.zuidcardsinfo).hasOwnProperty(userObj)?userList[userObj]:(userObj=zgssearch.getUserDetails(userObj)).DNAME||userObj.full_name||""),displayName},gsadvancesearch.updatedSelectedUserInfo=function(service,ownerList,txtElem){var displayText;_jQueryGS.isEmptyObject(txtElem)||(displayText=txtElem.value||"",ownerList&&!_jQueryGS.isEmptyObject(ownerList)&&(displayText=ownerList[displayText].full_name||"",txtElem=txtElem.index||"",(txtElem=_jQueryGS("#zgs20_gsFieldValue"+txtElem).find("#zgs20_gsInputFieldHdr .zgs19_gsSelValueTxt")).attr("gstitle",displayText),txtElem.text(displayText)))},gsadvancesearch.selectField=function(displayName){var textElem=_jQueryGS(displayName).find(".zgs19_gsFieldOptionTxt"),name=textElem.attr("key"),index=_jQueryGS("#zgs20_gsFieldsPopup").attr("index"),displayName=zgssearch.curCriteriaList[index]||{};displayName.name!=name&&(displayName.name=name,displayName.type=textElem.attr("type"),displayName=textElem.text()||"",(textElem=_jQueryGS("#zgs20_gsFieldId"+index)).removeClass("zgs19_gsBorderBtmFC0D1ECol"),(textElem=textElem.find(".zgs19_gsSelFldName")).text(displayName),textElem.attr("gstitle",displayName),gsadvancesearch.resetOperator(index),gsadvancesearch.enableSaveAndRefreshButtonForCC(),gsadvancesearch.enableClearCriteria()),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.resetOperator=function(valHlrElem){var textElem=_jQueryGS("#zgs20_gsFieldOpr"+valHlrElem);textElem.removeClass("zgs19_gsHideEleme zgs19_gsBorderBtmFC0D1ECol");textElem=textElem.find(".zgs19_gsSelOprTxt");textElem.text(i18nSelect),textElem.attr("gstitle",i18nSelect),delete zgssearch.curCriteriaList[valHlrElem].operator;valHlrElem=_jQueryGS("#zgs20_gsFieldValue"+valHlrElem).find("#zgs20_gsInputFieldHdr");valHlrElem.addClass("zgs19_gsFieldBoderBtm"),valHlrElem.empty()},gsadvancesearch.selectOperator=function(type){var textElem=_jQueryGS(type).find(".zgs19_gsFieldOptionTxt"),opr=textElem.attr("key"),index=_jQueryGS("#zgs20_gsFieldsPopup").attr("index"),name=zgssearch.curCriteriaList[index];name.operator!=opr&&(name.operator=opr,delete name.value,type=textElem.text()||"",(textElem=_jQueryGS("#zgs20_gsFieldOpr"+index)).removeClass("zgs19_gsBorderBtmFC0D1ECol"),(textElem=textElem.find(".zgs19_gsSelOprTxt")).text(type),textElem.attr("gstitle",type),type=name.type,name=name.name,gsadvancesearch.renderFieldValueElement(index,name,type,opr),gsadvancesearch.enableSaveAndRefreshButtonForCC()),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.handleDatepicker=function(dType){var attributeObj,opr,value,fromValue,toValue,pElem=_jQueryGS(dType).closest(".zgs19_gsCriteria").attr("index");zgssearch.isCustomDatePickerDisplay&&gsadvancesearch.oldDateIndex==pElem?zgssearch.hideNewCustomDatePicker():(attributeObj={},opr=(value=zgssearch.curCriteriaList[pElem]).operator,toValue=fromValue="",(value=value.value||"")&&(fromValue=value[0]||"",toValue=value[1]||""),2==opr||3==opr?(attributeObj.selectionType="separate",attributeObj.fromValue=fromValue,attributeObj.toValue=toValue):attributeObj.value=fromValue,attributeObj.callback=gsadvancesearch.updateFieldDateobject,gsadvancesearch.oldDateIndex=pElem,attributeObj.index=pElem,dType=(pElem=_jQueryGS(dType).closest(".zgs19_gsInputDateHolder")).attr("dType"),zgssearch.handleNewCustomDatePicker(pElem,dType,attributeObj))},gsadvancesearch.selectMultipleValueList=function(target){var listType=_jQueryGS(target).attr("type")||"",doneBtn=_jQueryGS("#zgs20_gsFieldsPopup").find(".zgs19_gsEditFieldsBottom1");doneBtn.removeClass("zgs19_gsHideEleme");var checkedLen=_jQueryGS(".zgs19_gsFieldListCont").find("input[type=checkbox]:checked").length,isChecked=_jQueryGS(target).find("input").prop("checked"),isChecked=target&&"INPUT"==target.tagName?isChecked:!isChecked,txtElem="";1==listType&&(txtElem=_jQueryGS(target).find(".zgs19_gsFieldPickTxt")),isChecked?checkedLen<gsadvancesearch.maxValueSelectCount?(_jQueryGS(target).find("input").prop("checked",isChecked),_jQueryGS(txtElem).removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleSeleFilterElem"),checkedLen++):zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.pickListErrorMsg")+" "+gsadvancesearch.maxValueSelectCount}):(_jQueryGS(target).find("input").prop("checked",isChecked),txtElem.removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem"),checkedLen--),0==checkedLen&&doneBtn.addClass("zgs19_gsHideEleme")},gsadvancesearch.storeInputValues=function(to){var from=_jQueryGS(to).closest(".zgs19_gsCriteria").attr("index"),criteriaObj=zgssearch.curCriteriaList[from],toEle=criteriaObj.operator,value=[],elem=_jQueryGS("#zgs20_gsFieldValue"+from),addPlusELem=_jQueryGS("#zgs20_gsCriteria"+from).find(".zgs19_gsAddCrt");2==toEle||3==toEle?(from=(to=elem.find(".zgs19_gsFromNumField")).val(),to.attr("gstitle",from),to=(toEle=elem.find(".zgs19_gsToNumField")).val(),toEle.attr("gstitle",to),value=[from,to],from&&to?addPlusELem.removeClass("zgs19_gsHideEleme"):addPlusELem.addClass("zgs19_gsHideEleme")):(value=(elem=elem.find(".zgs19_gsAsInputField")).val(),elem.attr("gstitle",value),value?addPlusELem.removeClass("zgs19_gsHideEleme"):addPlusELem.addClass("zgs19_gsHideEleme"),value=[value]),criteriaObj.value=value,gsadvancesearch.enableSaveAndRefreshButtonForCC()},gsadvancesearch.selectSingleValue=function(textElem){var displayName=_jQueryGS(textElem).attr("value"),index=_jQueryGS("#zgs20_gsFieldsPopup").attr("index"),criteriaObj=zgssearch.curCriteriaList[index];criteriaObj.value!=displayName&&(criteriaObj.value=[displayName],displayName=_jQueryGS(textElem).text()||"",(textElem=_jQueryGS("#zgs20_gsFieldValue"+index)).find(".zgs19_gsBorderBtmFC0D1ECol").removeClass("zgs19_gsBorderBtmFC0D1ECol"),(textElem=textElem.find(".zgs19_gsSelValueTxt")).removeClass("zgs19_gsC9C9C9Col"),textElem.text(displayName),textElem.attr("gstitle",displayName),_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),gsadvancesearch.enableSaveAndRefreshButtonForCC()),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.updateFieldDateobject=function(todate){var index=todate.options.index||"",curObj=_jQueryGS("#zgs20_gsFieldValue"+index).find(".zgs19_gsDateTxt"),fromDateELem=_jQueryGS(curObj[0]),toLabelElem=_jQueryGS(curObj[1]),toDateELem=_jQueryGS(curObj[2]);fromDateELem.removeClass("zgs19_gsC9C9C9Col");var fromdate,curObj=zgssearch.curCriteriaList[index]||{};todate.hasOwnProperty("valueString")&&todate.valueString?(fromdate=""+todate.valueString,fromDateELem.attr("gstitle",fromdate),fromDateELem.text(fromdate),curObj.value=[fromdate],fromDateELem.addClass("zgs19_gsMxWid100Per"),toLabelElem.addClass("zgs19_gsDisplayNone"),toDateELem.addClass("zgs19_gsDisplayNone")):todate.fromValueString&&todate.toValueString&&(fromdate=""+todate.fromValueString,fromDateELem.attr("gstitle",fromdate),fromDateELem.text(fromdate),fromDateELem.removeClass("zgs19_gsMxWid100Per"),toLabelElem.removeClass("zgs19_gsDisplayNone"),toLabelElem.text(zgssearch.getI18NMsg("common.to")),todate=""+todate.toValueString,toDateELem.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),toDateELem.attr("gstitle",todate),toDateELem.text(todate),curObj.value=[fromdate,todate]),_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),zgssearch.isCustomDatePickerDisplay=!1,gsadvancesearch.enableSaveAndRefreshButtonForCC()},gsadvancesearch.storeSelectedValueList=function(){var valueArr=[],checkedBoxes=_jQueryGS(".zgs19_gsFieldListCont").find("input[type=checkbox]:checked"),checkedLen=checkedBoxes.length;if(0<checkedLen){for(var selTxt="",i=0;i<checkedLen;i++){var selElem=_jQueryGS(_jQueryGS(checkedBoxes[i])).closest(".zgs19_gsFieldValueHolder"),listType=selElem.attr("type"),value=selElem.attr("value");value&&valueArr.push(value),0==i&&(selTxt=(2==listType?selElem.find(".zgs19_gsAutoSuggChildName"):selElem).text())}var index=_jQueryGS("#zgs20_gsFieldsPopup").attr("index"),fieldName=_jQueryGS("#zgs20_gsFieldValue"+index);fieldName.find(".zgs19_gsBorderBtmFC0D1ECol").removeClass("zgs19_gsBorderBtmFC0D1ECol");var dispVal=fieldName.find(".zgs19_gsSelValueTxt");dispVal.removeClass("zgs19_gsC9C9C9Col"),dispVal.attr("gstitle",selTxt),dispVal.text(selTxt);var countElem=fieldName.find(".zgs19_gsAdvMultiCount");1<checkedLen?(fieldName=(dispVal=zgssearch.curCriteriaList[index]).name,dispVal=dispVal.type||"0",dispVal=gsadvancesearch.getDisplayValueAndOverText(fieldName,dispVal,valueArr),countElem.text("+"+--checkedLen),countElem.attr("gstitle",dispVal[1]),_jQueryGS(countElem).removeClass("zgs19_gsDisplayNone")):_jQueryGS(countElem).addClass("zgs19_gsDisplayNone"),0<valueArr.length&&(zgssearch.curCriteriaList[index].value=valueArr,_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),gsadvancesearch.enableSaveAndRefreshButtonForCC())}gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.addSpaceBetweenParanthesis=function(str){for(var toRet="",len=(str=str.split(" ").join("")).length,i=0;i<len;i++){var ch=str.charAt(i);"("==ch||"d"==ch||"r"==ch?toRet=toRet+ch+" ":")"==ch||"a"==ch||"o"==ch?toRet=toRet+" "+ch:toRet+=ch}return toRet},gsadvancesearch.stringEndsWith=function(str,suffix){var newSuffix="("!=suffix&&")"!=suffix?suffix:"\\"+suffix;return str.match(newSuffix+"$")==suffix},gsadvancesearch.addCriteriaPattern=function(index){var qryPtrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),qryPatrn=qryPtrnElem.text(),qryPatrn=2==index?"(1and"+index+")":"("+qryPatrn+"and"+index+")";qryPatrn=gsadvancesearch.addSpaceBetweenParanthesis(qryPatrn),qryPtrnElem.text(qryPatrn)},gsadvancesearch.removeCriteriaPattern=function(curIndex){for(var qryPtrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),currentPattern=qryPtrnElem.text(),removedItem=curIndex,patternLength=(currentPattern=(currentPattern=currentPattern.split(" ").join("")).replace(/[0-9]+/g,"$")).length,pattern="",curTokenMatched=!1,onceMatched=!1,prevIndex=0,prevToken="",isNum=!1,curNum=0,temp="",optoRem=0,i=0;i<patternLength;i++){if("$"==(temp=currentPattern.charAt(i))?(curNum++,prevToken=currentPattern.substring(prevIndex,i),isNum=!(prevIndex=0),temp=curNum):(isNum=!1,0==prevIndex&&")"!=temp&&"("!=temp&&(prevIndex=i)),isNum&&curNum+""==removedItem)if(onceMatched=curTokenMatched=!0,gsadvancesearch.stringEndsWith(prevToken,"and")||gsadvancesearch.stringEndsWith(prevToken,"or"))pattern=pattern.substring(0,pattern.length-prevToken.length);else for(var j=1;j<patternLength;j++)if(i+j<patternLength){if(")"==(temp=currentPattern.charAt(i+j))&&this.stringEndsWith(prevToken,"("))if(""==pattern)pattern=prevToken.substring(0,prevToken.length-1);else{if(1!=removedItem){pattern=pattern.substring(0,pattern.length-prevToken.length),optoRem++;break}pattern=pattern.substring(0,pattern.length-1)}if("$"==temp||"("==temp)break;optoRem++}curTokenMatched||(isNum&&onceMatched?isNum&&onceMatched&&(pattern+=curNum-1):0==optoRem?pattern+=temp:optoRem-=1),curTokenMatched=!1}pattern=gsadvancesearch.addSpaceBetweenParanthesis(pattern),qryPtrnElem.text(pattern)},gsadvancesearch.changeComparatorCriteriaPattern=function(prevValue,curVal){var qryPatrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),newQryPatrn=qryPatrnElem.text(),k=newQryPatrn.indexOf(prevValue),prevValue="or"==curVal?"and":"or",k=newQryPatrn.substr(0,k).lastIndexOf(prevValue),newQryPatrn=newQryPatrn.substr(0,k)+curVal+newQryPatrn.substr(k+prevValue.length,newQryPatrn.length),newQryPatrn=gsadvancesearch.addSpaceBetweenParanthesis(newQryPatrn);qryPatrnElem.text(newQryPatrn)},gsadvancesearch.editCriteriaPattern=function(){var textElem=_jQueryGS("#zgs20_gsCrtPatnTxt");textElem.removeClass("zgs19_gsBorderBtmFC0D1ECol"),textElem.attr("contenteditable","true"),textElem.addClass("zgs19_gsAsInputFieldFocus"),zgssearch.setCursorPosInEditableDivElement("zgs20_gsCrtPatnTxt"),gsadvancesearch.oldPattern=textElem.text(),_jQueryGS("#zgs20_gsCrtList").addClass("zgs19_gsHideEleme"),_jQueryGS(".zgs19_gsCrtPatnActionHdr").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsEditPatn").addClass("zgs19_gsDisplayNone")},gsadvancesearch.saveEditedCriteria=function(){var inputElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),newPattern=inputElem.text().trim();if(gsadvancesearch.oldPattern!=newPattern)if(zgssearch.validatePattern(newPattern)){for(var comparatorArr=(newPattern=(newPattern=gsadvancesearch.addSpaceBetweenParanthesis(newPattern)).replace(/\n/g,"")).match(/(and|or)/gi),compElemArr=_jQueryGS("#zgs20_gsCrtList").find(".zgs19_gsCrtOper"),compElemLen=compElemArr.length,i=0;i<compElemLen;i++){var comparator=comparatorArr?comparatorArr[i]:"",compTxt="or"==comparator?zgssearch.getI18NMsg("common.adv.or"):zgssearch.getI18NMsg("common.adv.and"),eachcompELem=_jQueryGS(compElemArr[i]).find(".zgs19_gsCrtOperTxt");eachcompELem.attr("comparator",comparator),eachcompELem.text(compTxt)}inputElem.text(newPattern),gsadvancesearch.oldPattern=newPattern,gsadvancesearch.cancelEditCriteria(),gsadvancesearch.enableSaveAndRefreshButtonForCC()}else inputElem.addClass("zgs19_gsBorderBtmFC0D1ECol");else gsadvancesearch.cancelEditCriteria()},gsadvancesearch.cancelEditCriteria=function(){_jQueryGS("#zgs20_gsCrtList").removeClass("zgs19_gsHideEleme");var textElem=_jQueryGS("#zgs20_gsCrtPatnTxt");textElem.removeClass("zgs19_gsBorderBtmFC0D1ECol"),textElem.attr("contenteditable","false"),textElem.text(gsadvancesearch.oldPattern),_jQueryGS(".zgs19_gsCrtPatnActionHdr").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsEditPatn").removeClass("zgs19_gsDisplayNone")},gsadvancesearch}(void 0)}(zgssearch,window),function(zgssearch,i18nNotBetween){var _jQueryGS=i18nNotBetween._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.fieldDetailsMapping={},zgssearch.advanceSearchEnabledServiceArr=["cliq","crm"],zgssearch.isAdvanceSearchEnabled=!1,zgssearch.isAdvCriteriaCorrect=!0,zgssearch.hasAdvCriteriaChanged=!1;var i18nIs=zgssearch.getI18NMsg("common.adv.is"),i18nIsnt=zgssearch.getI18NMsg("common.adv.isNot"),i18nBetween=zgssearch.getI18NMsg("common.adv.between"),i18nNotBetween=zgssearch.getI18NMsg("common.adv.notBetween");zgssearch.DATEFORMAT={3:"dd MMM yyyy",4:"dd MMM yyyy hh:mm tt"},zgssearch.CALENDAR_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zgssearch.DEFAULTCOND={0:i18nIs,1:i18nIsnt},zgssearch.TXTCOND={0:i18nIs,1:i18nIsnt,8:zgssearch.getI18NMsg("common.adv.startWith")},zgssearch.NUMCOND={0:"=",1:"!=",9:"<",10:"<=",11:">",12:">=",2:i18nBetween,3:i18nNotBetween},zgssearch.DATETIMECOND={0:i18nIs,1:i18nIsnt,9:zgssearch.getI18NMsg("common.adv.isBefore"),11:zgssearch.getI18NMsg("common.adv.isAfter"),2:i18nBetween,3:i18nNotBetween},zgssearch.BOOLEANPICKLIST={true:zgssearch.getI18NMsg("common.adv.true"),false:zgssearch.getI18NMsg("common.adv.false")},zgssearch.DATATYPEVSOPRMAP={0:zgssearch.TXTCOND,1:zgssearch.NUMCOND,2:zgssearch.DEFAULTCOND,3:zgssearch.DATETIMECOND,4:zgssearch.DATETIMECOND,5:zgssearch.DEFAULTCOND,6:zgssearch.DEFAULTCOND},zgssearch.DATATYPEVSSEARCHTYPE={0:zgssearch.QUERY_OBJ_DT_STRING,1:zgssearch.QUERY_OBJ_DT_DECIMAL,2:zgssearch.QUERY_OBJ_DT_STRING,3:zgssearch.QUERY_OBJ_DT_DATE_TIME,4:zgssearch.QUERY_OBJ_DT_DATE_TIME,5:zgssearch.QUERY_OBJ_DT_STRING,6:zgssearch.QUERY_OBJ_DT_MENTION},zgssearch.FILTER_TYPE_ICONS={0:"zgs18_gsTextFieldIcon",1:"zgs18_gsNumberFieldIcon",2:"zgs18_gsPickListFieldIcon",3:"zgs18_gsDateFieldIcon",4:"zgs18_gsDateFieldIcon",5:"zgs18_gsPickListFieldIcon",6:"zgs18_gsUserFieldIcon"},zgssearch.renderUserDetailsInContainer=function(holdElem,type,id,key,name,email,checkHldr,isChecked){var userInnerElem=_jQueryGS("<div>",{id:"zgs20_gsUserResultRow",class:"zgs19_gsUserResultRow"});isChecked&&(isChecked=!!zgssearch.includes(key,checkHldr),(checkHldr=_jQueryGS("<div>",{class:"zgs19_gsCheckBoxHolder"})).append(zgssearch.renderCheckBox(isChecked,key,"")),userInnerElem.append(checkHldr)),userInnerElem.append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChildName"+id,class:"zgs19_gsAutoSuggChildName",gstitle:name}).text(name))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsUserChildEmail"+id,class:"zgs19_gsUserChildEmail",gstitle:email}).text(email)))),holdElem.append(_jQueryGS("<div>",{id:"zgs20_gsCustomUserChild"+id,class:"zgs19_gsFieldValueHolder zgs19_gsQuerySugguser zgs19_gsMultiFilterSelection zgs19_gsCurPointer",type:type,value:key}).append(userInnerElem))},zgssearch.loadCustomDatePickers=function(customType,operator,dateFormat,calElemId,holderElem){3==customType?2==operator||3==operator?(_jQueryGS(holderElem).attr("dType","customdaterange"),0===_jQueryGS("#zgs20_gsCustomDateRangePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateRangePicker.bind(null,calElemId,dateFormat))):(_jQueryGS(holderElem).attr("dType","customdate"),0===_jQueryGS("#zgs20_gsCustomDatePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDatePicker.bind(null,calElemId,dateFormat))):4==customType&&(2==operator||3==operator?(_jQueryGS(holderElem).attr("dType","customdatetimerange"),0===_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimeRangePicker.bind(null,calElemId,dateFormat))):(_jQueryGS(holderElem).attr("dType","customdatetime"),0===_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimePicker.bind(null,calElemId,dateFormat))))},zgssearch.checkAdvanceSearchEnabledOrNot=function(){var isEnable=!1;zgssearch.curFieldDetails={};var selFilterObj=zgssearch.selectedSearchObj,service=selFilterObj.service;if(zgssearch.isArrayContain(service,zgssearch.advSearchEnabledServiceArr)&&zgssearch.isArrayContain(service,zgssearch.advanceSearchEnabledServiceArr)){var module,accounts=selFilterObj.accounts[0]||"";if(accounts)switch(service){case GSConstant.CLIQ:(module=selFilterObj.modules||"")&&1===module.length&&"0"!=module[0]&&(isEnable=!0);break;case GSConstant.CRM:case GSConstant.BIGIN:(module=selFilterObj.modules||"")&&1===module.length&&"all"!=module[0]&&(module=module[0],zgssearch[service+"OrgInfo"].getModuleData(module,accounts).isDefault&&(isEnable=!0))}zgssearch.gsadvancesearch.showAdvancedSearchPage(isEnable)}else zgssearch.gsadvancesearch.hideAdvancedSearchPage()},zgssearch.getFieldsList=function(){var service,accountId,fieldKey,fieldsObj=zgssearch.curFieldDetails||{};return 0===Object.keys(fieldsObj).length&&(service=(fieldKey=zgssearch.selectedSearchObj).service||"",accountId=fieldKey.hasOwnProperty("accounts")&&!(1<fieldKey.accounts.length)&&fieldKey.accounts[0]||"",fieldKey=fieldKey.hasOwnProperty("modules")&&!(1<fieldKey.modules.length)&&fieldKey.modules[0]||"",fieldKey=zgssearch.formatFieldObjKey(service,accountId,fieldKey),zgssearch.fieldDetailsMapping.hasOwnProperty(fieldKey)&&(fieldsObj=zgssearch.fieldDetailsMapping[fieldKey]),zgssearch.curFieldDetails=fieldsObj),fieldsObj},zgssearch.formatFieldObjKey=function(service,accountId,module){switch(service){case GSConstant.CRM:case GSConstant.BIGIN:if(accountId&&module)return service+"_"+accountId+"_"+module;break;case GSConstant.CLIQ:if(module)return service+"_"+module;break;default:return""}return""},zgssearch.fetchFieldsList=function(callback){var module=zgssearch.selectedSearchObj,service=module.service||"",accountId=module.hasOwnProperty("accounts")&&!(1<module.accounts.length)&&module.accounts[0]||"",module=module.hasOwnProperty("modules")&&!(1<module.modules.length)&&module.modules[0]||"";zgssearch.fetchFieldDetailsForService(service,accountId,module,callback)},zgssearch.fetchFieldDetailsForService=function(service,accountId,module,callback){var params="action=fetchFields&service="+service+"&accountId="+accountId;module&&(params+="&module="+module),zgssearch.uri(zgssearch.GET,"/zgssearch/gsadvancesearch",params,{callback:callback},function(fieldKey,status,callback){var fieldsList={},callback=(callback.args||{}).callback,fieldKey=zgssearch.jsonParse(fieldKey);if(fieldKey.hasOwnProperty("fields")){for(var fieldsArr=fieldKey.fields,fieldsLen=(fieldsArr=zgssearch.sortFieldDetails(fieldsArr)).length,i=0;i<fieldsLen;i++){var eachFields=fieldsArr[i];fieldsList[eachFields.api_name]=eachFields}fieldKey=zgssearch.formatFieldObjKey(service,accountId,module);zgssearch.fieldDetailsMapping[fieldKey]=fieldsList,callback&&callback(fieldsList)}else callback&&callback(fieldsList)})},zgssearch.sortFieldDetails=function(fieldsList){fieldsList.sort(function(nameA,nameB){nameA=nameA.display_name.toLowerCase(),nameB=nameB.display_name.toLowerCase();return nameA<nameB?-1:nameB<nameA?1:0});for(var plFieldsArr=[],userFieldsArr=[],otherFieldsArr=[],fieldLen=fieldsList.length,i=0;i<fieldLen;i++){var fieldObj=fieldsList[i],type=fieldObj.type||"0";(2==type||5==type?plFieldsArr:6==type?userFieldsArr:otherFieldsArr).push(fieldObj)}return(plFieldsArr=plFieldsArr.concat(userFieldsArr)).concat(otherFieldsArr)},zgssearch.getUserDetails=function(id){var curSearchObj=zgssearch.selectedSearchObj,service=curSearchObj.service||"",accountId=curSearchObj.hasOwnProperty("accounts")&&!(1<curSearchObj.accounts.length)&&curSearchObj.accounts[0]||"";switch(service){case GSConstant.CRM:case GSConstant.BIGIN:var uid=zgssearch[service+"OrgInfo"].getUserData(accountId);return uid.hasOwnProperty(id)?uid[id]:{};default:var usersObj=zgssearch.getUsersContactList(),uid=zgssearch.ProximityContacts.zuidVsEmailId[id];if(usersObj.hasOwnProperty(uid))return usersObj[uid]}return{}},zgssearch.getUserSearchList=function(query){query=query||"";var accountId=zgssearch.selectedSearchObj,service=accountId.service||"",accountId=accountId.hasOwnProperty("accounts")&&!(1<accountId.accounts.length)&&accountId.accounts[0]||"";return zgssearch.getUserDetailsForService(service,accountId,query)},zgssearch.fetchUsersList=function(fieldValue){var matcUserList=zgssearch.selectedSearchObj,service=matcUserList.service||"",matcUserList=matcUserList.hasOwnProperty("accounts")&&!(1<matcUserList.accounts.length)&&matcUserList.accounts[0]||"";if(service===GSConstant.CRM||service===GSConstant.BIGIN)return fieldValue.callback=zgssearch.CRMSuiteOwnerSearch,zgssearch[service+"OrgInfo"].getUsersInfo(matcUserList,fieldValue);matcUserList=fieldValue.query||"",matcUserList=zgssearch.contactssearch(matcUserList),fieldValue=fieldValue.index||"",fieldValue=(zgssearch.curCriteriaList[fieldValue]||{}).value||"";zgssearch.gsadvancesearch.addUserOptionInValueList(matcUserList,fieldValue)},zgssearch.getAdvanceSearchCriteriaList=function(fieldList){var criteriaObj={},queryPattern=zgssearch[zgssearch.cardTypeClass[zgssearch.gscreatecards.cardType]].cardIdsVsObject[zgssearch.gscreatecards.cardId];if(queryPattern){for(var cardConfig=queryPattern.cardconfig||[],moduleArr=[],cardConnfigLen=cardConfig.length,i=0;i<cardConnfigLen;i++)if("module"===(eachObj=cardConfig[i]).name){moduleArr=eachObj.value||"";break}if(moduleArr){var modules=zgssearch.selectedSearchObj.modules||"";if(modules&&modules[0]!==moduleArr[0])return criteriaObj}var advCardConfig=queryPattern.advcardconfig||[],queryPattern=queryPattern.querypattern||"",advCriLen=advCardConfig.length;if(0<advCriLen){for(var criteriaArr=[],i=0;i<advCriLen;i++){var eachObj,type,eachCriObj={},value=(eachObj=advCardConfig[i]).name;fieldList.hasOwnProperty(value)&&(type=""+(type=fieldList[value].type||"0"),eachCriObj.name=value,eachCriObj.operator=""+eachObj.operator,eachCriObj.type=type,value=eachObj.value,"3"!=type&&"4"!=type||(value=zgssearch.convertClientDateFormat(value)),eachCriObj.value=value,criteriaArr.push(eachCriObj))}criteriaObj.criteriaList=criteriaArr,criteriaObj.pattern=queryPattern}}return criteriaObj},zgssearch.getUserDetailsForService=function(service,accountId,query){switch(service){case GSConstant.CRM:case GSConstant.BIGIN:var crmSuiteObj=zgssearch[service+"OrgInfo"],ownerList=crmSuiteObj.getUserData(accountId);return crmSuiteObj.ownerssearch(ownerList,query);default:return zgssearch.contactssearch(query)}},zgssearch.CRMSuiteOwnerSearch=function(service,ownerList,query){var fieldValue,matchOwnerList;_jQueryGS.isEmptyObject(query)||(matchOwnerList=query.index||"",fieldValue=(zgssearch.curCriteriaList[matchOwnerList]||{}).value||"",matchOwnerList=[],ownerList&&!_jQueryGS.isEmptyObject(ownerList)&&(query=query.query||"",matchOwnerList=zgssearch[service+"OrgInfo"].ownerssearch(ownerList,query)),zgssearch.gsadvancesearch.addUserOptionInValueList(matchOwnerList,fieldValue))},zgssearch.contactssearch=function(query){var finalUsersArr=[],matches=zgssearch.gsautocomplete.findMatchedData("users","@"+query),matchLen=matches.length;if(0<matchLen)for(var usersObj=zgssearch.getUsersContactList(),i=0;i<matchLen;i++){var uid=matches[i][0];usersObj.hasOwnProperty(uid)&&finalUsersArr.push(usersObj[uid])}return finalUsersArr},zgssearch.getUsersContactList=function(){var luserObj=zgssearch.gsautocomplete.get("users"),proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),cachedContacts=zgssearch.gsusercontacts.getCurrCacheQryContact();return _jQueryGS.extend({},queriedContacts,cachedContacts,proxContacts,luserObj)},zgssearch.getAdvanceCardConfig=function(){var CriteriaList,criteriaArr=[];return!zgssearch.isAdvanceSearchEnabled||0<(CriteriaList=zgssearch.checkAndFormCriteriaList(zgssearch.curCriteriaList)).length&&(criteriaArr=zgssearch.formNewQueryObjectModelForAdvanceSearch(CriteriaList)),criteriaArr},zgssearch.getAdvanceQueryPattern=function(){var pattern=_jQueryGS(".zgs19_gsCrtPatnTxt").text();return(pattern=(pattern=pattern.toLowerCase()).split(" ").join(""))||1!==zgssearch.curCriteriaList.length||(pattern="1"),pattern=zgssearch.gsadvancesearch.addSpaceBetweenParanthesis(pattern)},zgssearch.checkAndFormCriteriaList=function(criteriaList){var finalCriteriaList=[];zgssearch.isAdvCriteriaCorrect=!0;for(var criElemLen=_jQueryGS(".zgs19_gsCriteria").length,i=0;i<criElemLen;i++){var fieldValue=[];if(criteriaList.hasOwnProperty(i)&&0!==Object.keys(criteriaList[i]).length){var eachCriObj=criteriaList[i],fieldName=eachCriObj.name,fieldOpr=eachCriObj.operator,fieldType=eachCriObj.type;switch(fieldType){case"0":(value=(valueElem=_jQueryGS("#zgs20_gsFieldValue"+i)).find(".zgs19_gsAsInputField").val())&&(fieldValue=[value]);break;case"1":var from,to,value,valueElem=_jQueryGS("#zgs20_gsFieldValue"+i);2==fieldOpr||3==fieldOpr?(from=valueElem.find(".zgs19_gsFromNumField").val(),to=valueElem.find(".zgs19_gsToNumField").val(),from&&to&&(fieldValue=[from,to])):(value=valueElem.find(".zgs19_gsAsInputField").val())&&(fieldValue=[value]);break;case"3":case"4":if((value=zgssearch.convertServerDateFormat(fieldType,eachCriObj.value))&&0<value.length)switch(fieldOpr){case"0":case"1":var fromdate=value[0],fieldValue=3==fieldType?[fromdate+=" 00:00:00"]:[fromdate];break;case"2":case"3":var fromdate=value[0],todate=value[1];fieldValue=3==fieldType?[fromdate+=" 00:00:00",todate+=" 23:59:59"]:[fromdate,todate];break;case"9":fromdate=value[0];fieldValue=3==fieldType?[fromdate+=" 00:00:00"]:[fromdate];break;case"11":fromdate=value[0];fieldValue=3==fieldType?[fromdate+=" 23:59:59"]:[fromdate]}break;case"2":case"5":case"6":(value=eachCriObj.value)&&(fieldValue=value)}if(0===fieldValue.length)return zgssearch.criteriaErrorMsg(i),[];var criteriaObj={};criteriaObj.name=fieldName,criteriaObj.type=zgssearch.DATATYPEVSSEARCHTYPE[fieldType],criteriaObj.operator=parseInt(fieldOpr),criteriaObj.value=fieldValue,finalCriteriaList.push(criteriaObj)}else{if(i!==criElemLen-1)return zgssearch.criteriaErrorMsg(i),[];zgssearch.gsadvancesearch.removeCriteria(i)}}return finalCriteriaList},zgssearch.convertClientDateFormat=function(value){if(value){for(var finalValue=[],i=0;i<value.length;i++){var finalTime=value[i].split(" "),hours=finalTime[0].split("-"),finalDate=hours[0]+" "+zgssearch.CALENDAR_MONTH[--hours[1]]+" "+hours[2],timeString=finalTime[1],hours=timeString.substr(0,2),finalTime=(hours=parseInt(hours))<12||24===hours?" AM":" PM",finalTime=(hours=9<(hours=0==(hours=13<hours?hours-12:hours)?12:hours)?" "+hours:" 0"+hours)+timeString.substr(2,3)+finalTime;finalValue[i]=finalDate+finalTime}return finalValue}},zgssearch.convertServerDateFormat=function(type,value){if(value){for(var finalValue=[],i=0;i<value.length;i++){var modifier,hours,minutes=value[i].split(" "),finalString=minutes[0]+"-"+(zgssearch.CALENDAR_MONTH.indexOf(minutes[1])+1)+"-"+minutes[2];"4"==type&&(hours=minutes[3],modifier=minutes[4],hours=(minutes=hours.split(":"))[0],minutes=minutes[1],"12"===hours&&(hours="00"),finalString+=" "+(hours="PM"===modifier?parseInt(hours,10)+12:hours)+":"+minutes+":00"),finalValue[i]=finalString}return finalValue}},zgssearch.criteriaErrorMsg=function(msg){var childElem=zgssearch.curCriteriaList[msg];(childElem.name?childElem.operator?(childElem=_jQueryGS("#zgs20_gsFieldValue"+msg).find(".zgs19_gsAsInputField"),_jQueryGS(childElem[0]).val()?_jQueryGS(childElem[1]):_jQueryGS(childElem[0])):_jQueryGS("#zgs20_gsFieldOpr"+msg):_jQueryGS("#zgs20_gsFieldId"+msg)).addClass("zgs19_gsBorderBtmFC0D1ECol"),zgssearch.isAdvCriteriaCorrect=!1;msg=zgssearch.getI18NMsg("common.adv.fieldError")+' "'+(msg+1)+'"';zgssearch.showbannertip({ty:3,msg:msg})},zgssearch.validatePattern=function(n){if(!(n=n.split(" ").join("")))return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;var cstr=n.match(/\(/gi),obl=cstr?cstr.length:0,cstr=n.match(/\)/gi);if(obl!=(cstr?cstr.length:0))return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;cstr=n.replace(/(and|or)/g,"#").split(" ").join("").replace(/\n/g,"");if(-1!=cstr.indexOf("(#")||-1!=cstr.indexOf("#)"))return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;if(-1!=cstr.indexOf("()"))return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;var noo=n.match(/[0-9]+/g);if(noo.length!==zgssearch.curCriteriaList.length)return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;if(null!=noo)for(var i=0;i<noo.length;i++)if(noo[i]!=i+1)return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;cstr=cstr.replace(/[()]/g,"#").replace(/[0-9]+/g,"#").replace(/#/g,"");if(cstr&&1<=cstr.length)return zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1;n=n.match(/(and|or)/gi);return!n||noo.length-1===n.length||(zgssearch.showbannertip({ty:3,msg:"Please check the criteria pattern"}),!1)},zgssearch.formNewQueryObjectModelForAdvanceSearch=function(CriteriaList){for(var finalQueryArr=[],criteriaLen=CriteriaList.length,i=0;i<criteriaLen;i++){var queryObj=CriteriaList[i],qObj={};qObj[zgssearch.QUERY_OBJ_NAME]=queryObj.name,qObj[zgssearch.QUERY_OBJ_VALUE]=queryObj.value,qObj[zgssearch.QUERY_OBJ_TYPE]=queryObj.type,qObj[zgssearch.QUERY_OBJ_OPERATOR]=queryObj.operator,finalQueryArr.push(qObj)}return finalQueryArr}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.defaultMaxCount=3;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.resToBeShown=zgssearch.resToBeShown||0,zgssearch.curSelectedEle=zgssearch.curSelectedEle||"",zgssearch.resultToBeShown=zgssearch.resultToBeShown||{},zgssearch.firstResultCallOutShown=!1,zgssearch.temp_img_info={},zgssearch.crm_rendered_modules=zgssearch.crm_rendered_modules||{},zgssearch.projects_rendered_modules=zgssearch.projects_rendered_modules||{},zgssearch.docsShared||(zgssearch.docsShared=[{title:zgssearch.getI18NMsg("common.shared_with_me",!0),icon:"zgs18_gsSharedIcon"},{title:zgssearch.getI18NMsg("gs.search.result.sharedwithgroup"),icon:"zgs18_gsGroupSharedIcon"}]),zgssearch.createServiceTemplate=function(service_name,accId,portalName){var accountsBand="",template="",moreOption="",maccName=(portalName=portalName||{}).account_name||"";service_name!==zgssearch.GSConstant.SALESFORCE&&service_name!==zgssearch.GSConstant.ASANA&&service_name!=zgssearch.GSConstant.BIGIN&&service_name!=zgssearch.GSConstant.CRM||(maccName=zgssearch.getFilterObj(service_name).accounts.data[accId]);var currService,account_type,moduleTip,actualResEle,sub_module_type,templateId,tempCurrService,moduleHeaderBand,fallbackmailheaderouterId,fallbackmailheaderId,fallbackmoduleTip,fallbackmoduleBandTip,fallbackmailHeader,tempResultEle,tempSubResultId,templateEle,scrollgsAttr,resPaneEleId,bElem,mlist=zgssearch.getWidgetServiceList(service_name),viewall=zgssearch.getI18NMsg("gs.search.sevice_view_all"),viewMoreTip=zgssearch.getI18NMsg("gs.search.link.viewmore"),serviceBandLabel="",serviceBandTip="",accLabel="",accTip="",moreBandLabel="",moreBandTip="",sub_service_name=zgssearch.mappedServiceList[service_name],serviceicon=sub_service_name.serviceicon,isMultiAccount=zgssearch.isServiceHasWidget(service_name),snameDiv="",topband_style="",searchType=zgssearch.getSearchType();zgssearch.mappedServiceList.hasOwnProperty(service_name)&&(currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,account_type=zgssearch.getAccountType(currService,accId),templateId="zgs20_gs"+currService+"Template",moduleTip=zgssearch.mappedServiceList[service_name].api_url_service_name||"",actualResEle="",GSConstant.ALL===searchType?(serviceBandTip=moreBandTip=viewMoreTip+" "+(sub_service_name=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.mappedServiceList[currService]:sub_service_name).displayName,isMultiAccount?(accLabel=viewMoreTip+" "+mlist.label.toLowerCase(),accTip=topband_style=maccName||zgssearch.getFilterInfo(currService,mlist.key,"dispname")):mlist.key&&service_name!=zgssearch.GSConstant.CAMPAIGNS&&(serviceBandTip=moreBandTip=portalName=zgssearch.getCurPortalName(service_name),serviceBandLabel=moreBandLabel=viewMoreTip+" "+mlist.label.toLowerCase(),snameDiv=_jQueryGS("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:portalName}).text("("+portalName+")")),accountsBand=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+serviceicon})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:service_name,gsa:"mc-sb-"+service_name,action_type:"service",gs:"serviceBand",acc_id:accId,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(sub_service_name.displayName)).append(snameDiv),isMultiAccount&&accountsBand.append(_jQueryGS("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - ")).append(_jQueryGS("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per",service:service_name,gs:"serviceWidgetBand",acc_id:accId,gslabel:accLabel,gstitle:accTip}).text(topband_style)),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type?_jQueryGS("#zgs20_gs"+currService+"Results")[0]||(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),isMultiAccount=viewMoreTip+" "+zgssearch.mappedServiceList[service_name].displayName,moduleHeaderBand="",zgssearch.isStreamsEnabled&&(fallbackmailheaderouterId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_Results_Outer",fallbackmailheaderId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",_jQueryGS("#"+fallbackmailheaderouterId+" > #"+fallbackmailheaderId)[0]||(fallbackmoduleTip=zgssearch.mappedServiceList[GSConstant.MAILS].api_url_service_name||"",fallbackmoduleBandTip=viewMoreTip+" "+zgssearch.mappedServiceList[GSConstant.MAILS].displayName,fallbackmailHeader=_jQueryGS("<div>",{id:"zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:GSConstant.MAILS,acc_id:accId,gsa:"mc-sb-"+GSConstant.MAILS,gs:"serviceWidgetBand",module_name:GSConstant.MAILS,gstitle:fallbackmoduleBandTip}).text(fallbackmoduleTip)),_jQueryGS("#"+fallbackmailheaderouterId).prepend(fallbackmailHeader)),moduleHeaderBand=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"serviceWidgetBand",module_name:service_name,gstitle:isMultiAccount}).text(moduleTip))),moreOption=_jQueryGS("#"+(tempCurrService="zgs20_gs"+currService+"More"))[0]?_jQueryGS("#"+tempCurrService):_jQueryGS("<div>",{id:tempCurrService,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:currService,gsa:"mc-va-"+currService,action_type:"service",gs:"moreBand",acc_id:accId,gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),templateEle="",(templateEle=_jQueryGS("#"+templateId)[0]?_jQueryGS("#"+templateId):(sub_module_type=(isMultiAccount=1<Object.keys(zgssearch.gFilterData[currService].accounts.alldata).length)?_jQueryGS("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - "):"",snameDiv=isMultiAccount?_jQueryGS("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per",service:service_name,gs:"serviceWidgetBand",acc_id:accId,gslabel:accLabel,gstitle:accTip}).text(topband_style):_jQueryGS("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:maccName}).text("("+maccName+")"),accountsBand=_jQueryGS("<div>",{class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+serviceicon})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:currService,gsa:"mc-sb-"+currService,action_type:"service",gs:"serviceBand",acc_id:accId,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(sub_service_name.displayName)).append(sub_module_type).append(snameDiv),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsServiceTemplate",service:currService,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand))).append(moreOption),template=templateEle,actualResEle=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_Results_Outer"}).append(moduleHeaderBand).append(tempResultEle)):(moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,gsa:"mc-va-"+service_name,action_type:"service",gs:"moreBand",acc_id:accId,gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption))):(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(service_name)||zgssearch.isServiceHasSubMultiPortals(service_name))?(_jQueryGS("#zgs20_MultiSearchPageHolder").length<=0&&(scrollgsAttr=zgssearch.subMultiPageEnabled?"":"multiPageHolder",_jQueryGS("#zgs20_gsMultiSearchResultPage").append(_jQueryGS("<div>",{id:"zgs20_MultiSearchPageHolder",class:"zgs19_gsModuleScrollPage zgs19_gsOverflowAuto zgs19_gsServiceSpecificPage",service:currService,acc_id:accId,gs:scrollgsAttr}))),serviceBandTip=moreBandTip=maccName,serviceBandLabel=moreBandLabel=viewMoreTip+" "+(mlist=zgssearch.getWidgetServiceList(currService)).label.toLowerCase(),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(mlist=zgssearch.getWidgetServiceList(service_name),moreBandTip=serviceBandTip=viewMoreTip+" "+sub_service_name.displayName,moreBandLabel=serviceBandLabel=""),topband_style="",service_name===zgssearch.GSConstant.SALESFORCE&&(topband_style="zgs19_gsBG"),maccName&&(accountsBand=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:service_name}).text(mlist.label+": ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"serviceBand",gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(maccName))),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type?(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),tempCurrService="zgs20_gs"+accId+"More",sub_module_type=zgssearch.dpa_mod,sub_service_name=currService,zgssearch.subMultiPageEnabled&&(tempCurrService="zgs20_gs_"+(sub_service_name=sub_module_type=service_name)+"_"+accId+"_More"),moreOption=!_jQueryGS("#"+tempCurrService)[0]||zgssearch.subMultiPageEnabled?_jQueryGS("<div>",{id:tempCurrService,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:sub_service_name,acc_id:accId,gsa:"mc-va-"+sub_service_name,action_type:"service",gs:"moreBand",module_name:sub_module_type,gslabel:viewMoreTip+" "+mlist.label.toLowerCase(),gstitle:maccName}).text(viewall):_jQueryGS("#"+tempCurrService),templateId=zgssearch.subMultiPageEnabled?"zgs20_gs_"+service_name+"_"+accId+"_Template":"zgs20_gs"+accId+"Template",templateEle="",templateEle=_jQueryGS("#"+templateId)[0]?_jQueryGS("#"+templateId):(tempCurrService=currService,accountsBand=zgssearch.subMultiPageEnabled?(tempCurrService=service_name,""):_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:service_name}).text(mlist.label+": ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:currService,acc_id:accId,gsa:"mc-sb-"+currService,gs:"serviceBand",module_name:sub_module_type,gslabel:viewMoreTip+" "+mlist.label.toLowerCase(),gstitle:maccName}).text(maccName)),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsServiceTemplate",service:tempCurrService,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand)),moduleHeaderBand="",zgssearch.isStreamsEnabled&&(fallbackmailheaderouterId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_Results_Outer",fallbackmailheaderId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",_jQueryGS("#"+fallbackmailheaderouterId+" > #"+fallbackmailheaderId)[0]||(fallbackmoduleTip=zgssearch.mappedServiceList[GSConstant.MAILS].api_url_service_name||"",fallbackmoduleBandTip=viewMoreTip+" "+zgssearch.mappedServiceList[GSConstant.MAILS].displayName,fallbackmailHeader=_jQueryGS("<div>",{id:"zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:GSConstant.MAILS,acc_id:accId,gsa:"mc-sb-"+GSConstant.MAILS,gs:"serviceWidgetBand",module_name:GSConstant.MAILS,gstitle:fallbackmoduleBandTip}).text(fallbackmoduleTip)),_jQueryGS("#"+fallbackmailheaderouterId).prepend(fallbackmailHeader)),moduleHeaderBand=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"serviceBand",module_name:service_name,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(moduleTip))),templateEle.append(moreOption),template=templateEle,actualResEle=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_Results_Multi_Outer"}).append(moduleHeaderBand).append(tempResultEle)):(moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,acc_id:accId,gsa:"mc-va-"+service_name,gs:"moreBand",gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand).append(_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption))):(resPaneEleId=zgssearch.isServiceHasFilter(service_name)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",template=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type?(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),templateEle="",(templateEle=_jQueryGS("#"+(templateId="zgs20_gs"+service_name+"Template"))[0]?_jQueryGS("#"+templateId):(serviceBandTip=moreBandTip=maccName,serviceBandLabel=moreBandLabel=viewMoreTip+" "+mlist.label.toLowerCase(),scrollgsAttr=zgssearch.subMultiPageEnabled?"":"serviceSpecificPage",snameDiv=_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"serviceWidgetBand",gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(moduleTip),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+resPaneEleId,service:service_name,acc_id:accId,gs:scrollgsAttr}))).append(moduleHeaderBand).append(tempResultEle).append(moreOption)):_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+resPaneEleId,service:service_name,gs:"serviceSpecificPage"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsModuleInnerServSpecific",service:service_name}))),resPaneEleId="",zgssearch.GSConstant.ALL===searchType?(resPaneEleId="zgs20_gsAllSearchResultPage",""!==(bElem=zgssearch.getSiblingServiceElement(service_name))?_jQueryGS("#"+bElem).after(template):0<_jQueryGS("#zgs20_gsAppsTemplate").length?_jQueryGS(template).insertAfter(_jQueryGS("#zgs20_gsAppsTemplate")[0]):_jQueryGS("#zgs20_gsAllSearchResultPage").prepend(template),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(service_name==zgssearch.configured_mail_module[0]?actualResEle.insertAfter(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):actualResEle.insertBefore(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsMoreOption")[0]))):(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(service_name)||zgssearch.isServiceHasSubMultiPortals(service_name))?(resPaneEleId="zgs20_MultiSearchPageHolder",""!==(bElem=zgssearch.getSiblingMultiElement(service_name,accId))?_jQueryGS("#"+bElem).after(template):_jQueryGS("#"+resPaneEleId).prepend(template),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(service_name==zgssearch.configured_mail_module[0]&&zgssearch.multiPageEnabled?actualResEle.insertAfter(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):actualResEle.insertBefore(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsMoreOption")[0]))):(resPaneEleId="zgs20_gs"+service_name+"Template",_jQueryGS("#zgs20_gsModuleSearchResultPage").append(template)),zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS(".zgs19_gsServiceTopbandNew > ."+serviceicon)[0]),zgssearch.setServiceResPaneHeight(resPaneEleId))},zgssearch.setServiceResPaneHeight=function(servicesResPaneId){var height=_jQueryGS("#zgs20_gsResultsHolder").height()-(_jQueryGS("#zgs20_gsModuleFilterList").is(":visible")?_jQueryGS("#zgs20_gsModuleFilterList").outerHeight(!0):0);zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards||(height-=zgssearch.getLHSServicePaneHeight())),_jQueryGS("#"+servicesResPaneId).css("height",height+"px")},zgssearch.getSiblingServiceElement=function(service_name){zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)&&(service_name=zgssearch.mappedServiceList[service_name].originService);var dElem="",olist=zgssearch.getOrderedServiceList(),length=olist.length;if(0<length)for(var ol=0;ol<length;ol++){var oservice=olist[ol],oId="zgs20_gs"+oservice+"Template";if(0<_jQueryGS("#"+oId).length&&(dElem=oId),service_name===oservice)break}return dElem},zgssearch.getSiblingMultiElement=function(mlist,accId){var dElem="",currService=mlist;zgssearch.isArrayContain(mlist,zgssearch.configured_mail_module)&&(currService=zgssearch.mappedServiceList[mlist].originService);for(var mlist=zgssearch.getWidgetServiceList(currService),accIdArr=zgssearch.getFilterInfo(currService,mlist.key,"accIdArr"),ol=0;ol<accIdArr.length;ol++){var oIdSub=accIdArr[ol],account_type="zgs20_gs"+oIdSub+"Template";if(0<_jQueryGS("#"+account_type).length&&(dElem=account_type),oIdSub==accId){account_type=zgssearch.getAccountType(GSConstant.MAILS,accId);zgssearch.subMultiPageEnabled&&"1"===account_type&&(oIdSub="zgs20_gs_"+zgssearch.configured_mail_module[0]+"_"+oIdSub+"_Template",0<_jQueryGS("#"+oIdSub).length&&(dElem=oIdSub));break}}return dElem},zgssearch.getResultMaxCount=function(searchType,maxCount,resCount){return(GSConstant.ALL===searchType||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(maxCount=zgssearch.fWeightage[maxCount]||zgssearch.iWeightage[maxCount]||zgssearch.defaultMaxCount,(maxCount=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.defaultMaxCount:maxCount)<resCount&&(resCount=maxCount)),resCount},zgssearch.getServiceResultCount=function(service_name,acc_id,moduleName){try{var currService=zgssearch.mappedServiceList.hasOwnProperty(service_name)&&zgssearch.mappedServiceList[service_name].hasOwnProperty("originService")?zgssearch.mappedServiceList[service_name].originService:service_name,countOrObj=zgssearch.resultCount[currService];if(zgssearch.isServiceHasWidget(currService)&&countOrObj.hasOwnProperty(acc_id)){if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.ASANA||service_name===zgssearch.GSConstant.CAMPAIGNS){var module=service_name===zgssearch.GSConstant.ASANA?zgssearch.WS:"modules",current_mod_name=zgssearch.getFilterInfo(service_name,module,"current");if("all"!==current_mod_name&&"0"!==current_mod_name)return countOrObj[acc_id][current_mod_name]}if(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list))if("1"===zgssearch.getAccountType(currService,acc_id)){var vmodName=moduleName||service_name,allmoduleResCountObj=countOrObj[acc_id];if(allmoduleResCountObj.hasOwnProperty(vmodName))return allmoduleResCountObj[vmodName];var i,allmoduleKeys=Object.keys(allmoduleResCountObj),renderedallModuleRescount=0;for(i in allmoduleKeys)renderedallModuleRescount+=allmoduleResCountObj[allmoduleKeys[i]];return renderedallModuleRescount}return countOrObj[acc_id]}return countOrObj}catch(ex){zgssearch.throwClientError("Error while getting getServiceResultCount servicename :"+service_name+" Ex: ",ex)}},zgssearch.getServiceResultObject=function(service_name,acc_id){var currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,object=zgssearch.resultObject[currService];if(acc_id=currService===zgssearch.GSConstant.CAMPAIGNS?zgssearch.getFilterInfo(currService,"accounts","current"):acc_id,zgssearch.isServiceHasWidget(currService)||currService===GSConstant.MAILS||currService===zgssearch.GSConstant.SALESFORCE||currService===zgssearch.GSConstant.ASANA||currService===zgssearch.GSConstant.CAMPAIGNS){if("1"===zgssearch.getAccountType(currService,acc_id))return object.hasOwnProperty(acc_id)?object[acc_id][service_name]:object;if(object.hasOwnProperty(acc_id))return object[acc_id]}return object},zgssearch.getShownResultCount=function(vmodName,acc_id,moduleName){var currService=zgssearch.isArrayContain(vmodName,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[vmodName].originService:vmodName,countOrObj=zgssearch.resultToBeShown.hasOwnProperty(currService)?zgssearch.resultToBeShown[currService]:0;if(zgssearch.isServiceHasWidget(currService)){if(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)){if("1"!==zgssearch.getAccountType(currService,acc_id))return countOrObj&&countOrObj.hasOwnProperty(acc_id)?countOrObj[acc_id]:0;vmodName=moduleName||vmodName;if(countOrObj){var allmoduleResCountObj=countOrObj[acc_id];if(allmoduleResCountObj.hasOwnProperty(vmodName))return allmoduleResCountObj[vmodName];var i,allmoduleKeys=Object.keys(allmoduleResCountObj),renderedallModuleRescount=0;for(i in allmoduleKeys)renderedallModuleRescount+=allmoduleResCountObj[allmoduleKeys[i]];return renderedallModuleRescount}return countOrObj&&countOrObj[acc_id].hasOwnProperty(vmodName)?countOrObj[acc_id][vmodName]:0}return countOrObj&&countOrObj.hasOwnProperty(acc_id)?countOrObj[acc_id]:0}return countOrObj},zgssearch.setShownResultCount=function(service_name,acc_id,count,moduleName){var mcountObj,account_type,modulemcountObj=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;zgssearch.isServiceHasWidget(modulemcountObj)&&service_name!=GSConstant.WORKDRIVE?(mcountObj=zgssearch.resultToBeShown[service_name]||{},zgssearch.isArrayContain(modulemcountObj,zgssearch.account_based_filter_service_list)?(account_type=zgssearch.getAccountType(modulemcountObj,acc_id),modulemcountObj=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:{},"1"===account_type?modulemcountObj[moduleName]=count:modulemcountObj=count,mcountObj[acc_id]=modulemcountObj):mcountObj[acc_id]=count,zgssearch.resultToBeShown[service_name]=mcountObj):zgssearch.resultToBeShown[service_name]=count},zgssearch.getStampPhotoURL=function(id){return GSConstant.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+id+zgssearch.nps},zgssearch.setErrorResultPageHeight=function(){var errorEleH=_jQueryGS("div#zgs20_gsAppsTemplate").parent().outerHeight(!0)-_jQueryGS("div#zgs20_gsAppsTemplate").outerHeight(!0);_jQueryGS(".zgs19_gsNonWidgetServicePage").css("height",errorEleH+"px")},zgssearch.getMoreAppsSearchResults=function(){_jQueryGS("#zgs20_gsAppsMore").hide();var toShowRescount=(toShowRescount=zgssearch.rpUIConfig.renderedResCount+zgssearch.rpUIConfig.showAppsResMin)>zgssearch.rpUIConfig.totalcount?zgssearch.rpUIConfig.totalcount:toShowRescount,currDataLength=Object.keys(zgssearch.rpUIConfig.resultData).length;zgssearch.rpUIConfig.renderedResCount<currDataLength&&toShowRescount<=currDataLength?(zgssearch.rpUIConfig.showAllFetchedAppsInResults=!0,zgssearch.renderRelatedProductResults(!0)):toShowRescount<=zgssearch.rpUIConfig.totalcount&&(zgssearch.rpUIConfig.start+=zgssearch.fetchResCount,zgssearch.getSearchResultsForRelatedProducts("result")),zgssearch.setErrorResultPageHeight()},zgssearch.hideRelatedProductResults=function(){zgssearch.rpUIConfig.isTriggeredSuggestCall=!1,zgssearch.rpUIConfig.isRPSearchCallActive=!1,_jQueryGS("div#zgs20_gsAppsTemplate").remove()},zgssearch.getRenderedAppsList=function(eleId){for(var existingRenderedServicesElems=_jQueryGS("#"+eleId).find(".zgs19_appsTxt"),existingRenderedServicesLen=existingRenderedServicesElems.length,existingRenderedServices=[],j=0;j<existingRenderedServicesLen;j++){var appName=existingRenderedServicesElems[j],appName=_jQueryGS(appName).attr("sName");existingRenderedServices.push(appName)}return existingRenderedServices},zgssearch.getExcludedRelatedproductsData=function(apiData,eleId){for(var filteredData=[],apiDataLen=apiData.length,existingData=zgssearch.getRenderedAppsList(eleId),j=0;j<apiDataLen;j++){var sName=apiData[j],sName=sName.iam_app_name||sName;-1<zgssearch.rpUIConfig.iconIncludedApps.indexOf(sName)&&-1===existingData.indexOf(sName)?filteredData.push(sName):zgssearch.rpUIConfig.totalcount--}return zgssearch.rpUIConfig.resultData=filteredData},zgssearch.toggleMoreRelatedProducts=function(){Object.keys(zgssearch.rpUIConfig.resultData).length>zgssearch.rpUIConfig.renderedResCount&&(zgssearch.curMoreService=GSConstant.GS_APPS,_jQueryGS("#zgs20_gsAppsMore").show())},zgssearch.toggleResultsRelatedProducts=function(){0===zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&zgssearch.hideRelatedProductResults()},zgssearch.renderAppsResultTemplate=function(){var topband,relatedprodutsTemplate;0===_jQueryGS("#zgs20_gsAppsResults").length&&(relatedprodutsTemplate=zgssearch.getI18NMsg("gs.search.sugg.apps"),topband=_jQueryGS("<div>",{id:"zgs20_gsAppsTopband",class:"zgs19_gsServiceTopbandNew  zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs18_gsAppsIcon"})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameTxt zgs19_gsOverflow zgs19_gsfl zgs19_gs_CRMw100",gstitle:relatedprodutsTemplate}).text(relatedprodutsTemplate)),relatedprodutsTemplate=_jQueryGS("<div>",{id:"zgs20_gsAppsMore",class:"zgs19_gsCurPointer zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:GSConstant.GS_APPS,gsa:"mc-va-apps",gs:"moreBand",gstitle:zgssearch.getI18NMsg("gs.search.sevice_view_all")}).text(zgssearch.getI18NMsg("gs.search.sevice_view_all")),relatedprodutsTemplate=_jQueryGS("<div>",{id:"zgs20_gsAppsTemplate",class:"zgs19_gsAppsServiceTemplate zgs19_gsAppsTemplate",service:GSConstant.GS_APPS,gs:"ServiceTemplate"}).append(topband).append(_jQueryGS("<div>",{id:"zgs20_gsAppsResults",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults zgs19_gsAppsList"})).append(relatedprodutsTemplate),_jQueryGS("#zgs20_gsAllSearchResultPage").prepend(relatedprodutsTemplate),zgssearch.obtainLineIconPaths("zgs18_gsAppsIcon",_jQueryGS(".zgs19_gsServiceTopbandNew  > .zgs18_gsAppsIcon")[0]))},zgssearch.onSuccessRelatedProducts=function(relatedProducts){var existingData;""!==relatedProducts&&void 0!==relatedProducts&&((relatedProducts=(relatedProducts=zgssearch.jsonParse(relatedProducts)).results||relatedProducts.result_objects)?"autosuggest"===zgssearch.rpUIConfig.currCallType?(existingData=zgssearch.getExcludedRelatedproductsData(relatedProducts,"zgs20_gsQuerySuggApps_relatedproducts"),zgssearch.gsautocomplete.setAutoSuggestAppsData(existingData),zgssearch.gsautocomplete.renderMoreAppsSugg()):(zgssearch.rpUIConfig.isRPSearchCallActive=!1,zgssearch.renderAppsResultTemplate(),0<Object.keys(zgssearch.rpUIConfig.resultData).length&&(existingData=zgssearch.rpUIConfig.resultData,relatedProducts=_jQueryGS.merge(existingData,relatedProducts)),zgssearch.rpUIConfig.resultData=zgssearch.getExcludedRelatedproductsData(relatedProducts,"zgs20_gsAppsResults"),zgssearch.rpUIConfig.totalcount=Object.keys(zgssearch.rpUIConfig.resultData).length,0<zgssearch.rpUIConfig.resultData.length?zgssearch.renderRelatedProductResults(!0):zgssearch.hideRelatedProductResults()):zgssearch.hideRelatedProductResults())},zgssearch.renderRelatedProductResults=function(isSetShowAppsResMin){var relatedProducts=zgssearch.rpUIConfig.resultData,resCount=relatedProducts.length,start=zgssearch.rpUIConfig.renderedResCount;isSetShowAppsResMin&&zgssearch.setShowAppsResMin(),zgssearch.rpUIConfig.showAllFetchedAppsInResults&&(zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!0,zgssearch.rpUIConfig.showAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.showAppsResMin=resCount);for(var limit=start+zgssearch.rpUIConfig.showAppsResMin,j=start;j<resCount&&j<limit;j++){zgssearch.rpUIConfig.renderedResCount++;var sName=relatedProducts[j].replace(/\s/g,"").toLowerCase(),sIcon="zgs18_w"+sName,sURL=void 0!==zgssearch.rpUIConfig.appVsUrl[sName]?zgssearch.rpUIConfig.appVsUrl[sName][0]:"",displayName=void 0!==zgssearch.rpUIConfig.appVsUrl[sName]?zgssearch.rpUIConfig.appVsUrl[sName][1]:sName;_jQueryGS("div#zgs20_gsAppsResults").append(_jQueryGS("<a>",{rel:"noopener noreferrer",href:sURL,target:"_blank",gs:"rpStats",gsa:"result-rp_"+sName,key:"relatedproducts",productName:sName,class:"zgs19_gsAppsRes zgs19_gsCurPointer"}).append(_jQueryGS("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(_jQueryGS("<li>",{class:"zgs19_gsQueryResAppsIcon"}).append(_jQueryGS("<span>",{class:sIcon}))).append(_jQueryGS("<span>",{sName:sName,class:"zgs19_gsQueryResAppsName zgs19_appsTxt",gstitle:displayName}).text(displayName))),zgssearch.LINE_ICON_MAP.hasOwnProperty(sIcon)&&zgssearch.obtainLineIconPaths(sIcon,_jQueryGS(".zgs19_gsQueryResAppsIcon > ."+sIcon)[0])}zgssearch.toggleMoreRelatedProducts(),zgssearch.toggleResultsRelatedProducts(),zgssearch.jqueryMouseEvent()},zgssearch.getAcronym=function(title){var acronym=[];title=title.trim();try{var txtArr=title.split(" "),len=txtArr.length,regex=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;if(0<len)for(var i=0;i<len&&!(1<acronym.length);i++){var snippet=txtArr[i],eachChar=snippet[0];if(1==regex.test(eachChar))for(var snipLen=snippet.length,j=1;j<snipLen-1;j++){var eachASnippetChar=snippet[j];0==regex.test(eachASnippetChar)&&acronym.length<2&&(acronym[i++]=eachASnippetChar)}else acronym.length<2&&(acronym[i]=eachChar);if(1<acronym.length)break}}catch(ex){zgssearch.throwClientError("Error while getting Acronym ",ex)}title=title.slice(0,2);return(title=1<acronym.length?acronym.join(""):title).toUpperCase()},zgssearch.getPhotoURL=function(modTy,current_result_obj){var pZuid,titleObj=current_result_obj.type||"",photoURL="";return"personal"===titleObj?photoURL=current_result_obj.photo+"?API=true":"org"===titleObj&&(photoURL=GSConstant.GS_CONTACTS_URL+"/api/v1/accounts/"+zgssearch.GSConstant.cuo+"/contacts/"+current_result_obj.contact_id+"/photo?include=default_photo"),modTy===GSConstant.PEOPLE?(photoURL=current_result_obj.photo)&&-1<photoURL.indexOf("/api/viewEmployeePhoto?")&&(photoURL=photoURL.replace("/api/viewEmployeePhoto?","/viewPhoto?")):modTy===GSConstant.CLIQ?(pZuid=current_result_obj.cid||"",(pZuid=((titleObj=zgssearch.chidVsMeta||{}).hasOwnProperty(pZuid)?titleObj[pZuid]:{}).owner||"")&&"-1"!==pZuid&&(photoURL=zgssearch.getThumbPhotoURL(pZuid))):modTy===GSConstant.CONNECT||modTy===GSConstant.STREAMS?(pZuid=current_result_obj.zuid||"")&&"-1"!==pZuid&&(photoURL=zgssearch.getThumbPhotoURL(pZuid)):modTy===GSConstant.SLACK&&(5!=(modTy=current_result_obj.module_id||"")&&1!=modTy||(photoURL=current_result_obj.photo||"")),photoURL},zgssearch.renderSearchResults=function(service_name,isWeightage,isToFetchAllRecords,account_id,moduleName){try{var defOrgId="",curModuleId="";service_name===zgssearch.GSConstant.ORGRESOURCES&&(curModuleId=zgssearch.getFilterInfo(service_name,"modules","current"),defOrgId=zgssearch.getFilterInfo(service_name,"accounts","mdefault"));var i=0,searchType=zgssearch.getSearchType(),id="zgs20_gs"+service_name+"Results",acc_id=account_id||zgssearch.getFilterInfo(service_name,"accounts","current"),currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,account_type=zgssearch.getAccountType(currService,acc_id);zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type?id=moduleName?"zgs20_gs"+moduleName+"Results":"zgs20_gs_"+service_name+"_"+acc_id+"_Results":zgssearch.multiPageEnabled&&(id="zgs20_gs"+acc_id+"Results");var tempFetchResCount=zgssearch.fetchResCount,resultObject=zgssearch.getServiceResultObject(service_name,acc_id),curfetchResCount=0;if(service_name===zgssearch.GSConstant.CALENDAR){zgssearch.eventSplitter=!1,zgssearch.completedResToBeShown=zgssearch.completedResToBeShown||0,zgssearch.futureResToBeShown=zgssearch.futureResToBeShown||0;var completedFetchCount=0,futureFetchCount=0,completedCount=0,futureCount=0,curfetchResCount=(completedCount=zgssearch.isCompleted?zgssearch.getServiceResultCount(service_name+"_completed",acc_id):completedCount)+(futureCount=zgssearch.isUpcoming?zgssearch.getServiceResultCount(service_name+"_future",acc_id):futureCount)}else if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.CAMPAIGNS){var moreResultcount=zgssearch.getMoreResultCount(service_name,acc_id);if(zgssearch.GSConstant.ALL==searchType&&isWeightage&&0<moreResultcount&&(initial_weight=zgssearch.iWeightage[service_name],tempToBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,moreResultcount+initial_weight),zgssearch.reArragegeResultsForWeightage(service_name,acc_id,tempToBeShowResCount-initial_weight),resultObject=zgssearch.getServiceResultObject(service_name,acc_id)),"object"==typeof(curfetchResCount="all"!==(search_type=zgssearch.getFilterInfo(service_name,"modules","current"))&&"0"!=search_type?"object"==typeof(res_count_obj=zgssearch.getServiceResultCount(service_name,acc_id))?res_count_obj[acc_id][search_type]:res_count_obj:zgssearch.getServiceResultCount(service_name,acc_id))){curfetchResCount=curfetchResCount.hasOwnProperty(acc_id)?curfetchResCount[acc_id]:curfetchResCount;var temp_curfetchResCount=0;for(mod in curfetchResCount)service_name==zgssearch.GSConstant.CAMPAIGNS&&zgssearch.isArrayContain(mod,zgssearch.campaignsRenderedMod)||(temp_curfetchResCount+=curfetchResCount[mod]);curfetchResCount=temp_curfetchResCount}}else if(service_name===zgssearch.GSConstant.ASANA){var initial_weight,tempToBeShowResCount,res_count_obj,moreResultcount=zgssearch.getMoreResultCount(service_name,acc_id);if(zgssearch.GSConstant.ALL==searchType&&isWeightage&&0<moreResultcount&&(initial_weight=zgssearch.iWeightage[service_name],tempToBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,moreResultcount+initial_weight),zgssearch.reArragegeResultsForWeightage(service_name,acc_id,tempToBeShowResCount-initial_weight),resultObject=zgssearch.getServiceResultObject(service_name,acc_id)),"object"==typeof(curfetchResCount="all"!==(search_type=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,zgssearch.WS,"current"))?"object"==typeof(res_count_obj=zgssearch.getServiceResultCount(service_name,acc_id))?res_count_obj[acc_id][search_type]:res_count_obj:zgssearch.getServiceResultCount(service_name,acc_id))){var ws,temp_curfetchResCount=0;for(ws in curfetchResCount)if("object"==typeof curfetchResCount[ws])for(var task in curfetchResCount[ws])temp_curfetchResCount+=curfetchResCount[ws][task];else temp_curfetchResCount=curfetchResCount[ws];curfetchResCount=temp_curfetchResCount}}else curfetchResCount=zgssearch.getServiceResultCount(service_name,acc_id);var wmcount,fweight,icon_template,details_template,result_template,toBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,curfetchResCount);isWeightage?(i=zgssearch.getShownResultCount(service_name,acc_id),wmcount=2<=curfetchResCount?2:1,zgssearch.GSConstant.ALL==searchType?toBeShowResCount=(fweight=(zgssearch.fWeightage||{})[service_name])<curfetchResCount?fweight:i+wmcount:acc_id&&(toBeShowResCount=i+wmcount<curfetchResCount?i+wmcount:curfetchResCount)):isToFetchAllRecords?toBeShowResCount=(i=zgssearch.resToBeShown)+25<curfetchResCount?i+25:curfetchResCount:zgssearch.scrollSearch?service_name===zgssearch.GSConstant.CALENDAR?zgssearch.isCompleted?completedFetchCount=i=zgssearch.completedResToBeShown:zgssearch.isUpcoming&&(futureFetchCount=i=zgssearch.futureResToBeShown):i=zgssearch.resToBeShown:zgssearch.GSConstant.ORGRESOURCES===service_name&&zgssearch.isListViewSearch()&&defOrgId===acc_id&&"0"===curModuleId&&zgssearch.isDefWelAdded&&(toBeShowResCount+=1,tempFetchResCount+=1),GSConstant.O365MAIL!==service_name&&GSConstant.SLACK!==service_name||(icon_template=zgssearch.Template.iconTemplate(),details_template=zgssearch.Template.infoTemplate(),result_template=zgssearch.Template.resultTitleTemplate(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#iconTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#infoTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#resultTitleTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").append(icon_template).append(details_template).append(result_template)),service_name!==GSConstant.CALENDAR&&(toBeShowResCount=tempFetchResCount<toBeShowResCount-i?tempFetchResCount:toBeShowResCount);var total_results_area_width=zgssearch.getResultsAreaWidth();total_results_area_width<=0&&(total_results_area_width=_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,zgssearch.setResultsAreaWidth(total_results_area_width));var tempResIndex,campResObj,service_meta_info,resultMap,acc_img_data,resCountForServ,orderList,mlist,accIdArr,render_mod_count,targetId,first_account_res_template,first_click_elem,firstResult,service_img_data=[],gsresults=zgssearch.mappedServiceList[service_name].results,temp_offset=i,curIndex=0;if(service_name===zgssearch.GSConstant.SALESFORCE){var module_name,search_type=zgssearch.getFilterInfo(zgssearch.GSConstant.SALESFORCE,"modules","current"),temp_results_obj=resultObject,results_width_data=[],rendered_modules=(renderedObj=zgssearch.crm_rendered_modules[service_name]||{})[acc_id]||[];for(module_name in temp_results_obj)("all"!==search_type&&!zgssearch.multiPageEnabled||rendered_modules.indexOf(module_name)<=-1||zgssearch.GSConstant.ALL==searchType)&&(zgssearch.GSConstant.ALL!=searchType&&rendered_modules.push(module_name),(service_info={}).parent_div_id=id,service_info.service_name=service_name,service_info.offset=i,temp_res_obj=temp_results_obj[module_name],0<(res_count=zgssearch.resultCount[service_name][acc_id][module_name])&&(service_info.limit=res_count,service_name!==zgssearch.GSConstant.CRM&&(service_info.acc_id=acc_id),module_parent_id="zgs20_gs"+acc_id+module_name+"Results","all"===search_type&&(service_info.module_parent_id=module_parent_id),service_info.records_info=temp_res_obj,service_info.search_module_name=module_name,service_info.search_type=search_type,service_info.results_area_width=total_results_area_width,service_info.service_addtional_info=zgssearch.getServiceResultsAdditionalInfo(service_name,acc_id),(new zgssearch.ZSCRMFactory).createCRM(service_info).renderResults(),((results_width={}).service_name=service_name)!==zgssearch.GSConstant.CRM&&(results_width.account_id=acc_id),results_width.results_parent_id="all"===search_type?module_parent_id:id,results_width.total_results_area_width=total_results_area_width,results_width_data.push(results_width)));zgssearch.GSConstant.ALL!=searchType&&(renderedObj[acc_id]=rendered_modules,zgssearch.crm_rendered_modules[service_name]=renderedObj);for(var mod=0;mod<results_width_data.length;mod++)(service_mod_info=results_width_data[mod]).is_cursor_need="all"!==search_type,zgssearch.Utils.setResultsWidth(service_mod_info)}else if(service_name==zgssearch.GSConstant.ASANA){var renderedObj,module,service_info,temp_res_obj,res_count,module_parent_id,proj_mgmt_instance,results_width,search_type=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,zgssearch.WS,"current"),temp_results_obj=resultObject,results_width_data=[],rendered_modules=(renderedObj=zgssearch.projects_rendered_modules[service_name]||{})[acc_id]||[];for(module in temp_results_obj)("all"!==search_type&&!zgssearch.multiPageEnabled||rendered_modules.indexOf(module)<=-1||zgssearch.GSConstant.ALL==searchType)&&(zgssearch.GSConstant.ALL!=searchType&&rendered_modules.push(module),(service_info={}).parent_div_id=id,service_info.acc_id=acc_id,service_info.service_name=service_name,service_info.offset=i,temp_res_obj=temp_results_obj[module],0<(res_count=zgssearch.resultCount[service_name][acc_id][module])&&(service_info.limit=res_count,module_parent_id="zgs20_gs"+acc_id+"_"+module+"Results","all"===search_type&&(service_info.module_parent_id=module_parent_id),service_info.results=temp_res_obj,service_info.search_workspace_id=module,service_info.search_workspace_name=zgssearch.getFilterData(zgssearch.GSConstant.ASANA,zgssearch.WS,"data",module,acc_id),service_info.search_type=search_type,service_info.results_area_width=total_results_area_width,(proj_mgmt_instance=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info)).renderResults(),(results_width={}).service_name=service_name,results_width.account_id=acc_id,results_width.results_parent_id="all"===search_type?module_parent_id:id,results_width.total_results_area_width=total_results_area_width,results_width_data.push(results_width)));zgssearch.GSConstant.ALL!=searchType&&(renderedObj[acc_id]=rendered_modules,zgssearch.projects_rendered_modules[service_name]=renderedObj);for(var service_mod_info,mod=0;mod<results_width_data.length;mod++)(service_mod_info=results_width_data[mod]).is_cursor_need="all"!==search_type,zgssearch.Utils.setResultsWidth(service_mod_info);searchType!==zgssearch.GSConstant.ALL&&(!zgssearch.multiPageEnabled||zgssearch.multiPageEnabled&&isWeightage)&&zgssearch.gskeyboard.insertElement()}else if(service_name==zgssearch.GSConstant.PROJECTS)(service_info={}).results=resultObject,service_info.service_name=service_name,service_info.parent_div_id=id,service_info.offset=i,service_info.limit=toBeShowResCount,service_info.acc_id=acc_id,service_info.results_area_width=total_results_area_width,service_info.timezone=zgssearch.gsprojects.portalTimezone[acc_id]||{},(proj_mgmt_instance=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info)).renderResults(),service_img_data=proj_mgmt_instance.getServiceImgData();else if(-1<zgssearch.SERVICES_STORAGE.indexOf(service_name)){if("object"!=typeof curfetchResCount){var fileMgmt=new zgssearch.FileMgmtFactory;0===acc_id&&(acc_id=_jQueryGS("#zgs20_gs"+service_name+"Template .zgs19_gsSearchResultTable")[0].getAttribute("acc_id"));var responseObj=Object.assign({},zgssearch.getResponseObject(service_name+acc_id));if(searchType==zgssearch.GSConstant.ALL||zgssearch.multiPageEnabled){for(var resultsArr=[],resCount=i;resCount<toBeShowResCount;resCount++)responseObj.result_objects[resCount]&&resultsArr.push(responseObj.result_objects[resCount]);responseObj.result_objects=resultsArr}var fileMgmtInfo={};fileMgmtInfo.offset=i,fileMgmtInfo.parentId=id,fileMgmtInfo.service=service_name,fileMgmtInfo.accountId=acc_id;var fileMgmtService=fileMgmt.createFileMgmtService(fileMgmtInfo);fileMgmtService.setResponseObj(responseObj.result_objects),fileMgmtService.renderResults()}}else if(service_name===zgssearch.GSConstant.EVERNOTE){var notesTemplateConstructor=new zgssearch.notesTemplateFactory,responseObj=Object.assign({},zgssearch.getResponseObject(service_name+acc_id));if(searchType==zgssearch.GSConstant.ALL||zgssearch.multiPageEnabled){for(resultsArr=[],resCount=i;resCount<toBeShowResCount;resCount++)responseObj.result_objects[resCount]&&resultsArr.push(responseObj.result_objects[resCount]);responseObj.result_objects=resultsArr}var evrNoteObj={};evrNoteObj.offset=i,evrNoteObj.parentId=id,evrNoteObj.service=service_name,evrNoteObj.accountId=acc_id;var notesTemplateInstance=notesTemplateConstructor.createCurServiceInstance(evrNoteObj);notesTemplateInstance.setResponseObj(responseObj.result_objects),notesTemplateInstance.renderResults()}else for(service_name===zgssearch.GSConstant.CALENDAR&&!zgssearch.eventSplitter&&!zgssearch.scrollSearch&&zgssearch.isCompleted&&zgssearch.isUpcoming&&(zgssearch.eventSplitter=!0),service_name===zgssearch.GSConstant.CAMPAIGNS&&(tempResIndex=i,campResObj=resultObject);i<toBeShowResCount;i++){if(service_name===zgssearch.GSConstant.CAMPAIGNS){for(var modId in zgssearch.campaignsRenderedMod=zgssearch.campaignsRenderedMod||[],campResObj)if(!zgssearch.isArrayContain(modId,zgssearch.campaignsRenderedMod)||zgssearch.scrollSearch){var modName,moduleId,modObj,modHeader,resultObject=campResObj[modId],filterData=zgssearch.getFilterObj(service_name),filterModId=parseInt(modId);if(!(searchType==zgssearch.GSConstant.ALL&&isWeightage&&Object.keys(resultObject).length<=tempResIndex)){"0"!=search_type||searchType==zgssearch.GSConstant.ALL&&0!=tempResIndex||(moduleId="zgs20_gs"+modId+"_"+(modName=filterData.modules.data.hasOwnProperty(filterModId)?filterData.modules.data[filterModId]:"")+"Results",(modObj={}).id="zgs20_gs"+modId+"_"+modName+"Template",modObj.service_name=service_name,modObj.mod_name=modId,modObj.mod_disp_name=modName,modObj.acc_id=acc_id,modHeader=zgssearch.CrmUtils.constructModHeader(modObj),_jQueryGS("#"+id).append(_jQueryGS("<div>",{id:moduleId}).append(modHeader)),id=moduleId),acc_id=modId,searchType!=zgssearch.GSConstant.ALL&&zgssearch.campaignsRenderedMod.push(modId);break}tempResIndex=0,zgssearch.campaignsRenderedMod.push(modId)}curIndex=tempResIndex++}service_name===zgssearch.GSConstant.CALENDAR?zgssearch.isUpcoming&&futureFetchCount<futureCount?(curIndex=futureFetchCount,futureFetchCount++):zgssearch.isCompleted&&completedFetchCount<completedCount&&(zgssearch.eventSplitter&&(_jQueryGS(zgssearch.getTargetElem(id)).prepend(zgssearch.getEventSplitter()),zgssearch.eventSplitter=!1),curIndex=-completedFetchCount-1,completedFetchCount++):service_name!=zgssearch.GSConstant.CAMPAIGNS&&(curIndex=i);var resObj,href,resultDiv,photoURL,temp_info,elemId=service_name+curIndex;resultObject.hasOwnProperty(elemId)&&(resObj=resultObject[elemId],href=zgssearch.fetchCalloutUrlByAccId(service_name,resObj,acc_id),resultDiv=zgssearch[gsresults].getHtmlTemplate(resObj,acc_id,href,id,service_name,curIndex,total_results_area_width,{}),photoURL=zgssearch.getPhotoURL(service_name,resObj),zgssearch.renderHtmlElement(resultDiv,service_name,id,photoURL,curIndex,acc_id,resObj),-1<zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)&&void 0!==photoURL&&((temp_info={}).id=id+"_"+i,""===photoURL.trim()&&(temp_info.no_photo=!0),temp_info.img_url=photoURL||zgssearch.gsspacer,service_img_data.push(temp_info)))}searchType!==zgssearch.GSConstant.ALL&&(!zgssearch.multiPageEnabled||zgssearch.multiPageEnabled&&isWeightage)&&zgssearch.gskeyboard.insertElement(),zgssearch.GSConstant.CONNECT!==service_name&&zgssearch.GSConstant.WORKDRIVE!==service_name||(zgssearch.GSConstant.CONNECT===service_name&&zgssearch.gsconnectresults.resetResultsWidth(temp_offset,acc_id),(service_meta_info={}).service_name=service_name,service_meta_info.total_results_area_width=total_results_area_width,service_meta_info.account_id=acc_id,resultMap=zgssearch.mappedServiceList[service_name].results,zgssearch[resultMap].setFooterElementsWidth(service_meta_info)),0<service_img_data.length&&(zgssearch.mappedServiceList[service_name].is_multi_accounts&&acc_id?((acc_img_data={})[acc_id]=service_img_data,zgssearch.temp_img_info[service_name]=acc_img_data):zgssearch.temp_img_info[service_name]=service_img_data),zgssearch.GSConstant.ALL===searchType?(resCountForServ=service_name==zgssearch.GSConstant.ASANA?curfetchResCount:toBeShowResCount,zgssearch.setShownResultCount(currService,acc_id,resCountForServ,service_name),isWeightage||zgssearch.setWeightServices(service_name),orderList=zgssearch.getOrderedServiceList(),zgssearch.scrollSearch||service_name!=orderList[1]||(zgssearch.firstResultCallOutShown=!0)):zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(zgssearch.resToBeShown=0,zgssearch.setShownResultCount(currService,acc_id,toBeShowResCount,service_name),mlist=zgssearch.getWidgetServiceList(service_name),accIdArr=zgssearch.getFilterInfo(service_name,mlist.key,"accIdArr"),zgssearch.scrollSearch||service_name!=accIdArr[1]||(zgssearch.firstResultCallOutShown=!0)):service_name===zgssearch.GSConstant.CALENDAR?(zgssearch.isCompleted&&(zgssearch.completedResToBeShown=completedFetchCount,zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",zgssearch.calendarScrollValue)),zgssearch.isUpcoming&&(zgssearch.futureResToBeShown=futureFetchCount),0<curfetchResCount&&(zgssearch.firstResultCallOutShown=!0),(zgssearch.scrollSearch||0!=completedFetchCount)&&zgssearch.completedResToBeShown!==zgssearch.searchResultsLimit&&completedFetchCount%tempFetchResCount==0||(zgssearch.completedNoMoreResults=!0),(zgssearch.scrollSearch||0!=futureFetchCount)&&zgssearch.futureResToBeShown!==zgssearch.searchResultsLimit&&futureFetchCount%tempFetchResCount==0||(zgssearch.futureNoMoreResults=!0)):(zgssearch.firstResultCallOutShown=!0,zgssearch.resToBeShown=toBeShowResCount,service_name==zgssearch.GSConstant.ORGRESOURCES&&zgssearch.isListViewSearch()&&defOrgId===acc_id&&"0"===curModuleId&&zgssearch.isDefWelAdded&&zgssearch.scrollSearch&&--curfetchResCount,zgssearch.resToBeShown!==zgssearch.searchResultsLimit&&curfetchResCount%tempFetchResCount==0||(zgssearch.noMoreResults=!0,service_name==GSConstant.ONEDRIVE&&(zgssearch.noMoreResults=zgssearch.isListViewSearch()?curfetchResCount%tempFetchResCount!=24:curfetchResCount%24!=0)),service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.isListViewSearch()&&"all"===(search_type=zgssearch.getFilterInfo(zgssearch.GSConstant.SALESFORCE,"modules","current"))&&(render_mod_count=Object.keys(zgssearch.resultObject[zgssearch.GSConstant.SALESFORCE][acc_id]).length,zgssearch.noMoreResults=10<render_mod_count),zgssearch.setShownResultCount(currService,acc_id,toBeShowResCount,service_name)),zgssearch.noMoreResults&&service_name==zgssearch.GSConstant.ORGRESOURCES&&!zgssearch.noResFeed&&(targetId=zgssearch.getTargetElem(id),_jQueryGS("<div>",{class:"zgs19_gsFeedbackForm",gs:"feedBack",style:"margin-top: 5px;"}).append(_jQueryGS("<a>",{class:"zgs19_gsResultTitle zgs19_gsFeedbackCol zgs19_gsCurPointer ",gs:"feedBack"}).text(zgssearch.getI18NMsg("gs.search.error.no_result_feedback_form"))).insertAfter(_jQueryGS(targetId)),zgssearch.noResFeed=!0),zgssearch.isMobViewport()&&(zgssearch.firstResultCallOutShown=!1),zgssearch.firstResultCallOutShown&&!zgssearch.curSelectedEle&&""==zgssearch.curSelectedEle&&(firstResult="",firstResult=service_name===zgssearch.GSConstant.CALENDAR?(zgssearch.isUpcoming?firstResult=zgssearch.gskeyboard.findDataNode(0,""):zgssearch.isCompleted&&!zgssearch.isUpcoming&&(firstResult=zgssearch.gskeyboard.findDataNode(-1,"")),firstResult.getAttribute("id")):service_name===zgssearch.GSConstant.SALESFORCE?(zgssearch.multiPageEnabled?(first_account_res_template=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],first_click_elem=_jQueryGS(first_account_res_template).find(".zgs19_gsSearchResultTable")[0]):(first_click_elem=_jQueryGS(_jQueryGS("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],"all"!==zgssearch.getFilterInfo(zgssearch.GSConstant.SALESFORCE,"modules","current")&&(first_click_elem=_jQueryGS("#zgs20_gssalesforceResults >div")[0])),_jQueryGS(first_click_elem).attr("id")):zgssearch.gskeyboard.getFirstDataNode(),_jQueryGS("#"+firstResult).click()),-1<zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)&&zgssearch.setContactsImage(service_name,acc_id)}catch(ex){zgssearch.throwClientError("Error while rendering search results. servicename :"+service_name+" Ex:",ex)}},zgssearch.getEventSplitter=function(){return _jQueryGS("<div>",{class:"zgs19_gsEventSplitter"}).append(_jQueryGS("<span>",{class:"zgs19_gsSplitterText"}).text(zgssearch.getI18NMsg("gs.search.filter.upcomingEvents")))},zgssearch.renderHtmlElement=function(resDiv,service_name,infoDiv2,photoURL,i,acc_id,resObj){_jQueryGS("#"+("zgs20_dummy"+service_name+"Res")).remove();var infoDiv,infoDiv1,targetId=zgssearch.getTargetElem(infoDiv2),res="",resId=infoDiv2+"_"+i;res=service_name==GSConstant.SLACK||service_name==GSConstant.O365MAIL?(infoDiv=resDiv.infoDiv||{},infoDiv1=resDiv.infoDiv1||{},infoDiv2=resDiv.infoDiv2||{},_jQueryGS("<div>",{id:resId,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(resDiv.iconDiv).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(infoDiv).append(infoDiv1).append(infoDiv2)))):_jQueryGS("<div>",{id:resId,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:service_name,gs:"searchResultTable"}).append(resDiv),_jQueryGS(res).attr("index",i),acc_id&&_jQueryGS(res).attr("acc_id",acc_id),service_name==GSConstant.CALENDAR&&i<0?_jQueryGS(targetId).prepend(res):_jQueryGS(targetId).append(res),zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)<=-1&&("8"===(resObj.cpt||"")?zgssearch.setDeptIcon(resId):photoURL?zgssearch.updateUserPhoto(resId,photoURL):-1===zgssearch.havingUserPhoto.indexOf(service_name)&&zgssearch.loadResNoPhotoImg(resId))},zgssearch.getMailImageStatus=function(statusCode){var mailResObj={};switch(statusCode){case 0:mailResObj.servImg=1,mailResObj.image="zgs18_gsMailUnReadIcon",mailResObj.toBeImage="zgs18_gsMailReadIcon",mailResObj.title=zgssearch.getI18NMsg("common.unread"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.read");break;case 1:mailResObj.servImg=0,mailResObj.image="zgs18_gsMailReadIcon",mailResObj.toBeImage="zgs18_gsMailUnReadIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.read"),mailResObj.toBeTitle=zgssearch.getI18NMsg("common.unread");break;case 2:mailResObj.servImg=3,mailResObj.image="zgs18_gsMailUnReadReplyIcon",mailResObj.toBeImage="zgs18_gsMailReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply");break;case 3:mailResObj.servImg=2,mailResObj.image="zgs18_gsMailReadReplyIcon",mailResObj.toBeImage="zgs18_gsMailUnReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply");break;case 4:mailResObj.servImg=5,mailResObj.image="zgs18_gsMailUnReadForwardIcon",mailResObj.toBeImage="zgs18_gsMailReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward");break;case 5:mailResObj.servImg=4,mailResObj.image="zgs18_gsMailReadForwardIcon",mailResObj.toBeImage="zgs18_gsMailUnReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward")}return mailResObj},zgssearch.getCapitalizedLtr=function(wrd){var wrdLen,str="";return wrd&&(0<(wrdLen=wrd.length)&&(str=wrd[0]),1<wrdLen&&(str+=wrd[1])),str.toUpperCase()},zgssearch.setContactsImage=function(service_name,acc_id){if(zgssearch.temp_img_info[service_name]){for(var ima_supports=zgssearch.mappedServiceList[service_name].is_multi_accounts,service_img_data=ima_supports&&acc_id?_jQueryGS.isEmptyObject(zgssearch.temp_img_info[service_name])?[]:zgssearch.temp_img_info[service_name][acc_id]:zgssearch.temp_img_info[service_name],records_length=service_img_data.length,record=0;record<records_length;record++){var errorClass=service_img_data[record],img_elem=errorClass.id,img_url=errorClass.img_url,errorClass=errorClass.no_photo||!1,img_elem=_jQueryGS("#"+img_elem).find("img");errorClass?zgssearch.setEmptyPhoto(img_elem):(null==(errorClass=_jQueryGS(img_elem).attr("gs_err_class"))&&(errorClass="zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"),zgssearch.network.imageRenderer.renderImage(img_url,{img_elem:img_elem,class_name:"zgs19_gsUserPhoto",errorClass:errorClass},null))}ima_supports&&acc_id?delete zgssearch.temp_img_info[service_name][acc_id]:delete zgssearch.temp_img_info[service_name]}},zgssearch.setEmptyPhoto=function(imgEle){imgEle.attr("group")&&"true"==imgEle.attr("group")||!1||imgEle.attr("class","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto")},zgssearch.setDeptIcon=function(imgEle){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptSMIcon"))},zgssearch.getConnectorFilterMod=function(martxt,acc_id,conObj,filterDisplay){var acc_id=acc_id||"",moduleId=martxt.cid||"",moduleName=martxt.cn||"",curModuleId=zgssearch.getFilterInfo(GSConstant.ORGRESOURCES,"modules","current"),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),martxt="";return(conObj.cell1||conObj.cell2)&&(martxt="display:initial;margin-left:12px;"),filterDisplay&&"0"===curModuleId&&void 0!==curModuleId&&"undefined"!==curModuleId?_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:martxt}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(intxt)).append(_jQueryGS("<span>",{id:"zgs20_moduleName",class:"zgs19_hvr_underline",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:moduleName,gs:"gsconnService",key:moduleId,acc_id:acc_id}).text(moduleName)):_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",style:martxt}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(intxt)).append(_jQueryGS("<span>",{id:"zgs20_moduleName",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:moduleName,style:"display:initial;margin-left:3px;"}).text(moduleName))},zgssearch.getPeopleUserDetails=function(totalResWidth,mail,mpicon,phone,rowStyle,dept,deptId,resObj){var searchType=zgssearch.getSearchType(),cpt=resObj.cpt||"",currentFolder={},cell1="",cell2="",cell3="",cell4="",mTit="",mTit1="";mpicon&&(currentFolder.cell1=mpicon,mTit=zgssearch.getI18NMsg("common.mobile"),cell1_title=currentFolder.cell1),"8"===cpt&&(currentFolder.cell1=resObj.suppmail||"-",mTit=zgssearch.getI18NMsg("gs.connector.support.email"),"-"===currentFolder.cell1&&(currentFolder.cell1=zgssearch.getI18NMsg("common.not_available")),cell1_title=currentFolder.cell1),(rowStyle||phone)&&(phone&&(currentFolder.cell2=phone,mTit1=zgssearch.getI18NMsg("common.phone")),rowStyle&&(currentFolder.cell2=rowStyle,mTit1=zgssearch.getI18NMsg("gs.search.service_people.extn"),"8"===cpt&&"-"===currentFolder.cell2&&(currentFolder.cell2=zgssearch.getI18NMsg("common.not_available")))),dept&&(currentFolder.cell3=dept);var cell1_title,rowStyle="";Object.keys(currentFolder).length;return currentFolder.cell1&&(mpicon=mpicon?"zgs19_gsContactMobileImg":"zgs19_gsContactPhoneImg",cell1_title=currentFolder.cell1,"8"===cpt&&(mpicon="zgs19_gsGRDeskIcon zgs19_gsGRDeskIconStyles"),cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+mpicon})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:mTit,gstitle:cell1_title}).text(currentFolder.cell1))),currentFolder.cell2&&(cell2=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:rowStyle=cell1?"margin-left:12px;":""}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:mTit1,gstitle:currentFolder.cell2}).text(currentFolder.cell2))),currentFolder.cell3&&(rowStyle=cell1||cell2?"margin-left:12px;":"",currentFolder=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","current"),cell3=searchType===zgssearch.GSConstant.ALL||"0"===currentFolder&&searchType===zgssearch.GSConstant.PEOPLE?_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl",style:rowStyle}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:dept,gs:"peopleResDepartment",fId:deptId,gsfilter:"deptName",fName:dept,style:"display:initial;margin-left:3px;"}).text(dept)):_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:rowStyle}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:dept,style:"display:initial;margin-left:3px;"}).text(dept))),{cell1:cell1,cell2:cell2,cell3:cell3,cell4:cell4=mail?_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{istip:!0,gslabel:zgssearch.getI18NMsg("common.email"),gstitle:mail}).text(mail)):cell4}},zgssearch.getPulseFooterElemsWidth=function(pulseAuthorWidth,pulseNameWidth){_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<span>",{class:"zgs19_fontsize14 zgs19_gsDisplayNone",id:"zgs20_gsConnectTempSpan"})),_jQueryGS("#zgs20_gsConnectTempSpan").text("").text(pulseAuthorWidth);pulseAuthorWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+10;_jQueryGS("#zgs20_gsConnectTempSpan").empty().append(pulseNameWidth);pulseNameWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+40;return _jQueryGS("#zgs20_gsConnectTempSpan").remove(),150<=pulseAuthorWidth&&pulseNameWidth<150?pulseAuthorWidth=150-pulseNameWidth+150:pulseAuthorWidth<150&&150<=pulseNameWidth?pulseNameWidth=150-pulseAuthorWidth+150:pulseAuthorWidth=pulseNameWidth=150,{auth:"max-width:"+pulseAuthorWidth+"px;",name:"max-width:"+pulseNameWidth+"px;"}},zgssearch.getUserStatus=function(uzuid,cobj){var name="",tip="",status="",pname=zgssearch.isWMSChatPaused();return uzuid&&"-1"!==uzuid&&!pname&&(pname="big"==cobj?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(cobj=zgssearch.getWMSUserContacts()).hasOwnProperty(uzuid)&&(0==(status=cobj[uzuid].STATUS)?(name=pname+" zgs19_gsWMSOffline",tip=zgssearch.getI18NMsg("gs.search.iam.offline")):1==status?(name=pname+" zgs19_gsWMSOnline",tip=zgssearch.getI18NMsg("gs.search.iam.online")):2==status?(name=pname+" zgs19_gsWMSInvisible",tip=zgssearch.getI18NMsg("gs.search.iam.invisible")):3==status?(name=pname+" zgs19_gsWMSBusy",tip=zgssearch.getI18NMsg("gs.search.iam.busy")):4==status&&(name=pname+" zgs19_gsWMSIdle",tip=zgssearch.getI18NMsg("gs.search.iam.idle")))),{name:name,tip:tip,status:status}},zgssearch.isMultiSelectResults=function(service,multiSelectValue,defValue){multiSelectValue=""+zgssearch.getFilterInfo(service,multiSelectValue,"current");return void 0!==multiSelectValue&&"undefined"!==multiSelectValue&&(multiSelectValue==defValue||1<multiSelectValue.split(",").length)}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.sseHolder=[],zgssearch.total_no_of_results=0,zgssearch.isCompleted=!1,zgssearch.isUpcoming=!1,zgssearch.calendarScrollValue=0,zgssearch.SECOND_IN_MILLIS=1e3,zgssearch.MINUTE_IN_MILLIS=6e4,zgssearch.HOURS_IN_MILLIS=36e5,zgssearch.DAY_IN_MILLIS=864e5;var GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.iWeightage=zgssearch.iWeightage||{},zgssearch.fWeightage=zgssearch.fWeightage||{},zgssearch.resultCount=zgssearch.resultCount||{},zgssearch.resultObject=zgssearch.resultObject||{},zgssearch.moreResultCount=zgssearch.moreResultCount||{},zgssearch.moreResultObject=zgssearch.moreResultObject||{},zgssearch.max_view_port_results_count=12,zgssearch.max_mod_results_count=4,zgssearch.max_mod_count=2,zgssearch.cursorObj=zgssearch.cursorObj||{},zgssearch.weightServices=zgssearch.weightServices||[],zgssearch.moduleRenderedInAllApps=zgssearch.moduleRenderedInAllApps||{},zgssearch.seletedLeftPanelDivision="search",zgssearch.filter_type="search_view",GSConstant.timeoutSSE=GSConstant.timeoutSSE?zgssearch.jsonParse(GSConstant.timeoutSSE):150,zgssearch.selectedSearchObj={},zgssearch.service_addtional_info={},zgssearch.storedServiceMod={},zgssearch.crmDataObj={},zgssearch.crmDispObj={},zgssearch.crmMandName={},zgssearch.crmCustomMod={},zgssearch.biginDataObj={},zgssearch.biginDispObj={},zgssearch.biginMandName={},zgssearch.chidVsMeta=zgssearch.chidVsMeta||{},zgssearch.pulseNetworkId=zgssearch.pulseNetworkId||{},zgssearch.pulseNetworkURL=zgssearch.pulseNetworkURL||{},zgssearch.crm_modules_data=[],zgssearch.multiStartSet=zgssearch.multiStartSet||0,zgssearch.multiResCount=zgssearch.multiResCount||0,zgssearch.multiResulList=zgssearch.multiResulList||{},zgssearch.multiResultObj=zgssearch.multiResultObj||{},zgssearch.multiPageEnabled=zgssearch.multiPageEnabled||!1,zgssearch.subMultiPageEnabled=zgssearch.subMultiPageEnabled||!1,zgssearch.widgetServiceList={},zgssearch.widgetServiceList[GSConstant.STREAMS]={label:zgssearch.getI18NMsg("gs.search.multi.account"),sublabel:zgssearch.getI18NMsg("gs.search.multi.module"),key:"accounts",subkey:"module"},zgssearch.widgetServiceList[GSConstant.MAILS]={label:zgssearch.getI18NMsg("gs.search.multi.account"),sublabel:zgssearch.getI18NMsg("gs.search.multi.module"),key:"accounts",subkey:"module"},zgssearch.widgetServiceList[GSConstant.CONNECT]={label:zgssearch.getI18NMsg("gs.search.multi.network"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.CRM]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SUPPORT]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.REPORTS]={label:zgssearch.getI18NMsg("gs.search.multi.database"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.WIKI]={label:zgssearch.getI18NMsg("common.wiki"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BOOKS]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ORGRESOURCES]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.INVOICE]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.CAMPAIGNS]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.WORKDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BIGIN]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.PROJECTS]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.DROPBOX]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.GOOGLEDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BOX]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SLACK]={label:zgssearch.getI18NMsg("gs.search.multi.database"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SALESFORCE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.O365MAIL]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ONEDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ASANA]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.EVERNOTE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.service_cursor_info=zgssearch.service_cursor_info||[],zgssearch.cursor_info_service_search=zgssearch.cursor_info_service_search||{},zgssearch.service_module_cursor_info=zgssearch.service_module_cursor_info||[],zgssearch.responseObj={},zgssearch.emptySearchAllowedFromExternal=[GSConstant.WEBSITE],zgssearch.getWidgetServiceList=function(service){return zgssearch.widgetServiceList[service]||{}},zgssearch.onSuccessFunction=function(key,data){zgssearch.preCheckForURLSearch();var response=zgssearch.jsonParse(data);switch(key){case"IWEIGHT":zgssearch.initialWeightage(response);break;case"WEIGHT":zgssearch.finalWeightage(response);break;case"NLP_TRACER":zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer);break;case"RESULT":zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),zgssearch.handleSSESearchResult(response);break;case"NONSSE":zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),zgssearch.handleNonSSESearchResult(response),zgssearch.closeMsg="CLOSE",zgssearch.closeConnection();break;case"VERSION":zgssearch.gsversion.handleVersionChanges(response);break;case"CLOSE":case"ERROR":zgssearch.closeSSEAction(key)}},zgssearch.closeSSEAction=function(key){zgssearch.isBuildChanged||(zgssearch.closeMsg=key,zgssearch.network.removeEventSource(),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||GSConstant.ALL===zgssearch.getSearchType()?zgssearch.handleSSESearchResult({closeSSEAction:!0}):zgssearch.closeConnection())},zgssearch.hasSearchResults=function(no_of_results){zgssearch.multiPageEnabled||zgssearch.scrollSearch?zgssearch.total_no_of_results+=no_of_results||0:zgssearch.total_no_of_results=no_of_results||0},zgssearch.hasSearchResultsNonSSE=function(obj){for(var service_name in obj)"weightage"!==service_name&&zgssearch.hasSearchResults(obj[service_name])},zgssearch.closeConnection=function(){zgssearch.filterFallback&&(zgssearch.filterFallback=!1,zgssearch.isClearRenderedFilters=!0,zgssearch.renderServiceFilterList(zgssearch.searchType)),zgssearch.renderMultiResults(),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader();var searchType=zgssearch.getSearchType();zgssearch.is_scroll_search=zgssearch.scrollSearch;var mresObj,page=zgssearch.GSConstant.ALL===searchType?"zgs20_gsAllSearchResultPage":"zgs20_gsModuleSearchResultPage";(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(searchType)||zgssearch.isServiceHasSubMultiPortals(searchType))&&(page="zgs20_gsMultiSearchResultPage"),0===zgssearch.total_no_of_results?(zgssearch.noMoreResults=!0,zgssearch.completedNoMoreResults=!0,zgssearch.futureNoMoreResults=!0,zgssearch.scrollSearch?"ERROR"==zgssearch.closeMsg&&zgssearch.errorResultPage("zgs20_gs"+searchType+"Template"):(zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),zgssearch.GSConstant.ALL!==searchType&&(zgssearch.displayModuleResultPage(),zgssearch.renderServiceFilterList(searchType),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0)),"CLOSE"===zgssearch.closeMsg?zgssearch.zeroResultsPage(page):"ERROR"!==zgssearch.closeMsg&&""!==zgssearch.closeMsg||zgssearch.isSearchCallActive&&navigator.onLine||zgssearch.errorResultPage(page))):zgssearch.scrollSearch||zgssearch.openFirstResultCallout(),zgssearch.scrollSearch&&!zgssearch.isBuildChanged&&(zgssearch.scrollSearch=!1,zgssearch.isScrollSearchResults||(zgssearch.getSearchType()==zgssearch.GSConstant.CALENDAR?zgssearch.isTopReached(mresObj="zgs20_gscalendarTemplate")?zgssearch.completedNoMoreResults=!0:zgssearch.isBottomReached(mresObj)&&(zgssearch.futureNoMoreResults=!0):zgssearch.noMoreResults=!0),zgssearch.isScrollSearchResults=!1),zgssearch.multiPageEnabled&&(mresObj=zgssearch.multiResultObj||{},zgssearch.renderMultiMorePageOption(mresObj,searchType),searchType!==zgssearch.GSConstant.SALESFORCE||zgssearch.is_scroll_search||(zgssearch.renderResultsForViewPort(searchType),setTimeout(function(){zgssearch.gskeyboard.checkAndInsertElements()},1e3))),zgssearch.subMultiPageEnabled&&zgssearch.renderSubMultiMorePageOption(searchType),zgssearch.multiPageEnabled||searchType!==zgssearch.GSConstant.SALESFORCE||zgssearch.is_scroll_search||zgssearch.renderResultsForViewPort(searchType),!zgssearch.scrollSearch&&zgssearch.isBuildChanged&&(zgssearch.noMoreResults=!1,zgssearch.completedNoMoreResults=!1,zgssearch.futureNoMoreResults=!1),zgssearch.moduleRenderedInAllApps={},zgssearch.isSearchCallActive=!1,searchType===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():zgssearch.EnablingSSIcon()},zgssearch.openFirstResultCallout=function(){var service_name,firstResult,first_click_elem;zgssearch.scrollSearch||zgssearch.firstResultCallOutShown||zgssearch.curSelectedEle||""!=zgssearch.curSelectedEle||(service_name=zgssearch.getSearchType(),zgssearch.gskeyboard.insertElement(),firstResult=zgssearch.gskeyboard.getFirstDataNode(),service_name===zgssearch.GSConstant.SALESFORCE&&(first_click_elem=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(first_click_elem=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],_jQueryGS(first_click_elem).find(".zgs19_gsSearchResultTable")[0]):_jQueryGS(_jQueryGS("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],firstResult=_jQueryGS(first_click_elem).attr("id")),!zgssearch.isMobViewport()&&firstResult&&_jQueryGS("#"+firstResult).click())},zgssearch.zeroResultsPage=function(pageId,addCls){var errMsg,sugg,cls,className;_jQueryGS("#zgs20_gsSearchResultRight").html(""),0===zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&(className=zgssearch.getSearchType(),errMsg=addCls||zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search"),sugg=addCls?"":zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search_try_different"),cls="zgs19_gsTryDifferent zgs19_gsOverflow",addCls="",className==GSConstant.ORGRESOURCES&&(sugg=zgssearch.getI18NMsg("gs.search.error.no_result_feedback_form"),cls="zgs19_gsFeedbackForm",addCls="zgs19_gsResultTitle",zgssearch.gsconnector.renderfeedbackForm()),className=zgssearch.isServiceHasFilter(className)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",_jQueryGS("#"+pageId).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(errMsg))).append(_jQueryGS("<div>",{class:cls}).append(_jQueryGS("<div>",{class:addCls}).text(sugg)))))},zgssearch.errorResultPage=function(errorEleH){var tryagainEle=zgssearch.getSearchType(),excep=zgssearch.getI18NMsg("gs.search.error.generic_error_messege"),className=zgssearch.isServiceHasFilter(tryagainEle)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",tryagainEle="";0<zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&(excep=zgssearch.getI18NMsg("gs.search.error.noresults_generic_error_messege"),tryagainEle=_jQueryGS("<div>",{class:"zgs19_gsTryDifferent zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.error.tryagain_generic_error_messege")))),_jQueryGS("#"+errorEleH).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(excep))).append(tryagainEle));errorEleH=_jQueryGS("#"+errorEleH).outerHeight(!0)-_jQueryGS("div#zgs20_gsAppsTemplate").outerHeight(!0);_jQueryGS("."+className).css("height",errorEleH+"px")},zgssearch.clearOldSelectedEle=function(){var elem=zgssearch.curSelectedEle;elem&&_jQueryGS(elem).css("background-color","#fff")},zgssearch.changeBGClass=function(elem,colorout,colorin){elem&&_jQueryGS(elem).removeClass(colorout).addClass(colorin)},zgssearch.initialWeightage=function(obj){zgssearch.iWeightage=obj,zgssearch.weightServices=[]},zgssearch.finalWeightage=function(obj){zgssearch.fWeightage=obj,zgssearch.fillEmptySlots()},zgssearch.setWeightServices=function(service){zgssearch.weightServices.push(service),zgssearch.fillEmptySlots()},zgssearch.fillEmptySlots=function(){for(var wObj=zgssearch.fWeightage||{},sObj=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),searchType=zgssearch.getSearchType(),len=zgssearch.weightServices.length,wi=0;wi<len;wi++){var target,acc_id,rlength,service=zgssearch.weightServices[wi];wObj.hasOwnProperty(service)&&zgssearch.isArrayContain(service,sObj)&&GSConstant.ALL==searchType&&(service=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,target=zgssearch.getTargetElem("zgs20_gs"+service+"Template"),acc_id=_jQueryGS(target).attr("acc_id"),rlength=zgssearch.getShownResultCount(service,acc_id),zgssearch.GSConstant.SALESFORCE,zgssearch.weightServices[wi]="",wObj[service]>rlength&&(zgssearch.renderSearchResults(service,!0,!1,acc_id),zgssearch.handleMoreOptionforWeightage(service,acc_id,target),zgssearch.jqueryMouseEvent()))}},zgssearch.handleMoreOptionforWeightage=function(service,acc_id,target){var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]);zgssearch.isArrayContain(service,sList)&&zgssearch.getServiceResultCount(service,acc_id)<=zgssearch.getShownResultCount(service,acc_id)&&zgssearch.hideResMoreOption(target,service)},zgssearch.handleSSESearchResult=function(response){var mobj;GSConstant.ALL===zgssearch.getSearchType()?(zgssearch.startResultTimer(),zgssearch.handleSearchResult(response)):zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(mobj=zgssearch.multiResultObj||{},_jQueryGS.isEmptyObject(mobj)&&(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()),zgssearch.scrollSearch?zgssearch.removeScrollLoader():zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.processSearchResponse(response)):zgssearch.scrollSearch?(zgssearch.removeScrollLoader(),zgssearch.processSearchResponse(response)):(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.processSearchResponse(response),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0))},zgssearch.startResultTimer=function(){zgssearch.isBrowserSupportSSE&&(zgssearch.timerEnabled||(zgssearch.timerEnabled=!0,zgssearch.sseWaitingTime=!0,setTimeout(function(){zgssearch.sseWaitingTime=!1,zgssearch.isDashboardOpened||zgssearch.isCardPageOpened||zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),zgssearch.loadSSEHolderSearchResults()},GSConstant.timeoutSSE)))},zgssearch.loadSSEHolderSearchResults=function(){var length=zgssearch.sseHolder.length;if(0<length){for(var sh=0;sh<length;sh++){var obj=zgssearch.sseHolder[sh];zgssearch.processSearchResponse(obj)}zgssearch.sseHolder=[]}},zgssearch.handleSearchResult=function(obj){zgssearch.sseWaitingTime?zgssearch.sseHolder.push(obj):zgssearch.processSearchResponse(obj)},zgssearch.handleNonSSESearchResult=function(response){zgssearch.gsversion.isBuildChanged(response)?(zgssearch.scrollSearch&&(zgssearch.accountUpdateForScroll=!0),zgssearch.firstResultCallOutShown=!0,zgssearch.curSelectedEle="",zgssearch.gsversion.handleVersionChanges(response)):zgssearch.toggleSearchResultsForNonSSE(response)},zgssearch.toggleSearchResultsForNonSSE=function(response){response.hasOwnProperty("nlp_tracer")&&(zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),delete response.nlp_tracer);var mobj,search_type=zgssearch.getSearchType();GSConstant.ALL===search_type?(zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),response.hasOwnProperty("weightage")&&zgssearch.finalWeightage(response.weightage)):zgssearch.scrollSearch?zgssearch.removeScrollLoader():(mobj=zgssearch.multiResultObj||{},_jQueryGS.isEmptyObject(mobj)&&(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.isServiceHasMultiPortals(search_type)&&(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&zgssearch.disablingSSIcon())),zgssearch.processSearchResponse(response)},zgssearch.processSearchResponse=function(response){if(response.hasOwnProperty("results"))for(var resultsArr=response.results,totres=resultsArr.length,serv=0;serv<totres;serv++){var serviceResArr=resultsArr[serv];if(1==serviceResArr.response_code)for(var service=serviceResArr.service,serviceAccRes=serviceResArr.service_results,tot_acc_results=serviceAccRes.length,acc=0;acc<tot_acc_results;acc++){var eachServRes=serviceAccRes[acc];zgssearch.generateSearchResult(service,eachServRes)}}else response.hasOwnProperty("closeSSEAction")&&response.closeSSEAction&&zgssearch.closeConnection()},zgssearch.displayResultPage=function(){zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.hideCalloutHolder(),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS("#zgs20_gsResultsHolder").css("display","block")},zgssearch.displayModuleResultPage=function(){zgssearch.clearModuleResultPage().style.display="block"},zgssearch.clearModuleResultPage=function(){_jQueryGS("#zgs20_gsSearchResultRight").html("");var module_elem=document.getElementById("zgs20_gsAllSearchResultPage");module_elem.innerHTML="",module_elem.style.display="none";var multi_portal_elem=document.getElementById("zgs20_gsMultiSearchResultPage");multi_portal_elem.innerHTML="",multi_portal_elem.style.display="none";module_elem=document.getElementById("zgs20_gsModuleSearchResultPage");return module_elem.innerHTML="",module_elem.style.display="none",zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?multi_portal_elem:module_elem},zgssearch.updateSubModuleFilter=function(currService,subModuleDispName,acc_id){var account_type=zgssearch.getAccountType(currService,acc_id),selectedModule_dispname=zgssearch.getSearchType()!==GSConstant.ALL;"1"===account_type&&selectedModule_dispname?(selectedModule_dispname=zgssearch.gFilterData[currService].accounts.alldata[acc_id],zgssearch.updateFilterInfo(currService,"accounts","dispname",selectedModule_dispname||""),zgssearch.updateFilterInfo(currService,"accounts","current",acc_id),zgssearch.updateSubMultiPageFlag(subModuleDispName),zgssearch.updateFilterInfo(currService,"module","current",subModuleDispName),subModuleDispName=zgssearch.getFilterData(currService,"module","data",subModuleDispName),zgssearch.updateFilterInfo(currService,"module","dispname",subModuleDispName)):zgssearch.updateSubMultiPageFlag("")},zgssearch.updateCurrentAccountDetails=function(serviceName,accId,metaData,is_cur_acc_update_need){var accName,portalName,deptName,connector_id,account_name,mlist;zgssearch.updateSpecificAccountDetails(serviceName,accId,metaData),zgssearch.isWidgetService(serviceName)&&(accName=(metaData=metaData||{}).hasOwnProperty("account_name")?metaData.account_name:zgssearch.getAccountNameFromWidget(serviceName,accId),serviceName===zgssearch.GSConstant.SUPPORT?accId&&metaData.hasOwnProperty("department_id")&&(deptName=metaData.department_id,zgssearch.updateFilterInfo(serviceName,"accounts","current",accId),zgssearch.updateFilterInfo(serviceName,"departments","current",deptName),portalName=zgssearch.getFilterData(serviceName,"accounts","data",accId),deptName=deptName.split(",")[0],deptName=zgssearch.getFilterData(serviceName,"departments","data",deptName),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",portalName),zgssearch.updateFilterInfo(serviceName,"departments","dispname",deptName)):serviceName===zgssearch.GSConstant.CRM||serviceName===zgssearch.GSConstant.BIGIN?(zgssearch.storeServiceResultsAdditionalInfo(serviceName,accId,metaData),(mlist=zgssearch.getFilterInfo(serviceName,"accounts","data"))&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",accId),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",mlist[accId])),(mlist=zgssearch.getFilterInfo(serviceName,"modules","data"))&&""!=mlist&&mlist.hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,"modules","current",accName),zgssearch.updateFilterInfo(serviceName,"modules","dispname",mlist[accName]))):serviceName===zgssearch.GSConstant.SALESFORCE?(zgssearch.storeServiceResultsAdditionalInfo(serviceName,accId,metaData),is_cur_acc_update_need=void 0===is_cur_acc_update_need||is_cur_acc_update_need,(connector_id=accId||metaData.account_id||metaData.CONNECTOR_ID||metaData.acc_id)&&is_cur_acc_update_need&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",connector_id),account_name=zgssearch.getFilterData(serviceName,"accounts","data",connector_id),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",account_name),(mlist=zgssearch.getFilterInfo(serviceName,"modules","data")).hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,"modules","current",accName),zgssearch.updateFilterInfo(serviceName,"modules","dispname",mlist[accName])))):serviceName===zgssearch.GSConstant.WEBSITE?(GSConstant.rD=metaData.rD,GSConstant.oD=metaData.oD,GSConstant.pId=metaData.pId,GSConstant.kbD=metaData.kbD):serviceName===zgssearch.GSConstant.ASANA?(connector_id=accId||metaData.account_id||metaData.CONNECTOR_ID||metaData.acc_id)&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",connector_id),account_name=zgssearch.getFilterData(serviceName,"accounts","data",connector_id),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",account_name),(mlist=zgssearch.getFilterInfo(serviceName,zgssearch.WS,"data")).hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,zgssearch.WS,"current",accName),zgssearch.updateFilterInfo(serviceName,zgssearch.WS,"dispname",mlist[accName]))):serviceName!=zgssearch.GSConstant.CAMPAIGNS&&(mlist=zgssearch.getWidgetServiceList(serviceName),zgssearch.updateFilterInfo(serviceName,mlist.key,"dispname",accName||""),zgssearch.updateFilterInfo(serviceName,mlist.key,"current",accId||"")))},zgssearch.storeServiceResultsAdditionalInfo=function(serviceName,fields,metaData){var connector_id;serviceName===GSConstant.CRM||serviceName===GSConstant.BIGIN?zgssearch.assignCRMMetaDetails(serviceName,fields,metaData):serviceName===GSConstant.SALESFORCE&&(connector_id=fields||metaData.CONNECTOR_ID||metaData.acc_id||metaData.account_id,fields=metaData.fields,zgssearch.setServiceResultsAdditionalInfo(serviceName,connector_id,metaData.modId,fields))},zgssearch.setServiceResultsAdditionalInfo=function(service_name,connector_id,modId,fields){zgssearch.service_addtional_info[service_name]=zgssearch.service_addtional_info[service_name]||{};var curr_fields=zgssearch.service_addtional_info[service_name][connector_id]||{};curr_fields[modId]=fields,zgssearch.service_addtional_info[service_name][connector_id]=curr_fields},zgssearch.getServiceResultsAdditionalInfo=function(service_name,connector_id){return zgssearch.service_addtional_info[service_name][connector_id]||{}},zgssearch.updateBooksModuleName=function(serviceName,module){if(module)for(var childMods in zgssearch.booksModulesObj){childMods=zgssearch.booksModulesObj[childMods];if(childMods.key==module){zgssearch.updateFilterInfo(serviceName,"searchin","dispname",childMods.value),zgssearch.updateFilterInfo(serviceName,"searchin","current",childMods.key);break}}},zgssearch.iterResultObjData=function(service_name,accId,metaData){service_name===GSConstant.CONNECT&&(zgssearch.pulseNetworkId[accId]=metaData.network_id,zgssearch.pulseNetworkURL[accId]=metaData.network_url)},zgssearch.storeResultObject=function(service_name,acc_id,metaData,resultArray){var index=0,resultObject={},no_of_results=metaData.no_of_results,completedIndex=-1,futureIndex=0;service_name===zgssearch.GSConstant.CALENDAR&&(zgssearch.isCompleted=0<metaData.completed_no_of_results,zgssearch.isUpcoming=0<metaData.future_no_of_results),zgssearch.isCursorSupportedService(service_name)&&(no_of_results=metaData.total_no_of_results),service_name===zgssearch.GSConstant.CLIQ&&(zgssearch.chidVsMeta=_jQueryGS.extend({},zgssearch.chidVsMeta,metaData.chidVsMeta));var mresObj=zgssearch.resultObject[service_name]||{},mcountObj=zgssearch.resultCount[service_name]||{},account_type=zgssearch.getAccountType(service_name,acc_id);if(zgssearch.isServiceHasMultiPortals(service_name))if(service_name===zgssearch.GSConstant.SALESFORCE||service_name==zgssearch.GSConstant.ASANA)zgssearch.storeMultiOrgModuleResults(service_name,acc_id,metaData,resultArray);else if(zgssearch.scrollSearch&&mcountObj.hasOwnProperty(acc_id)&&mresObj.hasOwnProperty(acc_id)&&(index=mcountObj[acc_id],resultObject=mresObj[acc_id]),zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)&&"1"===account_type){var index=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:index,resultObject=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{},moduleName=metaData.module_id;index=index.hasOwnProperty(moduleName)?index[moduleName]:0,resultObject=resultObject.hasOwnProperty(moduleName)?resultObject[moduleName]:{};for(var i=0;i<no_of_results;i++,index++)resultObject[moduleName+index]=resultArray[i];zgssearch.storeMultiModuleResults(service_name,acc_id,metaData,index,resultObject,mresObj,mcountObj)}else{for(i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];mcountObj[acc_id]=index,mresObj[acc_id]=resultObject,zgssearch.resultCount[service_name]=mcountObj,zgssearch.resultObject[service_name]=mresObj}else if(service_name===zgssearch.GSConstant.CALENDAR){if(zgssearch.scrollSearch&&(zgssearch.isCompleted&&(completedIndex=zgssearch.resultCount[service_name+"_completed"],completedIndex*=-1,--completedIndex),zgssearch.isUpcoming&&(futureIndex=zgssearch.resultCount[service_name+"_future"]),resultObject=zgssearch.resultObject[service_name]),zgssearch.isCompleted){for(i=0;i<metaData.completed_no_of_results;i++,completedIndex--)resultObject[service_name+completedIndex]=resultArray[i];completedIndex+=1}if(zgssearch.isUpcoming){i=0;for(zgssearch.isCompleted&&(i=metaData.completed_no_of_results);i<no_of_results;i++,futureIndex++)resultObject[service_name+futureIndex]=resultArray[i]}zgssearch.isCompleted&&(zgssearch.calendarScrollValue=85*(metaData.completed_no_of_results-1),zgssearch.resultCount[service_name+"_completed"]=-1*completedIndex),zgssearch.isUpcoming&&(zgssearch.resultCount[service_name+"_future"]=futureIndex),zgssearch.resultCount[service_name]=-1*completedIndex+futureIndex,zgssearch.resultObject[service_name]=resultObject}else if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.CAMPAIGNS||service_name===zgssearch.GSConstant.ASANA)zgssearch.storeMultiOrgModuleResults(service_name,acc_id,metaData,resultArray);else if(zgssearch.scrollSearch&&(index=zgssearch.resultCount[service_name],resultObject=zgssearch.resultObject[service_name]),zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)&&"1"===account_type){index=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:index,resultObject=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{};moduleName=metaData.module_id;index=index.hasOwnProperty(moduleName)?index[moduleName]:0,resultObject=resultObject.hasOwnProperty(moduleName)?resultObject[moduleName]:{};for(i=0;i<no_of_results;i++,index++)resultObject[moduleName+index]=resultArray[i];zgssearch.storeMultiModuleResults(service_name,acc_id,metaData,index,resultObject,mresObj,mcountObj)}else{for(i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];zgssearch.resultCount[service_name]=index,zgssearch.resultObject[service_name]=resultObject}},zgssearch.storeMultiModuleResults=function(currService,acc_id,moduleresultObj,index,resultObject,mresObj,mcountObj){var moduleName=moduleresultObj.module_id,moduleresultObj=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:{};moduleresultObj[moduleName]=index,mcountObj[acc_id]=moduleresultObj;moduleresultObj=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{};moduleresultObj[moduleName]=resultObject,mresObj[acc_id]=moduleresultObj,zgssearch.resultCount[currService]=mcountObj,zgssearch.resultObject[currService]=mresObj},zgssearch.storeMultiOrgModuleResults=function(service_name,acc_id,metaData,cardDetails,searchObj){var max_results_count=zgssearch.max_view_port_results_count;zgssearch.resetAccountMoreResObj(service_name,acc_id);var cardContext,module_results_data=cardDetails,mrdl=module_results_data.length,service_res=zgssearch.resultObject[service_name]||{},service_res_count=zgssearch.resultCount[service_name]||{},account_results_obj=zgssearch.storedServiceMod[service_name]||0,mresObj=service_res[acc_id]||{},mcountObj=service_res_count[acc_id]||{},searchType=zgssearch.getSearchType(),cardObj=service_name==zgssearch.GSConstant.ASANA?"workspaces":"modules",current_mod_name=zgssearch.getFilterInfo(service_name,cardObj,"current");searchObj&&(cardContext=(new zgssearch.dashboardSearchActions).createActionType(),cardDetails=searchObj.cardId,cardObj=zgssearch.gscardinDb.getOriginalCardId(cardDetails),cardObj=cardContext.getCardObjInContext(cardObj)||{},service_res=zgssearch.gscardsresult.cardResultsObj[cardDetails][service_name]||{},service_res_count=zgssearch.gscardsresult.cardResultsCount[cardDetails][service_name],searchType=(searchType=cardObj.service||service_name)||zgssearch.GSConstant.ALL,mresObj=service_res[acc_id]||{},mcountObj=service_res_count||{},cardDetails=(zgssearch.gscardfilter.tempCardIdsVsObj.hasOwnProperty(cardDetails)?zgssearch.gscardfilter.tempCardIdsVsObj[cardDetails]:cardObj).cardconfig,current_mod_name=zgssearch.gscardinDb.getFilterVal(cardDetails,"module")||zgssearch.GSConstant.ALL,_jQueryGS.isEmptyObject(cardObj)&&(current_mod_name=metaData.modId)),searchType===zgssearch.GSConstant.ALL&&(max_results_count=zgssearch.fWeightage[service_name]||zgssearch.iWeightage[service_name]||zgssearch.defaultMaxCount);var isListViewSearch=zgssearch.isListViewSearch();if("all"!==current_mod_name&&"0"!==current_mod_name){var resultObject={},index=0;service_res[acc_id]&&((_jQueryGS.isEmptyObject(searchObj)?"":zgssearch.cardScrollSearch[searchObj.cardId])||zgssearch.scrollSearch)&&service_res[acc_id]&&(resultObject=mresObj[current_mod_name]||{},index=mcountObj[current_mod_name]);for(var result=0;result<mrdl;result++,index++)resultObject[service_name+index]=module_results_data[result];mresObj[current_mod_name]=resultObject,mcountObj[current_mod_name]=index}else{var has_more_results=!1,temp_mresObj={},temp_mcountObj={},queryResCount=0,queryMoreResCount=0,account_results_count=metaData.modId,mod_resulsts=module_results_data,mrl=mod_resulsts.length;if(0<mrl)if(searchType===zgssearch.GSConstant.ALL||isListViewSearch||zgssearch.multiPageEnabled)if(zgssearch.multiPageEnabled&&account_results_obj>=zgssearch.max_mod_count){for(has_more_results=!0,resultObject={},result=0;result<mrl;result++)resultObject[service_name+result]=mod_resulsts[result];temp_mresObj[account_results_count]=resultObject,temp_mcountObj[account_results_count]=Object.keys(resultObject).length}else{zgssearch.storedServiceMod[service_name]=++account_results_obj;for(var resultObject={},temp_mod_results={},index=0,allowed_res_count=0,other_res_count=0,result=0;result<mrl;result++,index++)(searchObj||(searchType!=zgssearch.GSConstant.CAMPAIGNS||"0"!=current_mod_name&&"all"!=current_mod_name)&&isListViewSearch)&&!zgssearch.multiPageEnabled&&searchType!==zgssearch.GSConstant.ALL?(resultObject[service_name+result]=mod_resulsts[result],allowed_res_count++):allowed_res_count<zgssearch.max_mod_results_count&&0<max_results_count?(allowed_res_count++,max_results_count--,resultObject[service_name+result]=mod_resulsts[result]):(temp_mod_results[service_name+result]=mod_resulsts[result],other_res_count++);0<allowed_res_count&&(mresObj[account_results_count]=resultObject,mcountObj[account_results_count]=allowed_res_count),0<other_res_count&&(has_more_results=!0,temp_mresObj[account_results_count]=temp_mod_results,temp_mcountObj[account_results_count]=other_res_count)}else{for(var resultObject={},tempResObj={},result=0;result<mrl;result++,index++)result<zgssearch.max_mod_results_count?(queryResCount++,resultObject[service_name+result]=mod_resulsts[result]):(has_more_results=!0,queryMoreResCount++,tempResObj[service_name+result]=mod_resulsts[result]);mresObj[account_results_count]=resultObject,mcountObj[account_results_count]=Object.keys(resultObject).length,temp_mresObj[account_results_count]=tempResObj,temp_mcountObj[account_results_count]=Object.keys(tempResObj).length}if(!isListViewSearch&&!zgssearch.multiPageEnabled&&queryResCount<zgssearch.max_view_port_results_count&&0<queryMoreResCount){var mod,remainingCount=zgssearch.max_view_port_results_count-queryResCount;for(mod in temp_mresObj){if(remainingCount<0)break;var key,tempResults=temp_mresObj[mod],resultObj=mresObj[mod]||{};for(key in tempResults){if(remainingCount<0)break;resultObj[key]=tempResults[key],delete tempResults[key],remainingCount--}mresObj[mod]=resultObj,mcountObj[mod]=Object.keys(resultObj).length,temp_mresObj[mod]=tempResults,temp_mcountObj[mod]=Object.keys(tempResults).length}}}account_results_obj=zgssearch.resultObject[service_name]||{};account_results_obj[acc_id]=mresObj;var mrc,account_results_count=zgssearch.resultCount[service_name]||{};account_results_count[acc_id]=mcountObj,zgssearch.resultCount[service_name]=account_results_count,zgssearch.resultObject[service_name]=account_results_obj,searchObj&&((mrc={})[service_name]={},mrc[service_name][acc_id]=mresObj,zgssearch.gscardsresult.cardResultsObj[searchObj.cardId]=mrc,zgssearch.gscardsresult.cardResultsCount[searchObj.cardId][service_name]=mcountObj),has_more_results&&(zgssearch.moreResultObject=zgssearch.moreResultObject||{},(mrc=zgssearch.moreResultObject[service_name]||{})[acc_id]=temp_mresObj,zgssearch.moreResultObject[service_name]=mrc,zgssearch.moreResultCount=zgssearch.moreResultCount||{},(mrc=zgssearch.moreResultCount[service_name]||{})[acc_id]=temp_mcountObj,zgssearch.moreResultCount[service_name]=mrc)},zgssearch.resetAccountMoreResObj=function(service_name,account_id){zgssearch.moreResultObject=zgssearch.moreResultObject||{},service_name&&zgssearch.moreResultObject[service_name]&&(account_id&&zgssearch.moreResultObject[service_name][account_id]&&(zgssearch.moreResultObject[service_name][account_id]={}),account_id&&zgssearch.moreResultCount[service_name][account_id]&&(zgssearch.moreResultCount[service_name][account_id]={}))},zgssearch.reArragegeResultsForWeightage=function(service_name,acc_id,toBeShowResCount){var resultObject=zgssearch.getServiceResultObject(service_name,acc_id),result_mod_names=[];for(mod in resultObject)result_mod_names.push(mod);zgssearch.moreResultObject=zgssearch.moreResultObject||{};var serviceAccMoreResultObj=(zgssearch.moreResultObject[service_name]||{})[acc_id]||{},pushing_keys=[];for(mod in serviceAccMoreResultObj){if(toBeShowResCount<=0)break;var key,results=resultObject[mod]||{},moreResults=serviceAccMoreResultObj[mod]||{};for(key in moreResults){if(toBeShowResCount<=0)break;toBeShowResCount--,results[key]=moreResults[key],pushing_keys.push(key)}resultObject[mod]=results}var account_results_count=zgssearch.resultObject[service_name]||{};account_results_count[acc_id]=resultObject,zgssearch.resultObject[service_name]=account_results_count;var mod,account_results_count=zgssearch.resultCount[service_name]||{},resultCount={};for(mod in resultObject)resultCount[mod]=Object.keys(resultObject[mod]).length;account_results_count[acc_id]=resultCount,zgssearch.resultCount[service_name]=account_results_count},zgssearch.assignCRMMetaDetails=function(service,accId,metaData){var key,fullObj=metaData.modules_metadata||metaData.all_search;for(key in fullObj){var fobj=fullObj[key];zgssearch[service+"DataObj"][accId]&&zgssearch[service+"DispObj"][accId]&&zgssearch[service+"MandName"][accId]||(zgssearch[service+"DataObj"][accId]={},zgssearch[service+"DispObj"][accId]={},zgssearch[service+"MandName"][accId]={}),zgssearch[service+"DataObj"][accId][service+"_"+key]||(zgssearch[service+"DataObj"][accId][service+"_"+key]=fobj.search_data_type_columns,zgssearch[service+"DispObj"][accId][service+"_"+key]=fobj.search_display_columns,zgssearch[service+"MandName"][accId][service+"_"+key]=fobj.mand_col)}},zgssearch.checkUndefined=function(str){return void 0===str||"undefined"===str||"null"===str?"":str},zgssearch.addDefWelcomePageResult=function(service_name,acc_id,metaData,resultArray){var wsumm=zgssearch.getFilterInfo(GSConstant.ORGRESOURCES,"accounts","mdefault"),wtitle=acc_id||"";GSConstant.ORGRESOURCES!=service_name||!zgssearch.isListViewSearch()||wtitle!==wsumm||"0"===(wtitle=zgssearch.getFilterInfo(service_name,"modules","current"))&&void 0!==wtitle&&"undefined"!==wtitle&&metaData.no_of_results%zgssearch.fetchResCount==0&&(zgssearch.isDefWelAdded=!0,wsumm=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_tagline"),wtitle=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_header"),resultArray.unshift({cpt:"0",title:wtitle,summ:wsumm,url:"https://ziasearch.zohosites.com"}),metaData.no_of_results+=1,zgssearch.total_no_of_results+=1,zgssearch.storeResultObject(service_name,acc_id,metaData,resultArray))},zgssearch.getAccountNameFromWidget=function(service_name,accId){var account_name="",account_type="accounts";return account_name=""!==(account_type=service_name==zgssearch.GSConstant.CAMPAIGNS?"modules":account_type)?zgssearch.getFilterData(service_name,account_type,"data",accId):account_name},zgssearch.updateCursorInfo=function(service_name,cursor,cursor_info,cardId,total_no_of_results){var account_id=cursor||cursor_info.account_id||"",no_of_results=cursor_info.no_of_results,cursor=cursor_info.cursor||("object"==typeof total_no_of_results?total_no_of_results.cursor:""),total_no_of_results=cursor_info.total_no_of_results||0,cursor_info={};cursor_info.cursor=cursor,cursor_info.total_no_of_results=total_no_of_results,cursor_info.no_of_results=no_of_results,cardId?zgssearch.service_cursor_info[cardId]=cursor_info:""!==account_id?(zgssearch.service_cursor_info[service_name]=zgssearch.service_cursor_info[service_name]||{},zgssearch.service_cursor_info[service_name][account_id]=cursor_info):zgssearch.service_cursor_info[service_name]=cursor_info},zgssearch.getCursorInfo=function(service_name,accId){return""!==accId?zgssearch.service_cursor_info[service_name][accId]||{}:zgssearch.service_cursor_info[service_name]||{}},zgssearch.updateModuleCursorInfo=function(service_name,cursor_info,account_cursor){var account_id=cursor_info,cursor_info={};cursor_info.cursor=account_cursor;account_cursor={};account_cursor[account_id]=cursor_info,zgssearch.service_module_cursor_info=zgssearch.service_module_cursor_info||{},zgssearch.service_module_cursor_info[service_name]=account_cursor},zgssearch.getModuleCursorInfo=function(service_name,connector_id){return((zgssearch.service_module_cursor_info[service_name]||{})[connector_id]||{}).cursor||""},zgssearch.resetModuleCursorInfo=function(service_name,connector_id){(zgssearch.service_module_cursor_info[service_name]||{})[connector_id]={}},zgssearch.isCursorSupportedService=function(service_name){return-1<zgssearch.cursor_supported_services.indexOf(service_name)},zgssearch.validateStreamsEnabledData=function(){var enabledModule,enabledModuleTitle=zgssearch.gFilterData[GSConstant.MAILS].hasOwnProperty("module")?zgssearch.gFilterData[GSConstant.MAILS].module:"";enabledModuleTitle&&(enabledModuleTitle.alldata[GSConstant.STREAMS]=zgssearch.mailModuleVsDispName[GSConstant.STREAMS],enabledModuleTitle.data[GSConstant.STREAMS]=zgssearch.mailModuleVsDispName[GSConstant.STREAMS],zgssearch.gFilterData[GSConstant.MAILS].all_mod_list.push(GSConstant.STREAMS),zgssearch.gFilterData[GSConstant.MAILS].enabled_mod_list.push(GSConstant.STREAMS),zgssearch.configured_mail_module.push(GSConstant.STREAMS),zgssearch.isStreamsEnabled=!0,enabledModule=1==zgssearch.gFilterData[GSConstant.MAILS].all_mod_list.length?GSConstant.MAILS:GSConstant.ALL,zgssearch.dpa_mod=enabledModule,enabledModuleTitle=zgssearch.dpa_mod===GSConstant.ALL?zgssearch.getI18NMsg("common.allmodules"):zgssearch.getI18NMsg("gs.search.service_mails"),zgssearch.gFilterData[GSConstant.MAILS].module.default=enabledModule,zgssearch.gFilterData[GSConstant.MAILS].module.current=enabledModule,zgssearch.gFilterData[GSConstant.MAILS].module.dispname=enabledModuleTitle,zgssearch.gFilterData[GSConstant.MAILS].module.length=zgssearch.gFilterData[GSConstant.MAILS].enabled_mod_list.length)},zgssearch.generateSearchResult=function(service_name,serviceResArr){zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.removeQuerySugg();var sList=zgssearch.getServiceList("serviceList")||[],response_code=serviceResArr.response_code;if(1==response_code)if(zgssearch.isArrayContain(service_name,zgssearch.handlebarDependentService)&&zgssearch.isArrayContain(service_name,sList)&&!zgssearch.isHandlebarLoaded())zgssearch.waitForHandlebarLoad?zgssearch.handlebarsErrShown||(errorId=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?"zgs20_gsMultiSearchResultPage":"zgs20_gsModuleSearchResultPage",zgssearch.zeroResultsPage(errorId,zgssearch.getI18NMsg("gs.search.error.reload_error_message")),zgssearch.multiPageEnabled&&(zgssearch.handlebarsErrShown=!0)):setTimeout(function(){zgssearch.waitForHandlebarLoad=!0,zgssearch.generateSearchResult(service_name,serviceResArr)},2e3);else if(service_name===GSConstant.NOTEBOOK&&zgssearch.isArrayContain(service_name,sList)&&!zgssearch.isNotebookComponentLoaded)zgssearch.loadNotebookComponent(function(){zgssearch.generateSearchResult(service_name,serviceResArr)});else{var accId=serviceResArr.hasOwnProperty("account_id")?serviceResArr.account_id:"";if(serviceResArr.hasOwnProperty("account_results")){var modResArr=serviceResArr.account_results,totalmodRes=modResArr.length,currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;!zgssearch.multiPageEnabled&&1<totalmodRes&&currService!==zgssearch.GSConstant.ALL&&zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(zgssearch.updateSubModuleFilter(service_name,GSConstant.ALL,accId),zgssearch.displayModuleResultPage());for(var i=0;i<totalmodRes;i++){var account_name=modResArr[i],metaData=account_name.meta_data,resultArray=account_name.result_objects;if("appsearch"===service_name){zgssearch.onSuccessRelatedProducts(account_name);break}var no_of_results=metaData.no_of_results,resModuleName=metaData.hasOwnProperty("module_id")?metaData.module_id:"",totResults=no_of_results,account_type=zgssearch.getFilterInfo(zgssearch.GSConstant.SALESFORCE,"modules","current");service_name==GSConstant.SALESFORCE&&"all"===account_type&&(totResults=totalmodRes),zgssearch.isStreamsEnabled||GSConstant.STREAMS!==resModuleName||zgssearch.validateStreamsEnabledData(),zgssearch.hasSearchResults(totResults),account_name.account_id=accId,zgssearch.setResponseObject(service_name,accId,account_name,metaData);var account_type=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),serviceType=zgssearch.getSearchType();if(service_name==zgssearch.GSConstant.CRM&&!zgssearch.getFilterObj(service_name).accounts){var errorId=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?"zgs20_gsMultiSearchResultPage":"zgs20_gsModuleSearchResultPage";return void zgssearch.zeroResultsPage(errorId,zgssearch.getI18NMsg("gs.search.error.reload_error_message"))}zgssearch.updateCursorInfo(service_name,accId,metaData),service_name!=GSConstant.DROPBOX&&service_name!=GSConstant.GOOGLEDRIVE&&service_name!=GSConstant.SLACK&&service_name!=GSConstant.O365MAIL&&service_name!=GSConstant.ONEDRIVE||(zgssearch.cursorObj[accId]=zgssearch.getCursorInfo(service_name,accId)),service_name!==zgssearch.GSConstant.SALESFORCE&&service_name!==zgssearch.GSConstant.ASANA||zgssearch.updateModuleCursorInfo(service_name,accId,serviceResArr.cursor);account_name=metaData.account_name||zgssearch.getAccountNameFromWidget(service_name,accId);if(account_name&&(metaData.account_name=account_name),0<no_of_results&&zgssearch.isArrayContain(service_name,account_type)){zgssearch.storeResultObject(service_name,accId,metaData,resultArray),zgssearch.iterResultObjData(service_name,accId,metaData);account_type=zgssearch.getAccountType(service_name,accId);if(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||serviceType==zgssearch.GSConstant.ALL&&zgssearch.isServiceHasMultiPortals(service_name)){service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.updateCurrentAccountDetails(service_name,accId,metaData,!1),service_name!==zgssearch.GSConstant.BIGIN&&service_name!==zgssearch.GSConstant.CRM||zgssearch.assignCRMMetaDetails(service_name,accId,metaData);var res,templateService=zgssearch.isMultiDefaultAccount(service_name,accId),mresArr=zgssearch.multiResultObj[service_name]||[],accResPresent=!1;for(res in mresArr)accId==mresArr[res].account_id&&(accResPresent=!0);accResPresent||(templateService?mresArr.unshift(serviceResArr):mresArr.push(serviceResArr),zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||zgssearch.mail_module_subset.push(resModuleName))),zgssearch.updateSpecificAccountDetails(service_name,accId,metaData),zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||(zgssearch.mail_module_subset.push(resModuleName),mresArr.push(serviceResArr))),zgssearch.multiResultObj[service_name]=mresArr;var defAccId,defmetaData,defresArr;totResults==i+1||zgssearch.GSConstant.SALESFORCE,templateService&&(defAccId=accId,defmetaData=metaData,defresArr=resultArray,zgssearch.isArrayContain(service_name,zgssearch.multiModServices)||zgssearch.renderSingleMultiResults(service_name,accId,metaData,resultArray))}else zgssearch.moduleRenderedInAllApps[service_name]||(currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,templateService=service_name,resModuleName=metaData.module_id,zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||zgssearch.mail_module_subset.push(resModuleName),templateService=resModuleName,currService!==zgssearch.GSConstant.ALL&&zgssearch.updateSubModuleFilter(currService,resModuleName,accId)),zgssearch.scrollSearch?(zgssearch.isScrollSearchResults=!0,!zgssearch.accountUpdateForScroll&&currService!==zgssearch.GSConstant.CRM&&currService!==zgssearch.GSConstant.BIGIN||(zgssearch.updateCurrentAccountDetails(currService,accId,metaData),zgssearch.accountUpdateForScroll=!1),currService===zgssearch.GSConstant.CRM&&zgssearch.assignCRMMetaDetails(currService,accId,metaData),currService===zgssearch.GSConstant.SALESFORCE&&zgssearch.storeServiceResultsAdditionalInfo(currService,accId,metaData)):(zgssearch.updateCurrentAccountDetails(currService,accId,metaData),zgssearch.renderServiceFilterList(currService),zgssearch.createServiceTemplate(templateService,accId,metaData),zgssearch.addDefWelcomePageResult(currService,accId,metaData,resultArray)),zgssearch.renderSearchResults(templateService,!1,!1,accId),serviceType!=zgssearch.GSConstant.ALL||service_name!=zgssearch.GSConstant.SALESFORCE&&service_name!=zgssearch.GSConstant.CAMPAIGNS||0!=i||(zgssearch.moduleRenderedInAllApps[service_name]=!0),zgssearch.jqueryMouseEvent())}else zgssearch.scrollSearch&&(zgssearch.noMoreResults=!0)}(zgssearch.multiPageEnabled||serviceType==zgssearch.GSConstant.ALL)&&zgssearch.isArrayContain(service_name,zgssearch.multiModServices)&&defAccId&&zgssearch.renderSingleMultiResults(service_name,defAccId,defmetaData,defresArr),zgssearch.storedServiceMod[service_name]=0}}},zgssearch.renderMultiResults=function(){var searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{};if(zgssearch.GSConstant.ALL==searchType)for(var ser in mresObj)zgssearch.renderInnerMultiResults(mresObj,ser,1);else if(zgssearch.isArrayContain(searchType,zgssearch.account_based_filter_service_list)&&!zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)||zgssearch.resultCount.hasOwnProperty(searchType)){var currModulesList=[],currModuleResultList=[],submresObj=[],currentSelecteModule="",no_of_results=zgssearch.gFilterData[searchType],acc_id=no_of_results?no_of_results.accounts.current:"";if("1"===zgssearch.getAccountType(searchType,acc_id)){no_of_results.hasOwnProperty("enabled_mod_list")?(currentSelecteModule=(no_of_results=zgssearch.gFilterData[searchType].module.current)!==GSConstant.ALL?no_of_results:"")?(no_of_results=zgssearch.getServiceResultCount(currentSelecteModule,acc_id),zgssearch.getShownResultCount(currentSelecteModule,acc_id)<no_of_results&&currModulesList.push(currentSelecteModule)):currModulesList=zgssearch.configured_mail_module:zgssearch.isArrayContain(searchType,currModulesList)||currModulesList.push(searchType);for(var currSearchTypeResultsListLen=currModulesList.length,i=0;i<currSearchTypeResultsListLen;i++){var serviceResult=currModulesList[i]+acc_id,serviceResult=(zgssearch.responseObj.hasOwnProperty(serviceResult)?zgssearch.responseObj:zgssearch.multiResultObj)[serviceResult];serviceResult&&currModuleResultList.push(serviceResult)}0<currModuleResultList.length&&(submresObj[searchType]=currModuleResultList,zgssearch.renderInnerMultiResults(submresObj,searchType,currSearchTypeResultsListLen))}else zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)&&zgssearch.renderInnerMultiResults(mresObj,searchType)}else zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)&&zgssearch.renderInnerMultiResults(mresObj,searchType);zgssearch.openFirstResultCallout()},zgssearch.renderInnerMultiResults=function(mresObj,service,limit){var tempResArr=mresObj[service]||[],trlen=tempResArr.length;if(trlen){limit=limit||trlen;for(var acc=0;acc<trlen&&acc<limit;acc++){var eachres=tempResArr[acc],accId=eachres.account_id;if(eachres.hasOwnProperty("account_results"))for(var modResArr=eachres.account_results,totalModRes=modResArr.length,j=0;j<totalModRes;j++){var resArr=modResArr[j],metaData=resArr.meta_data,resArr=resArr.result_objects;zgssearch.renderSingleMultiResults(service,accId,metaData,resArr)}else zgssearch.renderSingleMultiResults(service,accId,eachres.meta_data,eachres.result_objects)}}else zgssearch.renderSingleMultiResults(service,tempResArr.account_id,tempResArr.meta_data,tempResArr.result_objects)},zgssearch.renderSingleMultiResults=function(service,accId,metaData,resultArray){var currService=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,multiServiceArr=zgssearch.multiResulList[currService]||[],account_id=(metaData.hasOwnProperty("module_id")?metaData.module_id:service)+(accId||metaData.account_id||metaData.CONNECTOR_ID);zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&service==zgssearch.GSConstant.MAILS&&(service=metaData.module_id),zgssearch.isArrayContain(account_id,multiServiceArr)||(zgssearch.multiResCount++,multiServiceArr.push(account_id),zgssearch.multiResulList[currService]=multiServiceArr,zgssearch.createServiceTemplate(service,accId,metaData),zgssearch.addDefWelcomePageResult(service,accId,metaData,resultArray),zgssearch.renderSearchResults(service,!1,!1,accId),zgssearch.jqueryMouseEvent())},zgssearch.handleResizeForMultiPortalPage=function(){var currService,filterData,account_type,searchType,mresObj;(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(mresObj="zgs20_MultiSearchPageHolder",account_type=zgssearch.getSearchType(),currService=zgssearch.isArrayContain(account_type,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[account_type].originService:account_type,filterData=zgssearch.gFilterData[currService],zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(account_type=filterData.accounts.current,account_type=zgssearch.getAccountType(currService,account_type),filterData.hasOwnProperty("enabled_mod_list")&&(searchType=filterData.module.current,"1"===account_type&&"all"!==searchType&&(mresObj="zgs20_gs"+searchType+"Template"))),zgssearch.setServiceResPaneHeight(mresObj),searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{},zgssearch.renderMultiMorePageOption(mresObj,searchType))},zgssearch.getMoreResultCount=function(searchType,current_acc_id){var more_res_count=0;current_acc_id=current_acc_id||"",zgssearch.moreResultCount=zgssearch.moreResultCount||{};var acc_id,moreResultCountObj=zgssearch.moreResultCount[searchType];for(acc_id in moreResultCountObj)if(""===current_acc_id||current_acc_id===acc_id){var mod,modResCountObj=moreResultCountObj[acc_id];for(mod in modResCountObj)more_res_count+=modResCountObj[mod];if(current_acc_id===acc_id)break}return more_res_count},zgssearch.getRenderedResultCount=function(searchType,current_acc_id){var res_count=0;current_acc_id=current_acc_id||"",zgssearch.resultCount=zgssearch.resultCount||{};var acc_id,sResCountObj=zgssearch.resultCount[searchType];for(acc_id in sResCountObj)if(""===current_acc_id||current_acc_id===acc_id){var mod,modResCountObj=sResCountObj[acc_id];for(mod in modResCountObj)res_count+=modResCountObj[mod];if(current_acc_id===acc_id)break}return res_count},zgssearch.renderModuleResults=function(service_name){service_name===zgssearch.GSConstant.SALESFORCE&&"all"!==zgssearch.getFilterInfo(zgssearch.GSConstant.SALESFORCE,"modules","current")&&zgssearch.renderResultsForViewPort(service_name)},zgssearch.renderAccountResults=function(service_name,current_acc_id){if(service_name===zgssearch.GSConstant.SALESFORCE){zgssearch.moreResultObject=zgssearch.moreResultObject||{};var moreResultObject=zgssearch.moreResultObject[service_name];if(moreResultObject){var accMoreResultObject=moreResultObject[current_acc_id],accResultObject=zgssearch.resultObject[service_name][current_acc_id],accResultCountObject=zgssearch.resultCount[service_name][current_acc_id];if(0<zgssearch.getMoreResultCount(service_name,current_acc_id)){for(var mod in accMoreResultObject){var key,results=accMoreResultObject[mod],temp_obj=accResultObject[mod]||{};for(key in results)temp_obj[key]=results[key];0<Object.keys(temp_obj).length&&(accResultObject[mod]=temp_obj,accResultCountObject[mod]=Object.keys(temp_obj).length)}zgssearch.resetAccountMoreResObj(service_name,current_acc_id)}}}},zgssearch.renderResultsForViewPort=function(searchType){if(searchType===zgssearch.GSConstant.SALESFORCE){if(0<zgssearch.getMoreResultCount(searchType)){var tarElem=zgssearch.getRenderedResultCount(searchType);if(tarElem<zgssearch.max_view_port_results_count){zgssearch.console.log(searchType+" Render more results for view port");var results_requires_count=zgssearch.max_view_port_results_count-tarElem;zgssearch.moreResultObject=zgssearch.moreResultObject||{};var moreResultObject=zgssearch.moreResultObject[searchType];for(acc_id in moreResultObject){var accResultObject=zgssearch.resultObject[searchType][acc_id],accResultObjectCount=zgssearch.resultCount[searchType][acc_id],moreModResObj=moreResultObject[acc_id];if(zgssearch.multiPageEnabled)for(var mod in moreModResObj){var temp_obj={};if(!accResultObject[mod]){var current_mod_res_count=0;for(key in results=moreModResObj[mod])current_mod_res_count<zgssearch.max_mod_results_count&&(temp_obj[key]=results[key],current_mod_res_count++,results_requires_count--),accResultObject[mod]=temp_obj,accResultObjectCount[mod]=Object.keys(temp_obj).length}}if(0<results_requires_count)for(var mod in moreModResObj){var key,results=moreModResObj[mod],temp_obj=accResultObject[mod]||{};for(key in results){if(results_requires_count<=0)break;temp_obj[key]=results[key],results_requires_count--}if(0<Object.keys(temp_obj).length&&(accResultObject[mod]=temp_obj,accResultObjectCount[mod]=Object.keys(temp_obj).length),results_requires_count<=0)break}if(results_requires_count<=0)break}for(var multiResultsData=zgssearch.multiResultObj[searchType],multiResultsDataLength=multiResultsData.length,acc=0;acc<multiResultsDataLength;acc++)for(var account_info=multiResultsData[acc],acc_id=account_info.account_id||account_info.CONNECTOR_ID||account_info.acc_id,totalModRes=account_info.account_results.length,j=0;j<totalModRes;j++)zgssearch.renderSearchResults(searchType,!1,!1,acc_id);tarElem=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],tarElem=_jQueryGS(tarElem).find(".zgs19_gsSearchResultTable")[0];zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.changeBGClass(tarElem,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem")}}zgssearch.Utils.setServiceModResultsWidth(searchType)}},zgssearch.hasVerticalScrollBar=function(target){var hasScroll=!1,target=zgssearch.getTargetElem(target);return hasScroll=target?target.scrollHeight>target.clientHeight:hasScroll},zgssearch.renderMultiMorePageOption=function(index,service){var tempResArr,ailen,sset;zgssearch.multiPageEnabled&&(zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder")||(tempResArr=index[service]||[],ailen=zgssearch.getWidgetServiceList(service),ailen=(index=zgssearch.getFilterInfo(service,ailen.key,"accIdArr")).length-1,0<(index=zgssearch.getMultiPageIndex(service,index,tempResArr))&&index<ailen&&0<zgssearch.multiResCount&&zgssearch.multiStartSet!=(sset=(index+index%2)/2)?zgssearch.handleMultiPageScroll(service,sset):zgssearch.weightageForMultiPage(service,tempResArr),zgssearch.jqueryMouseEvent()))},zgssearch.renderSubMultiMorePageOption=function(searchType){if(zgssearch.mappedServiceList[searchType]){var filterData=zgssearch.gFilterData.hasOwnProperty(searchType)?zgssearch.gFilterData[searchType]:"";if(filterData)for(var account_id=filterData.hasOwnProperty("accounts")?filterData.accounts.current:"",shownSubMultiResArr=zgssearch.resultToBeShown.hasOwnProperty(searchType)?zgssearch.resultToBeShown[searchType][account_id]:[],flag=!0;flag;){var isMore=!1;if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var confServices=shownSubMultiResArr?Object.keys(shownSubMultiResArr):[],trlen=confServices.length,i=0;i<trlen;i++){var target,eachSubService=confServices[i];shownSubMultiResArr[eachSubService]<zgssearch.getServiceResultCount(eachSubService,account_id)&&(zgssearch.renderSearchResults(eachSubService,isMore=!0,!1,account_id),target=zgssearch.getTargetElem("zgs20_gs_"+eachSubService+"_"+account_id+"Template"),zgssearch.handleMoreOptionforWeightage(eachSubService,account_id,target))}flag=isMore}}},zgssearch.getMultiPageIndex=function(service,accIdArr,tempResArr){var temp_acc_arr=[];if(-1<zgssearch.getEnabledCloudApps().indexOf(service)){var tempResArrLength=tempResArr.length;if(accIdArr.length-1>tempResArrLength){for(var need_update=!1,i=0;i<tempResArrLength;i++)if((trobj=tempResArr[i]).account_id!==accIdArr[i+1]){need_update=!0;break}if(need_update){temp_acc_arr.push("0");for(i=0;i<tempResArrLength;i++){var trobj=tempResArr[i];temp_acc_arr.indexOf(trobj.account_id)<=-1&&temp_acc_arr.push(trobj.account_id)}for(var accIdArrLength=accIdArr.length,i=0;i<accIdArrLength;i++)temp_acc_arr.indexOf(accIdArr[i])<=-1&&temp_acc_arr.push(accIdArr[i])}}}return temp_acc_arr.length<=0&&(temp_acc_arr=accIdArr),zgssearch.getSearchedMultiPageIndex(service,tempResArr,temp_acc_arr)},zgssearch.getSearchedMultiPageIndex=function(service,tempResArr,accIdArr){for(var index=-1,trlen=tempResArr.length,i=0;i<trlen;i++)var accIndex=tempResArr[i],accIndex=accIndex.account_id||accIndex.CONNECTOR_ID,accIndex=accIdArr.indexOf(accIndex),index=accIndex<index?index:accIndex;return zgssearch.isArrayContain(service,zgssearch.account_based_filter_service_list)&&zgssearch.gFilterData[service].all_mod_list&&1<zgssearch.gFilterData[service].all_mod_list.length&&index--,index},zgssearch.weightageForMultiPage=function(service,resArr){if(zgssearch.multiPageEnabled)for(var flag=!0;flag;){var isMore=!1;if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var trlen=resArr.length,i=0;i<trlen;i++)for(var trobj=resArr[i],account_id=trobj.account_id||"",modResArr=trobj.account_results,j=0;j<modResArr.length;j++){var metaData=modResArr[j].meta_data;service=metaData.hasOwnProperty("module_id")?metaData.module_id:service;var target=metaData.no_of_results,target=(target=service===GSConstant.SALESFORCE?metaData.hasOwnProperty("cursor")?metaData.cursor:modResArr.length:target)||0;zgssearch.getShownResultCount(service,account_id)<target&&(zgssearch.renderSearchResults(service,isMore=!0,!1,account_id),target=zgssearch.getTargetElem("zgs20_gs"+account_id+"Template"),zgssearch.handleMoreOptionforWeightage(service,account_id,target))}flag=isMore}},zgssearch.getResObjByAccId=function(service,acc_id,moduleName){var trobj={},tempResArr=(zgssearch.multiResultObj||{})[zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service]||[],trlen=tempResArr.length;if(0<trlen)for(var i=0;i<trlen;i++){var tempobj=tempResArr[i],account_id=tempobj.account_id||tempobj.CONNECTOR_ID||tempobj.acc_id;if(moduleName)if(tempobj.account_results[0].meta_data.module_id===moduleName){trobj=tempobj;break}if(account_id==acc_id){trobj=tempobj;break}}return trobj},zgssearch.loadSearchResults=function(service_name,acc_id,trobj){zgssearch.updateSearchType(service_name,trobj);var account_type=zgssearch.getAccountType(service_name,acc_id),moduleName="1"===account_type?_jQueryGS(trobj).attr("module_name")||zgssearch.dpa_mod:"",trobj=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;if(!zgssearch.multiPageEnabled&&zgssearch.isArrayContain(trobj,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(zgssearch.updateSubModuleFilter(trobj,moduleName,acc_id),zgssearch.resultToBeShown[trobj]=0),zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.gshistory.updateSearchURLParams(trobj),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||"1"===account_type){zgssearch.renderServiceFilterList(service_name),zgssearch.renderMultiResults();var mlist=zgssearch.multiResultObj||{};zgssearch.renderMultiMorePageOption(mlist,service_name),zgssearch.subMultiPageEnabled&&zgssearch.renderSubMultiMorePageOption(trobj)}else{mlist=zgssearch.getWidgetServiceList(service_name),trobj=zgssearch.getResObjByAccId(trobj,acc_id,moduleName);if(_jQueryGS.isEmptyObject(trobj))zgssearch.updateCurrentAccountDetails(service_name,acc_id);else for(var accResults=trobj.account_results,totAcc=accResults.length,j=0;j<totAcc;j++){var metaData=accResults[j].meta_data;zgssearch.updateCurrentAccountDetails(service_name,acc_id,metaData,!1)}zgssearch.updateChildFilterInfo(service_name,mlist.key,acc_id),zgssearch.renderServiceFilterList(service_name),zgssearch.createServiceTemplate(service_name),service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.renderAccountResults(service_name,acc_id),zgssearch.renderSearchResults(service_name,!1,!1,acc_id,moduleName)}service_name!==zgssearch.GSConstant.CALENDAR&&zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.jqueryMouseEvent()},zgssearch.getSpecificResultsObject=function(serviceObj,service,module){return service!==zgssearch.GSConstant.SALESFORCE&&service!==zgssearch.GSConstant.ASANA&&service!==zgssearch.GSConstant.CAMPAIGNS||!module?serviceObj:serviceObj[module]},zgssearch.findPosY=function(obj,target){var curtop=0;if(obj)if(obj.offsetParent){for(;null!=obj&&obj.offsetParent!=target;)curtop+=obj.offsetTop,obj=obj.offsetParent;0==curtop&&(curtop+=obj.offsetTop)}else obj.y?curtop+=obj.y:curtop+=obj.offsetTop;return curtop},zgssearch.findPosX=function(obj,target){var curleft=0;if(obj)if(obj.offsetParent){for(;null!=obj&&obj.offsetParent!=target;)curleft+=obj.offsetLeft,obj=obj.offsetParent;0==curleft&&(curleft+=obj.offsetLeft)}else obj.x?curleft+=obj.x:curleft+=obj.offsetLeft;return curleft},zgssearch.hasOwnProperty("onSuccessFunction")&&zgssearch.hasOwnProperty("serviceList")&&zgssearch.loadResultsFromHolder(),zgssearch.showBiggerSearch=function(){_jQueryGS("#zgs20_globalsearch").show(),zgssearch.focusForWeb("zgs20_gsQueryBox"),_jQueryGS("#zgs20_zohosearchLoader").hide()},zgssearch.resetZiaMobileResultArea=function(){var resultDisp=_jQueryGS("#zgs20_gsSearchResultRight").css("display"),calloutDisp=_jQueryGS("#zgs20_gsSearchResultMiddle").css("display");"block"!=resultDisp&&"block"!=calloutDisp||(zgssearch.isMobViewport()?(zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.firstResultCallOutShown=!1,zgssearch.curSelectedEle="",_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("width","100%"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none")):(_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS(".zgs19_gsCalloutActionMob").css("display","none"),_jQueryGS(".zgs19_gsMobDisableFields").css("display","block"),zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)")))},zgssearch.resetZiaMobileCalloutArea=function(){var resultDisp=_jQueryGS("#zgs20_gsSearchResultRight").css("display"),calloutDisp=_jQueryGS("#zgs20_gsSearchResultMiddle").css("display");"block"!==resultDisp&&"block"!==calloutDisp||zgssearch.isMobViewport()||zgssearch.curSelectedEle||0===zgssearch.total_no_of_results||zgssearch.openFirstResultCallout()},zgssearch.getLHSServicePaneHeight=function(){return"ZW"===gscomponent.pcode&&(gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia)?0:_jQueryGS("#zgs20_gsSearchResultLeft").height()},zgssearch.getWMSBarHeight=function(){return zgssearch.isMobViewport()?0:_jQueryGS("#wmstoolbar").height()||28},zgssearch.setCalloutPreview=function(){var rightPreviewL;gscomponent.isResizeEnabled()&&(rightPreviewL=gscomponent.isResizeEnabled()?zgssearch.getLHSServicePaneWidth():"auto",rightPreviewL=zgssearch.isMaxCalloutOpen?rightPreviewL+"px":"auto",_jQueryGS("#zgs20_gsSearchResultRight").css("left",rightPreviewL))},zgssearch.setSearchBoxSegmentSize=function(){var extraIconW,searchBoxW=_jQueryGS(".zgs19_gsqryinnerdiv").outerWidth(!0);0<searchBoxW&&(searchBoxW=searchBoxW-(_jQueryGS("#zgs20_gsQueryCloseBox").outerWidth(!0)+(extraIconW=(_jQueryGS("#zgs20_gsSSIconHolder").is(":visible")?_jQueryGS("#zgs20_gsSSIconHolder").outerWidth(!0):0)+(_jQueryGS(".zgs19_gsnlpZia").is(":visible")?_jQueryGS(".zgs19_gsnlpZia").outerWidth(!0):0)+10)+(_jQueryGS("#zgs20_gsQueryBoxHolder > zgs20_gsMenuOptionHolder").is(":visible")?_jQueryGS(".#zgs20_gsQueryBoxHolder > zgs20_gsMenuOptionHolder").outerWidth(!0):0)),_jQueryGS("#zgs20_gsQueryCloseBox").css("right",extraIconW),_jQueryGS("#zgs20_gsQueryBox").css("width",searchBoxW),_jQueryGS("#zgs20_gsQueryDiv").css("width",searchBoxW))},zgssearch.isWPSmartViewPort=function(){if("ZW"!==gscomponent.pcode||!gscomponent.isWPSmartViewEnabled&&!zgssearch.isWPSmartViewEnabledinZia)return!1;var zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0;return zgssearch.isWPSmartViewEnabledinZia=0!=zsWidth&&zsWidth<=768,gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia},zgssearch.switchWPSmartView=function(resultsAreaMinW,calloutAreaW){void 0!==calloutAreaW?zgssearch.isWPSmartViewEnabledinZia=calloutAreaW:gscomponent.isWPSmartViewEnabled=resultsAreaMinW,zgssearch.isSmartViewServicePaneOpened=!1,gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia?(zgssearch.isWPSmartViewEnabledComponent||(zgssearch.isWPSmartViewEnabledComponent=!0,height=_jQueryGS("<div>",{class:"zgs18_gsSVLHSArrow zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),_jQueryGS(height).insertAfter("#zgs20_gsSearchResultLeft"),resultsAreaW=_jQueryGS("<div>",{id:"zgs20_gsSVOverlayDialog",class:"zgs19_gsSVOverlayDialog zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),_jQueryGS(resultsAreaW).insertBefore("#zgs20_gsSearchTopBandHolder")),_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView")):_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPSmartView"),zgssearch.leftServicePaneW=gscomponent.isResizeEnabled()?zgssearch.getLHSServicePaneWidth():"auto";var resultAndCalloutAreaW=_jQueryGS("#zgs20_gsHolder").width()||0;resultAndCalloutAreaW-=zgssearch.leftServicePaneW;var calloutAreaW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,resultsAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,height=parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,resultsAreaW=Math.floor(.4*resultAndCalloutAreaW),resultsAreaW=resultsAreaW<=calloutAreaW?resultsAreaW<resultsAreaMinW?resultsAreaMinW:resultsAreaW:calloutAreaW,calloutAreaW=resultAndCalloutAreaW-resultsAreaW,height=calloutAreaW=height<calloutAreaW?calloutAreaW:height;zgssearch.setCalloutPreview(),calloutAreaW=zgssearch.isMaxCalloutOpen?resultAndCalloutAreaW:calloutAreaW,_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",calloutAreaW+"px"),zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,height),zgssearch.setSearchBoxSegmentSize(),_jQueryGS("#zgs20_gsQuerySugg").css("margin-left",_jQueryGS(".zgs19_gsqryinnerdiv").position().left);height=_jQueryGS("#zgs20_gsHolder").height()-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0);_jQueryGS("#zgs20_gsSearchResultsArea").css("height",height+"px"),_jQueryGS("#zgs20_gsResultsHolder").css("height",height+"px"),zgssearch.resetZiaMobileResultArea(),zgssearch.resetZiaMobileCalloutArea()},zgssearch.toggleSmartViewServicePane=function(isSmartViewServicePaneOpened){zgssearch.isSmartViewServicePaneOpened=isSmartViewServicePaneOpened,zgssearch.isSmartViewServicePaneOpened?(_jQueryGS(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsDisplayBlock"),_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsSmartViewServices")):(_jQueryGS(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayBlock").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsSmartViewServices"))},zgssearch.handlerWPMobileSmartView=function(){var zsWidth;2!==gscomponent.UIType&&("ZW"===gscomponent.pcode&&zgssearch.isWPSmartViewPort()?(_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView"),0!=(zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0)&&zsWidth<=768?_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPMobileSmartView"):_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView"),zgssearch.switchWPSmartView(!0,!0)):(_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView").removeClass("zgs19_gsWPSmartView"),zgssearch.switchWPSmartView(!1,!1)))},zgssearch.setEmbedZOSElemSize=function(){var resultsAreaMaxW=gscomponent.uiPosition(),middlePercentageW=resultsAreaMaxW.hasOwnProperty("left")?resultsAreaMaxW.left+" !important; ":"",resultAndCalloutAreaW=resultsAreaMaxW.hasOwnProperty("right")?resultsAreaMaxW.right+" !important; ":"",resultsAreaW=resultsAreaMaxW.hasOwnProperty("top")?resultsAreaMaxW.top+" !important; ":"",height=resultsAreaMaxW.hasOwnProperty("height")?resultsAreaMaxW.height:"",resultsAreaMinW=resultsAreaMaxW.hasOwnProperty("width")?resultsAreaMaxW.width:"",calloutAreaW=resultsAreaMaxW.hasOwnProperty("margin-top")?resultsAreaMaxW["margin-top"]:"",resultsAreaMaxW=resultsAreaMaxW.hasOwnProperty("margin-left")?resultsAreaMaxW["margin-left"]:"";2===gscomponent.UIType?_jQueryGS("#zgs20_gsHolder").css("cssText","left: "+middlePercentageW+" !important; top: "+resultsAreaW+"margin-top: 0px !important; margin-left: 0px !important;"):(_jQueryGS("#zgs20_gsHolder").css("left",middlePercentageW),_jQueryGS("#zgs20_gsHolder").css("right",resultAndCalloutAreaW),_jQueryGS("#zgs20_gsHolder").css("top",resultsAreaW),_jQueryGS("#zgs20_gsHolder").css("margin-top",calloutAreaW),_jQueryGS("#zgs20_gsHolder").css("margin-left",resultsAreaMaxW)),_jQueryGS("#zgs20_gsHolder").css("height",height),_jQueryGS("#zgs20_gsHolder").css("width",resultsAreaMinW),zgssearch.handlerWPMobileSmartView();middlePercentageW=zgssearch.getLHSServicePaneWidth(),resultAndCalloutAreaW=(2===gscomponent.UIType?_jQueryGS("#zgs20_gsHolder").width():parseInt(resultsAreaMinW.replace("px","")))-middlePercentageW,calloutAreaW=resultAndCalloutAreaW-(resultsAreaW=_jQueryGS("#zgs20_gsSearchResultMiddle").width());if(4===gscomponent.UIType){var resultsAreaMaxW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,resultsAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,minPrev=parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,middlePercentageW=Math.floor(.4*resultAndCalloutAreaW),resultsAreaW=middlePercentageW<=resultsAreaMaxW?middlePercentageW<resultsAreaMinW?resultsAreaMinW:middlePercentageW:resultsAreaMaxW;if("ZW"===gscomponent.pcode&&calloutAreaW<minPrev)return void zgssearch.switchWPSmartView(!0,!0);calloutAreaW=minPrev<(calloutAreaW=resultAndCalloutAreaW-resultsAreaW)?calloutAreaW:minPrev}minPrev=calloutAreaW;zgssearch.setCalloutPreview(),calloutAreaW=zgssearch.isMaxCalloutOpen?resultAndCalloutAreaW:calloutAreaW,_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",calloutAreaW+"px"),zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,minPrev),zgssearch.setSearchBoxSegmentSize(),_jQueryGS("#zgs20_gsQuerySugg").css("margin-left",_jQueryGS(".zgs19_gsqryinnerdiv").position().left),height=_jQueryGS("#zgs20_gsHolder").height()-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:resultAndCalloutAreaW+"px",height:height+"px"}),_jQueryGS("#zgs20_gsResultsHolder").css("height",height+"px")},zgssearch.setSearchBoxWidth=function(){var width=_jQueryGS(window).width(),logoholderWth=_jQueryGS("#zgs20_gsLogoHolder").width(),infoBoxWth=_jQueryGS("#zgs20_gsSearchBoxRight").width(),searchboxWid=_jQueryGS(".zgs19_searchbtnOuter").width();_jQueryGS("#zgs20_gsQueryBoxHolder").css("width",width-logoholderWth-infoBoxWth-searchboxWid+"px")},zgssearch.setGSElemSize=function(){var bannerHeight,isDashboardOpened,isCardPageOpened,height=_jQueryGS(window).height(),isSettingsOpened=_jQueryGS(window).width();2===gscomponent.UIType||4===gscomponent.UIType?zgssearch.setEmbedZOSElemSize():(zgssearch.resetZiaMobileResultArea(),bannerHeight=zgssearch.getWMSBarHeight(),isCardPageOpened=zgssearch.isDashboardEnabled?zgssearch.getLHSServicePaneWidth():0,height-=bannerHeight,_jQueryGS("#zgs20_zohosearch").css("height",height+"px"),_jQueryGS("#zgs20_zohosearch").css("width",isSettingsOpened+"px"),isDashboardOpened=height-(bannerHeight=0<(isDashboardOpened=_jQueryGS("#zgs20_gsNotificationBanner")).length?isDashboardOpened.outerHeight(!0):0),_jQueryGS("#zgs20_zohosearchWrapper").css("height",isDashboardOpened+"px"),_jQueryGS("#zgs20_zohosearchWrapper").css("width",isSettingsOpened+"px"),_jQueryGS("#zgs20_gsOverlayDialog").css("top",bannerHeight+"px"),_jQueryGS("#zgs20_gsOverlayDialog").css("height",isDashboardOpened+"px"),height=_jQueryGS("#zgs20_zohosearchWrapper").outerHeight(!0)-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),_jQueryGS("#zgs20_globalsearch").css("height",height+"px"),_jQueryGS("#zgs20_globalsearch").css("width",isSettingsOpened+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("height",height+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("width",isSettingsOpened+"px"),_jQueryGS("#zgs20_gsSearchBottomHolder").css("left",isCardPageOpened),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:isSettingsOpened-isCardPageOpened+"px",height:height+"px"}),zgssearch.setSearchBoxWidth(),isDashboardOpened=document.getElementById("zgs20_gsSearchBtn")?_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_searchbtnOuter").outerWidth(!0):0,isCardPageOpened=_jQueryGS("div.zgs19_gsSearchTopBandHolder").width()-(_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_gsLogoHolder").outerWidth(!0)+_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_gsInfoBox").outerWidth(!0)+isDashboardOpened),_jQueryGS("div.zgs19_gsQueryBoxHolder").css("width",isCardPageOpened+"px"),zgssearch.setSearchBoxSegmentSize(),zgssearch.setSizeForRespectiveResultsArea(),zgssearch.GSConstant.isNLPTracerEnabled&&_jQueryGS("#zgs20_gsnlpTracerData").css("height",_jQueryGS("#zgs20_globalsearch").height()),zgssearch.isOpenDoubleClickPopup&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1,zgssearch.isOpenPopup=!1),zgssearch.isMenuPopUpOpened&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1,zgssearch.openContextPopup=!1),zgssearch.isAttendeesListOpened&&(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1),zgssearch.isAttendeeMenuPopUp&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1),zgssearch.isCardMenuOpened&&zgssearch.gscards.cardsMenuPositionCalc(),zgssearch.showQuickActionsPage&&zgssearch.isDashboardEnabled&&(zgssearch.hideWelcomePage(),zgssearch.renderHomePageQuickActions()),isDashboardOpened=zgssearch.gsdbUtils.isDashboardOpened(),isCardPageOpened=zgssearch.gscardUtils.isCardPageOpened(),zgssearch.isMobViewport()?(zgssearch.showQuickActionsPage&&(zgssearch.hideQuickActionsPage(),document.getElementById("zgs20_gsWelcomePage")?zgssearch.showWelcomePage():zgssearch.renderWelcomePage()),zgssearch.gsusersettings=zgssearch.gsusersettings||{},void 0!==zgssearch.gsusersettings.isSettingsOpened&&zgssearch.gsusersettings.isSettingsOpened&&(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()),(isDashboardOpened||isCardPageOpened)&&(zgssearch.gsdbhome.isAddCardPopupOpened&&zgssearch.gsaddcards.removeAddCardPopupAction(!1),zgssearch.closeActionForCards(),zgssearch.hideDashboard(),zgssearch.setHighlightForLeftDivisonPanel("search"),zgssearch.clickActionForServiceList(GSConstant.ALL),zgssearch.gsusersettings.changeUrlBeforeSettingsClose()),zgssearch.hideManageAppPopUp(),servListheight=400<isSettingsOpened?isSettingsOpened:400,_jQueryGS("#zgs20_gsSearchResultsArea").css("width",servListheight),_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",servListheight),_jQueryGS("#zgs20_gsSearchResultRight").css("width",servListheight)):_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform",""),zgssearch.resetZiaMobileCalloutArea()),zgssearch.setLHSHiddenScrollHeight(),zgssearch.handleResizeForMultiPortalPage();isSettingsOpened=!!zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened;isSettingsOpened&&zgssearch.gsusersettings.resizeSettingsPage(),isCardPageOpened&&zgssearch.gscards.handleResizeForCards(),isDashboardOpened&&zgssearch.gsdbhome.setSizeForDashboards();var servListheight=_jQueryGS("#zgs20_gsResultsHolder").height();_jQueryGS("#zgs20_gsServicesListOrder").css({height:servListheight-_jQueryGS("#zgs20_gsSettingsHolder").height()+"px","border-bottom":"1px solid #ddd;"}),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:servListheight+"px"});servListheight=_jQueryGS("#zgs20_gsSearchResultLeft").height()-_jQueryGS("#zgs20_gsSettingsHolder").outerHeight();zgssearch.isDashboardEnabled&&(servListheight-=_jQueryGS("#zgs20_gsDashboardHolder").outerHeight()),_jQueryGS("#zgs20_gsServListHolder").css("height",servListheight),isDashboardOpened||isCardPageOpened||isSettingsOpened||(zgssearch.setAllServiceEleSize(),zgssearch.setServicesFilterWidth()),zgssearch.setShowAppsResMin("resize")},zgssearch.setSizeForRespectiveResultsArea=function(){var resultsAreaW=zgssearch.getLHSServicePaneWidth(),resultAndCalloutAreaW=_jQueryGS("#zgs20_gsHolder").width()-resultsAreaW,calloutAreaW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,resultsAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,minPrev=parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,resultsAreaW=Math.floor(.4*resultAndCalloutAreaW),resultsAreaW=resultsAreaW<=calloutAreaW?resultsAreaW<resultsAreaMinW?resultsAreaMinW:resultsAreaW:calloutAreaW,calloutAreaW=resultAndCalloutAreaW-resultsAreaW,minPrev=calloutAreaW=minPrev<calloutAreaW?calloutAreaW:minPrev;calloutAreaW=zgssearch.isMaxCalloutOpen?resultAndCalloutAreaW:calloutAreaW,_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",calloutAreaW+"px"),"search"==zgssearch.seletedLeftPanelDivision&&zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,minPrev)},zgssearch.setResultPreviewWidth=function(maxPrev,minPrev){zgssearch.maxPrevPane=null!=typeof zgssearch.maxPrevPane?maxPrev:zgssearch.maxPrevPane,zgssearch.minPrevPane=null!=typeof zgssearch.minPrevPane?minPrev:zgssearch.minPrevPane},zgssearch.setAllServiceEleSize=function(){var service_name=_jQueryGS(zgssearch.curSelectedEle).attr("service"),resPaneEleId=_jQueryGS("#zgs20_gsSearchResultMiddle").height(),curResEleId="zgs20_gsAllSearchResultPage",searchType=zgssearch.getSearchType(),curResPageHeight=0,currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,filterData=zgssearch.gFilterData[currService];curResPageHeight=searchType!==GSConstant.ALL?(curResEleId="zgs20_gs"+searchType+"Template",(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(curResEleId="zgs20_MultiSearchPageHolder"),zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&currService==zgssearch.GSConstant.MAILS&&(accId=filterData.accounts.current,account_type=zgssearch.getAccountType(currService,accId),currentModule=filterData.module.current,"1"===account_type&&"all"!==currentModule&&(curResEleId="zgs20_gs"+currentModule+"Template")),resPaneEleId-(_jQueryGS("#zgs20_gsModuleFilterList").height()||0)):resPaneEleId;var accId,account_type,currentModule,resPaneEleId="",resPaneEleId=searchType==GSConstant.ALL?"zgs20_gsAllSearchResultPage":zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?"zgs20_MultiSearchPageHolder":"zgs20_gs"+searchType+"Template";if(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&currService==zgssearch.GSConstant.MAILS&&(accId=filterData.accounts.current,account_type=zgssearch.getAccountType(currService,accId),currentModule=filterData.module.current,"1"===account_type&&"all"!==currentModule&&(resPaneEleId="zgs20_gs"+currentModule+"Template")),zgssearch.setServiceResPaneHeight(resPaneEleId),zgssearch.isMobViewport()&&(curResPageHeight-=zgssearch.getLHSServicePaneHeight()),service_name){var service_info,scallout=zgssearch.mappedServiceList[service_name].callout;switch(service_name){case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.REPORTS:case GSConstant.CREATOR:case GSConstant.CRM:case GSConstant.WORKDRIVE:case GSConstant.CHAT:case GSConstant.CLIQ:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.WEBSITE:case GSConstant.ORGRESOURCES:case GSConstant.SLACK:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:zgssearch[scallout].setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.DOCUMENTS:case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.ONEDRIVE:var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service_name,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.PEOPLE:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:zgssearch.gscontacts.setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.SALESFORCE:(service_info={}).service_name=zgssearch.GSConstant.SALESFORCE,service_info.acc_id=zgssearch.getResultAccountId(),(new zgssearch.ZSCRMFactory).createCRM(service_info).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.ASANA:case GSConstant.PROJECTS:(service_info={}).service_name=service_name,service_info.acc_id=zgssearch.getResultAccountId(),(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.EVERNOTE:zgssearch.notesTemplateInstance.setServiceEleSize(curResEleId,curResPageHeight)}}},zgssearch.callingAttachEvent=function(event){document.getElementById("zgs20_globalsearch").setAttribute("data-disableShortcuts",!0),document.getElementById("zgs20_gsSearchResultsArea").setAttribute("data-disableShortcuts",!0)},zgssearch.callingDeattachEvent=function(event){document.getElementById("zgs20_globalsearch").removeAttribute("data-disableShortcuts"),document.getElementById("zgs20_gsSearchResultsArea").removeAttribute("data-disableShortcuts")},zgssearch.preCheckForURLSearch=function(){var searchType;(zgssearch.isURLParamsSearch||zgssearch.isExternalSearch)&&(zgssearch.queryOrigin=1,zgssearch.isExternalSearch=!1,zgssearch.isURLParamsSearch=!1,searchType=zgssearch.getSearchType(),GSConstant.ALL==searchType||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||zgssearch.isServiceHasMultiPortals(searchType)&&(zgssearch.multiPageEnabled=!0))},zgssearch.checkExternalQueries=function(){var filter=zgssearch.domainOriginObj||{},query=filter.query||"",service=filter.service||"";GSConstant.ziaOrigin=filter.fromOrigin||"";var service=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(service):service,searchType=zgssearch.isServiceSearch?zgssearch.getSearchType():GSConstant.ALL,olist=zgssearch.getOrderedServiceList();zgssearch.isArrayContain(service,olist)&&(searchType=service),(zgssearch.isQueryValid(query)||gscomponent.isEmptySearchAllowed||zgssearch.isArrayContain(service,zgssearch.emptySearchAllowedFromExternal))&&(document.getElementById("zgs20_gsQueryBox").value=query,document.getElementById("zgs20_gsQueryDiv").innerText=query,zgssearch.queryOrigin=3,zgssearch.isExternalSearch=!0,filter=filter.filter||"",zgssearch.hasOwnProperty("onSuccessFunction")&&GSConstant.hasOwnProperty("widgetObject")&&""!==filter&&zgssearch.updateFilterParamsForService(service,filter),zgssearch.handleUserSearchQuery(query,searchType))},zgssearch.setSearchProperty=function(isSearchEnabled){4===gscomponent.UIType&&(gscomponent.isSameQrySearchEnabled=isSearchEnabled)},2!==gscomponent.UIType&&4!==gscomponent.UIType||zgssearch.fetchWidgetDetails(),gscomponent.isResizeEnabled()&&zgssearch.setGSElemSize(),1===gscomponent.UIType&&(zgssearch.showBiggerSearch(),zgssearch.gszohosearch.triggerBiggerZOSUI()),zgssearch.preThemeSetup=function(){gscomponent.isResizeEnabled()||(zgssearch.isCliqDomain&&!_jQueryGS("#zgs20_globalsearch").hasClass("zgs19_gsCliqTheme")?_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsCliqTheme"):_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsOtherTheme"))},zgssearch.preThemeSetup(),gscomponent.setTheme(),zgssearch.sendGSOpenedStats=function(){var event,key;zgssearch.isSendGSOpenedStats||(zgssearch.isSendGSOpenedStats=!0,zgssearch.hasOwnProperty("gsanalytics")&&(event=window.event||event,key=zgssearch.isOpenViaShortcut?"kb-fsb":"mc-fsb",key=zgssearch.getStatsKey(key),zgssearch.gsanalytics.sendStatsData(event,key)))},zgssearch.GSConstant.zdwp&&zgssearch.appendMobSupportInWelPage(),0<zgssearch.getEnabledCloudApps().length&&zgssearch.appendMobSupportInWelPage(),zgssearch.setResponseObject=function(service,accId,resObj,moduleName){moduleName=moduleName&&moduleName.hasOwnProperty("module_id")?moduleName.module_id:"";service=moduleName||service;service=accId?service+accId:service;service&&(zgssearch.responseObj[service]=resObj)},zgssearch.getResponseObject=function(service){return zgssearch.responseObj[service]};var onZiaReadyCallback=gscomponent.onZSReady;onZiaReadyCallback&&onZiaReadyCallback()}(zgssearch,window),zgssearch.isIE&&("/settings"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForSettings")&&zgssearch.clickActionForSettings("settings"),"/cards"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForCards")&&zgssearch.clickActionForCards(),zgssearch.includes("/dashboards",window.location.pathname)&&zgssearch.hasOwnProperty("clickActionForDashboards")&&zgssearch.clickActionForDashboards()),function(zgssearch,window){var gskeyboard,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gskeyboard=(gskeyboard=void 0,(gskeyboard=zgssearch.gskeyboard||{}).dashboard=gskeyboard.dashboard||{},gskeyboard.card=gskeyboard.card||{},gskeyboard.initialize=function(){gskeyboard.count=0,gskeyboard.index={},gskeyboard.nodeList=[]},gskeyboard.initializeDashboard=function(cardId){gskeyboard.dashboardNodeList=[],gskeyboard.index={},gskeyboard.dashboardNodeCount=0,gskeyboard.currentCardId=cardId},gskeyboard.getFirstDataNode=function(){var firstResultDiv=_jQueryGS("div.zgs19_gsSearchResultTable[index=0]")[0];return firstResultDiv?firstResultDiv.getAttribute("id"):null},gskeyboard.findDataNode=function(index,accId){return gskeyboard.insertElement(),_jQueryGS("div.zgs19_gsSearchResultTable[index='"+index+"']")[0]},gskeyboard.checkAndInsertElements=function(){gskeyboard.nodeList.length<=0&&gskeyboard.insertElement()},gskeyboard.insertElement=function(){gskeyboard.index={},gskeyboard.count=0,gskeyboard.nodeList=[];for(var nodesList=document.getElementsByClassName("zgs19_gsSearchResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard.index[elem_id]=node,gskeyboard.nodeList.push(elem_id),gskeyboard.count++}},gskeyboard.getNextPrevElement=function(code){var elem_id,cur_elem_index;return zgssearch.curSelectedEle?(cur_elem_index=_jQueryGS(zgssearch.curSelectedEle).attr("id"),-1<(cur_elem_index=gskeyboard.nodeList.indexOf(cur_elem_index))&&(elem_id=38===code?gskeyboard.nodeList[cur_elem_index-1]:gskeyboard.nodeList[cur_elem_index+1])):elem_id=gskeyboard.nodeList[0],elem_id},gskeyboard.keyUpAndDownAction=function(currIndex){var node=null,link=38===currIndex?"prev":"next";zgssearch.curSelectedEle?(gskeyboard.nodeList.length<=0&&gskeyboard.checkAndInsertElements(),((currIndex=gskeyboard.nodeList.indexOf(zgssearch.curSelectedEle.getAttribute("id")))+1==gskeyboard.nodeList.length||currIndex<=0)&&document.getElementsByClassName("zgs19_gsSearchResultTable").length!=gskeyboard.nodeList.length&&(gskeyboard.insertElement(),currIndex=gskeyboard.nodeList.indexOf(zgssearch.curSelectedEle.getAttribute("id"))),"prev"==link&&0<currIndex?node=gskeyboard.nodeList[currIndex-1]:"next"==link&&currIndex+1<gskeyboard.nodeList.length&&(node=gskeyboard.nodeList[currIndex+1])):node=gskeyboard.getFirstDataNode(),zgssearch.highlightRes(node,link)},zgssearch.highlightRes=function(finalEleIndex,link){var tarElem,searchType,nodeList,curResPage,eletop,eleheight,pageHeight,viewport_top,acc_id,mservice,cwidth;finalEleIndex&&(pageHeight="zgs20_gsSearchResultMiddle",tarElem=zgssearch.getTargetElem(finalEleIndex),zgssearch.hideAllDropdownList(tarElem),mservice=_jQueryGS(tarElem).attr("service"),searchType=zgssearch.getSearchType(),acc_id=0,nodeList=[],nodeList=zgssearch.gsdbUtils.isDashboardOpened()?(cwidth=tarElem.parentElement,pageHeight=curResPage=_jQueryGS(cwidth).attr("id"),gskeyboard.dashboard.nodeList):zgssearch.gscardUtils.isCardPageOpened()?(cwidth=tarElem.parentElement,curResPage=_jQueryGS(cwidth).attr("id"),pageHeight="zgs20_gsCrdPrevResult",gskeyboard.card.nodeList):(curResPage="zgs20_gsAllSearchResultPage",searchType!=GSConstant.ALL&&(curResPage="zgs20_gs"+searchType+"Template",(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(curResPage="zgs20_MultiSearchPageHolder"),acc_id=_jQueryGS("#zgs20_gsModuleFilterList").height()||0),_jQueryGS("#"+curResPage).is(":visible")||(curResPage=zgssearch.getParentNode(tarElem,"serviceSpecificPage").id),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.changeBGClass(tarElem,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem"),zgssearch.curSelectedEle=tarElem,eletop=zgssearch.getCurrentResObj(),eleheight={calloutPgtype:"search",parentElem:"zgs20_gsSearchResultRight",calloutId:zgssearch.mappedServiceList[mservice].id,iconDisplay:!0,curSelectedEle:tarElem},zgssearch.searchCalloutObj=eleheight,zgssearch.isArrayContain(mservice,zgssearch.pcEnabledSer)?(viewport_top={},(viewport_top=eletop).serviceName=mservice,viewport_top=Object.assign(eletop,eleheight),new zgssearch.getCalloutForResult(viewport_top).constructPreviewComponent()):(eleheight.type="search",eleheight.parentElem="#zgs20_gsSearchResultRight",zgssearch.getCalloutData(tarElem,eletop,eleheight)),zgssearch.gskeyboard.nodeList),cwidth=zgssearch.getTargetElem(curResPage),viewport_top=zgssearch.getTargetElem(pageHeight),eletop=zgssearch.findPosY(tarElem,viewport_top),eleheight=_jQueryGS(tarElem).outerHeight(),pageHeight=_jQueryGS(cwidth).height(),(viewport_top=_jQueryGS(cwidth).scrollTop())<=eletop&&eletop+eleheight<=viewport_top+pageHeight||("prev"===link?_jQueryGS("#"+curResPage).scrollTop(eletop-acc_id):tarElem.scrollIntoView(!1)),zgssearch.setCalloutSearchType(mservice),acc_id=_jQueryGS(tarElem).attr("acc_id"),mservice=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?acc_id:mservice,zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened()||(searchType===GSConstant.ALL&&zgssearch.curMoreService!==mservice&&zgssearch.hideResMoreOption(tarElem,zgssearch.curMoreService),zgssearch.showResMoreOption(tarElem)),finalEleIndex=document.getElementById(finalEleIndex),0==nodeList.length&&(gskeyboard.insertElement(),nodeList=zgssearch.gskeyboard.nodeList),"object"==typeof finalEleIndex&&(finalEleIndex=_jQueryGS(finalEleIndex).attr("id")),finalEleIndex=nodeList.indexOf(finalEleIndex),cwidth=zgssearch.getTargetElem(curResPage),0===finalEleIndex?_jQueryGS(cwidth).scrollTop(0):finalEleIndex===nodeList.length-1&&null!==cwidth&&_jQueryGS(cwidth).scrollTop(cwidth.scrollHeight),cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width(),zgssearch.isMobViewport()||zgssearch.minPrevPane==cwidth||zgssearch.minCalloutPreviewChange())},gskeyboard.isCurElementInViewPort=function(rect){var parentRect=rect.parentNode.getBoundingClientRect(),rect=rect.getBoundingClientRect();return rect.top>=parentRect.top&&rect.bottom<=parentRect.bottom},gskeyboard.keyboardNavgForAutoSugg=function(relem){relem=gskeyboard.getkeyboardNavgElemForCustomSugg(relem,zgssearch.gsautocomplete.currselecelem,"zgs19_gsAutoSuggChild");zgssearch.gsautocomplete.currselecelem=relem,zgssearch.gsautocomplete.updatesuggtext(),relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")},gskeyboard.keyboardNavgForServiceSugg=function(relem){relem=gskeyboard.getkeyboardNavgElemForCustomSugg(relem,zgssearch.gscreatecards.currselecElem,"zgs19_gsServiceInfoHolder");(zgssearch.gscreatecards.currselecElem=relem).scrollIntoView(!1),_jQueryGS(".zgs19_gsServiceInfoHolder").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsServiceInfoHolder .zgs19_gsSerivceTxt").removeClass("zgs19_gsFtWeightBold"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsSerivceTxt").addClass("zgs19_gsFtWeightBold")},gskeyboard.getkeyboardNavgElemForCustomSugg=function(keycode,elem,qryLen){var qrySelector=document.querySelectorAll("."+qryLen),qryLen=qrySelector.length,index=elem?(index=Array.prototype.indexOf.call(qrySelector,elem),keycode==zgssearch.specialkeys.UP?(index-=1)<0?qryLen-1:index:qryLen<=(index+=1)?0:index):keycode==zgssearch.specialkeys.UP?qryLen-1:0;return qrySelector[index]},gskeyboard.keyboardNavgForFilters=function(keycode,oldElem){var tindex=zgssearch.currFilterSelectedElem||"",relem=tindex?_jQueryGS(tindex).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter .zgs19_gsFilterQuerySelection").length,tindex=_jQueryGS(".zgs19_gsFilterQuerySelection:first").attr("index"),relem=parseInt(relem),tcount=(tindex=parseInt(tindex))+parseInt(tcount);relem=-1==relem?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(relem-=1)<tindex?tcount-1:relem:tcount<=(relem+=1)?tindex:relem;relem=zgssearch.getTargetElem("zgs20_gsFilterQuerySelection"+relem);relem&&(zgssearch.currFilterSelectedElem=relem,"none"==_jQueryGS(relem).css("display")?oldElem!=relem&&gskeyboard.keyboardNavgForFilters(keycode,oldElem=oldElem||relem):(relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn")))},gskeyboard.keyboardNavgForEditFields=function(keycode){var tindex=zgssearch.currEditFieldselecelem||"",relem=tindex?_jQueryGS(tindex).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").length,tindex=_jQueryGS(".zgs19_gsEditFieldsChild:first").attr("index"),relem=parseInt(relem),tcount=(tindex=parseInt(tindex))+parseInt(tcount);relem=-1==relem?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(relem-=1)<tindex?tcount-1:relem:tcount<=(relem+=1)?tindex:relem;relem=zgssearch.getTargetElem("zgs20_gsEditFieldsChild"+relem);relem&&(relem.scrollIntoView(!1),zgssearch.currEditFieldselecelem=relem,_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"))},gskeyboard.initForCardsAndDashboard=function(type,cardId){gskeyboard[type].index={},gskeyboard[type].nodeCount=0,gskeyboard[type].nodeList=[],gskeyboard[type].currentCardId=cardId},gskeyboard.dashboard.getValues=function(){this.getCurrentCardElem=function(){var card_id="zgs20_gs"+gskeyboard.dashboard.currentCardId+"card";return document.getElementById(card_id)},this.getCurrentSelectedElem=function(){return zgssearch.gscardsresult.curSelectedEle.id}},gskeyboard.card.getValues=function(){this.getCurrentCardElem=function(){return document.getElementById("zgs20_gsCrdPrevResult")},this.getCurrentSelectedElem=function(){return zgssearch.gscards.curSelectedEle.id}},gskeyboard.insertCardDashboardElems=function(type){gskeyboard[type].index={},gskeyboard[type].nodeCount=0,gskeyboard[type].nodeList=[];for(var nodesList=(new gskeyboard[type].getValues).getCurrentCardElem().getElementsByClassName("zgs19_gsCardResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard[type].index[elem_id]=node,gskeyboard[type].nodeList.push(elem_id),gskeyboard[type].nodeCount++}},gskeyboard.NavForCardsAndDashboard=function(nodeList,currIndex){var node=null,link=38===nodeList?"prev":"next",nodeList=gskeyboard[currIndex].nodeList;0==nodeList.length&&gskeyboard.insertCardDashboardElems(currIndex);currIndex=(new gskeyboard[currIndex].getValues).getCurrentSelectedElem(),currIndex=nodeList.indexOf(currIndex);"prev"==link&&0<currIndex?node=nodeList[currIndex-1]:"next"==link&&currIndex+1<nodeList.length&&(node=nodeList[currIndex+1]),_jQueryGS("#"+node).click(),zgssearch.highlightRes(node,link)},gskeyboard.insertDashboardElements=function(){gskeyboard.index={},gskeyboard.dashboardNodeCount=0,gskeyboard.dashboardNodeList=[];for(var card_id="zgs20_gs"+gskeyboard.currentCardId+"card",nodesList=document.getElementById(card_id).getElementsByClassName("zgs19_gsCardResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard.index[elem_id]=node,gskeyboard.dashboardNodeList.push(elem_id),gskeyboard.dashboardNodeCount++}},gskeyboard.keyboardNavgForDashboard=function(currIndex){var node=null,link=38===currIndex?"prev":"next";0==gskeyboard.dashboardNodeList.length&&gskeyboard.insertDashboardElements();currIndex=gskeyboard.dashboardNodeList.indexOf(zgssearch.gscardsresult.curSelectedEle.id);"prev"==link&&0<currIndex?node=gskeyboard.dashboardNodeList[currIndex-1]:"next"==link&&currIndex+1<gskeyboard.dashboardNodeList.length&&(node=gskeyboard.dashboardNodeList[currIndex+1]),_jQueryGS("#"+node).click(),zgssearch.highlightRes(node,link)},gskeyboard)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.lastSearchQuery=zgssearch.lastSearchQuery||{},zgssearch.emailRejaxPattern=/^[\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/,zgssearch.currcurpos=zgssearch.currcurpos||0,zgssearch.nextScrollValue=zgssearch.nextScrollValue||0,zgssearch.completedNextScrollValue=zgssearch.completedNextScrollValue||0,zgssearch.futureNextScrollValue=zgssearch.futureNextScrollValue||0,zgssearch.searchResultsLimit=zgssearch.searchResLimit||500,zgssearch.mousewheelevt=/Firefox/i.test(zgssearch.userAgent)?"DOMMouseScroll":"mousewheel",zgssearch.isCalloutActionListOpened=!1,zgssearch.isMenuPopUpOpened=!1,zgssearch.isAttendeesListOpened=!1,zgssearch.isAttendeeMenuPopUp=!1,zgssearch.calendarInterval="",zgssearch.openContextPopup=!1,zgssearch.isOpenDoubleClickPopup=!1,zgssearch.isSmartViewServicePaneOpened=zgssearch.isSmartViewServicePaneOpened||!1,zgssearch.menuPopUpAction="",zgssearch.currHoverRes="",zgssearch.dateFilterDisplay=!1,zgssearch.calendarActionPopUpOpened=!1,zgssearch.timezonePopUp=!1,zgssearch.isLeftDivisonPanelHidden=!1,zgssearch.lastVisibleStateOfWindow=zgssearch.lastVisibleStateOfWindow||0,zgssearch.oldSelectedPos={},zgssearch.cardObjForCurrentSelectedElem={},zgssearch.dashboardSearchActions&&(zgssearch.commonSearchActions=new zgssearch.dashboardSearchActions),zgssearch.clickedViewAllServicesList=[],zgssearch.resulstAreaWidth=zgssearch.resulstAreaWidth||0,zgssearch.handleServiceOptionsForCallout=function(isCloseTrigger){zgssearch.hasOwnProperty("gswebsite")&&zgssearch.gswebsite.isVideoResultObtained&&(_jQueryGS("#zgs20_gsWebsiteIframe").is(":visible")||(isCloseTrigger||(zgssearch.gswebsite.isVideoResultObtained=!1),_jQueryGS("#zgs20_gsWebsiteIframe").attr("src",_jQueryGS("#zgs20_gsWebsiteIframe").attr("src"))))},zgssearch.handleGSSearch=function(){zgssearch.isGSOpened&&!zgssearch.isWidgetCallWaitNeeded&&(zgssearch.checkExternalQueries(),zgssearch.handleEmptySearchBox())},zgssearch.handleToggleGSEvent=function(){zgssearch.setWMSZIndex(),zgssearch.isGSOpened?zgssearch.callingAttachEvent():zgssearch.callingDeattachEvent()},zgssearch.closeBiggerZOSPopup=function(event,isFocusCheck){if(zgssearch.hasOwnProperty("gszohosearch")&&zgssearch.gszohosearch.isFeedbackOpened){if(isFocusCheck)return void zgssearch.stopEvent(event);zgssearch.gszohosearch.toggleFeedback()}zgssearch.hasOwnProperty("gstopband")&&(zgssearch.gstopband.hideHamburger(),zgssearch.gstopband.hideUserDetails()),zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.hideNLPTracer()},zgssearch.handleKeydownAction=function(event){var tid,target,gsopenkeyup,mquery,keycode=event.keyCode||event.which,query=zgssearch.getValue("zgs20_gsQueryBox"),mlist=zgssearch.getSearchType(),isWMSPopUpDisplay=zgssearch.isWMSPopUPOpened(),isSearchEvent=zgssearch.getTopMostParentNode(event.target,"globalsearch");if(null!==isSearchEvent)if(keycode==zgssearch.specialkeys.ENTER)if(zgssearch.isFilterListDisplay){var fTarget=zgssearch.currFilterSelectedElem;if(fTarget)switch(_jQueryGS(fTarget).attr("gs")){case"moduleFilterChild":zgssearch.moduleFilterClickActions(fTarget);break;case"filterCheckBoxChild":zgssearch.moduleFilterCheckBoxClickActions(fTarget)}}else zgssearch.isMoreInnerFilterListDisplay?(fTarget=zgssearch.currFilterSelectedElem)&&(zgssearch.clickActionForMoreInnerList(fTarget),zgssearch.hideMoreInnerFilterList()):zgssearch.isEditFieldsDisplay?zgssearch.gsaction.handleEnterAction():zgssearch.gssavedsearches.isSaveThisSearchDialogOpened&&zgssearch.popupUtils.popupSaveAction?zgssearch.gssavedsearches.userSettingsActions(zgssearch.popupUtils.popupSaveAction):zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isAppListOpened&&zgssearch.gscreatecards.currselecElem?(target=zgssearch.gscreatecards.currselecElem)&&(mquery=_jQueryGS(target).attr("service"),zgssearch.gscreatecards.selectCreateOrEditCardService(mquery,"createCardFilters")):zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gsdbhome.isDashboardPopupOpened?zgssearch.gsdbhome.dashboardConfirmActions(zgssearch.popupUtils.popupSaveAction):zgssearch.isQueryFocused&&(target=zgssearch.gsautocomplete.currselecelem,zgssearch.gsautocomplete.isAutoSuggDisplay&&target?zgssearch.gsautocomplete.updateautosuggest(target,event):(zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),gsopenkeyup=zgssearch.addserviceFilters(mlist),mquery=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.isValidSearchQuery(mquery,gsopenkeyup)?zgssearch.handleUserSearchQuery(mquery,gsopenkeyup):mlist!=gsopenkeyup?(mlist=zgssearch.getWidgetServiceList(gsopenkeyup),zgssearch.updateMultiPageFlag(gsopenkeyup,mlist.key),zgssearch.updateSearchType(gsopenkeyup),zgssearch.updateCurrentPage(gsopenkeyup),zgssearch.handleEmptySearchQry(gsopenkeyup)):zgssearch.isQueryValid(mquery)||zgssearch.searchedQuery==query||zgssearch.isQueryHasFilters()||!zgssearch.isQueryHasServiceLabel()||zgssearch.handleEmptySearchQry(gsopenkeyup)),zgssearch.stopEvent(event));else keycode==zgssearch.specialkeys.ESC?(gsopenkeyup=!0,zgssearch.isDatePickerDisplay?zgssearch.hideDatePicker():zgssearch.isCustomDatePickerDisplay?zgssearch.hideNewCustomDatePicker():zgssearch.isFilterListDisplay?zgssearch.hideFilterList():zgssearch.isMoreInnerFilterListDisplay?(zgssearch.hideMoreInnerFilterList(),zgssearch.focusForWeb("zgs20_gsHolder")):zgssearch.isMoreFilterListDisplay?(zgssearch.hideMoreFilterList(),zgssearch.hideMoreInnerFilterList()):zgssearch.isCalloutActionListOpened?zgssearch.hideCalloutActionList():zgssearch.isEditFieldsDisplay?zgssearch.hideEditFieldsList():zgssearch.isMenuPopUpOpened?(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1):zgssearch.isAttendeesListOpened?(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1):zgssearch.isAttendeeMenuPopUp?(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1):zgssearch.isOpenDoubleClickPopup?(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1,zgssearch.isOpenPopup=!1):zgssearch.gscalendaraction.AttendeeSuggestion?zgssearch.gscalendaraction.hideAttendeeSuggestion():zgssearch.timezonePopUp?zgssearch.gscalendaraction.hideTimeZoneDialogBox():zgssearch.calendarActionPopUpOpened?zgssearch.gscalendaraction.hideEditEventDialogBox():zgssearch.gsautocomplete.isAutoSuggDisplay?zgssearch.removeQuerySugg():zgssearch.isServiceOverlayOpened?(zgssearch.gsusersettings.updateReorderActions("cancelSerOrder"),zgssearch.isServiceOverlayOpened=!1):zgssearch.isAccountsOverlayOpened?(zgssearch.gsusersettings.updateSettingsActions("cancelSerAccOrder"),zgssearch.isAccountsOverlayOpened=!1):zgssearch.gsusersettings.isSettingsOpened?(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()):zgssearch.hasOwnProperty("gscomponent")&&1===gscomponent.UIType?zgssearch.closeBiggerZOSPopup(event):isWMSPopUpDisplay?gsopenkeyup=!1:zgssearch.toggleGlobalsearch(),isWMSPopUpDisplay||zgssearch.stopEvent(event),zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.isDashboardOpened&&zgssearch.gsdbhome.isDashboardPopupOpened?zgssearch.gsdbhome.dashboardConfirmActions(zgssearch.popupUtils.popupCancelAction):zgssearch.gsdbhome.isAddCardPopupOpened&&zgssearch.gsaddcards.removeAddCardPopupAction(!1)),zgssearch.hasOwnProperty("gscards")&&(zgssearch.hasOwnProperty("gscreatecards")&&(zgssearch.gscreatecards.isAppListOpened?(_jQueryGS("#zgs20_gsCCModuleFilterListPopup").css("display","none"),zgssearch.gscreatecards.isAppListOpened=!1,zgssearch.gscreatecards.currselecElem=""):zgssearch.gscreatecards.isUserSuggDisplay?zgssearch.gscreatecards.hideUserContactSugg():zgssearch.moduleFiltersOpened&&zgssearch.hideModuleFilterPopUp("zgs20_gsCCModuleFilterListPopup")),zgssearch.gssavedsearches.isSaveThisSearchDialogOpened&&(zgssearch.gssavedsearches.hideSavedSearchDialog(),_jQueryGS("#zgs20_gsHolder").focus()),zgssearch.gssavedsearches.isSSSearchBoxOpened&&(_jQueryGS("#zgs20_SSBox").css("display","none"),zgssearch.gssavedsearches.isSSSearchBoxOpened=!1),zgssearch.isCardPageOpened&&zgssearch.popupUtils.isPopupOpened&&(zgssearch.popupUtils.closeCnfrmDialogBox(),zgssearch.popupUtils.closeOverlayDialog())),zgssearch.hasOwnProperty("gscardfilter")&&zgssearch.gscardfilter.isCardFilterPopUpOpened&&zgssearch.gscardfilter.hideFilterPopUpInCard(),zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.gsadvancesearch.isAdvFieldListOpened&&zgssearch.gsadvancesearch.hideAdvPopUpList(),zgssearch.isGSOpenedKeyUp=gsopenkeyup):keycode==zgssearch.specialkeys.TAB?zgssearch.gsautocomplete.isAutoSuggDisplay?((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),zgssearch.gsautocomplete.updateautosuggest(target,event),zgssearch.stopEvent(event)):zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isUserSuggDisplay?((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),zgssearch.gscreatecards.updateQrySearchBox(target),zgssearch.stopEvent(event)):zgssearch.gscalendaraction.AttendeeSuggestion?(tid=_jQueryGS(".zgs19_gsAttendeeContainer:first").attr("id"),zgssearch.gscalendaraction.addAttendeesToAttendeeList(zgssearch.getTargetElem(tid)),zgssearch.gscalendaraction.hideAttendeeSuggestion(),zgssearch.stopEvent(event)):(zgssearch.timezonePopUp||zgssearch.calendarActionPopUpOpened)&&zgssearch.stopEvent(event):keycode==zgssearch.specialkeys.RIGHT?zgssearch.getCursorPos()==query.length&&zgssearch.gsautocomplete.isAutoSuggDisplay&&((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),zgssearch.gsautocomplete.updateautosuggest(target,event),zgssearch.stopEvent(event)):keycode!=zgssearch.specialkeys.UP&&keycode!=zgssearch.specialkeys.DOWN||(zgssearch.isFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay?zgssearch.gskeyboard.keyboardNavgForFilters(keycode):zgssearch.isEditFieldsDisplay?zgssearch.gskeyboard.keyboardNavgForEditFields(keycode):zgssearch.gsautocomplete.isAutoSuggDisplay||zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isUserSuggDisplay?zgssearch.gskeyboard.keyboardNavgForAutoSugg(keycode):zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isAppListOpened?zgssearch.gskeyboard.keyboardNavgForServiceSugg(keycode):zgssearch.timezonePopUp||zgssearch.gscalendaraction.AttendeeSuggestion||!zgssearch.calendarActionPopUpOpened?isWMSPopUpDisplay||zgssearch.isFeedbackFieldsFocused||(zgssearch.gsdbUtils.isDashboardOpened()?zgssearch.gscardinDb.isCardMaximised&&zgssearch.gskeyboard.NavForCardsAndDashboard(keycode,zgssearch.DASHBOARD_TYPE):zgssearch.gscardUtils.isCardPageOpened()?zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isCreateCardPageOpened?zgssearch.stopEvent(event):zgssearch.gskeyboard.NavForCardsAndDashboard(keycode,zgssearch.CARD_TYPE):"search"===zgssearch.seletedLeftPanelDivision&&zgssearch.gskeyboard.keyUpAndDownAction(keycode)):zgssearch.stopEvent(event),zgssearch.hasOwnProperty("gscomponent")&&1===gscomponent.UIType&&zgssearch.closeBiggerZOSPopup(event,!0),isWMSPopUpDisplay||zgssearch.stopEvent(event))},window.removeEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.handleKeyUpAction=function(event){(event.keyCode||event.which)==zgssearch.specialkeys.ESC&&zgssearch.isGSOpenedKeyUp&&(zgssearch.isGSOpenedKeyUp=!1,zgssearch.stopEvent(event))},window.addEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.globalClickEventForOverlay=function(event){1!==gscomponent.UIType&&(zgssearch.isGSOpenedKeyUp=!1,zgssearch.toggleGlobalsearch())},zgssearch.isWMSPopUPOpened=function(){var wmsUserProfilePopUp,imgPreviewPopUp,zcustomPopUp,zuserProfilePopUp,fileforwLen,zcwindowsZIndex,isWMSPopUp=!1,zindex=_jQueryGS("#zgs20_globalsearch").css("z-index");return isNaN(zindex)||(zindex=parseInt(zindex),zuserProfilePopUp="wms_contactdetails",fileforwLen="wms-imgpreviewcontainer",zgssearch.isCliqDomain&&(zuserProfilePopUp="hover",fileforwLen="imgviewer"),zcustomPopUp=_jQueryGS("#custommsg").css("display"),wmsUserProfilePopUp=_jQueryGS("#"+zuserProfilePopUp).css("display"),imgPreviewPopUp=_jQueryGS("#"+fileforwLen).css("display"),zcustomPopUp&&"none"!=zcustomPopUp?(zcustomPopUp=_jQueryGS("#custommsg").css("z-index"),isNaN(zcustomPopUp)||zindex<=(zcustomPopUp=parseInt(zcustomPopUp))&&(isWMSPopUp=!0)):wmsUserProfilePopUp&&"none"!=wmsUserProfilePopUp?(zuserProfilePopUp=_jQueryGS("#"+zuserProfilePopUp).css("z-index"),isNaN(zuserProfilePopUp)||zindex<=(zuserProfilePopUp=parseInt(zuserProfilePopUp))&&(isWMSPopUp=!0)):imgPreviewPopUp&&"none"!=imgPreviewPopUp&&(zcwindowsZIndex=_jQueryGS("#"+fileforwLen).css("z-index"),isNaN(zcwindowsZIndex)||zindex<=(zcwindowsZIndex=parseInt(zcwindowsZIndex))&&(isWMSPopUp=!0)),zgssearch.isCliqDomain&&(fileforwLen=_jQueryGS("#fileforwardwin").length,zcwindowsZIndex=_jQueryGS("#zcwindows").css("z-index"),0<fileforwLen&&(isNaN(zcwindowsZIndex)||zindex<=(zcwindowsZIndex=parseInt(zcwindowsZIndex))&&(isWMSPopUp=!0)))),isWMSPopUp},zgssearch.moreSearchResultPage=function(filterInfo,service_name){var mquery,msquery,moduleName,acc_id,serviceMod,wsId,curr,dispName;zgssearch.network.removeEventSource(),service_name!==GSConstant.GS_APPS?(acc_id=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(acc_id),msquery=zgssearch.gsautocomplete.getautosearchQuery(zgssearch.searchedQuery),service_name=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,zgssearch.gsautocomplete.checkQueryFilterExists("services",service_name),zgssearch.gsautocomplete.checkQueryFilterExists("users"),zgssearch.focusForWeb("zgs20_gsQueryBox"),moduleName=zgssearch.getValue("zgs20_gsQueryBox"),zgssearch.searchedQuery=moduleName,wsId=zgssearch.getSearchType(),acc_id=_jQueryGS(filterInfo).attr("acc_id"),moduleName=zgssearch.getAccountType(service_name,acc_id),!zgssearch.multiPageEnabled&&zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)&&"1"===moduleName&&(moduleName=_jQueryGS(filterInfo).attr("module_name")||zgssearch.dpa_mod,zgssearch.updateSubModuleFilter(wsId,moduleName,acc_id)),"account"!==(_jQueryGS(filterInfo).attr("action_type")||"account")||!zgssearch.isArrayContain(service_name,zgssearch.multiModSupportedServices)&&service_name!==zgssearch.GSConstant.PROJECTS?zgssearch.isQueryValid(mquery)&&msquery!=mquery?zgssearch.handleUserSearchQuery(mquery,service_name):(zgssearch.clearPrevSearchAction(),serviceMod=_jQueryGS(filterInfo).attr("gs"),acc_id=_jQueryGS(filterInfo).attr("acc_id"),GSConstant.ALL==wsId&&zgssearch.isServiceHasMultiPortals(service_name)&&"serviceWidgetBand"!=serviceMod&&(zgssearch.multiPageEnabled=!0),zgssearch.loadSearchResults(service_name,acc_id,filterInfo)):(zgssearch.updateFilterInfo(service_name,"accounts","current",acc_id),wsId=zgssearch.getFilterData(service_name,"accounts","data",acc_id),zgssearch.updateFilterInfo(service_name,"accounts","dispname",wsId),service_name===zgssearch.GSConstant.PROJECTS&&zgssearch.updateChildFilterInfo(service_name,"accounts",acc_id),zgssearch.isArrayContain(service_name,zgssearch.multiModSupportedServices)&&(serviceMod=service_name===zgssearch.GSConstant.SALESFORCE?"modules":zgssearch.WS,service_name===zgssearch.GSConstant.SALESFORCE?(curr="all",dispName=zgssearch.getI18NMsg("common.allmodules")):service_name!==zgssearch.GSConstant.ASANA||(filterInfo=zgssearch.getFilterInfo("asana",zgssearch.WS,"data")).hasOwnProperty(acc_id)&&1==Object.keys(filterInfo[acc_id]).length&&(curr=(wsId=Object.keys(filterInfo[acc_id]))[0],dispName=filterInfo[acc_id][wsId]),zgssearch.updateFilterInfo(service_name,serviceMod,"default","all"),zgssearch.updateFilterInfo(service_name,serviceMod,"current",curr),zgssearch.updateFilterInfo(service_name,serviceMod,"dispname",dispName)),zgssearch.handleUserSearchQuery(mquery,service_name)),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():zgssearch.EnablingSSIcon()):zgssearch.getMoreAppsSearchResults()},zgssearch.toggleCalloutActionList=function(target){var width,postion,top,left,calloutActionEle=zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder").getElementsByClassName("zgs19_gsCalloutActionList");"block"!=_jQueryGS(calloutActionEle).css("display")&&zgssearch.hideAllDropdownList(),zgssearch.isCalloutActionListOpened?(_jQueryGS(".zgs18_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC"),_jQueryGS(".zgs19_gsCalloutActionList").css("display","none"),zgssearch.isCalloutActionListOpened=!1):(width=_jQueryGS(target).width(),top=_jQueryGS(target).height(),postion=_jQueryGS(target).position(),left=_jQueryGS(calloutActionEle).width(),top=postion.top+top,left=postion.left+width-left,_jQueryGS(calloutActionEle).css("top",top),_jQueryGS(calloutActionEle).css("left",left),_jQueryGS(target).addClass("zgs19_gsBorderCCC"),_jQueryGS(calloutActionEle).css("display","block"),zgssearch.isCalloutActionListOpened=!0)},zgssearch.downloadForCalloutAction=function(service,resObj,target){switch(service){case GSConstant.WIKI:zgssearch.gswiki.downloadWikiDocument(resObj);break;case GSConstant.WORKDRIVE:zgssearch.gsworkdrive.downloadWorkDriveDocument(resObj);break;default:var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).downloadDocument(resObj,target)}},zgssearch.continueForCalloutAction=function(url,resObj,target,event){url===GSConstant.SLACK?(url=zgssearch.fetchCalloutUrl(url,resObj,target),zgssearch.openInNewTab(url)):zgssearch.chatAction(target,"continue",event,resObj)},zgssearch.readMailstatusCalloutActions=function(service,curRe,resObj,target){var calloutObj=(new zgssearch.dashboardSearchActions).createActionType(target).getSearchDBCalloutObj();switch(service){case GSConstant.MAILS:zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsRead",calloutObj,target);break;case GSConstant.O365MAIL:zgssearch.gso365mail.toggleMailStatus("read",curRe,resObj,calloutObj,target)}},zgssearch.unreadMailstatusCalloutActions=function(service,curRe,resObj,target){var calloutObj=(new zgssearch.dashboardSearchActions).createActionType(target).getSearchDBCalloutObj();switch(service){case GSConstant.MAILS:zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsUnread",calloutObj,target);break;case GSConstant.O365MAIL:zgssearch.gso365mail.toggleMailStatus("unread",curRe,resObj,calloutObj,target)}},zgssearch.contextMenuActionsPopUp=function(pos,topPos){var resObj,action,ownerId,leftPos,beforepos;zgssearch.gscardUtils.isCardPageOpened()||zgssearch.gsdbUtils.isDashboardOpened()||(resObj=zgssearch.getCurrentResObj(),leftPos=zgssearch.getCalloutSearchType(),action=_jQueryGS(pos).attr("gs"),leftPos===GSConstant.CLIQ&&(ownerId=resObj.cid||"",-1!==(ownerId=(beforepos=(beforepos=zgssearch.chidVsMeta||{}).hasOwnProperty(ownerId)?beforepos[ownerId]:"").owner)&&"-1"!==ownerId&&void 0!==ownerId&&""!=ownerId||(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0)),leftPos===GSConstant.CAMPAIGNS&&"1"===zgssearch.getResultAccountId()&&(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0),zgssearch.isMenuPopUpOpened&&action===zgssearch.menuPopUpAction||zgssearch.openContextPopup?(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1):(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.addMenuContent(pos,resObj,leftPos,beforepos,topPos),_jQueryGS("#zgs20_gsMenuPopUp").show(),beforepos=_jQueryGS(pos).height(),topPos=_jQueryGS("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),topPos=_jQueryGS(pos).get(0).getBoundingClientRect().top-topPos.top+beforepos+16,leftPos!=zgssearch.GSConstant.ASANA&&(beforepos=_jQueryGS(pos).closest(".zgs19_gsUserBackground").width(),leftPos=_jQueryGS("#zgs20_gsMenuPopUp").outerWidth(),(leftPos=(pos=_jQueryGS(pos).position()).left+beforepos/2-leftPos/2)<10&&(beforepos=pos.left+beforepos/2-(leftPos=10),_jQueryGS(".zgs19_gsMenuPopUp").append("<style>.zgs19_gsMenuPopUp::before{left:"+beforepos+"px !important;}</style>"),_jQueryGS(".zgs19_gsMenuPopUp").append("<style>.zgs19_gsMenuPopUp::after{left:"+beforepos+"px !important;}</style>")),_jQueryGS(".zgs19_gsMenuPopUp").css("left",leftPos)),_jQueryGS(".zgs19_gsMenuPopUp").css("top",topPos),zgssearch.isMenuPopUpOpened=!0,zgssearch.menuPopUpAction=action))},zgssearch.toggleBacktoTop=function(id,backToTopId){0<_jQueryGS("#"+id).scrollTop()?zgssearch.showScrollTopIcon(backToTopId):zgssearch.hideScrollTopIcon(backToTopId)},zgssearch.setWMSZIndex=function(){var zindex,zindex_wms,wmstoolbarZIndex;zgssearch.hasWebMessanger&&(zgssearch.isGSOpened?(zindex=2147483646,(zindex_wms=WebMessanger.getZIndex?WebMessanger.getZIndex():"")&&(zgssearch.wmsZIndex||(zgssearch.wmsZIndex=zindex_wms),zgssearch.wmsContactsZIndex||(wmstoolbarZIndex=_jQueryGS("#wms_contactdetails").css("z-index"))&&(zgssearch.wmsContactsZIndex=wmstoolbarZIndex),zgssearch.wmstoolbarZIndex||(wmstoolbarZIndex=_jQueryGS("#wmstoolbar").css("z-index"),isNaN(wmstoolbarZIndex)||zindex<(wmstoolbarZIndex=parseInt(wmstoolbarZIndex))&&(zgssearch.wmstoolbarZIndex=wmstoolbarZIndex)),isNaN(zindex_wms)||(zindex_wms=parseInt(zindex_wms),zgssearch.isGSOpened&&(zindex=zindex<zindex_wms?zindex:zindex_wms))),WebMessanger.setZIndex(zindex),_jQueryGS("#zgs20_feedbackDialog").css("z-index",zindex),4!==gscomponent.UIType&&_jQueryGS("#zgs20_globalsearch").css("z-index",zindex),_jQueryGS("#wms_contactdetails").css("z-index",zindex+1),_jQueryGS("#wmstoolbar").css("z-index",zindex-2),1===gscomponent.UIType&&(_jQueryGS("#zgs20_gsSearchTopBandHolder").css("z-index",zindex+1),_jQueryGS("#wmstoolbar").css("z-index",zindex+1)),WebMessanger.closeOpenPopup&&WebMessanger.closeOpenPopup()):(zgssearch.wmsZIndex&&(WebMessanger.setZIndex(zgssearch.wmsZIndex),_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmsZIndex)),zgssearch.wmsContactsZIndex&&_jQueryGS("#wms_contactdetails").css("z-index",zgssearch.wmsContactsZIndex),zgssearch.wmstoolbarZIndex&&_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmstoolbarZIndex)))},zgssearch.showScrollTopIcon=function(backToTopId){_jQueryGS(backToTopId).css("display","block"),zgssearch.isMobViewport()?_jQueryGS(backToTopId).css("bottom","90px"):_jQueryGS(backToTopId).css("bottom","20px")},zgssearch.hideScrollTopIcon=function(backToTopId){_jQueryGS(backToTopId).css("display","none")},zgssearch.multiPageScrollEvent=function(sset,event){var service,tempResArr,ailen;zgssearch.isBottomReached(sset)&&(service=zgssearch.getSearchType(),tempResArr=(zgssearch.multiResultObj||{})[service]||[],ailen=zgssearch.getWidgetServiceList(service),ailen=(sset=zgssearch.getFilterInfo(service,ailen.key,"accIdArr")).length-1,0<(sset=zgssearch.getSearchedMultiPageIndex(service,tempResArr,sset))&&sset<ailen&&0<zgssearch.multiResCount&&(zgssearch.multiStartSet!=(sset=(sset+sset%2)/2)&&zgssearch.handleMultiPageScroll(service,sset))),zgssearch.stopEvent(event)},zgssearch.modulePageScrollEvent=function(id,event){var search_type=zgssearch.getSearchType(),crm_mod_cursor=zgssearch.isCursorSupportedService(search_type),service_cursor="";crm_mod_cursor&&(soid=zgssearch.curSelectedEle.getAttribute("acc_id"),service_cursor=(search_mod_type=zgssearch.cursorObj[soid])?search_mod_type.cursor:"");var finalcursorVal="",nextStartValue=parseInt(zgssearch.nextScrollValue);if(nextStartValue<parseInt(zgssearch.searchResultsLimit)||crm_mod_cursor&&""!==service_cursor){var soid,searchQuery,search_mod_type,url,query=zgssearch.getValue("zgs20_gsQueryBox"),isCrmAllSearchLimit=!1;if(search_type!==zgssearch.GSConstant.CRM||"true"!=zgssearch.GSConstant.CRM_FETCH_ALL_RECORDS||(soid=zgssearch.getFilterInfo(search_type,"modules","current"))&&soid===zgssearch.GSConstant.CRM_ALL_MODULES&&(isCrmAllSearchLimit=!0),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),search_type=zgssearch.addserviceFilters(search_type),query=zgssearch.gsautocomplete.getautosearchQuery(query),search_type===zgssearch.GSConstant.CALENDAR)switch(zgssearch.getFilterInfo(search_type,"eventTypes","current")){case"0":zgssearch.checkAndFormSearchURL(query,search_type,id,-1),zgssearch.checkAndFormSearchURL(query,search_type,id,1);break;case"-1":zgssearch.checkAndFormSearchURL(query,search_type,id,-1);break;case"1":zgssearch.checkAndFormSearchURL(query,search_type,id,1)}else zgssearch.isBottomReached(id)&&(zgssearch.isValidSearchQuery(query,search_type,_jQueryGS("#"+id))?zgssearch.handleUserSearchQuery(query,search_type):isCrmAllSearchLimit?(searchQuery=zgssearch.resultCount.crm,zgssearch.nextScrollValue<searchQuery&&zgssearch.renderSearchResults(search_type,!1,!0)):zgssearch.noMoreResults||search_type==GSConstant.ONEDRIVE&&!service_cursor||(searchQuery=query?encodeURIComponent(query):"",nextStartValue+=zgssearch.fetchResCount,crm_mod_cursor&&(nextStartValue+=search_mod_type.total_no_of_results),crm_mod_cursor="",!zgssearch.isListViewSearch()||search_type!==zgssearch.GSConstant.SALESFORCE&&search_type!==zgssearch.GSConstant.ASANA||(url=search_type===zgssearch.GSConstant.SALESFORCE?"modules":zgssearch.WS,search_mod_type=zgssearch.getFilterInfo(search_type,url,"current"),url=zgssearch.getFilterInfo(search_type,"accounts","current"),"all"===search_mod_type&&""!==url&&(""===(crm_mod_cursor=zgssearch.getModuleCursorInfo(search_type,url))||"0"===crm_mod_cursor?zgssearch.scrollSearch=!0:nextStartValue=0)),url=zgssearch.getServiceSpecificURL(search_type),url+="&query="+searchQuery+zgssearch.addqueryFilters()+"&search_type="+search_type+"&start="+nextStartValue+"&is_scroll=true&no_of_results="+zgssearch.fetchResCount,(zgssearch.isListViewSearch()&&search_type==zgssearch.GSConstant.SLACK||search_type==zgssearch.GSConstant.DROPBOX||search_type==zgssearch.GSConstant.GOOGLEDRIVE||search_type==zgssearch.GSConstant.O365MAIL||search_type==zgssearch.GSConstant.ONEDRIVE)&&(finalcursorVal=service_cursor),search_type!==zgssearch.GSConstant.SALESFORCE&&search_type!==zgssearch.GSConstant.ASANA||""===crm_mod_cursor||"0"===crm_mod_cursor||(finalcursorVal=crm_mod_cursor),zgssearch.scrollSearch||(zgssearch.scrollSearch=!0,zgssearch.nextScrollValue=nextStartValue,zgssearch.resetCRMModCursor(search_type),zgssearch.hideSearchPageLoader(),zgssearch.addScrollLoader(id,"zgs20_gsScrollLoader"),zgssearch.setCursorValue(search_type,finalcursorVal),zgssearch.getSearchResults(url))))}zgssearch.stopEvent(event)},zgssearch.setCursorValue=function(service,cursorVal){zgssearch.cursor_info_service_search[service]=cursorVal},zgssearch.getCursorValue=function(service){return zgssearch.cursor_info_service_search.hasOwnProperty(service)?zgssearch.cursor_info_service_search[service]:""},zgssearch.resetCusrorValue=function(service){zgssearch.cursor_info_service_search[service]=""},zgssearch.resetCRMModCursor=function(search_type){var search_mod_type,search_connector_id;search_type===zgssearch.GSConstant.SALESFORCE&&(search_mod_type=zgssearch.getFilterInfo(search_type,"modules","current"),search_connector_id=zgssearch.getFilterInfo(search_type,"accounts","current"),"all"===search_mod_type&&""!==search_connector_id&&zgssearch.resetModuleCursorInfo(search_type,search_connector_id))},zgssearch.isBottomReached=function(actualLocation){var scrollHeight=zgssearch.getTargetElem(actualLocation);if(scrollHeight&&0<scrollHeight.scrollTop){actualLocation=scrollHeight.scrollTop+scrollHeight.offsetHeight,scrollHeight=scrollHeight.scrollHeight;if(scrollHeight-actualLocation<300||actualLocation===scrollHeight)return!0}return!1},zgssearch.isTopReached=function(actualLocation){actualLocation=zgssearch.getTargetElem(actualLocation);if(actualLocation){actualLocation=actualLocation.scrollTop;if(actualLocation<300||0===actualLocation)return!0}return!1},zgssearch.checkAndFormSearchURL=function(url,search_type,id,scrollType){var isscrollReached=!1,searchQuery=!1,nextStartValue=0;-1===scrollType?(isscrollReached=zgssearch.isTopReached(id),searchQuery=zgssearch.completedNoMoreResults,nextStartValue=zgssearch.completedNextScrollValue):1===scrollType&&(isscrollReached=zgssearch.isBottomReached(id),searchQuery=zgssearch.futureNoMoreResults,nextStartValue=zgssearch.futureNextScrollValue);isscrollReached&&(zgssearch.isValidSearchQuery(url,search_type)?zgssearch.handleUserSearchQuery(url,search_type):searchQuery||(searchQuery=url?encodeURIComponent(url):"",nextStartValue+=zgssearch.fetchResCount,url=zgssearch.getServiceSpecificURL(search_type),url+="&scroll_type="+scrollType,url+="&query="+searchQuery+zgssearch.addqueryFilters()+"&search_type="+search_type+"&start="+nextStartValue+"&is_scroll=true&no_of_results="+zgssearch.fetchResCount,zgssearch.scrollSearch||(zgssearch.scrollSearch=!0,zgssearch.hideSearchPageLoader(),-1===scrollType?(zgssearch.completedNextScrollValue=nextStartValue,zgssearch.addTopScrollLoader(id,"zgs20_gsScrollLoader")):1===scrollType&&(zgssearch.futureNextScrollValue=nextStartValue,zgssearch.addScrollLoader(id,"zgs20_gsScrollLoader")),zgssearch.getSearchResults(url))))},zgssearch.addTopScrollLoader=function(id,fourDotLoader){zgssearch.removeScrollLoader();fourDotLoader=zgssearch.getFourDotLoader(fourDotLoader,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader zgs19_gsScrollMargin");_jQueryGS("#"+id).prepend(fourDotLoader)},zgssearch.addScrollLoader=function(id,fourDotLoader){zgssearch.removeScrollLoader();fourDotLoader=zgssearch.getFourDotLoader(fourDotLoader,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader");_jQueryGS("#"+id).append(fourDotLoader)},zgssearch.removeScrollLoader=function(){0<_jQueryGS("#zgs20_gsScrollLoader").length&&_jQueryGS("#zgs20_gsScrollLoader").remove()},zgssearch.handleUserSearchQuery=function(url,search_type,cquery){zgssearch.showQuickActionsPage=!1,zgssearch.filter_type="search_view",zgssearch.seletedLeftPanelDivision="search",zgssearch.lastSearchQuery={},zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&zgssearch.closeActionForSettings(),zgssearch.hideCardsPage(),zgssearch.hideDashboard(),zgssearch.clearOldSearchData(search_type);var searchQuery=zgssearch.isQueryValid(url)?encodeURIComponent(url):"",url=zgssearch.getServiceList("serviceList")||[];_jQueryGS.isEmptyObject(url)||zgssearch.isArrayContain(search_type,url)||(search_type=zgssearch.isServiceSearch?zgssearch.getSearchType():search_type),zgssearch.updateSearchType(search_type,cquery);url=zgssearch.getSearchURL(searchQuery,search_type),cquery=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.searchedQuery=cquery,zgssearch.gshistory.updateSearchURLParams(search_type,searchQuery),zgssearch.gsautocomplete.storeRecentSearch(),zgssearch.displayDefaultPage(!0),zgssearch.showSearchPageLoader(),zgssearch.getSearchResults(url),zgssearch.isServiceSearch&&(zgssearch.isServiceSearch=!1),zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.removeQuerySugg(),zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))},zgssearch.getSearchURL=function(searchQuery,search_type){var url=zgssearch.getServiceSpecificURL(search_type);return url+="&query="+searchQuery+zgssearch.addqueryFilters()+"&search_type="+search_type+"&is_scroll=false&no_of_results="+zgssearch.fetchResCount,zgssearch.ismultiConfigEnabled&&(GSConstant.ALL!=search_type&&!zgssearch.multiPageEnabled||(url+="&startSet="+zgssearch.multiStartSet)),url},zgssearch.updateLastSearchQuery=function(key,value){zgssearch.lastSearchQuery[key]=value},zgssearch.getLastSearchedQuery=function(){return _jQueryGS.isEmptyObject(zgssearch.lastSearchQuery)?"":zgssearch.lastSearchQuery},zgssearch.addqueryFilters=function(){var emailId,mentionedParam="",zuid=zgssearch.gsautocomplete.queryFilters;return _jQueryGS.isEmptyObject(zuid)||zuid.hasOwnProperty("users")&&(zuid=(emailId=zuid.users).hasOwnProperty("ZUID")?emailId.ZUID:"",emailId=emailId.hasOwnProperty("EMAILID")?emailId.EMAILID:"",zuid&&-1!=zuid?(mentionedParam="&men_user_zuid="+zuid,zgssearch.updateLastSearchQuery("men_user_zuid",zuid)):emailId&&(mentionedParam="&men_user_email="+zuid,zgssearch.updateLastSearchQuery("men_user_email",emailId))),mentionedParam},zgssearch.addserviceFilters=function(service){var msObj=zgssearch.gsautocomplete.queryFilters;return!_jQueryGS.isEmptyObject(msObj)&&msObj.hasOwnProperty("services")?msObj.services:service},zgssearch.clearPrevSearchAction=function(){zgssearch.closeMsg="",zgssearch.nonsearchcall="",zgssearch.curSelectedEle="",zgssearch.nextScrollValue=0,zgssearch.completedNextScrollValue=0,zgssearch.futureNextScrollValue=0,zgssearch.multiResCount=0,zgssearch.multiStartSet=0,zgssearch.multiResulList={},zgssearch.mail_module_subset=[],zgssearch.gssupport.calloutRespData={},zgssearch.multiPageEnabled=!1,zgssearch.scrollSearch=!1,zgssearch.timerEnabled=!1,zgssearch.isDefWelAdded=zgssearch.isDefWelAdded||!1,zgssearch.noResFeed=!1,zgssearch.noMoreResults=!1,zgssearch.completedNoMoreResults=!1,zgssearch.futureNoMoreResults=!1,zgssearch.isMaxCalloutOpen=!1,zgssearch.firstResultCallOutShown=!1,clearInterval(zgssearch.calendarInterval),zgssearch.dateFilterDisplay=!1,zgssearch.hideHomeIcon(),zgssearch.hideWelcomePage(),zgssearch.removeIframeHolder(),zgssearch.hideCalloutLoader(),zgssearch.hideScrollTopIcon("#zgs20_gsBackToTop"),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader(),zgssearch.hideQuickActionsPage(),_jQueryGS("#zgs20_gsQueryBoxHolder").css("display","block"),_jQueryGS("#zgs20_gsSearchBoxRight").css("display","block"),zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.clearNLPTracerData(),zgssearch.gskeyboard.initialize(),_jQueryGS("#zgs20_gsIntranetfeedbackform").css("display","none"),zgssearch.gswebsite.hasOwnProperty("ZohoHCAsap")&&delete zgssearch.gswebsite.ZohoHCAsap},zgssearch.removeIframeHolder=function(){_jQueryGS("#zgs20_gsDocsPreviewHolder").empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden");var cwidth=_jQueryGS("#zgs20_gsSearchResultRight").width();zgssearch.minPrevPane!=cwidth&&zgssearch.minCalloutPreviewChange()},zgssearch.clearOldSearchData=function(search_type){zgssearch.clearPrevSearchAction(),zgssearch.total_no_of_results=0,zgssearch.searchedQuery="",zgssearch.mail_module_subset=[],zgssearch.chidVsMeta={},zgssearch.multiResultObj={},zgssearch.responseObj={},zgssearch.docIdsVsEncryptedIds={},GSConstant.ALL===search_type?(zgssearch.resultCount={},zgssearch.resultObject={},zgssearch.moreResultCount={},zgssearch.moreResultObject={},zgssearch.crm_rendered_modules={},zgssearch.projects_rendered_modules={},zgssearch.iWeightage={},zgssearch.fWeightage={},zgssearch.resultToBeShown={},zgssearch.Utils.clearAllModResInfo()):(zgssearch.resultCount[search_type]=0,zgssearch.resultObject[search_type]={},zgssearch.moreResultCount[search_type]={},zgssearch.moreResultObject[search_type]={},zgssearch.crm_rendered_modules[search_type]={},zgssearch.projects_rendered_modules[search_type]={},zgssearch.iWeightage[search_type]=0,zgssearch.fWeightage[search_type]=0,zgssearch.subMultiPageEnabled||(zgssearch.resultToBeShown[search_type]=0),zgssearch.Utils.clearServiceModResInfo(search_type)),zgssearch.campaignsRenderedMod=[]},zgssearch.isValidSearchQuery=function(cquery,service,target){var valid=!1;return zgssearch.isArrayContain(service,zgssearch.serviceList)&&(valid=zgssearch.isValidSearchForWidgetService(service,target)),zgssearch.isQueryValid(cquery)||zgssearch.isQueryHasFilters()?(cquery=zgssearch.getValue("zgs20_gsQueryBox"),zgssearch.searchedQuery===cquery&&zgssearch.getSearchType()===service&&!gscomponent.isSameQrySearchEnabled||(valid=!(gscomponent.isSameQrySearchEnabled=!1))):valid=!1,valid},zgssearch.isQueryHasFiltersSelected=function(){var muObj=zgssearch.gsautocomplete.queryFilters;return!_jQueryGS.isEmptyObject(muObj)},zgssearch.isQueryHasFilters=function(){var muObj=zgssearch.gsautocomplete.queryFilters;return!(_jQueryGS.isEmptyObject(muObj)||!muObj.hasOwnProperty("users"))},zgssearch.isQueryHasServiceLabel=function(){var muObj=zgssearch.gsautocomplete.queryFilters;return!(_jQueryGS.isEmptyObject(muObj)||!muObj.hasOwnProperty("services"))},zgssearch.updateSearchType=function(search_type,targetEle){"search"==zgssearch.seletedLeftPanelDivision&&zgssearch.isDashboardEnabled&&zgssearch.setHighlightForLeftDivisonPanel("search");var dashboardTarElem=zgssearch.getSearchType();zgssearch.updateServiceFilters(dashboardTarElem,search_type,targetEle),search_type=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(search_type):search_type,dashboardTarElem===(search_type=zgssearch.isArrayContain(search_type,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[search_type].originService:search_type)&&!zgssearch.isServiceHasMultiPortals(search_type)||zgssearch.setClearRenderedFiltersFlag(!0),!zgssearch.multiPageEnabled&&search_type!==GSConstant.ALL&&search_type===GSConstant.MAILS||zgssearch.updateSubMultiPageFlag(""),_jQueryGS("#"+("zgs20_gsServicePanelList"+dashboardTarElem)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel");dashboardTarElem="zgs20_gsServicePanelList"+search_type;_jQueryGS("#"+dashboardTarElem).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanel");dashboardTarElem=zgssearch.getTargetElem(dashboardTarElem);dashboardTarElem&&!zgssearch.gskeyboard.isCurElementInViewPort(dashboardTarElem)&&dashboardTarElem.scrollIntoView(!1),zgssearch.isDashboardEnabled&&(dashboardTarElem=_jQueryGS("#zgs20_gsDashboardHolder").children("#zgs20_gsServicePanelListDashboard"),_jQueryGS(dashboardTarElem).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")),zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.setSearchType(search_type),zgssearch.GSConstant.nlpSearchEnabled&&zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.toggleNLPSearchForServices(),zgssearch.setSearchBoxPlaceHolder(),zgssearch.handleSearchCloseIcon()},zgssearch.setSearchBtnAndVal=function(){_jQueryGS("#zgs20_gsSearchBtn").val(zgssearch.getI18NMsg("common.search")),_jQueryGS("#zgs20_gsSearchBtn").show()},zgssearch.setSearchBoxPlaceHolder=function(){var pholder=zgssearch.getI18NMsg("gs.search");GSConstant.ALL==zgssearch.getSearchType()&&(pholder=zgssearch.getI18NMsg("gs.search_across_zoho"),0<zgssearch.getEnabledCloudApps().length&&4!==gscomponent.UIType&&(pholder=zgssearch.getI18NMsg("gs.search_across_apps")),navigator&&1!==gscomponent.UIType&&(pholder+=0<=navigator.platform.toUpperCase().indexOf("MAC")?" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_cmd")+" + / )":" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_ctrl")+" + / )",pholder=gscomponent.getSearchBoxPlaceholder()||pholder)),zgssearch.getTargetElem("zgs20_gsQueryBox").setAttribute("placeholder",pholder),zgssearch.handleEmptySearchBox()},zgssearch.setPosForToList=function(cleft,rightOffset){var blogCatList;"tolink"==rightOffset?(_jQueryGS("#zgs20_gsDropdownToList").css("top",59),_jQueryGS("#zgs20_gsDropdownToList").css("left",68)):"moreBlogCategory"==rightOffset?(blogCatList=zgssearch.getNodeByAttr(cleft,"class","zgs19_gsServiceCalloutHolder"),cleft=zgssearch.findPosX(cleft,blogCatList)+_jQueryGS(cleft).width(),cleft-=(blogCatList=_jQueryGS(blogCatList).find("#zgs20_gsBlogCategoryList")).width(),blogCatList.css("top",58),blogCatList.css("left",cleft)):(rightOffset="ownerLink",_jQueryGS("#zgs20_gsDropdownOwnerList").css("top",36),rightOffset=_jQueryGS(".zgs19_gsCalloutMetaLeft").width()+_jQueryGS(".zgs19_gsCalloutUserDate").width()-(document.getElementById("zgs20_gsCalloutDDOwnerList").offsetLeft+_jQueryGS("#zgs20_gsCalloutDDOwnerList").width()),_jQueryGS("#zgs20_gsDropdownOwnerList").css("right",rightOffset))},zgssearch.hideAllDropdownList=function(target){zgssearch.handleHidePopover(target),zgssearch.hasOwnProperty("clearTooltip")&&zgssearch.clearTooltip();var action=_jQueryGS(target).attr("gs");zgssearch.gscardUtils.isCardPageOpened()&&(1!==(parNote=_jQueryGS(target).closest("#zgs20_gsCardsList")).length&&"cardslist"!==action&&zgssearch.gscards.hideCardsList(),zgssearch.gscards.isAccListPopupOpened&&1!==(parNote=_jQueryGS(target).closest("#zgs20_gsCardAccListPopup")).length&&"cardsAccList"!==action&&zgssearch.gscards.hideCardAccListPopup()),zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.gsdbhome.isDashboardMenuOpened&&(parNote=_jQueryGS(target).closest("#zgs20_gsdashboardList"),timezoneElem=(timezoneElem=zgssearch.getParentNode(target,"dbTitle"))?timezoneElem.getAttribute("gs"):"",1!==parNote.length&&"dblist"!==action&&"dbTitle"!==timezoneElem&&(_jQueryGS("#zgs20_gsdashboardList").remove(),zgssearch.gsdbhome.isDashboardMenuOpened=!1)),zgssearch.gsaddcards.isCardActionMenuOpened&&"cardMenu"!==action&&zgssearch.gsaddcards.closeCardActionMenu(),zgssearch.gsdbhome.isDBViewMenuOpened&&"dbviewmenu"!==action&&(zgssearch.gsdbhome.isDBViewMenuOpened=!1,_jQueryGS("#zgs20_gsDbViewMenu").css("display","none")),zgssearch.popupUtils.isSelectionPopupOpened&&"cardsortList"!==action&&"dbsortList"!==action&&zgssearch.popupUtils.closeSelectionPopup()),"actionlist"!==action&&zgssearch.hideCalloutActionList(),"moreAsanaProjects"!=action&&zgssearch.hideMoreContextualFilter(),"moreProjOwners"!=action&&zgssearch.hideMoreResultFields();var parNote=_jQueryGS(target).closest(".zgs19_gsSenderAbout");"sender"!==action&&"owner"!==action&&"cname"!==action&&"receiver"!==action&&!0===zgssearch.isMenuPopUpOpened&&1!==parNote.length&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1),"sendMail"!=action&&"gswmschat"!=action&&"attendeegswmsaudio"!=action&&"attendeegswmsvideo"!=action||(zgssearch.isAttendeesListOpened?(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1):zgssearch.isAttendeeMenuPopUp&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1));var timezoneElem=_jQueryGS(target).closest(".zgs19_gsAttendeesListMenuPopUp");zgssearch.isAttendeesListOpened&&1!==timezoneElem.length&&"attendeesListPopup"!==action&&(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1);timezoneElem=_jQueryGS(target).closest(".zgs19_gsAttendeeMenuPopUp");zgssearch.isAttendeeMenuPopUp&&1!==timezoneElem.length&&"attendeeMenuPopUp"!=action&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1);var cardModulePopId,ccAppPopElem,timezoneElem=_jQueryGS(target).closest("#zgs20_gsAttendeeSearchBox");zgssearch.hasOwnProperty("gscalendaraction")&&(zgssearch.gscalendaraction.AttendeeSuggestion&&1!==timezoneElem.length&&(_jQueryGS(".zgs19_gsAtdeSuggContainer").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","block"),zgssearch.gscalendaraction.AttendeeSuggestion=!1),timezoneElem=_jQueryGS(target).closest(".zgs19_gsTzList"),zgssearch.gscalendaraction.tzList&&1!==timezoneElem.length&&"calendarActions"!==action&&(_jQueryGS(".zgs19_gsTzList").css("display","none"),zgssearch.gscalendaraction.tzList=!1),timezoneElem=_jQueryGS(target).closest(".zgs19_gsTimeZonePopup"),zgssearch.timezonePopUp&&1!==timezoneElem.length&&"calendarActions"!==action&&zgssearch.gscalendaraction.hideTimeZoneDialogBox()),zgssearch.hasOwnProperty("gscardfilter")&&(cardModulePopId="zgs20_gsCardmoduleFilterPopup",ccAppPopElem=_jQueryGS(target).closest("#"+cardModulePopId),_jQueryGS("#"+cardModulePopId).is(":visible")&&1!==ccAppPopElem.length&&"moduleFilterChild"!==action&&"filterCheckBoxChild"!==action&&"openModuleFiltersList"!==action&&zgssearch.hideModuleFilterPopUp("zgs20_gsCardmoduleFilterPopup"),ccAppPopElem=_jQueryGS(target).closest("#zgs20_gsCardFilterPopup"),zgssearch.isDatePickerDisplay||zgssearch.gsdbhome.isDashboardPopupOpened||!zgssearch.gscardfilter.isCardFilterPopUpOpened||1===ccAppPopElem.length||"showCardFilter"===action||zgssearch.gscardfilter.hideFilterPopUpInCard()),zgssearch.hasOwnProperty("gscreatecards")&&(cardModulePopId="zgs20_gsCCModuleFilterListPopup",ccAppPopElem=_jQueryGS(target).closest("#"+cardModulePopId),zgssearch.gscreatecards.isAppListOpened?1===ccAppPopElem.length||zgssearch.getParentNode(target,"openAppsList")||(ccAppPopElem.css("display","none"),zgssearch.gscreatecards.isAppListOpened=!1,zgssearch.gscreatecards.currselecElem=""):zgssearch.gscreatecards.isUserSuggDisplay?1!==ccAppPopElem.length&&(ccAppPopElem.css("display","none"),zgssearch.gscreatecards.isUserSuggDisplay=!1,zgssearch.gscreatecards.currselecElem=""):_jQueryGS("#"+cardModulePopId).is(":visible")&&1!==_jQueryGS(target).closest("#"+cardModulePopId).length&&"openModuleFiltersList"!==action&&zgssearch.hideModuleFilterPopUp("zgs20_gsCCModuleFilterListPopup")),zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.gsadvancesearch.isAdvFieldListOpened&&(aparNote=_jQueryGS(target).attr("actiontype"),1!==_jQueryGS(target).closest("#zgs20_gsFieldsPopup").length&&("advSearch"!=action||"advSearch"==action&&"showFields"!=aparNote&&"showOperators"!=aparNote&&"showValueList"!=aparNote)&&zgssearch.gsadvancesearch.hideAdvPopUpList());parNote=_jQueryGS(target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==parNote.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1);var dueParnote,dateParNote,filterBox2,filterBox,aparNote=zgssearch.getParentNode(target,"tolink"),parNote=zgssearch.getParentNode(target,"toDDList");aparNote||parNote||(_jQueryGS("#zgs20_gsDropdownToList").css("display","none"),_jQueryGS("#zgs20_gsCalloutDDList1").removeClass("zgs19_gsBorderCCC")),aparNote=zgssearch.getParentNode(target,"moreBlogCategory"),parNote=zgssearch.getParentNode(target,"blogCategoryList"),aparNote||parNote||(dueParnote=_jQueryGS(target).closest(".zgs19_gsServiceCalloutHolder")[0],_jQueryGS(dueParnote).find("#zgs20_gsBlogCategoryList").css("display","none"),_jQueryGS(dueParnote).find("#zgs20_gsBlogCategoryMore").removeClass("zgs19_gsBorderCCC")),aparNote=zgssearch.getParentNode(target,"ownerlink"),parNote=zgssearch.getParentNode(target,"blogCategoryList"),aparNote||parNote||(_jQueryGS("#zgs20_gsDropdownOwnerList").css("display","none"),_jQueryGS("#zgs20_gsCalloutDDOwnerList").removeClass("zgs19_gsBorderCCC")),zgssearch.isDatePickerDisplay?(dateParNote=zgssearch.getParentNode(target,"gsfilterComponentPicker"),dueParnote=zgssearch.getNoteByAttr(target,"datatype","dueDateChange"),dateParNote||dueParnote||zgssearch.hideDatePicker()):zgssearch.isCustomDatePickerDisplay?(dateParNote=zgssearch.getParentNode(target,"gsDatePickerComponent"))||action||zgssearch.hideNewCustomDatePicker():zgssearch.isFilterListDisplay?(parNote=zgssearch.getParentNode(target,"mFilterWidget"),filterBox=zgssearch.getParentNode(target,"gsFilterWidgetHeader"),filterBox2=zgssearch.getParentNode(target,"filterCheckBoxChild"),_jQueryGS(target).hasClass("zgs19_gsSubModuleFilterElemDDIcon")||"mFilterWidgetHeader"===action||"subModuleFilter"===action||"moduleFilterEditFields"===action||parNote||filterBox||filterBox2||zgssearch.hideFilterList()):zgssearch.isMoreFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay?(parNote=zgssearch.getParentNode(target,"more_filters"),filterBox=zgssearch.getParentNode(target,"moreFilterHolder"),filterBox2=zgssearch.getParentNode(target,"moreInnerFilterHolder"),parNote||filterBox||filterBox2||zgssearch.dateFilterDisplay||zgssearch.hideMoreFilterList(),parNote=zgssearch.getParentNode(target,"moreFilterList"),filterBox=zgssearch.getParentNode(target,"moreInnerFilterHolder"),"moduleInnerFilterChild"!=action&&(parNote||filterBox)||zgssearch.hideMoreInnerFilterList()):zgssearch.isEditFieldsDisplay&&(aparNote=(aparNote=zgssearch.getParentNode(target,"CalloutEditFields"))||zgssearch.getParentNode(target,"ticketAction"),parNote=zgssearch.getParentNode(target,"editFieldsList"),filterBox=zgssearch.getParentNode(target,"editFieldsHeader"),aparNote||parNote||filterBox||(zgssearch.hideEditFieldsList(),zgssearch.gsaction.currSearchType={}))},zgssearch.getNoteByAttr=function(target,attrName,attrValue){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(attrValue===_jQueryGS(parNode).attr(attrName))return parNode;parNode=parNode.parentNode}return null},zgssearch.getNodeByAttr=function(target,attrName,attrValue){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){var gsAttr=_jQueryGS(parNode).attr(attrName);if(zgssearch.includes(attrValue,gsAttr))return parNode;parNode=parNode.parentNode}return null},zgssearch.getvalueByAttr=function(target,attrName){for(var parNode=target,parObj={},global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(parNode.hasAttribute(attrName))return parObj.node=parNode,parObj[attrName]=parNode.getAttribute(attrName),parObj;parNode=parNode.parentNode}return null},zgssearch.getTopMostParentNode=function(target,gsName){for(var parNode=target;parNode;){if(gsName===_jQueryGS(parNode).attr("gs"))return parNode;parNode=parNode.parentNode}return null},zgssearch.getParentTipNode=function(target){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(_jQueryGS(parNode).attr("gsParentTip"))return parNode;parNode=parNode.parentNode}return null},zgssearch.getParentNode=function(target,gsName){for(var parNode=target,global=zgssearch.searchViewport;parNode&&parNode!==global;){if(gsName===_jQueryGS(parNode).attr("gs"))return parNode;parNode=parNode.parentNode}return null},zgssearch.hideResMoreOption=function(acc_id,moreEleId){var service=_jQueryGS(acc_id).attr("service"),moreEleId="zgs20_gs"+(moreEleId||service)+"More";(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(moreEleId="zgs20_gs"+(acc_id=_jQueryGS(acc_id).attr("acc_id"))+"More",zgssearch.subMultiPageEnabled&&(moreEleId="zgs20_gs_"+service+"_"+acc_id+"_More")),zgssearch.curMoreService="",_jQueryGS("#"+moreEleId).hide()},zgssearch.showResMoreOption=function(moreEleId){_jQueryGS(".zgs19_gsMoreOption").css("display","none");var acc_id=_jQueryGS(moreEleId).attr("acc_id"),service=_jQueryGS(moreEleId).attr("service"),searchType=zgssearch.getSearchType(),moreEleId=GSConstant.ALL!==searchType?_jQueryGS(moreEleId).attr("service"):"";!zgssearch.isServiceHasMoreResults(service,acc_id,moreEleId)&&service!==GSConstant.GS_APPS||(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(moreEleId="zgs20_gs"+(zgssearch.curMoreService=acc_id)+"More",zgssearch.subMultiPageEnabled&&(moreEleId="zgs20_gs_"+service+"_"+acc_id+"_More"),_jQueryGS("#"+moreEleId).css("display","block")):service===GSConstant.GS_APPS?zgssearch.toggleMoreRelatedProducts():(zgssearch.curMoreService=service,_jQueryGS("#zgs20_gs"+service+"More").css("display","block")))},zgssearch.isServiceHasMoreResults=function(service,acc_id,moduleName){var flag=!1,no_of_results=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]);if(zgssearch.isArrayContain(service,no_of_results)){var currWs,no_of_results=zgssearch.getSearchType();if(!(flag=zgssearch.GSConstant.ALL==no_of_results&&zgssearch.isServiceHasMultiPortals(service)&&2<=(zgssearch.multiResultObj[service]||[]).length?!0:flag))if(service===zgssearch.GSConstant.ASANA&&(currWs=zgssearch.getFilterInfo(service,zgssearch.WS,"current"),acc_id=acc_id||zgssearch.getFilterInfo(service,"accounts","current")),service===zgssearch.GSConstant.SALESFORCE||service===zgssearch.GSConstant.ASANA&&"all"==currWs){var mod,more_account_results=(zgssearch.moreResultCount[service]||{})[acc_id]||{},more_results_count=0;for(mod in more_account_results)more_results_count+=more_account_results[mod];flag=0<more_results_count}else{no_of_results=zgssearch.getServiceResultCount(service,acc_id,moduleName);"object"==typeof no_of_results&&service===zgssearch.GSConstant.ASANA&&(no_of_results=no_of_results[acc_id][currWs]),zgssearch.getShownResultCount(service,acc_id,moduleName)<no_of_results&&(flag=!0)}}return flag},zgssearch.clearSearchresults=function(){var search_type,mlist;""==zgssearch.getValue("zgs20_gsQueryBox")&&(0<zgssearch.total_no_of_results||zgssearch.noMoreResults)&&(zgssearch.network.removeEventSource(),search_type=zgssearch.getSearchType(),zgssearch.clearOldSearchData(search_type),mlist=zgssearch.getWidgetServiceList(search_type),0<Object.keys(mlist).length&&0==zgssearch.getFilterInfo(search_type,mlist.key,"current")&&(zgssearch.multiPageEnabled=!0),zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened()||zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened?(zgssearch.hideCalloutHolder(),zgssearch.clearModuleResultPage()):zgssearch.updateCurrentPage(search_type),zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)")))},zgssearch.handleSearchCloseIcon=function(){var closeicon="block";""==zgssearch.getValue("zgs20_gsQueryBox")&&(zgssearch.handleServiceOptionsForCallout(),closeicon="none"),_jQueryGS("#zgs20_gsQueryCloseBox").css("display",closeicon),zgssearch.setSearchBoxSegmentSize()},zgssearch.removeQuerySugg=function(){_jQueryGS(".zgs19_gssuggtext").remove(),_jQueryGS("#zgs20_gsQuerySugg").css("display","none").html(""),zgssearch.gsautocomplete.currselecelem="",zgssearch.gsautocomplete.showLoadingIcon=!1,zgssearch.gsautocomplete.isAutoSuggDisplay=!1},zgssearch.getCursorPos=function(){return _jQueryGS("#zgs20_gsQueryBox").get(0).selectionStart},zgssearch.getCursorEndPos=function(){return _jQueryGS("#zgs20_gsQueryBox").get(0).selectionEnd},zgssearch.setCursorPos=function(pos){var qelem=_jQueryGS("#zgs20_gsQueryBox").get(0);qelem.selectionEnd=pos,qelem.selectionStart=pos},zgssearch.getQueryScrollLeft=function(inputElement){if(zgssearch.isBrowserSupportSSE)return _jQueryGS(inputElement).scrollLeft();if(inputElement.hasOwnProperty("createTextRange")){var rangeRect=inputElement.createTextRange(),paddingLeft=window.getComputedStyle(inputElement,void 0),paddingLeft=parseFloat(paddingLeft.paddingLeft),rangeRect=rangeRect.getBoundingClientRect();return inputElement.getBoundingClientRect().left+inputElement.clientLeft+paddingLeft-rangeRect.left}},zgssearch.updateQueryDiv=function(){var query;(0<(zgssearch.getAccessibleServiceList()||[]).length||GSConstant.hasOwnProperty("widgetObject"))&&(query=zgssearch.getValue("zgs20_gsQueryBox"),_jQueryGS("#zgs20_gsQueryDiv").empty().text(query),zgssearch.gsautocomplete.hasOwnProperty("setAutoSuggestAppsData")&&zgssearch.gsautocomplete.setAutoSuggestAppsData(),zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.updateSearchBox(query),zgssearch.gsautocomplete.parseQueryDiv(),zgssearch.gsautocomplete.updatesuggtext(),zgssearch.gsautocomplete.storeIndexOfSugg())},zgssearch.mouseEnterEvent=function(elem,action){try{zgssearch.isGSOpened&&"ServiceTemplate"===action&&zgssearch.showResMoreOption(elem)}catch(ex){}},zgssearch.mouseLeaveEvent=function(elem,action){try{zgssearch.isGSOpened&&"ServiceTemplate"===action&&zgssearch.hideResMoreOption(elem)}catch(ex){}},zgssearch.appendFilterIcon=function(elem,service){var tarElem=zgssearch.currHoverRes,filterCls="";switch(service||_jQueryGS(tarElem).attr("service")){case zgssearch.GSConstant.CRM:case zgssearch.GSConstant.CLIQ:case zgssearch.GSConstant.MAILS:case zgssearch.GSConstant.STREAMS:case zgssearch.GSConstant.SUPPORT:case zgssearch.GSConstant.PEOPLE:case zgssearch.GSConstant.CONNECT:case zgssearch.GSConstant.BOOKS:case zgssearch.GSConstant.CALENDAR:case zgssearch.GSConstant.INVOICE:case zgssearch.GSConstant.O365MAIL:case zgssearch.GSConstant.NOTEBOOK:case zgssearch.GSConstant.SALESFORCE:case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.BIGIN:case zgssearch.GSConstant.EVERNOTE:filterCls="deptName"===_jQueryGS(elem).attr("gsfilter")?-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon3":"zgs18_gsModuleFilterIcon2":"zgs18_gsModuleFilterIcon1";break;case zgssearch.GSConstant.WEBSITE:case zgssearch.GSConstant.ORGRESOURCES:_jQueryGS(elem).attr("gs"),filterCls=-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case zgssearch.GSConstant.WORKDRIVE:filterCls="rightFilter"===_jQueryGS(elem).attr("gsfilter")?"zgs18_gsModuleFilterIcon1":-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case zgssearch.GSConstant.PROJECTS:filterCls="projectsFilter"===_jQueryGS(elem).attr("gs")?(-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4")+" zgs19_gsPdLt2Px":"zgs18_gsModuleFilterIcon1"}zgssearch.setGSTagElems(tarElem);tarElem=_jQueryGS("<span>",{id:"zgs20_gsHoverFilter",class:filterCls});_jQueryGS(tarElem).insertBefore(elem);tarElem=zgssearch.getParentNode(elem,"gsFilterIcon");tarElem&&(_jQueryGS(tarElem).find(".zgs19_gsResIntxt2").css("visibility","hidden"),_jQueryGS(tarElem).find(".zgs19_gsResIntxt").css("visibility","hidden"),_jQueryGS(tarElem).find(".zgs19_gsContactDeptImg").css("visibility","hidden"))},zgssearch.removeFilterIcon=function(tarElem){_jQueryGS(tarElem).css("max-width","");tarElem=zgssearch.getParentNode(tarElem,"gsFilterIcon");tarElem&&(_jQueryGS(tarElem).find(".zgs19_gsResIntxt2").css("visibility","visible"),_jQueryGS(tarElem).find(".zgs19_gsResIntxt").css("visibility","visible"),_jQueryGS(tarElem).find(".zgs19_gsContactDeptImg").css("visibility","visible")),_jQueryGS("#zgs20_gsHoverFilter").remove()},zgssearch.setCurrentHoveredRes=function(ele){zgssearch.currHoverRes=ele},zgssearch.removeCurrentHoveredRes=function(){zgssearch.currHoverRes=""},zgssearch.jqueryMouseEvent=function(){_jQueryGS(".zgs19_auth").off().on({mouseenter:function(){zgssearch.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){zgssearch.gssettingsapptab.hideAccModInfo(this)}}),_jQueryGS(".zgs19_sub_auth").off().on({mouseenter:function(){zgssearch.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){zgssearch.gssettingsapptab.hideAccModInfo(this)}}),_jQueryGS(".zgs19_gsSearchResultTable").off().on({mouseenter:function(){zgssearch.setCurrentHoveredRes(this)},mouseleave:function(){zgssearch.removeCurrentHoveredRes()}}),_jQueryGS(".zgs19_hvr_underline").off().on({mouseenter:function(){zgssearch.appendFilterIcon(this)},mouseleave:function(){zgssearch.removeFilterIcon(this)}}),_jQueryGS(".zgs19_gsServiceTemplate").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"ServiceTemplate")}}),_jQueryGS(".zgs19_gsAppsTemplate").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"ServiceTemplate")}}),_jQueryGS("#zgs20_gsSearchResultLeft").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanel")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"serviceLeftPanel")}}),_jQueryGS(".zgs19_gsServiceMenu").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanelMenu")}}),_jQueryGS("#zgs20_gsQuerySugg").off().on({mouseleave:function(){var tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");_jQueryGS("#"+tid+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}}),_jQueryGS(".zgs19_gsAppsRes").off().on({mousedown:function(event){"relatedproducts"==_jQueryGS(this).attr("key")&&(zgssearch.gsautocomplete.openApp(event,this),zgssearch.stopEvent(event))}}),_jQueryGS(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){var elemId;zgssearch.handleMouseMoveEvent(),zgssearch.gsautocomplete.currselecelem!=this&&(zgssearch.gsautocomplete.currselecelem=this,zgssearch.gsautocomplete.updatesuggtext(),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold"))},mouseleave:function(){var elemId;zgssearch.isMouseStopped||(elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),zgssearch.gsautocomplete.currselecelem="",zgssearch.gsautocomplete.updatesuggtext())},mousedown:function(event){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1,"relatedproducts"==_jQueryGS(this).attr("key")&&(zgssearch.gsautocomplete.openApp(event,this),zgssearch.stopEvent(event))},contextmenu:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu=!0},click:function(event){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.gsautocomplete.updateautosuggest(this,event)}}),_jQueryGS(".zgs19_gsAutoSuggShowMore").off().on({mousedown:function(){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1},contextmenu:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu=!0},click:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.gsautocomplete.showMoreAutoSuggest(this)}}),_jQueryGS(".zgs19_gsAteendeeInfo").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","visible")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","hidden")}}),_jQueryGS(".zgs19_gsAttendeeContainer").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsAttendeeClose").css("visibility","visible")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsAttendeeClose").css("visibility","hidden")}}),_jQueryGS(".zgs19_gsTzInput").off().on({input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase();_jQueryGS(".zgs19_gsTzListContainer>.zgs19_gsTzItem").filter(function(){_jQueryGS(this).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})},keydown:function(event){var keycode=event.keyCode||event.which;keycode!==zgssearch.specialkeys.ENTER&&keycode!==zgssearch.specialkeys.UP&&keycode!==zgssearch.specialkeys.DOWN||zgssearch.stopEvent(event)}}),_jQueryGS("#zgs20_gsAttendeeSearchBox").off().on({input:function(){var query;Object.keys(zgssearch.gscalendaraction.tempAttendeeList).length<=100&&(0<(query=_jQueryGS("#zgs20_gsAttendeeSearchBox").val()).length?zgssearch.gscalendaraction.updateSearchQueryForCalendar(query):zgssearch.gscalendaraction.hideAttendeeSuggestion())},keydown:function(event){var emailId,count,keycode=event.keyCode||event.which;keycode===zgssearch.specialkeys.ENTER?0<_jQueryGS("#zgs20_gsAttendeeSearchBox").val().length&&(emailId=_jQueryGS("#zgs20_gsAttendeeSearchBox").val().toLowerCase(),zgssearch.emailRejaxPattern.test(emailId)?(count=Object.keys(zgssearch.gscalendaraction.tempAttendeeList).length,zgssearch.gscalendaraction.addAttendeeDetails(1+count,!1,"","","",emailId,null,"zgs20_gsAttendeeEditList",!1),zgssearch.gscalendaraction.tempAttendeeList[emailId]={eM:emailId},_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),_jQueryGS("#zgs20_gsAttendeeSearchBox").focus()):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.emailError")})):keycode!==zgssearch.specialkeys.UP&&keycode!==zgssearch.specialkeys.DOWN||zgssearch.stopEvent(event)}}),_jQueryGS(".zgs19_gsTimezoneData").off().on({mouseenter:function(){var projFactoryInstance=new zgssearch.ZSProjectMgmtFactory,service_info={};service_info.service_name=zgssearch.GSConstant.PROJECTS,projFactoryInstance.createProjectMgmtInstance(service_info).getTimezoneDetails(this)},mouseleave:function(){zgssearch.hideMoreContextualFilter()}})},zgssearch.jqueryMouseEvent(),zgssearch.addEventForSearchBox=function(){_jQueryGS("#zgs20_gsQueryBox").off().on({focus:function(len){zgssearch.isQueryFocused=!0,zgssearch.hideAllDropdownList(""),zgssearch.gsmousewheelevent(len),this.setSelectionRange&&(len=_jQueryGS(this).val().length,this.setSelectionRange(len,len))},blur:function(event){zgssearch.isQueryFocused=!1,zgssearch.gsmousewheelevent(event),zgssearch.gsautocomplete.mousedown?(zgssearch.stopEvent(event),zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.mousedown=!1):zgssearch.gsautocomplete.isAutoSuggDisplay&&setTimeout(function(){zgssearch.removeQuerySugg()},0)},input:function(event){zgssearch.clearSearchresults(),zgssearch.triggerAutoSuggestCall(event)},keydown:function(event){var keycode=event.keyCode||event.which;(keycode==zgssearch.specialkeys.BACKSPACE||keycode==zgssearch.specialkeys.DELETE||(event.ctrlKey||event.metaKey)&&keycode==zgssearch.specialkeys.CUT)&&zgssearch.gsautocomplete.removeFullSugg(event)},click:function(event){zgssearch.checkCurrCurPos(event)},keyup:function(mlist){var query;zgssearch.checkCurrCurPos(mlist),zgssearch.hasServiceRemoved&&(zgssearch.hasServiceRemoved=!1,query=GSConstant.ALL,mlist=zgssearch.getWidgetServiceList(query),zgssearch.updateMultiPageFlag(query,mlist.key),zgssearch.updateSearchType(query),zgssearch.updateCurrentPage(query),zgssearch.disablingSSIcon(),query=zgssearch.getValue("zgs20_gsQueryBox"),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),query=zgssearch.gsautocomplete.getautosearchQuery(query),zgssearch.isQueryValid(query)&&zgssearch.removeQuerySugg())}},!0),_jQueryGS("#zgs20_gsQueryCloseBox").off().on({click:function(){zgssearch.network.removeEventSource(),zgssearch.clearSearchQueryBox(),zgssearch.handleSearchCloseIcon(),zgssearch.hideSearchPageLoader()}})},zgssearch.addEventForSearchBox(),zgssearch.clearSearchQueryBox=function(){zgssearch.handleServiceOptionsForCallout(),_jQueryGS("#zgs20_gsQueryBox").val(""),_jQueryGS("#zgs20_gsQueryDiv").text(""),zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.clearSearchresults(),zgssearch.handleEmptySearchBox()},zgssearch.hideSubFilterList=function(){zgssearch.isSubFilterListDisplay=!1,_jQueryGS(zgssearch.currSubModuleFilterListElem).empty().hide()},zgssearch.hideFilterList=function(){zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1,_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreFilterList=function(){zgssearch.curMoreFiltersList={},zgssearch.curMoreDateFiltersList={},zgssearch.isMoreFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterWidgetList").remove(),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreInnerFilterList=function(){zgssearch.isMoreInnerFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterInnerList").remove(),_jQueryGS(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideCalloutActionList=function(){zgssearch.isCalloutActionListOpened=!1,_jQueryGS(".zgs19_gsCalloutActionList").css("display","none"),_jQueryGS(".zgs18_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC")},zgssearch.hideEditFieldsList=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsDisplay=!1,_jQueryGS("#zgs20_gsEditFieldsHolder").remove(),_jQueryGS(".zgs19_gsEditFieldsNameHolder").removeClass("zgs19_gsboxholder zgs19_gsboxholderbot")},zgssearch.hideFormsViewsFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),fkey=_jQueryGS("#zgs20_gsFormViewsFilterWidgetList").attr("fkey");!zgssearch.isFilterListDisplay||zgssearch.isFilterListDisplay&&ekey!=fkey?_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden"):zgssearch.oldFilterElemIcon=elem},zgssearch.hideFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),ckey=_jQueryGS("#zgs20_gsModuleFilterWidgetList").attr("fkey");!zgssearch.isFilterListDisplay||zgssearch.isFilterListDisplay&&ekey!=ckey?(ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey"),(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):zgssearch.oldFilterElemIcon=elem},zgssearch.hideMoreFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),ckey=_jQueryGS("#zgs20_gsMoreFilterInnerList").attr("fkey");!zgssearch.isMoreInnerFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay&&ekey!=ckey?(ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey"),(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):zgssearch.oldFilterElemIcon=elem},zgssearch.hideMoreContextualFilter=function(){_jQueryGS("#zgs20_gsHoverFilter").remove(),_jQueryGS("#zgs20_gsResultFilterDropDown").remove()},zgssearch.hideMoreResultFields=function(){_jQueryGS("#zgs20_gsResultFilterDropDown").remove()},zgssearch.removeClass=function(parentEle,childCls,tobeRemoveCls){_jQueryGS(parentEle).find(childCls).removeClass(tobeRemoveCls)},zgssearch.showFilterElemIcon=function(elem){zgssearch.removeClass(elem,".zgs19_gsModuleFilterElemIcon","zgs19_gsVisibleHidden")},zgssearch.handleMouseMoveEvent=function(){zgssearch.isMouseStopped=!1,clearTimeout(zgssearch.setMouseTimer),zgssearch.setMouseTimer=setTimeout(function(){zgssearch.isMouseStopped=!0,clearTimeout(zgssearch.setMouseTimer)},100)},zgssearch.addEventForFilterElem=function(){_jQueryGS("#zgs20_gsModuleFilterList .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).attr("soid")&&zgssearch.showFilterElemIcon(this)},click:function(){_jQueryGS(this).attr("soid")&&zgssearch.showFilterElemIcon(this)},mouseleave:function(){_jQueryGS(this).attr("soid")&&zgssearch.hideFilterElemIcon(this)}})},zgssearch.addEventFormsViewsFilterElem=function(){_jQueryGS("#zgs20_gsFormViewsFilterDataHolder .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){zgssearch.showFilterElemIcon(this)},click:function(){zgssearch.showFilterElemIcon(this)},mouseleave:function(){zgssearch.hideFormsViewsFilterElemIcon(this)}})},zgssearch.addEventForFormsViewsListBox=function(targetId){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currCreatorFilterSelectedElem!=this&&(zgssearch.currCreatorFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currCreatorFilterSelectedElem="")},mousedown:function(){zgssearch.currCreatorFilterClickelem=this,zgssearch.isCurrCreatorFilterClickelem=!0}})},zgssearch.addMoreEventForFilterElem=function(){_jQueryGS("#zgs20_gsMoreFilterWidgetList .zgs19_gsModuleMoreFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).attr("soid")&&zgssearch.showFilterElemIcon(this)},mouseleave:function(){_jQueryGS(this).attr("soid")&&zgssearch.hideMoreFilterElemIcon(this)}})},zgssearch.addEventForEditFieldsQueryBox=function(){_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){zgssearch.isMouseStopped||_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){zgssearch.currEditFieldselecelem=this;var dtypeattr=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");"statusChange"==dtypeattr?zgssearch.gssupportaction.clickActionForStatus(this):"configSortAction"===dtypeattr?zgssearch.gsusersettings.clickActionForSort(this):(_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(this).find(".zgs19_gsEditFieldsRadio").prop("checked",!0))}}),_jQueryGS("#zgs20_gsEditFieldsQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){zgssearch.gsaction.searchForEditFields()}}),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")},zgssearch.addEventForMoreFilterQueryBox=function(targetId,service){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currFilterSelectedElem!=this&&(zgssearch.currFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currFilterSelectedElem="")},mousedown:function(){zgssearch.currMoreFilterClickelem=this,zgssearch.isCurrMoreFilterClickelem=!0}}),zgssearch.filterSearchQueryAction(service)},zgssearch.addEventForFilterQueryBox=function(targetId,service){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currFilterSelectedElem!=this&&(zgssearch.currFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currFilterSelectedElem="")},mousedown:function(){zgssearch.currFilterClickelem=this,zgssearch.isCurrFilterClickelem=!0}}),_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection_sub").off().on({mousedown:function(){zgssearch.isCurrFilterClickelem=!0}}),zgssearch.filterSearchQueryAction(service)},zgssearch.checkCurrCurPos=function(event){var ccurpos=zgssearch.currcurpos,scurpos=zgssearch.getCursorPos(),ecurpos=zgssearch.getCursorEndPos(),query=zgssearch.getValue("zgs20_gsQueryBox"),keycode=event.keyCode||event.which;scurpos==ecurpos?("click"!=event.type||zgssearch.isQueryValid(query)||zgssearch.gsautocomplete.isAutoSuggDisplay)&&("keyup"!=event.type||scurpos==ccurpos||zgssearch.specialkeys.LEFT!=keycode&&zgssearch.specialkeys.RIGHT!=keycode)||zgssearch.triggerAutoSuggestCall(event):zgssearch.removeQuerySugg()},zgssearch.triggerAutoSuggestCall=function(event){zgssearch.handleSearchCloseIcon(),zgssearch.currcurpos=zgssearch.getCursorPos(),zgssearch.hasOwnProperty("gsautocomplete")&&(zgssearch.updateQueryDiv(),event&&zgssearch.gsmousewheelevent(event)),zgssearch.hasOwnProperty("gsusercontacts")&&zgssearch.gsusercontacts.checkProxConTresholdLimit()},zgssearch.getResultsAreaWidth=function(){return zgssearch.resulstAreaWidth},zgssearch.setResultsAreaWidth=function(width){zgssearch.resulstAreaWidth=width},zgssearch.handleEmptySearchBox=function(){var service=zgssearch.getSearchType();zgssearch.focusForWeb("zgs20_gsQueryBox"),!GSConstant.ALL===service&&(zgssearch.gsautocomplete.checkQueryFilterExists("users"),zgssearch.gsautocomplete.checkQueryFilterExists("services"))},zgssearch.isServiceHasEmptySearch=function(service){var issupported=!1;if(zgssearch.hasListSearchEnabled)for(var slist=[],mlist=zgssearch.getMappedServiceList(),len=(slist=GSConstant.ALL==service?zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]):service.split()).length||0,i=0;i<len;i++){var serv=slist[i];if(mlist.hasOwnProperty(serv))if(mlist[serv].listview){issupported=!0;break}}return issupported},zgssearch.handleEmptySearchQry=function(service,target){zgssearch.network.removeEventSource(),zgssearch.hideSearchPageLoader(),zgssearch.clearPrevSearchAction(),zgssearch.focusForWeb("zgs20_gsQueryBox");var qfObj,tdisp,qrytext=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(qrytext);!zgssearch.isQueryValid(mquery)&&zgssearch.isServiceHasEmptySearch(service)?(qfObj=zgssearch.gsautocomplete.queryFilters,tdisp=zgssearch.gsautocomplete.queryFiltersMap,qrytext={},zgssearch.isURLParamsSearch?(zgssearch.handleUserQuery(),qrytext=zgssearch.getMappedServiceList()):(qrytext=zgssearch.gsautocomplete.get("services"),zgssearch.handleUserSearchQuery(mquery,service,target)),!qrytext.hasOwnProperty(service)||qfObj.hasOwnProperty(service)||tdisp.hasOwnProperty(service)||(qrytext=" #"+(tdisp=zgssearch.isURLParamsSearch?qrytext[service].displayName:qrytext[service])+"  ",_jQueryGS("#zgs20_gsQueryBox").val(qrytext),_jQueryGS("#zgs20_gsQueryDiv").text(qrytext),zgssearch.gsautocomplete.setQryFilters("services",service),zgssearch.gsautocomplete.setQryFiltersMap("services",tdisp),zgssearch.gsautocomplete.parseQueryDiv(),zgssearch.handleSearchCloseIcon())):zgssearch.network.abortOngoingCalls()},zgssearch.hideServiceAccOrderOverlay=function(){_jQueryGS(".zgs19_gsServiceAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()},zgssearch.hideDelAccOrderOverlay=function(){_jQueryGS(".zgs19_gsDelAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()},gscomponent.isResizeEnabled()&&(window.removeEventListener("resize",zgssearch.gsresizepage,!1),zgssearch.gsresizepage=function(){zgssearch.hideDatePicker(),zgssearch.hidetooltip(),zgssearch.Utils.throttle(function(){zgssearch.setGSElemSize()},70,"gsresizepage")},window.addEventListener("resize",zgssearch.gsresizepage,!1)),zgssearch.searchViewport.removeEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,!0),zgssearch.gsmousewheelevent=function(event){zgssearch.isGSOpened&&(zgssearch.hidetooltip(),"gsQueryBox"===_jQueryGS(event.target).attr("gs")&&setTimeout(function(){var sl=zgssearch.getQueryScrollLeft(event.target);_jQueryGS("#zgs20_gsQueryDiv").css("left",-Math.abs(sl))},10))},zgssearch.searchViewport.addEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,!0),window.removeEventListener("message",zgssearch.receiveMessage,!0),zgssearch.receiveMessage=function(event){try{var event_data,data,sid,service_name,paramsObj,menuEl,action_type,id,attachId,service,attachname,resHash,resObj,origin=event.origin||event.originalEvent.origin;void 0!==event.data&&"undefined"!==event.data&&null!==event.data&&(event_data=event.data,data="object"==typeof event_data?event_data:JSON.parse(event_data),origin===zgssearch.GSConstant.GS_MAIL_URL?data.hasOwnProperty("close")&&data.close&&(_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),zgssearch.focusForWeb("zgs20_gsQueryBox"),service=zgssearch.getCurSelectedEleAttr("service"),sid=zgssearch.mappedServiceList[service].id,_jQueryGS("#"+sid).show()):origin===zgssearch.getURLOrginName(window.location.href)?void 0!==data.action_type&&(action_type=data.action_type,data.error_msg,data.preview_type,service_name=data.service_name,"preview"===action_type?(paramsObj={},menuEl=zgssearch.getTargetElem("zgs20_gsConnectorCallout"),service_name!==zgssearch.GSConstant.DROPBOX&&service_name!==zgssearch.GSConstant.GOOGLEDRIVE||(paramsObj={service:service_name,previewHolder:"docspreviewHolder"},menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout")),resObj=zgssearch.getCurrentResObj(),zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)):"download"===action_type?zgssearch.Utils.showErrorMsg(zgssearch.getI18NMsg("gs.search.error.file_down_fail_message")):"image_error"===action_type?zgssearch.Utils.showErrorMsg(zgssearch.getI18NMsg("gs.search.error.img_prev_err_message")):"attachment"===action_type&&(attachId=data.attachId||"")&&zgssearch.gso365mail.downloadAttachment(attachId)):origin===zgssearch.getURLOrginName(zgssearch.GSConstant.cloud_preview_domain)&&void 0!==data.action_type&&("attachment"===(action_type=data.action_type)?(attachId=data.attachId||"")&&zgssearch.gso365mail.downloadAttachment(attachId):"everNoteAttachment"===action_type?zgssearch.notesTemplateInstance.downloadEvernoteAttachment(data):"LOAD_OUTLOOK_IMAGE"===action_type?(id=data.id,zgssearch.network.imageRenderer.renderImage(data.url,null,function(msg){msg={action_type:"OUTLOOK_IMAGE_RESPONSE",imgSrc:msg||data.url,id:id};document.getElementById("zgs20_o365MailIframePrev").contentWindow.postMessage(msg,origin)})):"addToWD"===action_type?(service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),attachId=data.attachId||"",resObj=zgssearch.getCurrentResObj(),attachId&&zgssearch.openInWD(service,resObj,"",attachId)):"evernoteAddToWD"===action_type&&(service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),attachname=data.attach_name||"",resHash=data.res_hash||"",resObj=zgssearch.getCurrentResObj(),attachname&&zgssearch.openInWD(service,resObj,"",attachname,resHash))))}catch(exception){zgssearch.throwClientError("Exception in receiveMessage ",exception)}},window.addEventListener("message",zgssearch.receiveMessage,!0),zgssearch.isExtension&&(zgssearch.searchViewport.removeEventListener("click",zgssearch.smallerExtensionClickEvent,!0),zgssearch.smallerExtensionClickEvent=function(event){try{var target;1==(event.which||"")&&(target=event.target,zgssearch.hideAllDropdownList(target),"myaccounts"===_jQueryGS(target).attr("gs")&&(zgssearch.openInNewTab(zgssearch.GSConstant.IAM_ACCOUNTS_URL),zgssearch.stopEvent(event)))}catch(ex){zgssearch.throwClientError("Error in smallerExtensionClickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.smallerExtensionClickEvent,!0)),1===gscomponent.UIType&&(window.removeEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.globalClickEvent=function(event){try{if(1==(event.which||"")){var target=event.target;switch(zgssearch.hideAllDropdownList(target),_jQueryGS(target).attr("gs")||zgssearch.getParentNode(target,"gs")){case"sendFeedback":zgssearch.gszohosearch.sendFeedbackValidation();break;case"feedBack":zgssearch.gsconnector.renderfeedbackForm(),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.curSelectedEle="";break;case"zsfeedback":zgssearch.gszohosearch.toggleFeedback(),zgssearch.stopEvent(event)}}}catch(ex){zgssearch.throwClientError("Error in globalClickEvent.",ex)}},window.addEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.searchViewport.removeEventListener("click",zgssearch.biggerZOSClickEvent,!0),zgssearch.biggerZOSClickEvent=function(event){try{if(1==(event.which||"")){var target=event.target;switch(zgssearch.hideAllDropdownList(target),_jQueryGS(target).attr("gs")||zgssearch.getParentNode(target,"gs")){case"myaccounts":zgssearch.openInNewTab(zgssearch.GSConstant.IAM_ACCOUNTS_URL),zgssearch.stopEvent(event);break;case"signout":zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&zgssearch.gstopband.hideUserDetails(),zgssearch.globalClickEventForOverlay(event);break;case"userDetails":case"gsProfilePhoto":zgssearch.gstopband.toggleUserDetails();break;case"nlpTracer":zgssearch.gsnlpsearch.toggleNLPTracer();break;default:if(zgssearch.getParentNode(target,"hamburger"))return void zgssearch.gstopband.toggleHamburger();if(!zgssearch.getParentNode(target,"feedbackData")&&zgssearch.hasOwnProperty("gszohosearch")&&zgssearch.gszohosearch.isFeedbackOpened)return void zgssearch.gszohosearch.toggleFeedback();zgssearch.getParentNode(target,"zsfeedback")&&(zgssearch.gszohosearch.toggleFeedback(),zgssearch.stopEvent(event))}}}catch(ex){zgssearch.throwClientError("Error in biggerZOSClickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.biggerZOSClickEvent,!0)),zgssearch.searchViewport.removeEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.scrollEvent=function(event){try{zgssearch.isGSOpened&&zgssearch.Utils.debounce(function(){zgssearch.hidetooltip(),zgssearch.hideWidgetsPopup();var tarId=_jQueryGS(event.target).attr("gs"),service_name=_jQueryGS(event.target).attr("service");switch(tarId){case"serviceSpecificPage":zgssearch.toggleBacktoTop("zgs20_gs"+service_name+"Template","#zgs20_gsBackToTop"),zgssearch.modulePageScrollEvent("zgs20_gs"+service_name+"Template",event),zgssearch.stopEvent(event);break;case"multiPageHolder":zgssearch.toggleBacktoTop("zgs20_MultiSearchPageHolder","#zgs20_gsBackToTop"),zgssearch.multiPageScrollEvent("zgs20_MultiSearchPageHolder",event),zgssearch.stopEvent(event);break;case"calloutFooter":var sdisplay=zgssearch.getTargetElem("zgs20_gsMailCallout");sdisplay&&(zgssearch.setGSTagElems(sdisplay),zgssearch.setPosForToList(sdisplay.tolink,"tolink"),zgssearch.stopEvent(event));break;case"cardContent":case"cardsListContent":zgssearch.gscards.cardsPageScrollEvent();break;case"dashboardContent":zgssearch.gscardinDb.dashboardScrollEvent();break;case"savedSearchesPage":zgssearch.savedSearchPageScrollEvent("zgs20_gsSSTabListing",event);break;case"cardResTemplate":zgssearch.gscardsresult.cardScrollEvent(_jQueryGS(event.target).attr("id"),event),zgssearch.stopEvent(event);break;case"cardPageResTemplate":zgssearch.gsCardResUtils.cardScrollEvent(_jQueryGS(event.target).attr("id"),event),zgssearch.stopEvent(event);break;default:sdisplay=zgssearch.getParentNode(event.target,"servListHolder");sdisplay&&(sdisplay=zgssearch.getTargetElem("zgs20_gsServListHolder").scrollHeight<=_jQueryGS(sdisplay).scrollTop()+_jQueryGS(sdisplay).height()?"none":"block",_jQueryGS("#zgs20_gsSerPanelShadow").css("display",sdisplay),zgssearch.stopEvent(event))}},70,"scrollEvent")}catch(ex){zgssearch.throwClientError("Error in scrollEvent.",ex)}zgssearch.wheelEvent(event)},zgssearch.searchViewport.addEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.scrollDown=zgssearch.scrollDown||0,zgssearch.wheelEvent=function(event){try{zgssearch.isGSOpened&&zgssearch.Utils.throttle(function(){var tarElem=tarElem||zgssearch.getParentNode(event.target,"AllSearchPage");tarElem=(tarElem=tarElem||zgssearch.getParentNode(event.target,"multiPageHolder"))||zgssearch.getParentNode(event.target,"serviceSpecificPage");var scrollId="",curPos=_jQueryGS(event.target).attr("gs");switch(curPos=tarElem?_jQueryGS(tarElem).attr("gs"):curPos){case"serviceSpecificPage":var currService=zgssearch.getSearchType(),scrollId="zgs20_gs"+currService+"Template",currService=zgssearch.isArrayContain(currService,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[currService].originService:currService;zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(zgssearch.subMultiPageEnabled||zgssearch.multiPageEnabled||(scrollId=_jQueryGS("#"+tarElem.id)[0]));break;case"multiPageHolder":scrollId="zgs20_MultiSearchPageHolder";break;case"AllSearchPage":scrollId="zgs20_gsAllSearchResultPage"}curPos=zgssearch.getTargetElem(scrollId);curPos&&(curPos=curPos.scrollHeight-curPos.offsetHeight,!zgssearch.isWPMobViewPort()&&scrollId&&300<curPos&&zgssearch.isMobViewport()&&zgssearch.hasVerticalScrollBar(scrollId)&&(curPos=_jQueryGS(tarElem).scrollTop(),zgssearch.scrollDown>curPos&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform","translateY(0px)")),zgssearch.scrollDown<curPos&&(zgssearch.isScrollDownwards=!0,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(-115%)"),_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform","translateY(-62px)")),zgssearch.scrollDown=curPos,zgssearch.setServiceResPaneHeight(scrollId)))},500,"wheelEvent")}catch(ex){zgssearch.throwClientError("Error in scrollDown Event.",ex)}},zgssearch.handleHidePopover=function(target){var tarElem,extTarElem,childTarElem;1!==gscomponent.UIType&&0!==gscomponent.UIType||(zgssearch.gstopband.isAllappsOpened&&(tarElem=zgssearch.getParentNode(target,"hamburger"),childTarElem=zgssearch.getParentNode(target,"hamburgerData"),tarElem||childTarElem||zgssearch.gstopband.hideHamburger()),zgssearch.gstopband.isUserDetailsOpened&&(tarElem=zgssearch.getParentNode(target,"userDetails"),extTarElem=zgssearch.getParentNode(target,"gsOpenProfile"),childTarElem=zgssearch.getParentNode(target,"userData"),tarElem||childTarElem||extTarElem||zgssearch.gstopband.hideUserDetails()),zgssearch.GSConstant.isNLPTracerEnabled&&(tarElem=zgssearch.getParentNode(target,"nlpTracer"),childTarElem=zgssearch.getParentNode(target,"nlpTracerData"),tarElem||childTarElem||zgssearch.gsnlpsearch.hideNLPTracer()))},zgssearch.obtainAppOpenBtn=function(menuEl,currService){var actualCenterPosition=_jQueryGS("<div>",{class:"zgs19_appAccessBtn",gs:currService.gs,service:currService.service}).text(currService.content);_jQueryGS(menuEl[currService.previewHolder]).append(actualCenterPosition),zgssearch.setGSTagElems(menuEl);actualCenterPosition=((_jQueryGS(menuEl[currService.previewHolder]).height()||0)-(_jQueryGS(menuEl[currService.gs]).height()+20))/2;_jQueryGS(menuEl[currService.gs]).css("margin",actualCenterPosition+"px auto")},zgssearch.performGoToTop=function(){var accId=zgssearch.getSearchType(),bttId="zgs20_gs"+accId+"Template";zgssearch.multiPageEnabled&&(bttId="zgs20_MultiSearchPageHolder");var filterData,currService=zgssearch.isArrayContain(accId,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[accId].originService:accId;zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(accId=(filterData=zgssearch.gFilterData[currService]).accounts.current,"1"===zgssearch.getAccountType(currService,accId)&&(bttId="zgs20_gs"+filterData.module.current+"Template")),_jQueryGS("#"+bttId).stop(!0).animate({scrollTop:0},250)},zgssearch.getResObj=function(cardObjDOMElem){var cardId="",isDashboardPageOpened=!!zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.isDashboardOpened||zgssearch.gsdbhome.isAddCardPopupOpened),isCardPageOpened=zgssearch.gscardUtils.isCardPageOpened();return isDashboardPageOpened?cardId=0<(cardObjDOMElem=_jQueryGS(cardObjDOMElem).closest(".zgs19_gsCard")).length?cardObjDOMElem.attr("cardid"):"":isCardPageOpened&&(cardId=_jQueryGS("#zgs20_gsCrdPrevResult").attr("cardid")),isDashboardPageOpened||isCardPageOpened?cardId&&zgssearch.cardObjForCurrentSelectedElem.hasOwnProperty(cardId)&&zgssearch.cardObjForCurrentSelectedElem[cardId].hasOwnProperty("resultObj")?zgssearch.cardObjForCurrentSelectedElem[cardId].resultObj:void 0:zgssearch.getCurrentResObj()},zgssearch.searchViewport.removeEventListener("click",zgssearch.clickEvent,!0),zgssearch.clickEvent=function(event){try{var url="",ccode=event.which||"";if(zgssearch.isGSOpened&&1==ccode){var target=event.target;zgssearch.addNoReferrerToLink(target),zgssearch.hideAllDropdownList(target);var resObj=zgssearch.getResObj(target),target_element=_jQueryGS(target),action=target_element.attr("gs"),url="",service=target_element.attr("service");switch(zgssearch.eventHandled=!0,action){case"showClearFilterDialog":zgssearch.openClearAllFilterInSearch(target);break;case"clearFilterConfirm":zgssearch.clearAllFilterInSearch(target);break;case"clearFilterUnConfirm":case"clearfilteroverlay":zgssearch.noactionClearAllFilterInSearch(target);break;case"resultTitle":zgssearch.stopEvent(event),zgssearch.loadCallout(target);break;case"hideLeftBand":zgssearch.isLeftDivisonPanelHidden=!0,zgssearch.setStatusClsForLeftDivision(),zgssearch.setCssForToggleBandChanges(),zgssearch.resizeForLeftPanelchanges();break;case"showLeftBand":zgssearch.isLeftDivisonPanelHidden=!1,zgssearch.setStatusClsForLeftDivision(),zgssearch.setCssForToggleBandChanges(),zgssearch.resizeForLeftPanelchanges();break;case"gsoverlay":zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&zgssearch.gstopband.hideUserDetails(),zgssearch.globalClickEventForOverlay(event);break;case"gsSerOrderoverlay":case"gsSerAccOrderoverlay":break;case"moveToAttachArea":var currSearchType=(new zgssearch.dashboardSearchActions).createActionType(target),calloutParent=currSearchType.getCalloutParent(target),service=currSearchType.getServiceName(),dispName=zgssearch.mappedServiceList[service].displayName,footerArea="#zgs20_gs"+dispName+"CalloutFooter",calloutFooArea=_jQueryGS(calloutParent).find(footerArea),attachEle=_jQueryGS(calloutParent).find("#zgs20_gs"+dispName+"CalloutAttachInfo");zgssearch.moveToViewPort(calloutFooArea,attachEle);break;case"creatorApp":case"websitePage":case"notebookPage":case"connPage":case"cliqApp":case"notebookApp":case"reportsApp":case"documentsApp":case"workDriveApp":zgssearch.clickActionForCalloutTitle(target,event);break;case"actionlist":zgssearch.toggleCalloutActionList(target);break;case"gsClose":zgssearch.gstopband.hideUserDetails(),zgssearch.open();break;case"gsOpenProfile":zgssearch.userDisplayName=zgssearch.GSConstant.cun,zgssearch.userEmailId=zgssearch.GSConstant.cue,zgssearch.contactServer=zgssearch.GSConstant.GS_CONTACTS_URL,zgssearch.gstopband.createUserDetailsTemplate(1),zgssearch.gstopband.toggleUserDetails();break;case"gsOpenInNewTab":zgssearch.openInNewTab(zgssearch.httpstxt+"://"+GSConstant.searchdomainURL);break;case"maxpreview":zgssearch.maxCalloutPreview(service,resObj);break;case"closeBoxMob":zgssearch.closeIconCallout();break;case"minpreview":zgssearch.minCalloutPreview(service,resObj);break;case"docsdownload":var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).downloadDocument(resObj,target_element);break;case"workdrivedownload":zgssearch.gsworkdrive.downloadWorkDriveDocument(resObj);break;case"wikidownload":zgssearch.gswiki.downloadWikiDocument(resObj);break;case"backToTop":zgssearch.performGoToTop();break;case"backToCardTop":var cardId=target_element.closest(".zgs19_gsCard").attr("cardId"),ocardId=zgssearch.gscardinDb.getOriginalCardId(cardId),service=zgssearch.gsdbUtils.cardIdsVsObject[ocardId].service;_jQueryGS("#zgs20_"+service+"CardResult_"+cardId).stop(!0).animate({scrollTop:0},250);break;case"backToCardPageTop":cardId=_jQueryGS(".zgs19_gsCrdHdrTitle").attr("cardId"),service=zgssearch.gscardUtils.cardIdsVsObject[cardId].service;_jQueryGS("#zgs20_"+service+"CardPageResult_"+cardId).stop(!0).animate({scrollTop:0},250);break;case"serviceBand":case"serviceWidgetBand":zgssearch.isArrayContain(service,zgssearch.serviceList)&&zgssearch.moreSearchResultPage(target,service);break;case"service_multi_mod":zgssearch.filterServiceModules(target_element);break;case"moreBand":var acc_id=target_element.attr("acc_id"),moduleName=_jQueryGS(target).attr("service");!zgssearch.isServiceHasMoreResults(service,acc_id,moduleName)&&service!==GSConstant.GS_APPS||zgssearch.moreSearchResultPage(target,service);break;case"contactsMore":var scallout=zgssearch.mappedServiceList[service].callout;zgssearch[scallout].getContactsMoreInfo(resObj,target);break;case"continuechat":case"connectcontinuechat":zgssearch.chatAction(target,"continue",event,resObj);break;case"slackcontinuechat":url=zgssearch.fetchCalloutUrl(service,resObj,target),zgssearch.openInNewTab(url);break;case"sendMail":case"deskmail":zgssearch.startComposeMail(target,"email"),zgssearch.stopEvent(event);break;case"peopleprofile":url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.pkid||""),zgssearch.openInNewTab(url);break;case"peopledept":url=GSConstant.GS_PEOPLE_URL+"/hr#organization/department/searchdepts-deptId:"+(resObj.deptid||""),zgssearch.openInNewTab(url);break;case"people_reportingto":var reportpkid=target_element.attr("value");url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(reportpkid||""),zgssearch.openInNewTab(url);break;case"searchicon":var search_inp_id=target_element.attr("search_inp_id");zgssearch.gsusersettings.addSearchBoxProperty(target,search_inp_id);break;case"serviceM2T":zgssearch.gssettingsapptab.moveToTopForServices(target);break;case"serviceAccountsM2T":zgssearch.gssettingsapptab.moveToTopForAccounts(target);break;case"gsSSUnpin":zgssearch.gssslisting.UnPinSavedSearch(target);break;case"settingsfields":action=target_element.attr("datatype");zgssearch.gsusersettings.updateSettingsActions(action,target),zgssearch.isAccountsOverlayOpened=!1;break;case"reorderfields":action=target_element.attr("datatype");zgssearch.gsusersettings.updateReorderActions(action),zgssearch.isServiceOverlayOpened=!1;break;case"servicetext":var service_name=target_element.attr("ser"),ele=zgssearch.gssettingsapptab.currSelectedService;zgssearch.isAsanaWorkspacesAuthentication&&(_jQueryGS("#zgs20_gsSettingsModuleErrorPage").remove(),zgssearch.isAsanaWorkspacesAuthentication=!1),service_name!==ele&&zgssearch.gssettingsapptab.getService(service_name);break;case"services_settings_back":zgssearch.gssettingsapptab.backToListView();break;case"renderPrefActions":var actionType=target_element.attr("datatype");zgssearch.Utils.settingsPageActionsCallable(target_element,actionType);break;case"userpreferences":zgssearch.gsusersettings.openSettingsPage();break;case"reorderservices":zgssearch.hideManageAppPopUp(),zgssearch.gssettingsapptab.assignServiceListBeforeReorder(),zgssearch.gssettingsapptab.displayServicesReOrderingOverlay(target);break;case"reorderservicesaccounts":zgssearch.gssettingsapptab.displaySeriveAccountsReOrderingOverlay(target);break;case"reorderservicemodules":zgssearch.gssettingsapptab.service_modules.displayModulesReOrderingOverlay();break;case"button":zgssearch.gssettingsapptab.toggleAppsView(target);break;case"addNewAcc":case"reconnectAcc":zgssearch.connectors.configure(target,action);break;case"delAcc":zgssearch.connectors.delAccConfimation(target);break;case"accCnfrm":var st=target_element.attr("st");zgssearch.deleteAccount(st,target);break;case"closeDelPop":zgssearch.hideCnfrmtnPopUp();break;case"menuoption":zgssearch.clickActionForMenuOption(target);break;case"gswmschat":zgssearch.chatAction(target,"chat",event,resObj);break;case"attendeegswmsaudio":case"attendeegswmsvideo":var zuid=target_element.attr("zuid");zgssearch.startAudioVideoCall(zuid,action,event);break;case"gswmsaudio":case"gswmsvideo":zuid=resObj.zuid||"";zgssearch.getSearchType()===GSConstant.CALENDAR&&(zuid=zgssearch.eventHostZUID),zgssearch.startAudioVideoCall(zuid,action,event);break;case"gswmsinvite":case"gswmsinvitezoho":zgssearch.chatAction(target,action,event,resObj);break;case"backToHome":zgssearch.hasOwnProperty("isWPRenderNeeded")&&zgssearch.isWPRNeeded?(zgssearch.loadWelcomePage=!1,zgssearch.renderLandingPage(),_jQueryGS("#zgs20_gsHomeIcon").hide()):(zgssearch.isDashboardEnabled?(_jQueryGS("#zgs20_gsQuickActionsPage").remove(),zgssearch.renderHomePageQuickActions()):zgssearch.showWelcomePage(),_jQueryGS("#zgs20_gsHomeIcon").hide(),zgssearch.displayDefaultPage(!1));break;case"gsWebService":var fkey=target_element.attr("fkey"),key=target_element.attr("key");zgssearch.filterThroughOptions(GSConstant.WEBSITE,key,fkey,"1",target);break;case"gsconnService":key=target_element.attr("key");zgssearch.filterThroughOptions(GSConstant.ORGRESOURCES,key,"modules","3",target);break;case"gsNotebookService":fkey=target_element.attr("fkey"),key=target_element.attr("key");zgssearch.filterThroughOptions(GSConstant.NOTEBOOK,key,fkey,"1",target);break;case"crmmod":case"biginmod":var orgData,module=target_element.attr("mod"),orgId=target_element.attr("acc_id"),serviceName="biginmod"==action?zgssearch.GSConstant.BIGIN:zgssearch.GSConstant.CRM;orgId&&(orgData=zgssearch.getFilterInfo(serviceName,"accounts","data"),zgssearch.updateFilterInfo(serviceName,"accounts","current",orgId),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",orgData[orgId])),zgssearch.filterThroughOptions(serviceName,module,"modules","3",target);break;case"salesforcemod":module=target_element.attr("mod");zgssearch.filterServiceModules(target_element);break;case"cliqModules":var cfId=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.CLIQ,cfId,"modules","1",target);break;case"mailfolder":var folderId=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.MAILS,folderId,"folders","4",target);break;case"streamEntityType":var entityTypeId=target_element.attr("eId");zgssearch.filterThroughOptions(GSConstant.MAILS,entityTypeId,"entity_type","4",target);break;case"outlookfolder":folderId=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.O365MAIL,folderId,"folders","3",target);break;case"workDriveTeams":var teamId=target_element.attr("teamId");zgssearch.filterThroughOptions(GSConstant.WORKDRIVE,teamId,"teams","3",target);break;case"workDriveFolders":var fId=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.WORKDRIVE,fId,"folders","4",target);break;case"deskModules":var moduleId=target_element.attr("fId");zgssearch.updateDepartmentInfoforDesk(GSConstant.SUPPORT,target),zgssearch.filterThroughOptions(GSConstant.SUPPORT,moduleId,"modules","3",target);break;case"deskDept":var depId=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.SUPPORT,depId,"departments","3",target);break;case"booksModules":case"invoiceModules":var fpId=target_element.attr("fId");zgssearch.filterThroughOptions(service,fpId,"modules","3",target);break;case"connectModules":var connectMod=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.CONNECT,connectMod,"connecttype","1",target);break;case"calendarServices":var calednarSer=target_element.attr("fId");zgssearch.filterThroughOptions(GSConstant.CALENDAR,calednarSer,"services","1",target);break;case"peopleResDepartment":var deptId=target_element.attr("fId"),deptName=target_element.attr("fName"),currentPeopleDept=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","data");null!=currentPeopleDept&&(currentPeopleDept.hasOwnProperty(deptId)||(currentPeopleDept[deptId]=deptName,zgssearch.updateFilterInfo("people","data",currentPeopleDept))),zgssearch.filterThroughOptions(zgssearch.GSConstant.PEOPLE,deptId,"departments","1",target);break;case"asanaProjects":var projectId=target_element.attr("pid");zgssearch.filterThroughOptions(zgssearch.GSConstant.ASANA,projectId,"projects",3,target);break;case"projectsModule":var modId=target_element.attr("mod_id");zgssearch.filterThroughOptions(zgssearch.GSConstant.PROJECTS,modId,"modules",3,target);break;case"projectsFilter":var projId=target_element.attr("filter_id");zgssearch.filterThroughOptions(zgssearch.GSConstant.PROJECTS,projId,"projects",3,target);break;case"evernoteNotebooks":var notebookId=target_element.attr("nbid");zgssearch.filterThroughOptions(zgssearch.GSConstant.EVERNOTE,notebookId,"modules",3,target);break;case"intranetSearch":zgssearch.clickActionForServiceList(zgssearch.GSConstant.ORGRESOURCES);break;case"extensionSearch":var browserType=target_element.attr("browserType"),downloadableLink=zgssearch.GSConstant[browserType+"_LINK"];zgssearch.openInNewTab(downloadableLink);break;case"cloudAppsNew":zgssearch.gssettingsapptab.currSelectedService="others",zgssearch.clickActionForSettings("settings");break;case"sender":case"owner":case"cname":service=zgssearch.calloutSearchType,module=zgssearch.getResultAccountId();service===GSConstant.CAMPAIGNS&&"3"===module||service===GSConstant.ORGRESOURCES&&5!=resObj.cpt||service==GSConstant.DROPBOX||service==GSConstant.GOOGLEDRIVE||service==GSConstant.BOX?(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0):zgssearch.openContextPopup=!1,zgssearch.contextMenuActionsPopUp(target);break;case"receiver":service=zgssearch.calloutSearchType,module=zgssearch.getResultAccountId();(service===GSConstant.CAMPAIGNS&&"2"!==module||service===GSConstant.MAILS||service==GSConstant.O365MAIL)&&(zgssearch.openContextPopup=!1,zgssearch.contextMenuActionsPopUp(target));break;case"authorStory":zgssearch.projectMgmtCalloutObj.getStoryAuthorDetails(target);break;case"cliqchannel":var cliq_channel_url=target_element.attr("cliq_channel_url");window.open(cliq_channel_url,"_blank","noopener");break;case"connectgroup":var connect_group_url=target_element.attr("connect_group_url");window.open(connect_group_url,"_blank","noopener");break;case"no_team_email":case"no_cliqchannel":case"no_support_email":zgssearch.Utils.showErrorMsg("Data not available");break;case"cloudconnectors":zgssearch.connectors.getCloudConnectors();break;case"connectoraccounts":zgssearch.connectors.getConnectorAccounts();break;case"getconnector":var connector_name=target_element.attr("connector_name");zgssearch.connectors.getConnectorInfo(connector_name);break;case"connector_auth":connector_name=target_element.attr("connector_name");zgssearch.connectors.configureConnector(connector_name);break;case"connector_reauth":connector_name=target_element.attr("connector_name");zgssearch.connectors.reconnectConnector(connector_name);break;case"connector_delete":connector_name=target_element.attr("connector_name");zgssearch.connectors.deleteConnector(connector_name);break;case"manageApps":zgssearch.showManageAppPopUp();break;case"attendeeMenuPopUp":zgssearch.gscalendar.attendeeMenuActionsPopUp(target);break;case"attendeesListPopup":zgssearch.gscalendar.attendeesListMenuActionsPopUp(target);break;case"conn_modules":var ser=target_element.attr("ser"),accId=target_element.attr("accId");(ser==zgssearch.GSConstant.ASANA?zgssearch.gssettingsapptab.service_modules:ser==zgssearch.GSConstant.MAILS?zgssearch.gssettingsapptab.mail_modules:zgssearch.gssettingsapptab.crm_modules).getModules(ser,accId);break;case"crm_mod_choose":zgssearch.gssettingsapptab.crm_modules.chooseAccounts();break;case"projects_mod_choose":zgssearch.gssettingsapptab.service_modules.chooseAccounts();break;case"redirect_accounts":ser=target_element.attr("ser");zgssearch.isAsanaWorkspacesAuthentication&&(_jQueryGS("#zgs20_gsSettingsModuleErrorPage").remove(),zgssearch.isAsanaWorkspacesAuthentication=!1),zgssearch.gssettingsapptab.showApplicationData(ser);break;case"calendarCnfrmActions":zgssearch.gscalendaraction.userCalendarActions(target);break;case"showSVLHSServices":case"hideSVLHSServices":zgssearch.toggleSmartViewServicePane(!zgssearch.isSmartViewServicePaneOpened);break;case"savethissearch":zgssearch.gssavedsearches.displaySavedSearchDialog("",zgssearch.getI18NMsg("gs.saved_searches.save_search_title"));break;case"searchinSS":zgssearch.gssavedsearches.addSSSearchBox();break;case"cardSecFullView":var cardType=_jQueryGS(target).attr("cardType");zgssearch.gscards.renderSpecificCardSection(cardType);break;case"cardsortList":zgssearch.gscards.openCardsSortList();break;case"selCardSortVal":zgssearch.gscards.selectCardsSortValue(target_element);break;case"cardslist":zgssearch.gscards.openCardsList(target_element);break;case"selSpecificCrd":cardId=_jQueryGS(target).closest(".zgs19_gsEachCardTit").attr("cardid");zgssearch.gshistory.pushCardsState("/cards/"+cardId,"#"+zgssearch.cardHash.home),zgssearch.gscards.updateCardPreview(cardId);break;case"ssTitle":zgssearch.gssavedsearches.showFilters(target);break;case"ssActions":zgssearch.gssavedsearches.actionsOnSS(target);break;case"cardsAccList":zgssearch.gscards.renderAccList();break;case"selSystemCardAccValue":zgssearch.gscards.updatePrevOnAccChange(target);break;case"ssCnfrmActions":case"epCnfrmActions":zgssearch.gssavedsearches.userSettingsActions(target);break;case"cardCnfrmActions":zgssearch.gscards.conifrmOnCards(target);break;case"addCrdCautCnfrmAction":zgssearch.gsaddcards.cautionCnfrmActions(target_element);break;case"createCrdCautAction":zgssearch.gscreatecards.cardCautionCnfrmActions(target_element);break;case"ssMenuList":zgssearch.gscards.displayCardsMenuinSearchBox();break;case"gotoCards":zgssearch.gscards.hideCardsMenuinSearchBox(),zgssearch.clickActionForCards();break;case"ssPinClick":zgssearch.gssslisting.moveToTopForSSPin(target);break;case"cardActions":zgssearch.gscards.actionsOnCards(target);break;case"showpreviewresults":zgssearch.gscreatecards.showPreviewResults();break;case"ccPrevReload":zgssearch.gscreatecards.refreshPreviewResults(target);break;case"closeCCPrev":zgssearch.gscreatecards.closeCreateCrdPreView();break;case"createDashboard":zgssearch.gsdbhome.createDashboard();break;case"viewAllDashboard":zgssearch.gsdbhome.openDashboardListContent();break;case"dblist":zgssearch.gsdbhome.renderDashboardsList();break;case"dbsortList":zgssearch.gsdbhome.openDbSortList();break;case"selDbSortVal":zgssearch.gsdbhome.selectDbSortValue(target_element);break;case"createDb":zgssearch.gsdbhome.openAddcardAction();break;case"refreshDB":zgssearch.gsdbhome.refreshDashboard(target);case"dbLisActions":action=target_element.attr("actiontype");zgssearch.gsdbhome.dashboardListactions(action,target_element);break;case"editCardName":zgssearch.gsaddcards.renderEditTitle("card");break;case"dbCnfrmActions":zgssearch.gsdbhome.dashboardConfirmActions(target_element);break;case"cardMenu":zgssearch.gsaddcards.cardActionPopup(target_element);break;case"selDbCardType":zgssearch.gsaddcards.changeDbCardType(target_element);break;case"addCardCnfrmActions":zgssearch.gsaddcards.cardConfirmActions(target_element);break;case"maximiseCard":_jQueryGS(target).css("display","none");var viewCard=_jQueryGS(target).closest(".zgs19_gsCard");zgssearch.gscardinDb.constructThumbnailView(viewCard),zgssearch.gscardinDb.maximiseCard(viewCard);break;case"minimiseCard":_jQueryGS(".zgs19_gsThumbNailViewOuter").remove();viewCard=_jQueryGS(target).closest(".zgs19_gsCard");zgssearch.gscardinDb.minimiseCard(viewCard);break;case"refreshCard":zgssearch.gscardinDb.refreshCard(target);break;case"dbviewmenu":zgssearch.gsdbhome.openDBViewMenu(target);break;case"resetCardFilter":zgssearch.gscardfilter.resetCardFilters();break;case"showCardFilter":zgssearch.gscardfilter.openFilterInCard(target);break;case"openModuleFiltersList":zgssearch.openEachModulesFilter(target);break;case"moduleFilterEditFields":zgssearch.moduleFilterEditFieldsActionControl(target);break;case"moreModuleFilterEditFields":var datatype=_jQueryGS(target).attr("datatype");zgssearch.moreModuleFilterEditFieldsAction(datatype);break;case"saveAndReplace":zgssearch.popupUtils.openEditNamepopup(zgssearch.getI18NMsg("gs.cards.save_replace"),zgssearch.getI18NMsg("gs.saved_searches.action_popup_description"),zgssearch.getI18NMsg("gs.cards.card_name"),"",!0,"","dbCnfrmActions","saveAsNewCard","closeCnfrmDialog"),zgssearch.gsdbhome.isDashboardPopupOpened=!0;break;case"moreStories":zgssearch.projectMgmtCalloutObj.getStories();break;case"moreAttachments":zgssearch.projectMgmtCalloutObj.getAttachments();break;case"hideStories":zgssearch.projectMgmtCalloutObj.hideMoreSectionResults("Stories");break;case"hideAttach":zgssearch.projectMgmtCalloutObj.hideMoreSectionResults("Attachments");break;case"moreAsanaProjects":var projFactoryInstance=new zgssearch.ZSProjectMgmtFactory;(service_info={}).service_name=zgssearch.GSConstant.ASANA,projFactoryInstance.createProjectMgmtInstance(service_info).getMoreProjectsDetails(target);break;case"addServiceModules":zgssearch.gssettingsapptab.service_modules.saveFinalModuleList();break;case"cancelServiceModules":zgssearch.gssettingsapptab.service_modules.saveFinalModuleList("cancel");break;case"moreSelectFilterList":zgssearch.gssavedsearches.renderSelectedFiltersList(target);break;case"leftPanelMenu":zgssearch.leftDivisionCallbackHandler(target);break;case"savedcardsMore":case"previewcardsMore":case"systemcardsMore":zgssearch.openCards("specifiCardView",target);break;case"dashboardMore":zgssearch.openDashboard("allDashboard");break;case"advSearch":zgssearch.gsadvancesearch.advancedSearchActions(target);break;default:(tarElem=zgssearch.getParentNode(target,"websiteCalloutData"))&&zgssearch.isFilterListDisplay&&zgssearch.hideFilterList(),(tarElem=zgssearch.getParentNode(target,"resultTitle"))&&(zgssearch.stopEvent(event),zgssearch.loadCallout(target));var tarElem=zgssearch.getParentNode(target,"settingPopUp");zgssearch.isManageAppPopUpEnab&&zgssearch.hideManageAppPopUp(),(tarElem=zgssearch.getParentNode(target,"manageApps"))&&!zgssearch.isManageAppPopUpEnab&&zgssearch.showManageAppPopUp(),(tarElem=zgssearch.getParentNode(target,"reorderservices"))&&(zgssearch.hideManageAppPopUp(),zgssearch.gssettingsapptab.assignServiceListBeforeReorder(),zgssearch.gssettingsapptab.displayServicesReOrderingOverlay(target));var parentNode,blogCatList,selectedPos,popupElem,popupParElem,classElem,tarElem=zgssearch.getParentNode(target,"servicetext"),text=_jQueryGS(tarElem).attr("gs"),ser=_jQueryGS(tarElem).attr("ser"),ele=zgssearch.gssettingsapptab.currSelectedService;if(tarElem&&"servicetext"==text&&ser!==ele&&(ser+"_enable"!==target_element.attr("id")?(service_name=void 0!==(service_name=target_element.attr("ser"))&&""!==service_name?service_name:ser,zgssearch.gssettingsapptab.getService(service_name)):event.stopPropagation()),(tarElem=zgssearch.getParentNode(target,"button"))&&zgssearch.gssettingsapptab.toggleAppsView(tarElem),(tarElem=zgssearch.getParentNode(target,"notebookCalloutData"))&&zgssearch.isFilterListDisplay&&zgssearch.hideFilterList(),(tarElem=zgssearch.getParentNode(target,"moreProjOwners"))&&tarElem!==zgssearch.curCardSelected){var service_info,projFactoryInstance=new zgssearch.ZSProjectMgmtFactory;return(service_info={}).service_name=zgssearch.GSConstant.PROJECTS,void projFactoryInstance.createProjectMgmtInstance(service_info).getMoreOwners(target)}if((tarElem=zgssearch.getParentNode(target,"searchResultTable"))&&tarElem!==zgssearch.curSelectedEle)return void(zgssearch.gsdbUtils.isDashboardOpened()?zgssearch.gscardsresult.loadCalloutforCard(tarElem):(zgssearch.handleCalloutForMobileView(),zgssearch.highlightRes(tarElem.id,"")));if((tarElem=zgssearch.getParentNode(target,"cardResults"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gscardsresult.loadCalloutforCard(tarElem);if((tarElem=zgssearch.getParentNode(target,"cardPageResults"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gscards.loadCalloutforCard(tarElem);if(tarElem=zgssearch.getParentNode(target,"backtoresults"))return void zgssearch.gscardsresult.handleBackToCardResults(target);if(tarElem=zgssearch.getParentNode(target,"serviceLeftPanelMenu")){service=_jQueryGS(tarElem).attr("service");return void zgssearch.clickActionForServiceList(service)}if(tarElem=zgssearch.getParentNode(target,"settingsPanelMenu"))return zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.hasOwnProperty("checkAnyChangesInCreateCard")&&zgssearch.gscreatecards.checkAnyChangesInCreateCard()?void(zgssearch.gscreatecards.cardSuccAction="settings"):void zgssearch.clickActionForSettings("settings");if(tarElem=zgssearch.getParentNode(target,"defsearchicon"))return void zgssearch.handleDefaultSearch();if("ZW"===gscomponent.pcode){var showSV=zgssearch.getParentNode(target,"showSVLHSServices"),hideSV=zgssearch.getParentNode(target,"hideSVLHSServices");if(showSV||hideSV)return void zgssearch.toggleSmartViewServicePane(!zgssearch.isSmartViewServicePaneOpened)}if(tarElem=zgssearch.getParentNode(target,"viewCard")){cardId=_jQueryGS(tarElem).attr("id"),cardType=_jQueryGS(tarElem).attr("cardtype");return zgssearch.gshistory.pushCardsState("/cards/"+cardId,"#"+zgssearch.cardHash.home),void zgssearch.gscards.renderCardsPreview(cardId,cardType)}if(tarElem=zgssearch.getParentNode(target,"viewDashboard")){var dbId=tarElem.getAttribute("id");return void zgssearch.gsdbhome.renderDashboardContent(dbId)}if(tarElem=zgssearch.getParentNode(target,"cardMenuTitle"))return void zgssearch.openCards("preview",tarElem);if(tarElem=zgssearch.getParentNode(target,"dashboard"))return void zgssearch.clickActionForDashboards("dashboard");if((tarElem=zgssearch.getParentNode(target,"dbTitle"))&&(dashboardId=tarElem.getAttribute("id"),_jQueryGS("#zgs20_gsdashboardList").remove(),zgssearch.gsdbhome.isDashboardMenuOpened=!1,dashboardId!==zgssearch.gsdbhome.currentlyOpenedDbId&&zgssearch.gsdbhome.updateDashboardPage(dashboardId)),(tarElem=zgssearch.getParentNode(target,"dbHomeTitle"))&&(dashboardId=tarElem.getAttribute("viewid"),_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),zgssearch.openDashboard(dashboardId)),tarElem=zgssearch.getParentNode(target,"addCard")){var dashboardId=tarElem.getAttribute("dbid")||zgssearch.gsdbhome.currentlyOpenedDbId;return void zgssearch.gsdbhome.openAddcardAction(dashboardId)}if((tarElem=zgssearch.getParentNode(target,"crdCnfrmActions"))&&zgssearch.gsaddcards.confirmActionsOnCard(tarElem),tarElem=zgssearch.getParentNode(target,"thumbnailView"))return void zgssearch.gscardinDb.navigBtwnThumbViews(tarElem);if((tarElem=zgssearch.getParentNode(target,"tolink"))&&("none"===_jQueryGS("#zgs20_gsDropdownToList").css("display")?(zgssearch.setPosForToList(target,"tolink"),_jQueryGS("#zgs20_gsDropdownToList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsDropdownToList").scrollTop(0),_jQueryGS("#zgs20_gsDropdownToList").scrollLeft(0)):(_jQueryGS("#zgs20_gsDropdownToList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"))),(tarElem=zgssearch.getParentNode(target,"moreBlogCategory"))&&(parentNode=zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"),"none"===(blogCatList=_jQueryGS(parentNode).find("#zgs20_gsBlogCategoryList")).css("display")?(zgssearch.setPosForToList(target,"moreBlogCategory"),blogCatList.show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),blogCatList.scrollTop(0),blogCatList.scrollLeft(0)):(blogCatList.hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"))),(tarElem=zgssearch.getParentNode(target,"ownerLink"))&&("none"===_jQueryGS("#zgs20_gsDropdownOwnerList").css("display")?(zgssearch.setPosForToList(target,"ownerLink"),_jQueryGS("#zgs20_gsDropdownOwnerList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsDropdownOwnerList").scrollTop(0),_jQueryGS("#zgs20_gsDropdownOwnerList").scrollLeft(0)):(_jQueryGS("#zgs20_gsDropdownOwnerList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"))),tarElem=zgssearch.getParentNode(target,"connPage"))return void zgssearch.clickActionForCalloutTitle(tarElem,event);if(tarElem=zgssearch.getParentNode(target,"intranetSearch"))return void zgssearch.clickActionForServiceList(zgssearch.GSConstant.ORGRESOURCES);if(tarElem=zgssearch.getParentNode(target,"extensionSearch")){browserType=_jQueryGS(tarElem).attr("browserType"),downloadableLink=zgssearch.GSConstant[browserType+"_LINK"];return void zgssearch.openInNewTab(downloadableLink)}if(tarElem=zgssearch.getParentNode(target,"cloudAppsNew"))return zgssearch.gssettingsapptab.currSelectedService="others",void zgssearch.clickActionForSettings("settings");if(tarElem=zgssearch.getParentNode(target,"mFilterWidget"))return void zgssearch.renderModuleFilterWidgetList(tarElem);if(tarElem=zgssearch.getParentNode(target,"subModuleFilter")){var parentTarget=zgssearch.getParentNode(target,"moduleFilterChild");return void zgssearch.renderSubModuleFilterWidgetList(tarElem,parentTarget)}if((tarElem=zgssearch.getParentNode(target,"more_filters"))&&zgssearch.renderMoreFilterWidgetList(tarElem),(tarElem=zgssearch.getParentNode(target,"moreFilterList"))&&zgssearch.renderMoreFilterInnerList(tarElem),tarElem=zgssearch.getParentNode(target,"moreFilterEditFields"))return void zgssearch.filterEditFieldsAction(tarElem);if(tarElem=zgssearch.getParentNode(target,"moreFiltercheckbox"))return void zgssearch.moreFilterCheckBoxActionControl(target,tarElem);if(tarElem=(tarElem=zgssearch.getParentNode(target,"CalloutEditFields"))||zgssearch.getParentNode(target,"ticketAction"))return void zgssearch.gsaction.calloutEditFieldsAction(tarElem);if(tarElem=tarElem||zgssearch.getParentNode(target,"calendarActions"))return void zgssearch.gscalendaraction.actionOnCalendar(tarElem);if(tarElem=zgssearch.getParentNode(target,"openAppsList"))return void zgssearch.gscreatecards.openAppsList(target);if((tarElem=zgssearch.getParentNode(target,"contextMenuAction"))&&zgssearch.contextMenuActionsList(tarElem,event,resObj),(tarElem=zgssearch.getParentNode(target,"doubleclickpop"))&&zgssearch.doubleClickSearchEvent(tarElem),tarElem=target.nodeName,zgssearch.isCurrFilterClickelem){switch(zgssearch.isCurrFilterClickelem=!1,tarElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),_jQueryGS(tarElem).attr("gs")){case"moduleFilterChild":zgssearch.moduleFilterClickActions(tarElem);break;case"filterCheckBoxChild":zgssearch.moduleFilterCheckBoxClickActions(target)}return}if(zgssearch.isCurrMoreFilterClickelem){switch(zgssearch.isCurrMoreFilterClickelem=!1,tarElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),_jQueryGS(tarElem).attr("gs")){case"moduleInnerFilterChild":zgssearch.clickActionForMoreInnerList(zgssearch.currMoreFilterClickelem);break;case"filterCheckBoxChild":zgssearch.moduleFilterCheckBoxClickActions(target,"zgs20_gsMoreFilterInnerList")}return}if(zgssearch.popupaction&&(selectedPos="",window.getSelection?selectedPos=window.getSelection():document.selection&&(selectedPos=document.selection.createRange()),zgssearch.checkRangeObjects(zgssearch.oldSelectedPos,selectedPos.getRangeAt(0))||!zgssearch.isOpenPopup?(popupParElem=(popupElem=zgssearch.checkClassExistForWidget(selectedPos))[0],classElem=popupElem[1],1!==_jQueryGS(event.target).closest("#zgs20_gsPopupSearch").length&&popupParElem&&zgssearch.getDoubleClickEvent(selectedPos,classElem),zgssearch.popupaction=!1,zgssearch.isOpenPopup=!0,zgssearch.oldSelectedPos=selectedPos.getRangeAt(0)):zgssearch.isOpenPopup=!1),tarElem=zgssearch.getParentNode(target,"leloadCalloutftPanelMenu"))return void zgssearch.leftDivisionCallbackHandler(target);if(tarElem=zgssearch.getParentNode(target,"leftPanelMenu"))return void zgssearch.leftDivisionCallbackHandler(target);zgssearch.eventHandled=!1}}}catch(ex){zgssearch.throwClientError("Error in clickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.clickEvent,!0),zgssearch.leftDivisionCallbackHandler=function(action){action=zgssearch.getParentNode(action,"leftPanelMenu").getAttribute("action");"openCards"!==action&&zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.hasOwnProperty("checkAnyChangesInCreateCard")&&zgssearch.gscreatecards.checkAnyChangesInCreateCard()?zgssearch.gscreatecards.cardSuccAction=action:zgssearch.leftDivisionNavigation(action)},zgssearch.leftDivisionNavigation=function(action){switch(action){case"search":var url,zstitle,service;"search"!==zgssearch.seletedLeftPanelDivision&&(zgssearch.setHighlightForLeftDivisonPanel("search"),zgssearch.hideDashboard(),zgssearch.hideCardsPage(),zgssearch.Utils.hideSettingsPage(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),zgssearch.setStatusClsForLeftDivision(),zgssearch.setLogoWidth(),service=zgssearch.gsusersettings.selectedServiceBeforeSettings,zgssearch.showQuickActionsPage?(zgssearch.renderHomePageQuickActions(),1==zgssearch.gscomponent.UIType&&(url=window.location.origin+"/searchhome",zstitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),history.pushState({id:"zsearch",title:zstitle,service:"",url:url},zstitle,url))):(service=zgssearch.gsusersettings.selectedServiceBeforeSettings||GSConstant.ALL,zgssearch.updateSearchType(service),service===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.disablingSSIcon():zgssearch.EnablingSSIcon(),zgssearch.gshistory.updateSearchURLParams(service,zgssearch.gsautocomplete.getautosearchQuery(zgssearch.getValue("zgs20_gsQueryBox"))),_jQueryGS("#zgs20_gsSearchResultMiddle").show(),_jQueryGS("#zgs20_gsSearchResultRight").show()));break;case"openCards":zgssearch.clickActionForCards();break;case"dashboard":zgssearch.clickActionForDashboards()}},zgssearch.setCssForToggleBandChanges=function(){zgssearch.isLeftDivisonPanelHidden?(_jQueryGS("#zgs20_gsMinLeftBand").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsMaxLeftBand").removeClass("zgs19_gsDisplayNone"),_jQueryGS(".zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone")):(_jQueryGS("#zgs20_gsMinLeftBand").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsMaxLeftBand").addClass("zgs19_gsDisplayNone"),_jQueryGS(".zgs19_gsLeftPanelTabText").removeClass("zgs19_gsDisplayNone")),"search"==zgssearch.seletedLeftPanelDivision&&zgssearch.setLogoWidth()},zgssearch.setLogoWidth=function(){var searchResLfWid=_jQueryGS("#zgs20_gsSearchResultLeft").width();_jQueryGS("#zgs20_gsLogoHolder").css("width",searchResLfWid-2+"px")},zgssearch.deleteAccount=function(st,target){"Yes"==st&&zgssearch.connectors.delete(target),zgssearch.hideCnfrmtnPopUp()},zgssearch.showCnfrmtnPopUp=function(){_jQueryGS("#zgs20_gsdelAccCnfrm").removeClass("zgs19_gsDisplayNone")},zgssearch.hideCnfrmtnPopUp=function(){zgssearch.hideDelAccOrderOverlay(),_jQueryGS("#zgs20_gsdelAccCnfrm").addClass("zgs19_gsDisplayNone")},zgssearch.showManageAppPopUp=function(){var manageAppsOverlay;null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(manageAppsOverlay=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(manageAppsOverlay)),document.getElementById("zgs20_manageApps")||(manageAppsOverlay=zgssearch.manageApps(),_jQueryGS("#zgs20_gsResultsHolder").append(manageAppsOverlay),zgssearch.gssettingsapptab.enabledServicesList=zgssearch.getEnabledServiceList()),_jQueryGS("#zgs20_manageApps").css("display","block"),zgssearch.isManageAppPopUpEnab=!0,_jQueryGS("#zgs20_gsSettingsHolder").removeClass("zgs19_gsDisplayNone")},zgssearch.openWindowForAuthWithTimer=function(connector_auth_url,service,target,window_reference){var child_window;child_window=window_reference?window_reference.open(connector_auth_url,"connector_auth",""):window.open(connector_auth_url);var interval_start_time=(new Date).getTime(),window_open_timer=setInterval(function(){6e4<(new Date).getTime()-interval_start_time?clearInterval(window_open_timer):child_window.closed&&(document.getElementById("zgs20_addNewAcc").removeAttribute("disabled"),clearInterval(window_open_timer),service==zgssearch.GSConstant.ASANA?zgssearch.gssettingsapptab.service_modules.displayServiceAuthenticationPage(service,target):zgssearch.auth_complete(service,target))},250)},zgssearch.openWindowForAuth=function(connector_auth_url,window_referense){var child_window=window_referense.open(connector_auth_url,"connector_auth",""),window_open_timer=setInterval(function(){child_window.closed&&(clearInterval(window_open_timer),zgssearch.auth_complete())},250)},zgssearch.auth_complete=function(service,target,modules,hideSuccessMsg,all){var zsConfigCode=zgssearch.getLocalStorageValue("zs_connector_configure_code");if(zsConfigCode&&null!==zsConfigCode){var connector_name=zgssearch.getLocalStorageValue("zs_connector_name"),connector_id=zgssearch.getLocalStorageValue("zs_connector_id"),zsoid=zgssearch.getLocalStorageValue("zsoid");zgssearch.removeLocalStorageVal();var params=!!(service!=zgssearch.GSConstant.ASANA||modules&&0!=modules.length),accEnabled=!all,load_instance=zgssearch.gssettingsapptab.getStoredApplicationData(service),aD=load_instance.aD||{},all=load_instance.all||[],params=(load_instance.e,load_instance.s,load_instance.eO||[]);if(connector_id&&connector_name)if(-1===all.indexOf(connector_id)){0!==all.length||null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(service,!0))&&load_instance.load(),all.push(connector_id),params.push(connector_id);params=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader");if(_jQueryGS("#zgs20_gsServiceAccountsBlock").empty().append(params),service===zgssearch.GSConstant.O365MAIL||service===zgssearch.GSConstant.SALESFORCE||service===zgssearch.GSConstant.EVERNOTE){var params="action=widgetdata&services_list="+service,reauth_account_details={};return reauth_account_details.url=zgssearch.getMetaData,reauth_account_details.type="GET",reauth_account_details.dataType="text",reauth_account_details.data=params,reauth_account_details.success=function(sortVal){var module_data=zgssearch.jsonParse(sortVal),sortVal=module_data.widget||"";sortVal&&""!==sortVal&&sortVal.servicesinfo&&(!(module_data=sortVal.servicesinfo)[service]||(sortVal=module_data[service]).hasOwnProperty("aD")&&(module_data=(module_data=sortVal.aD[connector_id]).module||module_data.modules||module_data.moduleData||{},sortVal=void 0!==sortVal.s?sortVal.s:-1,zgssearch.updateLatestDataInWidget(service,connector_id,connector_name,zsConfigCode,target,module_data,hideSuccessMsg,accEnabled,zsoid,sortVal)))},void zgssearch.network.uri(reauth_account_details)}aD[connector_id]={e:accEnabled,n:connector_name,added_time:zgssearch.Utils.getUIDisplayTime(new Date),app_id:zsoid}}else{reauth_account_details=aD[connector_id];reauth_account_details.is_token_expired=!1,aD[connector_id]=reauth_account_details}zgssearch.updateLatestDataInWidget(service,connector_id,connector_name,zsConfigCode,target,modules,hideSuccessMsg,accEnabled,zsoid)}},zgssearch.updateLatestDataInWidget=function(service,connector_id,connector_name,connector_configure_code,target,module_data,hideSuccessMsg,accEnabled,zsoid,obj){var current_data=zgssearch.gssettingsapptab.getStoredApplicationData(service),enableSer=!!(service!=zgssearch.GSConstant.ASANA||module_data&&0!=module_data.length),aD=current_data.aD||{},all=current_data.all||[],e=current_data.e||enableSer,s=void 0!==obj&&-1==current_data.s?obj:current_data.s,eO=current_data.eO||[],obj={};obj.e=enableSer,obj.n=connector_name,obj.added_time=zgssearch.Utils.getUIDisplayTime(new Date),(service==zgssearch.GSConstant.O365MAIL||service==zgssearch.GSConstant.SALESFORCE||service==zgssearch.GSConstant.ASANA||service==zgssearch.GSConstant.EVERNOTE)&&module_data&&0<module_data.length?aD[connector_id]={e:!0,n:connector_name,added_time:zgssearch.Utils.getUIDisplayTime(new Date),modules:module_data,app_id:zsoid}:aD[connector_id]={e:accEnabled,n:connector_name,added_time:zgssearch.Utils.getUIDisplayTime(new Date),app_id:zsoid},current_data.aD=aD,current_data.all=all,current_data.e=e,current_data.s=s,current_data.eO=eO,zgssearch.gssettingsapptab.storeApplicationData(service,current_data),zgssearch.connectors.handleConnectorAuthResponse(connector_name,service,connector_configure_code,target,hideSuccessMsg)},zgssearch.reloadAppData=function(service,services_info,target){var accDetails=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsServiceAccountsBlock").empty().append(accDetails);var wholeList,data=zgssearch.gssettingsapptab.getStoredApplicationData(service);data.hasOwnProperty("all")&&(wholeList=data.hasOwnProperty("all")?data.all:"",accDetails=data.hasOwnProperty("aD")?data.aD:"",(widget_info=zgssearch.getLocalStorageValue("zs_connector_id"))&&void 0===accDetails[widget_info]&&(wholeList.push(widget_info),accDetails[widget_info]={e:!0,n:services_info},zgssearch.gssettingsapptab.updateClassForLeftPanelService(service)),zgssearch.deleteLocalStorageValue("zs_connector_id")),zgssearch.gssettingsapptab.getCurrentSelectedService()===service&&(_jQueryGS("#zgs20_gsSettingprevLoader").css("display","block"),setTimeout(function(){_jQueryGS("#zgs20_gsSettingprevLoader").css("display","none"),zgssearch.gssettingsapptab.setCurrentSelectedService(service),zgssearch.gssettingsapptab.showApplicationData(service,target);var service_account_info=zgssearch.gssettingsapptab.getStoredApplicationData(service);(1===(service_account_info.all?service_account_info.all.length:0)||service==zgssearch.GSConstant.ASANA&&!_jQueryGS("#"+service+"_enable").prop("checked"))&&service_account_info.e&&(_jQueryGS("#"+service+"_enable_detailview").prop("checked","checked"),_jQueryGS("#zgs20_gsAppBlock").find(".zgs19_enableContainer").removeClass("zgs19_gsHideEleme"),_jQueryGS("#"+service+"_enable").prop("checked","checked"),zgssearch.gssettingsapptab.updateClassForLeftPanelService(service),zgssearch.gssettingsapptab.serviceEnablingActions(service))},500));var widget_info=zgssearch.GSConstant.widgetObject,services_info=widget_info.servicesinfo,eO=(services_info[service]=data).eO||[];if(eO.length<1){for(var all_length=data.all.length,index=0;index<all_length;index++)eO.push(data.all[index]);data.eO=eO,services_info[service]=data}widget_info.servicesinfo=services_info,zgssearch.GSConstant.widgetObject=widget_info,zgssearch.loadWidgetList(zgssearch.GSConstant.widgetObject)},zgssearch.addNoReferrerToLink=function(target){var ahref,atarget;target&&(ahref=_jQueryGS(target).attr("href")||"",atarget=_jQueryGS(target).attr("target")||"",0!=ahref.indexOf("mailto:")&&0!=ahref.indexOf("http")&&"_blank"!=atarget||_jQueryGS(target).attr("rel","noopener noreferrer"))},zgssearch.checkRangeObjects=function(oldSelPos,newSelPos){var count=0,objectProp={key1:"collapsed",key2:"commonAncestorContainer",key3:"endContainer",key4:"endOffset",key5:"startContainer",key6:"startOffset"};if(0<=zgssearch.userAgent.search("Safari")&&zgssearch.userAgent.search("Chrome")<0){if(_jQueryGS.isEmptyObject(zgssearch.oldSelectedPos))return!0;for(var value in objectProp){value=objectProp[value];oldSelPos[value]===newSelPos[value]&&count++}return count<6}if(oldSelPos!==newSelPos)return!0},zgssearch.checkClassExistForWidget=function(selectedPos){for(var classNames=document.getElementsByClassName("zgs19_gsCalloutPopUp"),i=(classNames[0],0);i<classNames.length;i++){for(var classElem=classNames[i],j=0;j<selectedPos.rangeCount;j++)var ancestorClass=selectedPos.getRangeAt(j).commonAncestorContainer,isClassExist=_jQueryGS(ancestorClass).closest(classElem);if(1===isClassExist.length)return[!0,classElem]}return!1},zgssearch.attachDoubleClickPopUpEvent=function(){_jQueryGS(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){zgssearch.popupaction=!0}),_jQueryGS(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(parElem){parElem=_jQueryGS(parElem.target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==parElem.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1)})},zgssearch.doubleClickSearchEvent=function(target){zgssearch.widgetPopUpSearch(target),zgssearch.isOpenDoubleClickPopup=!1,_jQueryGS(".zgs19_gsPopupSearch").remove()},zgssearch.handleCalloutForMobileView=function(){zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("width","100%"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS(".zgs19_gsCalloutActionMob").css("display","block"),_jQueryGS(".zgs19_gsMobDisableFields").css("display","none"),_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))},zgssearch.handleDefaultSearch=function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.handleEmptySearchBox();var service_name=zgssearch.getSearchType(),nsearch_type=zgssearch.getValue("zgs20_gsQueryBox"),mquery=zgssearch.gsautocomplete.getautosearchQuery(nsearch_type);zgssearch.isQueryValid(mquery)||zgssearch.isQueryHasFilters()?(nsearch_type=zgssearch.addserviceFilters(service_name),zgssearch.handleUserSearchQuery(mquery,nsearch_type)):zgssearch.handleEmptySearchQry(service_name)},zgssearch.updateDepartmentInfoforDesk=function(service,target){var mlist,departments,soid;"0"==zgssearch.getFilterInfo(service,"accounts","current")&&(departments=zgssearch.getFilterObj(service),soid=_jQueryGS(target).attr("acc_id"),mlist=zgssearch.getWidgetServiceList(service),soid=soid||zgssearch.getFilterInfo(service,mlist.key,"current"),(departments=departments.departments.data).hasOwnProperty(soid)&&((departments=departments[soid]).hasOwnProperty(soid="0")||(soid=_jQueryGS(target).attr("depId")),zgssearch.updateFilterInfo(service,"departments","current",soid),zgssearch.updateFilterInfo(service,"departments","dispname",departments[soid])))},zgssearch.filterThroughOptions=function(service,key,fkey,oldServiceType,target){_jQueryGS(target).attr("key",key),_jQueryGS(target).attr("fkey",fkey),_jQueryGS(target).attr("ftype",oldServiceType);oldServiceType=zgssearch.getSearchType();_jQueryGS("#"+("zgs20_gsServicePanelList"+oldServiceType)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),oldServiceType===service&&!zgssearch.isServiceHasMultiPortals(service)||zgssearch.setClearRenderedFiltersFlag(!0),zgssearch.setSearchType(service),zgssearch.clickActionForWidgetList(target)},zgssearch.filterServiceModules=function(cur_ser_sel_id){var ftype=cur_ser_sel_id.attr("service");zgssearch.setSearchType(ftype);var acc_id=cur_ser_sel_id.attr("acc_id"),module_name=cur_ser_sel_id.attr("mod")||cur_ser_sel_id.attr("mod_name")||cur_ser_sel_id.attr("workspace_id"),mod_disp_name=cur_ser_sel_id.attr("value")||module_name,cur_ser_sel_id=_jQueryGS("#zgs20_gsServListHolder .zgs19_gsSelectedServicepanel").attr("id");_jQueryGS("#"+cur_ser_sel_id).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),""!==acc_id&&(zgssearch.updateFilterInfo(ftype,"accounts","current",acc_id),fkey=zgssearch.getFilterData(ftype,"accounts","data",acc_id),zgssearch.updateFilterInfo(ftype,"accounts","dispname",fkey));var fkey=ftype==zgssearch.GSConstant.ASANA?zgssearch.WS:"modules",ftype=ftype===zgssearch.GSConstant.CAMPAIGNS?"1":"3";_jQueryGS("#zgs20_globalsearch").append(_jQueryGS("<div>",{id:"zgs20_filterDummyElem",class:"zgs19_gsDisplayNone",ftype:ftype,fkey:fkey,key:module_name,index:"0",value:mod_disp_name})),zgssearch.currFilterClickelem=_jQueryGS("#zgs20_filterDummyElem"),zgssearch.clickActionForWidgetList(zgssearch.currFilterClickelem),_jQueryGS("#zgs20_filterDummyElem").remove()},zgssearch.isSupportedOpenFormat=function(fileType){return"image"===fileType||"docs"===fileType||"spreadsheet"===fileType||"presentation"===fileType},zgssearch.hideZiaForSameDomain=function(currResURL){var domainURL;currResURL==GSConstant.CONNECT&&(domainURL=window.location.href,currResURL=zgssearch.getResultAccountId(),currResURL=zgssearch.pulseNetworkURL[currResURL],0==domainURL.indexOf(currResURL)&&zgssearch.toggleGlobalsearch())},zgssearch.crmRecordOpen=function(domain_name,fullModData){var module=domain_name.mod,entityId=domain_name.id,moduleforURL=fullModData||zgssearch.getResultAccountId(),domain_name=zgssearch.crmOrgInfo.getDomain(moduleforURL),fullModData=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules");if("Notes"===module){var mod,relatedRec=zgssearch.gscrm.crmImpFieldsData.related_record;for(mod in relatedRec)entityId=relatedRec[mod],module=mod}if(!moduleforURL)return null;moduleforURL=fullModData[moduleforURL][module+"_url"];return GSConstant.GS_CRM_URL+"/crm/"+domain_name+"/EntityInfo.do?module="+moduleforURL+"&id="+entityId},zgssearch.contextMenuActionsList=function(target,event,resObj){switch(_jQueryGS(target).attr("action")){case"searchUser":zgssearch.widgetPopUpSearch(target);break;case"sendMail":zgssearch.startComposeMail(target,"email");break;case"chatWithUser":zgssearch.chatAction(target,"chat",event,resObj)}},zgssearch.hideWidgetsPopup=function(){zgssearch.isOpenDoubleClickPopup&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1),zgssearch.isMenuPopUpOpened&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1,zgssearch.openContextPopup=!1)},zgssearch.copyUrl=function(selection,event,range){var service=_jQueryGS(selection).attr("service"),copyText=document.createElement("textArea");copyText.className="zgs19_gsDisplayNone",copyText.value=zgssearch.fetchCalloutUrl(service,range,selection),document.body.appendChild(copyText),zgssearch.isIOS()?(range=document.createRange(),selection=window.getSelection(),range.selectNodeContents(copyText),selection.removeAllRanges(),selection.addRange(range),copyText.setSelectionRange(0,999999)):copyText.select(),document.execCommand("copy"),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.callout.linkcopied")}),document.body.removeChild(copyText),zgssearch.stopEvent(event)},zgssearch.startAudioVideoCall=function(czuid,value){czuid+="",!zgssearch.isWMSChatPaused()&&zgssearch.hasWebMessanger&&czuid&&"-1"!=czuid?(zgssearch.toggleGlobalsearch(),!zgssearch.hasAudioSupport()||"audio"!=value&&"gswmsaudio"!=value&&"attendeegswmsaudio"!=value?zgssearch.hasVideoSupport()&&(zgssearch.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.startVideoCall",[czuid]):WebMessanger.startVideoCall(czuid)):zgssearch.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.startAudioCall",[czuid]):WebMessanger.startAudioCall(czuid)):zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")})},zgssearch.chatAction=function(url,key,curlogid,resObj){var chatid,isChatPaused,menuEl;"continue"==key||"chat"==key?zgssearch.openChat(url,key,curlogid,resObj):"gswmsinvite"!=key&&"gswmsinvitezoho"!=key||(chatid=_jQueryGS(url).attr("chatid"),isChatPaused=zgssearch.isWMSChatPaused(),menuEl=zgssearch.getTargetElem("zgs20_gsContactsCallout"),zgssearch.setGSTagElems(menuEl),curlogid=GSConstant.cuz,resObj.hasOwnProperty("contact_id")?(url="/zgssearch/api/v1/accounts/"+curlogid+"/contacts/"+resObj.contact_id+"/invite",zgssearch.uri(zgssearch.POST,url,"","",function(data){200==zgssearch.jsonParse(data).status_code&&("gswmsinvitezoho"==key?(resObj.status="-11",_jQueryGS(menuEl.gswmsinvitezoho).hide(),_jQueryGS(menuEl.gswmspendzoho).show()):(resObj.status="-1",_jQueryGS(menuEl.gswmsinvite).hide(),_jQueryGS(menuEl.gswmspend).show()))})):isChatPaused?zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")}):(curlogid=GSConstant.cuz,WmsContacts.add("zoho",chatid,curlogid),_jQueryGS(menuEl.gswmsinvitezoho).hide(),_jQueryGS(menuEl.gswmsinvite).hide(),_jQueryGS(menuEl.gswmspend).show()))},zgssearch.openChat=function(target,key,event,muid){var compType="",service=_jQueryGS(target).attr("service"),isChatPaused=zgssearch.isWMSChatPaused(),url="";if("continue"==key)if(compType=muid.chat_id||muid.cid||"",zgssearch.hasWebMessanger){var isDashboardOpened,parNode,msgTime=muid.mT||"";if(zgssearch.isActionHandlerEnabledInSuiteApp)return void zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.continueChat",[compType,msgTime]);isChatPaused||(isDashboardOpened=zgssearch.gsdbUtils.isDashboardOpened(),1==zgssearch.gscomponent.UIType&&(isDashboardOpened&&zgssearch.gscardinDb.isCardMaximised||!isDashboardOpened)?(zgssearch.gscliq.setPreviewList(compType),(parNode=target.closest(".zgs19_gsServiceCalloutHolder")).getElementsByClassName("zgs19_gsChatPreview")[0],_jQueryGS(parNode.getElementsByClassName("zgs19_gsChatPreview")[0]).show(),(isDashboardOpened?_jQueryGS(parNode.MobDisableFields):_jQueryGS(parNode).find(".zgs18_gsContinueChat")).addClass("zgs19_gsHideEleme")):zgssearch.toggleGlobalsearch()),WebMessanger.continueChat(compType,msgTime)}else muid=muid.hasOwnProperty("muid")?muid.muid.replace("%20","_"):"",url=GSConstant.GS_CLIQ_URL+"/chats/"+compType+(""!==muid?"/messages/"+muid:"");else if("chat"===key)if(compType=_jQueryGS(target).attr("chatid"),zgssearch.hasWebMessanger){if(zgssearch.isActionHandlerEnabledInSuiteApp)return void zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.chat",[compType]);WebMessanger.chat(compType),isChatPaused||zgssearch.toggleGlobalsearch()}else url=GSConstant.GS_CLIQ_URL+"/users/"+compType;compType=zgssearch.getComponentType();compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp?zgssearch[compType].previewHandler(service,url):zgssearch.openInNewTab(url),zgssearch.stopEvent(event)},zgssearch.handleMultiPageScroll=function(search_type,set){var searchQuery,url=zgssearch.getValue("zgs20_gsQueryBox");zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),search_type=zgssearch.addserviceFilters(search_type),url=zgssearch.gsautocomplete.getautosearchQuery(url),zgssearch.isValidSearchQuery(url,search_type)?zgssearch.handleUserSearchQuery(url,search_type):(zgssearch.multiStartSet=parseInt(set),searchQuery=encodeURIComponent(url),url=zgssearch.getServiceSpecificURL(search_type),url+="&query="+searchQuery+zgssearch.addqueryFilters()+"&search_type="+search_type+"&startSet="+set+"&is_scroll=true&no_of_results="+zgssearch.fetchResCount,zgssearch.scrollSearch||(zgssearch.addScrollLoader("zgs20_MultiSearchPageHolder","zgs20_gsScrollLoader"),zgssearch.multiResCount=0,zgssearch.scrollSearch=!0,zgssearch.hideSearchPageLoader(),zgssearch.getSearchResults(url)))},zgssearch.isPreviewOpenedInComponent||(zgssearch.setSearchBoxPlaceHolder(),zgssearch.handleSearchCloseIcon(),zgssearch.setSearchBtnAndVal()),zgssearch.hasOwnProperty("gscomponent")&&gscomponent.isResizeEnabled()&&zgssearch.setWMSZIndex(),zgssearch.dashboardEventListeners=function(){zgssearch.isDashboardEnabled&&(window.removeEventListener("visibilitychange",zgssearch.handleVisibilityChange,!0),zgssearch.handleVisibilityChange=function(){var currMilliSecs,dbId,visibilityState=window.document.visibilityState;zgssearch.gsdbUtils.isDashboardOpened()&&("visible"===visibilityState?zgssearch.isGSOpened&&!zgssearch.gsdbhome.isAddCardPopupOpened&&(currMilliSecs=(new Date).getTime(),dbId=zgssearch.gsdbhome.currentlyOpenedDbId,currMilliSecs-zgssearch.lastVisibleStateOfWindow>zgssearch.cardAutoRefreshTime&&zgssearch.gscardinDb.triggerAutoRefreshForCards(dbId),zgssearch.gscardinDb.setIntervalForCardsAutoRefresh()):"hidden"===visibilityState&&(zgssearch.gscardinDb.clearIntervalForAutoRefresh(),zgssearch.lastVisibleStateOfWindow=(new Date).getTime()))},window.addEventListener("visibilitychange",zgssearch.handleVisibilityChange,!0),1===zgssearch.gscomponent.UIType&&(window.removeEventListener("beforeunload",zgssearch.handleBeforeUnloading),zgssearch.handleBeforeUnloading=function(event){var isChangesMade;zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.isAddCardPopupOpened?(isChangesMade=_jQueryGS("#zgs20_gsdbDemInrCont").attr("isChanged"))&&"true"==isChangesMade&&(event.returnValue="Are you sure you want to leave?"):zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.hasOwnProperty("isCardInfoChangedOrNot")&&zgssearch.gscreatecards.isCardInfoChangedOrNot()&&(event.returnValue="")},window.addEventListener("beforeunload",zgssearch.handleBeforeUnloading)),0==zgssearch.gscomponent.UIType&&(window.removeEventListener("resize",zgssearch.gsdashboardresizepage,!1),zgssearch.gsdashboardresizepage=function(){zgssearch.gsdbUtils.isDashboardOpened()&&setTimeout(function(){zgssearch.gsdbhome.setSizeForDashboards()},70)},window.addEventListener("resize",zgssearch.gsdashboardresizepage,!1)))},zgssearch.removeLocalStorageVal=function(){zgssearch.deleteLocalStorageValue("zs_connector_configure_code"),zgssearch.deleteLocalStorageValue("zs_service_id"),zgssearch.deleteLocalStorageValue("zs_connector_id"),zgssearch.deleteLocalStorageValue("zs_connector_name"),zgssearch.deleteLocalStorageValue("zs_error_message"),zgssearch.deleteLocalStorageValue("zsoid")}}(zgssearch,window),function(zgssearch,window){var gsautocomplete,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gsautocomplete=(gsautocomplete=void 0,(gsautocomplete=zgssearch.gsautocomplete||{}).autoSuggClickPosUrl="/zgssearch/gsSuggestClickPosition",gsautocomplete.modifiers=gsautocomplete.modifiers||{},gsautocomplete.queryFilters=gsautocomplete.queryFilters||{},gsautocomplete.queryFiltersMap=gsautocomplete.queryFiltersMap||{},gsautocomplete.queryFiltersIndex=gsautocomplete.queryFiltersIndex||{},gsautocomplete.recentSearchesHolder=gsautocomplete.recentSearchesHolder||[],gsautocomplete.lastSavedIndex=gsautocomplete.lastSavedIndex||-1,gsautocomplete.suggestindex=gsautocomplete.suggestindex||-1,gsautocomplete.querymodifiers=["services","users","recentsearch"],gscomponent.isShowAppsData&&gsautocomplete.querymodifiers.splice(gsautocomplete.querymodifiers.length-1,0,"relatedproducts"),gsautocomplete.modifiers.services={symbol:"#",icon:"zgs19_gsHeaderApps",msg:"gs.search.sugg.service",asMin:3,asMax:10},gsautocomplete.modifiers.users={symbol:"@",icon:"zgs19_gsHeaderContacts",msg:"gs.search.sugg.user",asMin:3,asMax:10},gsautocomplete.modifiers.recentsearch={symbol:" ",icon:"zgs19_gsHeaderRecSearch",msg:"gs.search.sugg.recent",asMin:3,asMax:10},gsautocomplete.modifiers.relatedproducts={symbol:" ",icon:"zgs19_gsHeaderPR",msg:"gs.search.sugg.apps",asMin:4,asMax:8},gsautocomplete.modifiers.dashboard={symbol:"",icon:"zgs18_gsDashboardIcon",msg:"Dashboards",asMin:3,asMax:8},gsautocomplete.modifiers.cards={symbol:"",icon:"zgs18_CardsIcon",msg:"Cards",asMin:3,asMax:8},gsautocomplete.dashboard=gsautocomplete.dashboard||{},gsautocomplete.cards=gsautocomplete.cards||{},gsautocomplete.encode_suggestion={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},gsautocomplete.decode_suggestion={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"},gsautocomplete.encode_sugg_regex=/[<>&"']/g,gsautocomplete.decode_sugg_regex=/&lt;|&gt;|&amp;|&quot;|&#39;/g,gsautocomplete.regex_replacer=/[!@#$%^&*()+=\-[\]\\';,./{}|":<>?~_]/gi,gsautocomplete.asLimit=gsautocomplete.asLimit||100,gsautocomplete.asMatchedObj=gsautocomplete.asMatchedObj||[],gsautocomplete.add=function(key,arr){gsautocomplete[key]=arr},gsautocomplete.remove=function(key){gsautocomplete.hasOwnProperty(key)&&delete gsautocomplete[key]},gsautocomplete.get=function(key){return gsautocomplete[key]||[]},gsautocomplete.setQryFilters=function(key,id){gsautocomplete.queryFilters[key]=id},gsautocomplete.setQryFiltersMap=function(key,value){gsautocomplete.queryFiltersMap[key]=value},gsautocomplete.removeExistingSuggData=function(key){for(var matches=gsautocomplete.asMatchedObj||[],mlen=matches.length,m=0;m<mlen;m++)if((matches[m]||{}).key==key){gsautocomplete.asMatchedObj.splice(m,1);break}},gsautocomplete.toggleAppsSuggestRelatedProducts=function(eleId){0===zgssearch.getRenderedAppsList(eleId).length&&(_jQueryGS("#"+eleId).remove(),_jQueryGS("#zgs20_gsQuerySuggHeader_relatedproducts").remove())},gsautocomplete.renderAppsSuggestList=function(outerListEleId){var j=outerListEleId.start,rindex=j+outerListEleId.max,key=outerListEleId.key,hold=outerListEleId.value,matches=outerListEleId.matches,pquery=outerListEleId.pquery,length=outerListEleId.length,showMore=zgssearch.getValue("zgs20_gsQueryBox"),showMore=gsautocomplete.getautosearchQuery(showMore);void 0!==zgssearch.rpUIConfig.callEntries[showMore]&&(rindex-=zgssearch.rpUIConfig.callEntries[showMore],zgssearch.rpUIConfig.callEntries={});var appsData=gsautocomplete.get(key),outerListEleId="zgs20_gsQuerySuggOuter_"+key,appsListEleId="zgs20_gsQuerySuggApps_"+key;for(0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:outerListEleId}).append(_jQueryGS("<div>",{id:appsListEleId,class:"zgs19_gsSuggAppsList"})));j<length&&j<rindex;j++){var serName,sURL,sIcon,unhigh,sNameTxtEleId,chelem,sNameFragment,uid=matches[j][0],i=gsautocomplete.getSuggestIndex();appsData.hasOwnProperty(uid)&&(serName=appsData[uid],sURL=void 0!==zgssearch.rpUIConfig.appVsUrl[serName]?zgssearch.rpUIConfig.appVsUrl[serName][0]:"",chelem=void 0!==zgssearch.rpUIConfig.appVsUrl[serName]?zgssearch.rpUIConfig.appVsUrl[serName][1]:"",chelem=zgssearch.replaceHTMLEntity(chelem),sIcon="zgs18_w"+serName,unhigh=(sNameFragment=gsautocomplete.gethighlighttext(chelem,pquery,!1)).suffix||"",sNameTxtEleId="zgs20_gsAutoSuggChildName"+i,chelem=_jQueryGS("<a>",{rel:"noopener noreferrer",href:sURL,target:"_blank",gs:"rpStats",gsa:"as-"+uid+"_"+serName,productName:serName,class:"zgs19_gsQuerySuggApps zgs19_gsCurPointer zgs19_gsAutoSuggChild",key:key,hold:hold,unhigh:unhigh,value:uid}).append(_jQueryGS("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(_jQueryGS("<li>",{class:"zgs19_gsQuerySuggAppsIcon"}).append(_jQueryGS("<span>",{class:sIcon}))).append(_jQueryGS("<span>",{sName:serName,class:"zgs19_gsSuggUserTitle zgs19_appsTxt",gstitle:chelem,id:sNameTxtEleId})),_jQueryGS(chelem).attr("index",i),_jQueryGS("div#"+appsListEleId).append(chelem),zgssearch.LINE_ICON_MAP.hasOwnProperty(sIcon)&&zgssearch.obtainLineIconPaths(sIcon,_jQueryGS(".zgs19_gsQuerySuggAppsIcon > ."+sIcon)[0]),sNameFragment=zgssearch.gssecurity.getHighlightTextNode(sNameFragment.prefix,sNameFragment.match,sNameFragment.suffix,{class:"zgs19_gshighlight"}),zgssearch.getTargetElem(sNameTxtEleId).appendChild(sNameFragment))}rindex<length&&0===_jQueryGS("div#"+outerListEleId+" > .zgs19_gsQuerySuggch").length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div#"+outerListEleId).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:j}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore)))),gsautocomplete.toggleAppsSuggestRelatedProducts(outerListEleId)},gsautocomplete.renderMoreAppsSugg=function(){var pquery=zgssearch.getValue("zgs20_gsQueryBox"),fobj=zgssearch.getCursorPos(),hmatches=pquery.substr(0,fobj),mi0="relatedproducts",mi1=gsautocomplete.modifiers[mi0].symbol,squery=hmatches.substr(0,-1),pquery=" "+hmatches.substr(0,fobj),hmatches=gsautocomplete.findMatchedData(mi0,pquery),fobj=hmatches.length;0<fobj&&(fobj={key:mi0,value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:fobj,max:gsautocomplete.modifiers[mi0].asMax,start:0},gsautocomplete.setLastSavedIndex(0),gsautocomplete.removeExistingSuggData(mi0),gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj))},gsautocomplete.setAutoSuggestAppsData=function(searchedAppsSuggData){gscomponent.isShowAppsData&&(void 0!==searchedAppsSuggData?(zgssearch.rpUIConfig.isTriggeredSuggestCall=!0,gsautocomplete.add("relatedproducts",searchedAppsSuggData)):(zgssearch.rpUIConfig.isTriggeredSuggestCall=!1,gsautocomplete.add("relatedproducts",zgssearch.rpUIConfig.iconIncludedApps)))},gsautocomplete.initServiceList=function(){var userObj,photoUrl;zgssearch.hasOwnProperty("getServiceList")&&(gsautocomplete.addServices(),(GSConstant.cun||GSConstant.cue)&&(userObj={},photoUrl=zgssearch.getThumbPhotoURL(GSConstant.cuz),userObj[GSConstant.cue]={DNAME:GSConstant.cun||"",EMAILID:GSConstant.cue||"",ZUID:GSConstant.cuz||"",UC:0,PURL:photoUrl},gsautocomplete.add("users",userObj)),zgssearch.handleEmptySearchBox())},gsautocomplete.addServices=function(){var aobj={},slist=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mlist=zgssearch.getMappedServiceList()||{},oList=zgssearch.getOrderedServiceList()||{};aobj[GSConstant.ALL]=mlist[GSConstant.ALL].displayName;for(var i=0;i<oList.length;i++){var sname=oList[i];zgssearch.isArrayContain(sname,slist)&&mlist.hasOwnProperty(sname)&&(aobj[sname]=mlist[sname].displayName)}gsautocomplete.add("services",aobj)},gsautocomplete.findMatchedData=function(type,pquery){return"users"==type?gsautocomplete.contactssearch(type,pquery):"recentsearch"==type?gsautocomplete.recentSearchMatches(type):"relatedproducts"==type?gsautocomplete.relatedproductsSearchMatches(type):"cards"==type?gsautocomplete.cardsSearchMatches(type):"dashboard"==type?gsautocomplete.dashboardSearchMatches(type):gsautocomplete.defaultsearch(type,pquery)},gsautocomplete.recentSearchMatches=function(dn){var matches=[],tstart=0,tObj=gsautocomplete.get(dn),curPos=zgssearch.getCursorPos(),dn=zgssearch.getValue("zgs20_gsQueryBox");if(tObj instanceof Object&&!zgssearch.isQueryHasFiltersSelected()&&dn.length==curPos)for(var dn=dn.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),index=0;index<tObj.length;index++){var oriMat=tObj[index].search(myReg);if(-1<oriMat&&gsautocomplete.asLimit>tstart&&(tstart++,matches.push([index,oriMat])),gsautocomplete.asLimit==tstart)break}return matches},gsautocomplete.isAutoSuggQryChanged=function(){var query=zgssearch.getValue("zgs20_gsQueryBox");query=(query=gsautocomplete.getautosearchQuery(query))?query.trim():"";var searchedQry=zgssearch.rpUIConfig.query;return(""===searchedQry||query!==searchedQry)&&1<query.length&&(zgssearch.rpUIConfig.query=query,!0)},gsautocomplete.getRelatedProductsMatches=function(dn){var matches=[],tstart=0,tObj=gsautocomplete.get(dn),curPos=zgssearch.getCursorPos(),dn=zgssearch.getValue("zgs20_gsQueryBox");if(tObj instanceof Object&&!zgssearch.isQueryHasFiltersSelected()&&dn.length==curPos)for(var dn=dn.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),appsLen=Object.keys(tObj).length,index=0;index<appsLen;index++){var oriMat=(tObj[index].product_name||tObj[index]).search(myReg);if(-1<(oriMat=zgssearch.rpUIConfig.isTriggeredSuggestCall?0:oriMat)&&gsautocomplete.asLimit>tstart&&(tstart++,matches.push([index,oriMat])),gsautocomplete.asLimit==tstart)break}return matches},gsautocomplete.relatedproductsSearchMatches=function(type){var matches=gsautocomplete.getRelatedProductsMatches(type),matchedLen=matches.length,isAutoSuggQryChanged=gsautocomplete.isAutoSuggQryChanged(matchedLen);return matchedLen<gsautocomplete.modifiers[type].asMin&&isAutoSuggQryChanged&&setTimeout(function(){var query=zgssearch.getValue("zgs20_gsQueryBox"),query=gsautocomplete.getautosearchQuery(query);void 0===zgssearch.rpUIConfig.callEntries[query]&&zgssearch.rpUIConfig.onholdQuery!==query&&zgssearch.rpUIConfig.searchedQuery!==query&&(matches=gsautocomplete.getRelatedProductsMatches(type),zgssearch.rpUIConfig.callEntries[query]=matches.length,zgssearch.rpUIConfig.onholdQuery=query,zgssearch.getSearchResultsForRelatedProducts("autosuggest"))},800),matches},gsautocomplete.defaultsearch=function(type,dn){var matches={},tstart=0,tObj=gsautocomplete.get(type);if(dn==gsautocomplete.modifiers.services.symbol)return gsautocomplete.defaultservicelist(tObj);var sname,dn=dn.substr(1,dn.length).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");for(sname in tObj){var mat=tObj[sname].search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[sname]=mat),gsautocomplete.asLimit==tstart)break}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.dashboardSearchMatches=function(argparams){var matches={},tstart=0;if(!zgssearch.isMobViewport()){var sname,tObj=gsautocomplete.get(argparams),query=zgssearch.getValue("zgs20_gsQueryBox"),params=(query=query.trim()).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+params+"|\\s"+params+")","i");for(sname in tObj){var mat=tObj[sname].search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[sname]=mat),gsautocomplete.asLimit==tstart)break}params=Object.keys(tObj).length;Object.keys(matches).length<gsautocomplete.modifiers[argparams].asMin&&!zgssearch.gsdbUtils.allDBFetched&&params>zgssearch.gsdbUtils.oldDbObjLen&&(argparams={callback:function(){zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.updateSearchBox(query)}},params="start="+Object.keys(tObj).length+"&count="+zgssearch.dashboardCount+"&sort=0",zgssearch.gsdbUtils.getDashboardMeta(params,argparams))}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.cardsSearchMatches=function(params){var matches={},tstart=0,matchIdArr=[];if(!zgssearch.isMobViewport()){var cardId,cardIdArr=zgssearch.gscardUtils.allCardIds,cardObj=gsautocomplete.get(params),query=zgssearch.getValue("zgs20_gsQueryBox"),argparams=(query=query.trim()).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+argparams+"|\\s"+argparams+")","i");for(cardId in cardIdArr){var curCardId=cardIdArr[cardId],mat=((cardObj[curCardId]||{}).name||"").search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[curCardId]=mat,matchIdArr.push(curCardId)),gsautocomplete.asLimit==tstart)break}var cardObjLen=Object.keys(cardObj).length;Object.keys(matches).length<gsautocomplete.modifiers[params].asMin&&!zgssearch.gscardUtils.allCardsFetched&&cardObjLen>zgssearch.gscardUtils.oldCardObjLen&&(argparams={callback:function(){zgssearch.removeQuerySugg(),zgssearch.gsautocomplete.updateSearchBox(query)}},params=Object.keys(zgssearch.cardTypes),params="start="+(zgssearch.gscardUtils.oldCardObjLen=cardObjLen)+"&count="+zgssearch.gscardUtils.cardsCount+"&cardtype="+encodeURIComponent(JSON.stringify(params))+"&resultanttype=1",zgssearch.gscardUtils.fetchCardsMeta(params,argparams))}return gsautocomplete.getSortedCardMatches(matchIdArr,matches)},gsautocomplete.contactssearch=function(remainLength,proxContacts){var maxLength=gsautocomplete.asLimit,luserObj=gsautocomplete.get(remainLength),cachedSearchResponse=zgssearch.gsusercontacts.contactSearchQry.toLowerCase(),mquery=proxContacts.substr(1,proxContacts.length).toLowerCase(),flength=[],isSearchRequired=!1,clientSearchLim=zgssearch.gsusercontacts.clientSearchLimit,isBackSpaceSearchRequired=!0,hasSearchMoreObj=(finalArray=gsautocomplete.usersearch(mquery,luserObj,{},maxLength)).length;if(hasSearchMoreObj<maxLength){remainLength=maxLength-hasSearchMoreObj,proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),hasSearchMoreObj=zgssearch.gsusercontacts.getQueriedProxContactsObject();mquery&&cachedSearchResponse?mquery===cachedSearchResponse?(finalArray=[],flength=gsautocomplete.getSortedByUsgaeCount(hasSearchMoreObj)):0==mquery.indexOf(cachedSearchResponse)?(flength=gsautocomplete.usersearch(mquery,hasSearchMoreObj,luserObj,remainLength)).length<clientSearchLim&&((hasSearchMoreObj=zgssearch.gsusercontacts.searchResultshasMore).hasOwnProperty(mquery)&&!hasSearchMoreObj[mquery]||(isSearchRequired=!0)):0==cachedSearchResponse.indexOf(mquery)?(cachedSearchResponse=zgssearch.gsusercontacts.autoSuggSearchVsResponse,mquery=mquery.trim(),cachedSearchResponse.hasOwnProperty(mquery)?(cachedSearchResponse=cachedSearchResponse[mquery],flength=gsautocomplete.getSortedByUsgaeCount(cachedSearchResponse.contacts),zgssearch.gsusercontacts.CurrCacheQryContactObj=cachedSearchResponse.contacts,finalArray=[],flength.length==cachedSearchResponse.count&&(isBackSpaceSearchRequired=!1)):flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)):((flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)).length<clientSearchLim&&(isSearchRequired=!0),zgssearch.gsusercontacts.autoSuggSearchVsResponse={}):((flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)).length<clientSearchLim&&(isSearchRequired=!0),zgssearch.gsusercontacts.autoSuggSearchVsResponse={});var finalArray,flength=maxLength<(flength=(finalArray=[].concat(finalArray,flength)).length)?maxLength:flength;return(finalArray=finalArray.slice(0,flength)).length<clientSearchLim&&0<mquery.length&&zgssearch.gsusercontacts.fetchFromServer(mquery,[],isSearchRequired,isBackSpaceSearchRequired),finalArray}},gsautocomplete.usersearch=function(mquery,userObj,personalObj,maxLength){var finalArray=[];if(!_jQueryGS.isEmptyObject(userObj)){var userList=gsautocomplete.getSortedByUsgaeCount(userObj);if(mquery){for(var startsArr=[],containSpaceArr=[],ui=0;ui<userList.length;ui++){var uid=userList[ui][0];if(!personalObj.hasOwnProperty(uid)){var mat=userObj[uid];if(mat.DNAME&&mat.EMAILID){var dname=(dname=zgssearch.replaceHTMLEntity(mat.DNAME)).toLowerCase(),email=zgssearch.replaceHTMLEntity(mat.EMAILID),mat=mquery.replace(gsautocomplete.regex_replacer,"\\$&");if(0==dname.indexOf(mat)||0==email.indexOf(mat)?startsArr.push([uid,0]):(mat=new RegExp("(^"+mat+"|\\s"+mat+")","i"),-1<(mat=dname.search(mat))&&containSpaceArr.push([uid,mat])),startsArr.length+containSpaceArr.length==maxLength)break}}}finalArray=[].concat(startsArr,containSpaceArr)}else{for(var contactsList=[],ui=0;ui<userList.length;ui++){uid=userList[ui][0];personalObj.hasOwnProperty(uid)||contactsList.push(userList[ui])}finalArray=contactsList}}return finalArray},gsautocomplete.getSortedMatches=function(matches){var sortmatches=[];if(!_jQueryGS.isEmptyObject(matches)){for(var rn in matches)sortmatches.push([rn,matches[rn]]);sortmatches.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortmatches},gsautocomplete.getSortedCardMatches=function(matchIds,matches){var sortmatches=[];if(!_jQueryGS.isEmptyObject(matches)&&0<matchIds.length){for(var matchId in matchIds){matchId=matchIds[matchId];sortmatches.push([matchId,matches[matchId]])}sortmatches.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortmatches},gsautocomplete.getSortedByUsgaeCount=function(object){var sortmatches=[];if(!_jQueryGS.isEmptyObject(object)){for(var rn in object){var uc=object[rn].UC||"0";sortmatches.push([rn,parseInt(uc)])}sortmatches.sort(function(a,b){return b[1]>a[1]?1:b[1]<a[1]?-1:0})}return sortmatches},gsautocomplete.defaultservicelist=function(tObj){var sname,sortmatches=[];for(sname in tObj)sortmatches.push([sname,0]);return sortmatches},gsautocomplete.gethighlighttext=function(miname,pquery,isEmail,myReg){var mind,hobj={prefix:miname,isMatched:!1},qlen=pquery.length,myReg=pquery.substr(null!=myReg?myReg:1,qlen);return 0<qlen&&(myReg=myReg.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=isEmail?new RegExp(myReg,"i"):new RegExp("(^"+myReg+"|\\s"+myReg+")","i"),-1<(mind=miname.search(myReg))&&miname.replace(myReg,function(macth){hobj.isMatched=!0,hobj.prefix=miname.substr(0,mind),hobj.match=miname.substr(mind,macth.length),hobj.suffix=miname.substr(mind+macth.length,miname.length)})),hobj},gsautocomplete.renderDefaultHeader=function(){var query=zgssearch.getValue("zgs20_gsQueryBox"),dhl=zgssearch.getI18NMsg("gs.search.service_search_for"),dhe=zgssearch.getI18NMsg("gs.search.service_search_enter");_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsDefaultHeader zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultLabel zgs19_gsfl zgs19_gsOverflow",gstitle:dhl}).text(dhl)).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultQuery zgs19_gsfl zgs19_gsOverflow",gstitle:query}).text(query)).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultEnter zgs19_gsfr zgs19_gsOverflow",gstitle:dhe}).text(dhe)))},gsautocomplete.renderSectionHeader=function(key){var htitle,siconEle;0===_jQueryGS("div#zgs20_gsQuerySuggHeader_"+key).length&&(siconEle=gsautocomplete.modifiers[key].icon,htitle=gsautocomplete.modifiers[key].msg,htitle=zgssearch.getI18NMsg(htitle),siconEle=""!==siconEle?_jQueryGS("<span>",{class:"zgs19_gsSecHeaderKey zgs19_gsfl "+("cards"!=key&&"dashboard"!=key?"zgs19_gsResultsUniIcons ":"")+siconEle}):"",_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsSectionHeaderNew",id:"zgs20_gsQuerySuggHeader_"+key}).append(siconEle).append(_jQueryGS("<span>",{class:"zgs19_gsFtWeightBold zgs19_gsfl zgs19_gsSecHeaderVal zgs19_gsOverflow zgs19_gsCalMW20Pxof100",gstitle:htitle}).text(htitle))))},gsautocomplete.renderAutoSuggList=function(obj){"users"==obj.key?(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.renderUsersuggestList(obj)):"relatedproducts"==obj.key?(gsautocomplete.renderSectionHeader(obj.key),obj.max=gsautocomplete.modifiers[obj.key].asMin,gsautocomplete.renderAppsSuggestList(obj)):(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.rendersuggestList(obj)),gsautocomplete.locateAutoSuggList(obj.squery,obj.key)},gsautocomplete.constructsuggestList=function(suggObj){var outerListEleId="zgs20_gsQuerySuggOuter_"+suggObj.key;0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:outerListEleId}));var chelem=_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+suggObj.ii,gs:suggObj.gsAttr,viewid:suggObj.currMatch,gsa:"as-"+suggObj.currMatch,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySuggch zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsCurPointer",index:suggObj.ii,key:suggObj.key,hold:suggObj.hold,unhigh:suggObj.unhigh,value:suggObj.currMatch}).append(_jQueryGS("<span>",{class:suggObj.rnameCls})).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+suggObj.ii,class:"zgs19_gsAutoSuggChildName "+suggObj.highclass,gstitle:suggObj.rname}));if(_jQueryGS(chelem).attr("index",suggObj.index),suggObj.otherAttr)for(var atr in suggObj.otherAttr)_jQueryGS(chelem).attr(atr,suggObj.otherAttr[atr]);_jQueryGS("div#"+outerListEleId).append(chelem),"services"!=suggObj.key&&"cards"!=suggObj.key||zgssearch.obtainLineIconPaths(suggObj.serviceicon,_jQueryGS(chelem).find("."+suggObj.serviceicon))},gsautocomplete.rendersuggestList=function(matchObj){var i=matchObj.start,rindex=i+matchObj.max,key=matchObj.key,showMore=matchObj.value,matches=matchObj.matches,length=matchObj.length,pquery=matchObj.pquery;"recentsearch"==key&&(pquery=showMore+zgssearch.getValue("zgs20_gsQueryBox"));for(var suggObj={key:key,hold:showMore},tObj=gsautocomplete.get(key);i<length&&i<rindex;i++){var mapService,docFragment,mi=matches[i],mi0=mi[0];tObj.hasOwnProperty(mi0)&&(suggObj.rname="cards"!==key?tObj[mi0]:tObj[mi0].name,suggObj.ii=gsautocomplete.getSuggestIndex(),docFragment=gsautocomplete.gethighlighttext(suggObj.rname,pquery,!1),suggObj.unhigh=docFragment.suffix||"",suggObj.highclass=0==i&&"services"==key?"zgs19_gsFtWeightBold":"","services"==key&&(mapService=zgssearch.mappedServiceList[mi[0]],suggObj.serviceicon=mapService.serviceicon,suggObj.rnameCls="zgs19_gsAutoSuggService "+suggObj.serviceicon),"dashboard"==key&&(suggObj.otherAttr={viewid:mi0}),"cards"==key&&(mapService=zgssearch.mappedServiceList[tObj[mi0].service],suggObj.serviceicon=mapService.serviceicon,suggObj.rnameCls="zgs19_gsAutoSuggService "+suggObj.serviceicon,suggObj.otherAttr={viewid:mi0,id:mi0,type:tObj[mi0].cardtype}),suggObj.currMatch=mi0,suggObj.index=i,gsautocomplete.constructsuggestList(suggObj),docFragment=zgssearch.gssecurity.getHighlightTextNode(docFragment.prefix,docFragment.match,docFragment.suffix,{class:"zgs19_gshighlight"}),zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+suggObj.ii).appendChild(docFragment))}rindex<length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div #zgs20_gsQuerySuggOuter_"+key).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:i}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore))))},gsautocomplete.renderLoadingIcon=function(selectext){gsautocomplete.showLoadingIcon=!0;var loadericon=zgssearch.getFourDotLoader("zgs20_gsAutoSuggestLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsQuerySugg").empty().append(loadericon),gsautocomplete.locateAutoSuggList(selectext)},gsautocomplete.renderUsersuggestList=function(cachedContacts,id,showMore){var j=cachedContacts.start,rindex=j+cachedContacts.max,key=cachedContacts.key,hold=cachedContacts.value,matches=cachedContacts.matches,pquery=cachedContacts.pquery,length=cachedContacts.length,luserObj=gsautocomplete.get("users"),proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),cachedContacts=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=_jQueryGS.extend({},queriedContacts,cachedContacts,proxContacts,luserObj),outerListEleId=id||"zgs20_gsQuerySuggOuter_"+key;for(showMore=showMore||"zgs20_gsQuerySugg",0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#"+showMore).append(_jQueryGS("<div>",{id:outerListEleId}));j<length&&j<rindex;j++){var nobj,unhigh,nameFragment,eobj,emailFragment,photoURL,uid=matches[j][0],i=gsautocomplete.getSuggestIndex();userObj.hasOwnProperty(uid)&&(emailFragment=zgssearch.replaceHTMLEntity(userObj[uid].DNAME),eobj=zgssearch.replaceHTMLEntity(userObj[uid].EMAILID),unhigh=(nobj=gsautocomplete.gethighlighttext(emailFragment,pquery,!1)).suffix||"",photoURL=userObj[uid].ZUID,nameFragment=_jQueryGS(".zgs19_gsAutoSuggChild").length,nameFragment=0==j&&nameFragment<=0?"zgs19_gsFtWeightBold":"",nameFragment=_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+i,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:j,key:key,hold:hold,unhigh:unhigh,value:eobj}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+i,class:"zgs19_gsAutoSuggChildName "+nameFragment,gstitle:emailFragment}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildEmail"+i,gstitle:eobj}))))),_jQueryGS(nameFragment).attr("index",i),_jQueryGS("div#"+outerListEleId).append(nameFragment),nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,emailFragment={class:"zgs19_gshighlight"}),zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+i).appendChild(nameFragment),eobj=0==nobj.isMatched?gsautocomplete.gethighlighttext(eobj,pquery,!1):{prefix:eobj},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,emailFragment),zgssearch.getTargetElem("zgs20_gsAutoSuggChildEmail"+i).appendChild(emailFragment),(photoURL=userObj[uid].PURL||(photoURL&&"-1"!==photoURL?zgssearch.getThumbPhotoURL(photoURL):""))?zgssearch.updateUserPhoto("zgs20_gsAutoSuggChild"+i,photoURL):zgssearch.loadResNoPhotoImg("zgs20_gsAutoSuggChild"+i))}rindex<length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div#"+outerListEleId).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:j}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore))))},gsautocomplete.getSuggestIndex=function(){return gsautocomplete.suggestindex++,500<gsautocomplete.suggestindex&&(gsautocomplete.suggestindex=0),gsautocomplete.suggestindex},gsautocomplete.locateAutoSuggList=function(selectext,key){gsautocomplete.isAutoSuggDisplay=!0,_jQueryGS("#zgs20_gsQuerySugg").css("display","block"),_jQueryGS("#zgs20_gsQuerySugg").scrollTop(0),_jQueryGS("#zgs20_gsQuerySugg").scrollLeft(0),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-y","auto"),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-x","hidden"),zgssearch.jqueryMouseEvent();var swid=_jQueryGS("#zgs20_gsQuerySugg").width(),qwid=_jQueryGS("#zgs20_gsQueryBox").outerWidth(),rwid=zgssearch.getTargetElem("zgs20_gsQueryBox"),rwid=zgssearch.getQueryScrollLeft(rwid)||0;rwid=qwid<(rwid=selectext?zgssearch.getWidthOfText(selectext,qwid)-rwid:rwid)+swid?qwid-swid:rwid,"recentsearch"==key&&(rwid=0),_jQueryGS("#zgs20_gsQuerySugg").css("left",rwid),_jQueryGS("#zgs20_gsDummyQueryDiv").remove()},gsautocomplete.showMoreAutoSuggest=function(parent){parent=parent.parentNode;if(parent){var matches=gsautocomplete.asMatchedObj||[],key=_jQueryGS(parent).attr("key"),lindex=_jQueryGS(parent).attr("lindex"),lindex=parseInt(lindex),mlen=matches.length;if(0<mlen){_jQueryGS(parent).remove();for(var m=0;m<mlen;m++){var mobj=matches[m]||{};if(mobj.key==key){mobj.start=lindex,mobj.max=gsautocomplete.modifiers[key].asMax,"users"==mobj.key?gsautocomplete.renderUsersuggestList(mobj):"relatedproducts"==mobj.key?(gsautocomplete.removeExistingSuggData(mobj.key),gsautocomplete.asMatchedObj.push(mobj),gsautocomplete.renderAppsSuggestList(mobj)):gsautocomplete.rendersuggestList(mobj),zgssearch.jqueryMouseEvent();break}}}}},gsautocomplete.updatesuggtext=function(){zgssearch.Utils.debounce(function(){var vunhigh=zgssearch.getCursorPos();_jQueryGS(".zgs19_gssuggtext").remove();var tabtext,tabpress,tabelem=_jQueryGS(".zgs19_gsAutoSuggChild").length,tabtoselect=zgssearch.getValue("zgs20_gsQueryBox");vunhigh==tabtoselect.length&&0<tabelem&&gsautocomplete.isAutoSuggDisplay&&zgssearch.isQueryValid(tabtoselect)&&((tabpress=gsautocomplete.currselecelem)||(tabtext=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),tabpress=zgssearch.getTargetElem(tabtext)),vunhigh=_jQueryGS(tabpress).attr("unhigh"),tabelem="","relatedproducts"!==(tabtoselect=_jQueryGS(tabpress).attr("key"))&&(tabtext=zgssearch.getI18NMsg("gs.search.sugg.tab"),tabpress="  ("+zgssearch.getI18NMsg("gs.search.sugg.press")+" ",tabtoselect=" "+("cards"==tabtoselect||"dashboard"==tabtoselect?zgssearch.getI18NMsg("gs.search.sugg.toopen"):zgssearch.getI18NMsg("gs.search.sugg.toselect"))+")",tabelem=_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox zgs19_gsFontSize14Px"}).append(_jQueryGS("<span>").text(tabpress)).append(_jQueryGS("<span>",{class:"zgs19_gssuggtab"}).text(tabtext)).append(_jQueryGS("<span>").text(tabtoselect))),_jQueryGS("#zgs20_gsQueryDiv").append(_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox"}).text(vunhigh)).append(tabelem))},100,"updatesuggtext")},gsautocomplete.openApp=function(event,serviceURL){var clickType,key;"click"!==event.type&&(key=serviceURL||event.target,(key=zgssearch.getParentNode(key,"rpStats"))&&(clickType=event.which,serviceURL=_jQueryGS(key).attr("productName"),13===clickType&&(serviceURL=zgssearch.rpUIConfig.appVsUrl[serviceURL.toLowerCase()][0],window.open(serviceURL)),1!==clickType&&2!==clickType&&13!==clickType||zgssearch.hasOwnProperty("gsanalytics")&&(key=zgssearch.getStatsKey(_jQueryGS(key).attr("gsa")),zgssearch.gsanalytics.sendStatsData(event,key)),event.stopPropagation()))},gsautocomplete.updateautosuggest=function(index,queriedContacts){var key=_jQueryGS(index).attr("key");if("relatedproducts"===key)zgssearch.gsautocomplete.openApp(queriedContacts,index);else{var userValue,qtext=_jQueryGS(index).attr("hold"),value=_jQueryGS(index).attr("value"),query=zgssearch.getValue("zgs20_gsQueryBox"),lhindex=gsautocomplete.get(key),dashboardId=gsautocomplete.modifiers[key].symbol,name="";if(name="users"==key?(userValue=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),curpos=zgssearch.gsusercontacts.getCurrCacheQryContact(),userValue={ZUID:(curpos=(lhindex=_jQueryGS.extend({},queriedContacts,curpos,userValue,lhindex))[value]).ZUID,EMAILID:value},zgssearch.replaceHTMLEntity(curpos.DNAME)):"cards"==key?lhindex[value].name:lhindex[value],lhindex.hasOwnProperty(value)||-1<lhindex.indexOf(value)){var curpos=zgssearch.getCursorPos(),lhindex=query.substr(0,curpos),lhindex=gsautocomplete.getLastSavedIndex(lhindex,qtext),qtext=dashboardId+name;0<=lhindex&&(" "==query[lhindex]&&lhindex<curpos&&(lhindex+=1),qtext=" "!=query[lhindex]?" "+qtext:qtext,0!=lhindex&&(qtext=" "!=query[lhindex-1]?" "+qtext:qtext),qtext=" "!=query[curpos]?qtext+" ":qtext,qtext=" "!=query[curpos+1]?qtext+" ":qtext);dashboardId=-1<lhindex?lhindex+qtext.length:qtext.length,query=query.substr(0,lhindex)+qtext+query.substr(curpos,query.length);if("dashboard"!=key&&"cards"!=key&&(_jQueryGS("#zgs20_gsQueryBox").val(query),_jQueryGS("#zgs20_gsQueryDiv").text(query)),zgssearch.setCursorPos(dashboardId),zgssearch.removeQuerySugg(),"recentsearch"!=key&&"dashboard"!=key&&"cards"!=key&&(gsautocomplete.setQryFiltersMap(key,name),gsautocomplete.parseQueryDiv()),"dashboard"==key){dashboardId=index.getAttribute("viewid");_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),zgssearch.gsdbUtils.isDashboardOpened()?dashboardId!==zgssearch.gsdbhome.currentlyOpenedDbId&&zgssearch.gsdbhome.renderDashboardPage(dashboardId):zgssearch.openDashboard(dashboardId)}else if("cards"==key)zgssearch.gscardUtils.isCardPageOpened()?_jQueryGS(index).attr("viewid")!==_jQueryGS(".zgs19_gsCrdHdrTitle").attr("cardId")&&zgssearch.gscards.renderCardspage("preview",index):zgssearch.openCards("preview",index);else if("recentsearch"==key)gsautocomplete.handleRecentSearch(name);else if("services"==key)gsautocomplete.setQryFilters(key,value),gsautocomplete.handleSuggestionSearch();else if("users"==key){gsautocomplete.setQryFilters(key,userValue),gsautocomplete.handleSuggestionSearch();for(var matchObj=gsautocomplete.asMatchedObj,mlen=matchObj.length,finalQuery="",i=0;i<mlen;i++){var pQuery,lind=matchObj[i];lind.key==key&&(pQuery=lind.pquery,value=gsautocomplete.modifiers[key].symbol,finalQuery=0<=(lind=pQuery.lastIndexOf(value))?pQuery.substr(lind+1,pQuery.length):pQuery)}index=_jQueryGS(index).attr("index");gsautocomplete.sendAutoSuggClickPosition(parseInt(index)+1,finalQuery.trim())}else zgssearch.triggerAutoSuggestCall()}}},gsautocomplete.handleRecentSearch=function(query){_jQueryGS("#zgs20_gsQueryBox").val(query),gsautocomplete.handleSuggestionSearch()},gsautocomplete.handleSuggestionSearch=function(){zgssearch.removeQuerySugg();var query=zgssearch.getValue("zgs20_gsQueryBox");gsautocomplete.checkQueryFilterExists("services"),gsautocomplete.checkQueryFilterExists("users");var search_type=zgssearch.getSearchType(),nsearch_type=zgssearch.addserviceFilters(search_type),query=zgssearch.gsautocomplete.getautosearchQuery(query);zgssearch.currcurpos=zgssearch.getCursorPos();var mlist=zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened,isCardPageOpened=zgssearch.gscardUtils.isCardPageOpened(),isDashboardOpened=zgssearch.gsdbUtils.isDashboardOpened();zgssearch.isValidSearchQuery(query,nsearch_type)?zgssearch.handleUserSearchQuery(query,nsearch_type):(search_type!=nsearch_type||isDashboardOpened||isCardPageOpened||mlist)&&(mlist=zgssearch.getWidgetServiceList(nsearch_type),zgssearch.updateMultiPageFlag(nsearch_type,mlist.key),zgssearch.updateSearchType(nsearch_type),zgssearch.updateCurrentPage(nsearch_type),zgssearch.handleEmptySearchQry(nsearch_type))},gsautocomplete.getRecentAutosearchQuery=function(tquery){var type,qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap;for(type in qfObj){var reg=gsautocomplete.modifiers[type].symbol;qfmObj.hasOwnProperty(type)&&(reg=(reg+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+reg+"\\s|\\s"+reg+"\\s|\\s"+reg+"$|^"+reg+"$)"),tquery=tquery.replace(reg,""))}return tquery},gsautocomplete.getautosearchQuery=function(tquery){var type,qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap;for(type in qfObj){var reg=gsautocomplete.modifiers[type].symbol;qfmObj.hasOwnProperty(type)&&(reg=(reg+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+reg+"\\s|\\s"+reg+"\\s|\\s"+reg+"$|^"+reg+"$)"),tquery=tquery.replace(reg,""))}return tquery.trim()},gsautocomplete.getQueryOrder=function(tquery){var reg,zuid,query1,query2,qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,queryObj={},queryArr=[],mentionedObj="";return qfObj.hasOwnProperty("services")&&(zuid=(gsautocomplete.modifiers.services.symbol+qfmObj.services).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+zuid+"\\s|\\s"+zuid+"\\s|\\s"+zuid+"$|^"+zuid+"$)","g"),tquery=tquery.replace(reg,"")),qfObj.hasOwnProperty("users")&&(zuid=(gsautocomplete.modifiers.users.symbol+qfmObj.users).replace(gsautocomplete.regex_replacer,"\\$&"),query1=(query2=new RegExp("(^"+zuid+"\\s|\\s"+zuid+"\\s|\\s"+zuid+"$|^"+zuid+"$)","g")).exec(tquery),(zuid=qfObj.users.ZUID)&&-1!=zuid?mentionedObj={men_user_zuid:qfObj.users.ZUID}:qfObj.users.EMAILID&&(mentionedObj={men_user_email:qfObj.users.EMAILID})),query1&&null!==query1?(query1=(query1=tquery.substring(0,query1.index))?query1.trim():"",query2=(query2=tquery.substring(query2.lastIndex,tquery.length))?query2.trim():"",query1&&queryArr.push(queryObj={query:query1}),mentionedObj&&queryArr.push(mentionedObj),query2&&queryArr.push(queryObj={query:query2})):(queryObj={query:tquery.trim()},queryArr.push(queryObj)),queryArr},gsautocomplete.checkQueryFilterExists=function(type,service){var dn,myReg,tdisp,curpos=zgssearch.getCursorEndPos(),qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,tObj=gsautocomplete.modifiers[type].symbol,tquery=zgssearch.getValue("zgs20_gsQueryBox");qfObj.hasOwnProperty(type)&&qfmObj.hasOwnProperty(type)&&(dn=(tObj+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"\\s|\\s"+dn+"\\s|\\s"+dn+"$|^"+dn+"$)","i"),-1<tquery.search(myReg)?!service||(tObj=gsautocomplete.get(type)).hasOwnProperty(service)&&(tdisp=tObj[service],tquery=tquery.replace(myReg,function(match){return gsautocomplete.setQryFilters(type,service),gsautocomplete.setQryFiltersMap(type,tdisp),match.replace(new RegExp(dn,"i"),"#"+tdisp)})):(delete qfObj[type],delete qfmObj[type])),_jQueryGS("#zgs20_gsQueryBox").val(tquery),_jQueryGS("#zgs20_gsQueryDiv").text(tquery),zgssearch.setCursorPos(curpos),gsautocomplete.parseQueryDiv()},gsautocomplete.parseQueryDiv=function(){gsautocomplete.storeIndexOfSugg();for(var qfsArr=gsautocomplete.getSortQryFilters(),docFragment=document.createDocumentFragment(),tquery=zgssearch.getValue("zgs20_gsQueryBox"),index=0,qfsLen=qfsArr.length,i=0;i<qfsLen;i++){var prefix=qfsArr[i],fkey=prefix[0],match=prefix[1],fecurpos=prefix[2],prefix=tquery.substr(index,match-index),match=tquery.substr(match,fecurpos-match),filterFragment=zgssearch.gssecurity.getHighlightTextNode(prefix,match,"",{class:"zgs19_gsmatchwordNew zgs19_gsuserselnone zgs19_gsBorderBox",gs:"gsmatchword",key:fkey});docFragment.appendChild(filterFragment),index=fecurpos}var tqlen=tquery.length;index<tqlen&&(tElem=tquery.substr(index,tqlen-index),filterFragment=zgssearch.gssecurity.getHighlightTextNode(tElem,"","",""),docFragment.appendChild(filterFragment));var tElem=zgssearch.getTargetElem("zgs20_gsQueryDiv");tElem.innerHTML="",tElem.appendChild(docFragment)},gsautocomplete.getSortQryFilters=function(){var sortFilters=[],qfObj=gsautocomplete.queryFiltersIndex;if(!_jQueryGS.isEmptyObject(qfObj)){for(var rn in qfObj){var rnObj=qfObj[rn];sortFilters.push([rn,rnObj.ascurpos,rnObj.aecurpos])}sortFilters.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortFilters},gsautocomplete.updateSearchBox=function(query,resType){var curpos=zgssearch.getCursorPos(),stext=query.substr(0,curpos);gsautocomplete.checkQueryFilterExists("users"),gsautocomplete.checkQueryFilterExists("services");var lastindex=-1;gsautocomplete.asMatchedObj=[];for(var aqryfilters=gsautocomplete.queryFilters,amodifier=gsautocomplete.querymodifiers,isMatched=!1,aml=amodifier.length,i=0;i<aml;i++){var mi0=amodifier[i],lind=""!=(mi1=gsautocomplete.modifiers[mi0].symbol)?stext.lastIndexOf(mi1):-1;if(zgssearch.isQueryValid(stext)&&-1<lind&&!aqryfilters.hasOwnProperty(mi0))if(canshow=0==lind||" "==stext[lind-1]){var squery=stext.substr(0,lind-1),pquery=stext.substr(lind,curpos),hmleng=(hmatches=gsautocomplete.findMatchedData(mi0,pquery)).length;if(0<hmleng){var isMatched=!0,fobj={key:mi0,value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:hmleng,max:gsautocomplete.modifiers[mi0].asMax,start:0};gsautocomplete.setLastSavedIndex(lind),gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj);break}}}var tempindex=gsautocomplete.getLastSavedIndex(),lindex=gsautocomplete.getLastIndexOfFilters(),tlindex=lindex<=tempindex&&tempindex<=curpos?tempindex:lindex,canshow=0==(lindex=curpos<=tlindex?lindex<=(tempindex=-1<(tempindex=stext.lastIndexOf(" "))?tempindex:0)&&tempindex<=curpos?tempindex:lindex:tlindex)||" "==stext[lindex];lindex=" "==stext[lindex]?lindex+1:lindex;var squrey2=stext.substr(lindex,curpos);if(!isMatched&&canshow){for(var shmatches=[],j=0;j<aml;j++){var hmatches,mi0=amodifier[j],mi1=gsautocomplete.modifiers[mi0].symbol,lind=squrey2.lastIndexOf(mi1);aqryfilters.hasOwnProperty(mi0)||0<(hmatches=gsautocomplete.findMatchedData(mi0,pquery=0==lind?squrey2:mi1+squrey2)).length&&shmatches.push([mi0,hmatches])}var shmlen=shmatches.length;if(0<shmlen){isMatched=!0;for(var lastindex=""==squrey2?stext.length:stext.lastIndexOf(squrey2),squery=stext.substr(0,lastindex),pquery=" "+squrey2,k=0;k<shmlen;k++){var tempMax=shmatches[k],mi0=tempMax[0],lhmatches=tempMax[1],tempMax=1==shmlen?gsautocomplete.modifiers[mi0].asMax:gsautocomplete.modifiers[mi0].asMin,fobj={key:mi0,value:" ",matches:lhmatches,pquery:pquery,squery:squery,length:lhmatches.length,max:tempMax,start:0};gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj)}lastindex=0==lindex||" "==stext[lastindex]?lastindex:lastindex-1,gsautocomplete.setLastSavedIndex(lastindex)}}isMatched||(zgssearch.removeQuerySugg(),gsautocomplete.modifiers.users,"serverResponse"!=resType&&"localResponse"!=resType||"serverResponse"==resType&&gsautocomplete.updateSearchBox(query))},gsautocomplete.getLastIndexOfFilters=function(){var type,ccurpos=zgssearch.getCursorPos(),qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,tquery=zgssearch.getValue("zgs20_gsQueryBox"),lind=0;for(type in qfObj){var tempdn,tlind=gsautocomplete.modifiers[type].symbol;qfmObj.hasOwnProperty(type)&&(tempdn=tlind+qfmObj[type],-1<(tlind=tquery.indexOf(tempdn))&&lind<=(tlind+=tempdn.length+1)&&tlind<=ccurpos&&(lind=tlind))}return lind},gsautocomplete.setLastSavedIndex=function(index){gsautocomplete.lastSavedIndex=index},gsautocomplete.getLastSavedIndex=function(text,symbol){var lsindex=gsautocomplete.lastSavedIndex;return lsindex=symbol&&-1==lsindex?text.lastIndexOf(symbol):lsindex},gsautocomplete.setFiltersIndex=function(type,indexObj){gsautocomplete.queryFiltersIndex[type]=indexObj},gsautocomplete.getFiltersIndex=function(){return gsautocomplete.queryFiltersIndex},gsautocomplete.storeIndexOfSugg=function(){var qfObj=gsautocomplete.queryFilters,qfmObj=gsautocomplete.queryFiltersMap,tquery=zgssearch.getValue("zgs20_gsQueryBox");for(type in qfObj){var tscurpos,tyobj={},reg=gsautocomplete.modifiers[type].symbol;qfmObj.hasOwnProperty(type)&&(reg=(reg+qfmObj[type]).replace(gsautocomplete.regex_replacer,"\\$&"),reg=new RegExp("(^"+reg+"\\s|\\s"+reg+"\\s|\\s"+reg+"$|^"+reg+"$)"),-1<(tscurpos=tquery.search(reg))&&tquery.replace(reg,function(macth){tyobj.ascurpos=tscurpos,tyobj.aecurpos=tscurpos+macth.length,gsautocomplete.setFiltersIndex(type,tyobj)}))}var type,filterObj=gsautocomplete.getFiltersIndex();for(type in filterObj)qfObj.hasOwnProperty(type)||delete filterObj[type]},gsautocomplete.removeFullSugg=function(event){var type,sival=-1,eival=-1,scurpos=zgssearch.getCursorPos(),ecurpos=zgssearch.getCursorEndPos(),filterObj=gsautocomplete.getFiltersIndex(),keycode=event.keyCode||event.which;for(type in filterObj){var isDelete=filterObj[type],tsival=isDelete.ascurpos,teival=isDelete.aecurpos;-1<tsival&&-1<teival&&(isDelete=!1,scurpos==ecurpos?keycode==zgssearch.specialkeys.BACKSPACE?isDelete=tsival<scurpos&&scurpos<=teival:keycode==zgssearch.specialkeys.DELETE&&(isDelete=tsival<=scurpos&&scurpos<teival):(tsival<scurpos&&scurpos<teival||tsival<ecurpos&&ecurpos<teival)&&(isDelete=!0),isDelete&&(tsival=scurpos<tsival?scurpos:tsival,teival=teival<ecurpos?ecurpos:teival,sival=-1<sival&&sival<tsival?sival:tsival,eival=-1<eival&&teival<eival?eival:teival,delete filterObj[type],"services"==type&&(zgssearch.hasServiceRemoved=!0)))}-1<sival&&-1<eival&&zgssearch.getTargetElem("zgs20_gsQueryBox").setSelectionRange(sival,eival)},gsautocomplete.setMentionAndQryinSearchBox=function(name,userObj,query,lhindex,curpos){var qtext=zgssearch.gsautocomplete.modifiers.users.symbol+name;0<=lhindex&&(" "==query[lhindex]&&lhindex<curpos&&(lhindex+=1),qtext=" "!=query[lhindex]?" "+qtext:qtext,0!=lhindex&&(qtext=" "!=query[lhindex-1]?" "+qtext:qtext),qtext=" "!=query[curpos]?qtext+" ":qtext,qtext=" "!=query[curpos+1]?qtext+" ":qtext);var lpos=-1<lhindex?lhindex+qtext.length:qtext.length,finalQuery=query.substr(0,lhindex)+qtext+query.substr(curpos,query.length);return zgssearch.setCursorPos(lpos),zgssearch.gsautocomplete.setQryFilters("users",userObj),zgssearch.gsautocomplete.setQryFiltersMap("users",name),finalQuery},gsautocomplete.storeRecentSearch=function(){var existingQryIndex,query=zgssearch.getValue("zgs20_gsQueryBox"),query=zgssearch.gsautocomplete.getRecentAutosearchQuery(query).trim();zgssearch.isQueryValid(query)&&(-1<gsautocomplete.recentSearchesHolder.indexOf(query)&&(existingQryIndex=gsautocomplete.recentSearchesHolder.indexOf(query),gsautocomplete.recentSearchesHolder.splice(existingQryIndex,1)),gsautocomplete.recentSearchesHolder.unshift(query),zgssearch.gsautocomplete.add("recentsearch",gsautocomplete.recentSearchesHolder))},gsautocomplete.sendAutoSuggClickPosition=function(clickpos,query){var params="zia";1===zgssearch.gscomponent.UIType?params+="Bigger":0===zgssearch.gscomponent.UIType&&(params+="Smaller");params="api_consumer="+zgssearch.autoSuggestApiConsumer+"&rpos="+clickpos+"&q="+query+"&search_sub_type="+params;zgssearch.uri(zgssearch.POST,zgssearch.gsautocomplete.autoSuggClickPosUrl,params,{},function(){})},gsautocomplete)}(zgssearch,window),function(zgssearch,window){var gsusercontacts,_jQueryGS=window._jQueryGS;zgssearch.getGSConstantObj();zgssearch.gsusercontacts=(gsusercontacts=void 0,(gsusercontacts=zgssearch.gsusercontacts||{}).fetContactsCount=gsusercontacts.fetContactsCount||50,gsusercontacts.clientSearchLimit=gsusercontacts.clientSearchLimit||10,gsusercontacts.isEmailOnlyResult=gsusercontacts.isEmailOnlyResult||!1,gsusercontacts.defContactsCount=500,gsusercontacts.serverCallCount=0,gsusercontacts.queueserver={},gsusercontacts.myContacts=gsusercontacts.myContacts||{},gsusercontacts.orgContacts=gsusercontacts.orgContacts||{},gsusercontacts.myContactsCache=gsusercontacts.myContactsCache||{result:[],noresult:[]},gsusercontacts.orgContactsCache=gsusercontacts.orgContactsCache||{result:[],noresult:[]},gsusercontacts.autoSuggCache=gsusercontacts.autoSuggCache||{result:[],noresult:[]},gsusercontacts.alreadyShownRes=gsusercontacts.alreadyShownRes||[],gsusercontacts.proximityContactsObject=gsusercontacts.proximityContactsObject||{},gsusercontacts.proximityContacts=[],gsusercontacts.proximityContactsMoreRes=gsusercontacts.proximityContactsMoreRes||!1,gsusercontacts.searchResultshasMore=gsusercontacts.searchResultshasMore||{},gsusercontacts.queriedProxContactsObj=gsusercontacts.queriedProxContactsObj||{},gsusercontacts.contactSearchQry=gsusercontacts.contactSearchQry||"",gsusercontacts.autoSuggSearchVsResponse=gsusercontacts.autoSuggSearchVsResponse||{},gsusercontacts.CurrCacheQryContactObj=gsusercontacts.CurrCacheQryContactObj||{},gsusercontacts.getMyContactsList=function(){return gsusercontacts.myContacts||{}},gsusercontacts.getServerCallCount=function(){return gsusercontacts.serverCallCount},gsusercontacts.getProximityContactsObject=function(){return gsusercontacts.proximityContactsObject||{}},gsusercontacts.setProximityContactsObject=function(zuid,userObj){gsusercontacts.proximityContactsObject.hasOwnProperty(zuid)||(gsusercontacts.proximityContactsObject[zuid]=userObj)},gsusercontacts.getQueriedProxContactsObject=function(){return gsusercontacts.queriedProxContactsObj||{}},gsusercontacts.setServerCallCount=function(){var ccount=(ccount=gsusercontacts.getServerCallCount())<500?ccount+1:1;gsusercontacts.serverCallCount=ccount},gsusercontacts.checkProxConTresholdLimit=function(){var proxContactsObj=gsusercontacts.getProximityContactsObject();_jQueryGS.isEmptyObject(proxContactsObj)||864e5<(new Date).getTime()-gsusercontacts.proxContacts_expiry_time&&(gsusercontacts.clearProxContactsData(),zgssearch.fetchTopContacts())},gsusercontacts.clearProxContactsData=function(){gsusercontacts.proximityContactsObject={},gsusercontacts.proximityContactsMoreRes=!1,zgssearch.isBulkProximityContactsFetched=!1},gsusercontacts.getCurrCacheQryContact=function(){return gsusercontacts.CurrCacheQryContactObj||{}},gsusercontacts.getUserContacts=function(){var wmsContacts=zgssearch.getWMSUserContacts();return wmsContacts=zgssearch.isWMSChatPaused()&&_jQueryGS.isEmptyObject(wmsContacts)?gsusercontacts.getMyContactsList():wmsContacts},gsusercontacts.isSearchReqCached=function(query){query=query.toLowerCase();var autoSuggCacheResults=gsusercontacts.autoSuggCache.result||[],autoSuggCacheNoResults=gsusercontacts.autoSuggCache.noresult||[],limitParams="start=0&limit="+gsusercontacts.fetContactsCount;return!!gsusercontacts.isReqCached(query,autoSuggCacheResults,autoSuggCacheNoResults,limitParams)},gsusercontacts.isReqCached=function(query,cacheResults,cacheNoResults,extraParams,limitParams){for(var params=limitParams+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),i=0;i<cacheResults.length;i++)if(-1!==cacheResults[i].indexOf(params))return!0;return gsusercontacts.isEmptyReqCached(query,cacheNoResults,extraParams,limitParams)},gsusercontacts.isEmptyReqCached=function(query,cacheNoResults,extraParams,limitParams){for(var params=limitParams+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),j=0;j<cacheNoResults.length;j++){var str2=cacheNoResults[j];if(-1!==params.indexOf(str2))return!0}return!1},gsusercontacts.fetchFromServer=function(query,finalArray,isSearchRequired,isBackSpaceSearchRequired){var iscallStopped=gsusercontacts.queueserver,autoSuggCacheResults=iscallStopped.flag||!1,limitParams=iscallStopped.expiry_time||0,autoSuggCacheNoResults=(new Date).getTime(),iscallStopped=!0;(!autoSuggCacheResults||15e3<autoSuggCacheNoResults-limitParams)&&zgssearch.gsusercontacts.proximityContactsMoreRes&&(autoSuggCacheResults=gsusercontacts.autoSuggCache.result||[],autoSuggCacheNoResults=gsusercontacts.autoSuggCache.noresult||[],limitParams="start=0&limit="+gsusercontacts.fetContactsCount,gsusercontacts.isReqCached(query,autoSuggCacheResults,autoSuggCacheNoResults,"",limitParams)&&!isSearchRequired||!isBackSpaceSearchRequired||(iscallStopped=!1,zgssearch.gsusercontacts.alreadyShownRes=[],gsusercontacts.fetchQueriedContacts(query,gsusercontacts.fetContactsCount))),iscallStopped&&zgssearch.gsautocomplete.showLoadingIcon&&zgssearch.removeQuerySugg()},gsusercontacts.fetchQueriedContacts=function(query,limit){var queryparams=query?encodeURIComponent(query):"",argparams="start=0&limit="+limit+"&query="+queryparams,queryparams={start:0,limit:limit,query:queryparams,addEmailOnlyContacts:zgssearch.gsusercontacts.isEmailOnlyResult};gsusercontacts.setServerCallCount();argparams={service:"zia",type:"getContacts",query:query,curCount:gsusercontacts.getServerCallCount(),queryUrl:argparams};gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},gsusercontacts.autoSuggCache={result:[],noresult:[]},zgssearch.ProximityContacts.getQueriedContacts(zgssearch.autoSuggestApiConsumer,queryparams,argparams)},gsusercontacts.storeExtraValuesForContacts=function(response,query,queryparams,argObj){var cacheObj,lowQuery=argObj.type;"topcontacts"===lowQuery?(gsusercontacts.proxContacts_expiry_time=(new Date).getTime(),gsusercontacts.proximityContactsMoreRes=response.has_more,gsusercontacts.proximityContactsObject=query):"getContacts"===lowQuery&&(zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},cacheObj=argObj.query,gsusercontacts.queriedProxContactsObj={},gsusercontacts.queriedProxContactsObj=query,(gsusercontacts.contactSearchQry=cacheObj)&&(lowQuery=cacheObj.toLowerCase().trim(),zgssearch.gsusercontacts.searchResultshasMore={},zgssearch.gsusercontacts.searchResultshasMore[lowQuery]=response.has_more,(cacheObj={}).contacts=query,cacheObj.hasmore=response.has_more,cacheObj.count=response.count,zgssearch.gsusercontacts.autoSuggSearchVsResponse[lowQuery]=cacheObj,(1==response.has_more?gsusercontacts.autoSuggCache.result:gsusercontacts.autoSuggCache.noresult).push(queryparams),argObj.curCount==gsusercontacts.getServerCallCount()&&"calendarAttendees"!==zgssearch.ContactsSearchType&&"createCardContacts"!==zgssearch.ContactsSearchType&&(_jQueryGS.isEmptyObject(query)||(zgssearch.removeQuerySugg(),query=zgssearch.getValue("zgs20_gsQueryBox"),zgssearch.gsautocomplete.updateSearchBox(query,"serverResponse")))))},gsusercontacts),zgssearch.fetchTopContacts=function(){var queryParams;zgssearch.isBulkProximityContactsFetched||(zgssearch.isBulkProximityContactsFetched=!0,queryParams={addEmailOnlyContacts:zgssearch.gsusercontacts.isEmailOnlyResult},zgssearch.ProximityContacts.getTopContacts(zgssearch.autoSuggestApiConsumer,queryParams,{service:"zia",type:"topcontacts"}))}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.getDoubleClickEvent=function(popupPos,srrPos){_jQueryGS("#zgs20_gsPopupSearch").remove();var diffRightPos,scrollleft,scrolltop,diffLeftPos,leftPos,afterPos,checkLeftPos,pos=popupPos.toString();null!==(pos=pos.trim())&&""!==pos&&" "!==pos?(100<pos.length&&(pos=pos.substring(0,100)),zgssearch.isOpenDoubleClickPopup=!0,_jQueryGS(srrPos).append(_jQueryGS("<div>",{id:"zgs20_gsPopupSearch",class:"zgs19_gsPopupSearch"}).append(_jQueryGS("<div>",{class:"zgs20_gsPopArrow zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsInnerPopUp",gs:"doubleclickpop",query:pos}).append(_jQueryGS("<span>",{class:"zgs19_gsSearchWord"}).text(zgssearch.getI18NMsg("gs.search.service_search_for")+" ")).append(_jQueryGS("<span>",{class:"zgs19_gsPopupText"}).text('"'+pos+'"')))),scrollleft=srrPos.scrollLeft,scrolltop=srrPos.scrollTop,pos=popupPos.getRangeAt(diffRightPos=afterPos=leftPos=diffLeftPos=0).getBoundingClientRect(),popupPos=_jQueryGS(srrPos).get(0).getBoundingClientRect(),_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),srrPos=1===gscomponent.UIType?_jQueryGS("#zgs20_gsSearchResultRight").width()-40:_jQueryGS("#zgs20_gsSearchResultRight").width()-55,_jQueryGS(".zgs19_gsPopupSearch").css({"max-width":srrPos}),_jQueryGS(".zgs19_gsInnerPopUp").css({"max-width":srrPos}),srrPos=_jQueryGS("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),diffLeftPos=pos.left-srrPos.left,srrPos.bottom-pos.bottom<50?(checkLeftPos=scrolltop+pos.top-popupPos.top-43,scrolltop<=0&&checkLeftPos<0?checkLeftPos=0:pos.top-popupPos.top<50&&(checkLeftPos=scrolltop),_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),_jQueryGS(".zgs20_gsPopArrow").addClass("zgs19_gsPopDownArrow")):(checkLeftPos=scrolltop+pos.top-popupPos.top+pos.height+10,_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),_jQueryGS(".zgs20_gsPopArrow").addClass("zgs19_gsPopUpArrow")),popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),_jQueryGS(".zgs20_gsPopArrow").css({left:afterPos}),afterPos=scrollleft+diffLeftPos-(leftPos=diffLeftPos+pos.width/2>srrPos.width?srrPos.width/2+diffLeftPos:scrollleft+diffLeftPos+pos.width/2-popupPos.width/2)+pos.width/2-8,(checkLeftPos=leftPos-scrollleft)<0&&(leftPos=leftPos+Math.abs(checkLeftPos)+5,_jQueryGS(".zgs19_gsPopupSearch").css({left:leftPos}),popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),afterPos=pos.left-srrPos.left+pos.width/2-12),(diffRightPos=scrollleft+srrPos.width-(leftPos+popupPos.width))<0&&(afterPos=scrollleft+diffLeftPos-(leftPos=leftPos+diffRightPos-5)+pos.width/2-8),(popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect()).right-popupPos.left-15<=(afterPos=(afterPos=afterPos<0?Math.abs(afterPos):afterPos)<4?4:afterPos)&&(afterPos=popupPos.width/2),_jQueryGS(".zgs19_gsPopupSearch").css({left:leftPos}),_jQueryGS(".zgs20_gsPopArrow").css({left:afterPos})):zgssearch.isOpenDoubleClickPopup=!1},zgssearch.widgetPopUpSearch=function(finalQuery){zgssearch.network.removeEventSource(),zgssearch.clearSearchQueryBox(),zgssearch.handleSearchCloseIcon(),zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users"),zgssearch.updateSearchType(GSConstant.ALL),zgssearch.updateCurrentPage(GSConstant.ALL);var lhindex=zgssearch.gsautocomplete.get("services"),name=" #"+lhindex[GSConstant.ALL]+"  ";_jQueryGS("#zgs20_gsQueryBox").val(name),_jQueryGS("#zgs20_gsQueryDiv").text(name),zgssearch.gsautocomplete.setQryFilters("services",GSConstant.ALL),zgssearch.gsautocomplete.setQryFiltersMap("services",lhindex[GSConstant.ALL]),zgssearch.gsautocomplete.parseQueryDiv();var userObj=zgssearch.gsautocomplete.getLastIndexOfFilters(),query=zgssearch.getValue("zgs20_gsQueryBox"),curpos=zgssearch.getCursorPos(),userObj=" "==query.substr(0,curpos)[userObj]?userObj+1:userObj;zgssearch.gsautocomplete.setLastSavedIndex(userObj);name=_jQueryGS(finalQuery).attr("query"),lhindex=_jQueryGS(finalQuery).attr("value"),userObj={ZUID:lhindex,EMAILID:_jQueryGS(finalQuery).attr("eId")},finalQuery="";finalQuery=-1!==lhindex&&"-1"!==lhindex&&void 0!==lhindex?(lhindex=zgssearch.gsautocomplete.getLastIndexOfFilters(),zgssearch.gsautocomplete.setMentionAndQryinSearchBox(name,userObj,query,lhindex,curpos)):query+name,_jQueryGS("#zgs20_gsQueryBox").val(finalQuery),_jQueryGS("#zgs20_gsQueryDiv").text(finalQuery),zgssearch.gsautocomplete.parseQueryDiv(),zgssearch.handleDefaultSearch()}}(zgssearch,window),zgssearch.CrmUtils=zgssearch.CrmUtils||{},zgssearch.CrmUtils.field1_data=["Name","Full_Name","Full Name","Subject","Title"],zgssearch.CrmUtils.field2_data=["Company","Account.Name"],zgssearch.CrmUtils.field3_data=["Email","Stage","Status","Owner.Alias"],zgssearch.CrmUtils.field4_data=["Mobile","Phone","MobilePhone"],zgssearch.CrmUtils.names_fields=["Full Name","Full_Name","First Name","First_Name","Last Name","Last_Name"],zgssearch.CrmUtils.MAX_FIELD_COUNT=4,zgssearch.CrmUtils.ROW_1="row1_fields_data",zgssearch.CrmUtils.ROW_2="row2_fields_data",zgssearch.CrmUtils.ICON_EXISTS_MODULES=["leads","contacts","accounts","campaigns","invoices","salesorders","events","tasks","notes"],zgssearch.CrmUtils.imp_fields=zgssearch.CrmUtils.imp_fields||{},zgssearch.CrmUtils.getModuleImpFields=function(service_name,module_name){return zgssearch.CrmUtils.imp_fields[service_name][module_name]||{}},zgssearch.CrmUtils.setModuleImpFields=function(service_name,module_name,fields_info){void 0===zgssearch.CrmUtils.imp_fields[service_name]&&(zgssearch.CrmUtils.imp_fields[service_name]={}),zgssearch.CrmUtils.imp_fields[service_name][module_name]=fields_info},zgssearch.CrmUtils.parseDisplayFields=function(records_meta_info){var module,display_fields_data,service_name=records_meta_info.service_name,service_addtional_info=records_meta_info.service_addtional_info;for(module in service_addtional_info)service_addtional_info.hasOwnProperty(module)&&"cursor"!==module&&(display_fields_data=service_addtional_info[module],zgssearch.CrmUtils.setAPINameVsLabel(service_name,module,display_fields_data),zgssearch.CrmUtils.setDisplayFields(service_name,module))},zgssearch.CrmUtils.setAPINameVsLabel=function(service_name,module,display_fields_data){for(var nameVsDispName={},dispNameVsName={},search_display_fields_list=[],fields_length=display_fields_data.length,field=0;field<fields_length;field++){var disp_label=display_fields_data[field],api_name=disp_label.api_name,disp_label=disp_label.disp_label;dispNameVsName[nameVsDispName[api_name]=disp_label]=api_name,search_display_fields_list.push(disp_label)}var module_imp_fields_info={};module_imp_fields_info.nameVsDispName=nameVsDispName,module_imp_fields_info.dispNameVsName=dispNameVsName,module_imp_fields_info.search_display_fields=display_fields_data,module_imp_fields_info.search_display_fields_list=search_display_fields_list,zgssearch.CrmUtils.setModuleImpFields(service_name,module,module_imp_fields_info)},zgssearch.CrmUtils.setDisplayFields=function(nameVsDispName,module){var display_fields_order=[],display_fields_data=[],module_fields=zgssearch.CrmUtils.getModuleImpFields(nameVsDispName,module),nameVsDispName=module_fields.nameVsDispName||{};zgssearch.CrmUtils.headerField1(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.headerField2(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.footerField1(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.footerField2(module,nameVsDispName,display_fields_order,display_fields_data),module_fields.display_fields_order=display_fields_order,module_fields.display_fields_data=display_fields_data},zgssearch.CrmUtils.processAndPushFields=function(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,row_key){for(var field_label="",field_title="",api_name="",temp_field_array_length=temp_field_array.length,index=0;index<temp_field_array_length;index++){var field_key=temp_field_array[index];if(nameVsDispName[field_key]){field_title=field_label=nameVsDispName[api_name=field_key];break}}""!==api_name&&zgssearch.CrmUtils.putFieldValues(display_fields_order,display_fields_data,field_label,field_title,api_name,null,row_key)},zgssearch.CrmUtils.putFieldValues=function(display_fields_order,display_fields_data,field_label,field_title,api_name,field_value,row_key){var field_info={};field_info.field_label=field_label,field_info.field_title=field_title,field_info.api_name=api_name,field_info.row_key=row_key,null!=field_value&&(field_info.field_value=field_value),display_fields_order.push(field_label),display_fields_data.push(field_info)},zgssearch.CrmUtils.nameORTitleORSubjectField=function(module,temp_field_array){temp_field_array.push(module+"_Name"),temp_field_array.push(module+" Name"),temp_field_array.push(module+"_Title"),temp_field_array.push(module+" Title"),temp_field_array.push(module+".Title"),temp_field_array.push(module+".Name")},zgssearch.CrmUtils.headerField1=function(module,nameVsDispName,display_fields_order,display_fields_data){for(var field_data=zgssearch.CrmUtils.field1_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);zgssearch.CrmUtils.nameORTitleORSubjectField(module,temp_field_array),zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.headerField2=function(module,nameVsDispName,display_fields_order,display_fields_data){for(var field_data=zgssearch.CrmUtils.field2_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);temp_field_array.push(module+".Name"),zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.footerField1=function(module,nameVsDispName,display_fields_order,display_fields_data){var field_data=zgssearch.CrmUtils.field3_data;zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,field_data,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.footerField2=function(module,nameVsDispName,display_fields_order,display_fields_data){var field_data=zgssearch.CrmUtils.field4_data;zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,field_data,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.parseResultViewFields=function(module_imp_fields,nsfi,record,temp_record_info){for(var module_imp_fields=zgssearch.CrmUtils.getModuleImpFields(module_imp_fields,nsfi),display_fields_data=module_imp_fields.display_fields_data,dispNameVsName=(module_imp_fields.display_fields_order,module_imp_fields.dispNameVsName||{}),display_fields_set=[],added_fields_length=0,row1_fields_data=[],row2_fields_data=[],fields_order_data_length=display_fields_data.length,index=0;index<fields_order_data_length;index++){var field_value=record[field_label=(field_info=Object.assign({},display_fields_data[index])).field_label];if(added_fields_length>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;null!=field_value&&""!==field_value&&(field_info.field_value=field_value,((field_info.row_key||zgssearch.CrmUtils.ROW_2)===zgssearch.CrmUtils.ROW_1?row1_fields_data:row2_fields_data).push(field_info),display_fields_set.push(field_label),added_fields_length++)}var row1_fields_data_length=row1_fields_data.length,row2_fields_data_length=row2_fields_data.length,time_and_date_fields_data=[],time_and_date_fields_data_length=0;if(added_fields_length<zgssearch.CrmUtils.MAX_FIELD_COUNT)for(var field_label in dispNameVsName){var is_date_time_field=!1;if(dispNameVsName.hasOwnProperty(field_label)){if(added_fields_length>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;field_value=record[field_label];if(display_fields_set.indexOf(field_label)<=-1&&null!=field_value&&""!==field_value){var api_name=dispNameVsName[field_label];if(0===row1_fields_data_length&&field_label.indexOf("Date")<=-1&&field_label.indexOf("Time")<=-1)row1_fields_data_length++,zgssearch.CrmUtils.putFieldValues(display_fields_set,row1_fields_data,field_label,field_label,api_name,field_value);else{if(!(row2_fields_data_length<2))break;-1<field_label.indexOf("Date")||-1<field_label.indexOf("Time")?(is_date_time_field=!0,time_and_date_fields_data_length++,zgssearch.CrmUtils.putFieldValues([],time_and_date_fields_data,field_label,field_label,api_name,field_value)):(row2_fields_data_length++,zgssearch.CrmUtils.putFieldValues(display_fields_set,row2_fields_data,field_label,field_label,api_name,field_value))}is_date_time_field||added_fields_length++}}}if(row2_fields_data_length<2)for(index=0;index<time_and_date_fields_data_length&&!(2<=row2_fields_data_length);index++){var field_info=time_and_date_fields_data[index];row2_fields_data.push(field_info),display_fields_set.push(field_info.field_label),row2_fields_data_length++}nsfi={is_name_field:!1},row1_fields_data=zgssearch.CrmUtils.skipDuplicateNameFields(row1_fields_data,nsfi),row2_fields_data=zgssearch.CrmUtils.skipDuplicateNameFields(row2_fields_data,nsfi);module_imp_fields.display_fields_order=display_fields_set,temp_record_info[zgssearch.CrmUtils.ROW_1]=row1_fields_data,temp_record_info[zgssearch.CrmUtils.ROW_2]=row2_fields_data},zgssearch.CrmUtils.skipDuplicateNameFields=function(fields_data,nsfi){for(var temp_fields_data=[],field=0;field<fields_data.length;field++){var field_obj=fields_data[field],nfi=field_obj.api_name||"",nfi=zgssearch.CrmUtils.names_fields.indexOf(nfi);(nfi<=-1||-1<nfi&&!nsfi.is_name_field)&&(-1<nfi&&(nsfi.is_name_field=!0),temp_fields_data.push(field_obj))}return temp_fields_data},zgssearch.CrmUtils.parseTitleField=function(module_name,record_fields,final_record_info){for(var field_data=zgssearch.CrmUtils.field1_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);var key_val_pair=zgssearch.CrmUtils.convertToKeyValuePair(record_fields);zgssearch.CrmUtils.nameORTitleORSubjectField(module_name,temp_field_array);for(var temp_field_array_length=temp_field_array.length,index=0;index<temp_field_array_length;index++){var field_key=temp_field_array[index],title_info=void 0!==key_val_pair[field_key]?key_val_pair[field_key]:"";if(""!==title_info&&null!==title_info){title_info={};title_info.title=field_key,title_info.value=key_val_pair[field_key],final_record_info.title_info=title_info;break}}},zgssearch.CrmUtils.checkTitleFieldEmpty=function(final_record_info){if(void 0===final_record_info.title_info){for(var header_fields_data=final_record_info.callout_header_fields,header_fields_data_length=header_fields_data.length,field_label="",field_value="",index=0;index<header_fields_data_length;index++){var field_obj=header_fields_data[index],field_value=field_obj.field_value,field_label=field_obj.field_label;if(""!==field_value&&"-"!==field_value&&field_label.indexOf("Date")<=-1&&field_label.indexOf("Time")<=-1)break}var title_info={};title_info.title=field_obj.field_label,title_info.value=field_value,final_record_info.title_info=title_info}},zgssearch.CrmUtils.convertToKeyValuePair=function(record_fields){for(var rfl=record_fields.length,key_val_pair={},field=0;field<rfl;field++){var field_val=record_fields[field],api_name=field_val.api_name,field_val=(field_val.disp_label,field_val.field_val);key_val_pair[api_name]=field_val}return key_val_pair},zgssearch.CrmUtils.parseFieldsForCalloutHeader=function(service_name,module_imp_fields,record_fields,final_record_info){var current_response=zgssearch.getCurrentResObj(),module_imp_fields=zgssearch.CrmUtils.getModuleImpFields(service_name,module_imp_fields);if(module_imp_fields.search_display_fields)for(var header_fields_data=[],key_val_pair=zgssearch.CrmUtils.convertToKeyValuePair(record_fields),search_display_fields=module_imp_fields.search_display_fields,search_display_fields_length=search_display_fields.length,field=0;field<search_display_fields_length;field++){var field_val=search_display_fields[field],temp_field_info=field_val.api_name,disp_label=field_val.disp_label,field_val=key_val_pair[temp_field_info];field_val=null!==(field_val=""===(field_val="undefined"!==field_val&&null!==field_val?field_val:"-")||"-"===field_val?void 0!==current_response[disp_label]?current_response[disp_label]:"-":field_val)&&""!==field_val&&void 0!==field_val?field_val:"-";temp_field_info={};temp_field_info.field_label=disp_label,temp_field_info.field_value=field_val,header_fields_data.push(temp_field_info)}final_record_info.callout_header_fields=header_fields_data},zgssearch.CrmUtils.parseFieldsForCalloutFooter=function(service_name,module_name,record_fields,final_record_info){for(var nameVsDispName=zgssearch.CrmUtils.getModuleImpFields(service_name,module_name).nameVsDispName,footer_fields_data=[],date_fields_data=[],user_fields_data=[],rfl=record_fields.length,field=0;field<rfl;field++){var field_info=record_fields[field],api_name=field_info.api_name||"",disp_label=field_info.disp_label,field_val=field_info.field_val;nameVsDispName&&void 0===nameVsDispName[api_name]&&""!==(field_val=void 0!==field_val?field_val:"")&&((field_info={}).field_label=disp_label,field_info.field_value=field_val,(-1<api_name.indexOf("Date")||-1<api_name.indexOf("Time")?date_fields_data:-1<api_name.indexOf("By")?user_fields_data:footer_fields_data).push(field_info))}if(0<user_fields_data.length)for(field=0;field<user_fields_data.length;field++)footer_fields_data.push(user_fields_data[field]);if(0<date_fields_data.length)for(field=0;field<date_fields_data.length;field++)footer_fields_data.push(date_fields_data[field]);final_record_info.callout_footer_fields=footer_fields_data},zgssearch.CrmUtils.getActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},zgssearch.CrmUtils.addActionsList=function(final_record_info){var actions_list=zgssearch.CrmUtils.getActionsList();0<actions_list.length&&(final_record_info.actions_list=actions_list,final_record_info.is_actions_allowed=!0)},zgssearch.CrmUtils.getRecordId=function(record){return record.id||""},zgssearch.CrmUtils.getRecordLink=function(record){return record["Open Url"]||""},zgssearch.CrmUtils.getModuleName=function(record){return record["Module Type"]||record.mod||""},zgssearch.CrmUtils.getCrmModuleQueryName=function(module){var modvsQueryObj=zgssearch.getFilterInfo(zgssearch.GSConstant.CRM,"modules","current");return modvsQueryObj.hasOwnProperty(module)?modvsQueryObj[module]:module},zgssearch.CrmUtils.constructModHeader=function(mod_info,cardObj){var linkClass="",moduleGS="";cardObj||(linkClass="zgs19_gsLinkElem",moduleGS="service_multi_mod");mod_info.mod_key;return _jQueryGS("<div>",{id:mod_info.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:mod_info.service_name,mod_name:mod_info.mod_name}).text("Module : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget "+linkClass+" zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:mod_info.service_name,mod_name:mod_info.mod_name,acc_id:mod_info.acc_id,gs:moduleGS,value:mod_info.mod_name,gstitle:mod_info.mod_disp_name}).text(mod_info.mod_disp_name))},zgssearch.crm_parser=zgssearch.crm_parser||{},zgssearch.crm_parser.parseModuleImpFields=function(results_obj){var module,all_search=results_obj.modules_metadata,module_fields_info={};for(module in all_search){var api_name,search_display_columns=all_search[module].search_display_columns,fields_data=[];for(api_name in search_display_columns){var obj={};obj.api_name=api_name,obj.disp_label=search_display_columns[api_name],fields_data.push(obj)}module_fields_info[module]=fields_data}zgssearch.setServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM,module_fields_info)},zgssearch.crm_parser.parseResultsView=function(results_obj){var final_response={};return final_response.no_of_results=results_obj.no_of_results,final_response.service_name=zgssearch.GSConstant.CRM,final_response.CONNECTOR_ID=results_obj.account_id,final_response.total_no_of_results=results_obj.total_no_of_results,final_response.fields=zgssearch.getServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM),final_response},zgssearch.popupUtils=zgssearch.popupUtils||{},zgssearch.popupUtils.isSelectionPopupOpened=!1,zgssearch.popupUtils.isPopupOpened=zgssearch.popupUtils.isPopupOpened||!1,zgssearch.popupUtils.popupSaveAction=zgssearch.popupUtils.popupSaveAction||"",zgssearch.popupUtils.popupCancelAction=zgssearch.popupUtils.popupCancelAction||"",zgssearch.popupUtils.openEditNamepopup=function(popupTitle,popupDesc,placeholder,inputText,isDescriptionReq,overlayDialog,gsattr,popupDescElem,cancelAction){var descriptionElem,saveElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr",gs:gsattr,cnfrmType:popupDescElem}).text(zgssearch.getI18NMsg("gs.settings.application.save")),cancelElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr",gs:gsattr,cnfrmType:cancelAction}).text(zgssearch.getI18NMsg("common.cancel")),popupDescElem="";""!==popupDesc&&(popupDescElem=_jQueryGS("<div>",{class:"zgs19_gsSC_popUpDiscTxt"}).text(popupDesc)),isDescriptionReq&&(descriptionElem=_jQueryGS("<div>",{class:"zgs19_gsDescElem"}).append(_jQueryGS("<textarea>",{id:"zgs20_gsCrdDescInput",class:"zgs19_gsCrdDescInput",maxlength:255,placeholder:zgssearch.getI18NMsg("common.description")}).text(overlayDialog)));overlayDialog=1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_globalsearch");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"gsssoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopup",class:"zgs19_gsSavedSearchPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUtt zgs19_gsOverflow"}).text(popupTitle)).append(popupDescElem).append(_jQueryGS("<div>",{id:"zgs20_gsNamingSS",class:"zgs19_gsNamingSS"}).append(_jQueryGS("<input>",{id:"zgs20_gsSTS",class:"zgs19_gsSSNameInput",type:"text",value:inputText,placeholder:placeholder}))).append(descriptionElem).append(_jQueryGS("<div>",{class:"zgs19_gsDialogActions"}).append(saveElem).append(cancelElem)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:cancelAction}))))),overlayDialog.css({display:"block","z-index":"2147483647"}),_jQueryGS("#zgs20_gsSTS").select(),_jQueryGS("#zgs20_gsSTS").focus(),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=saveElem,zgssearch.popupUtils.popupCancelAction=cancelElem},zgssearch.popupUtils.openDeletepopup=function(popupTitle,gsattr,overlayDialog,closeAction){var yesElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelCancel",gs:gsattr,cnfrmType:overlayDialog}).text(zgssearch.getI18NMsg("gs.common.yes")),noElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelsave",gs:gsattr,cnfrmType:closeAction}).text(zgssearch.getI18NMsg("common.no")),overlayDialog=1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_globalsearch");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"gsssoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopUp",class:"zgs19_gsSavedSearchPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsDeleteAccConfirm"}).text(popupTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsDelActions"}).append(yesElem).append(noElem)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:closeAction}))))),overlayDialog.css({display:"block","z-index":"2147483647"}),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=yesElem,zgssearch.popupUtils.popupCancelAction=noElem},zgssearch.popupUtils.closeCnfrmDialogBox=function(){_jQueryGS(".zgs19_gsCnfrmDialogBox").remove(),zgssearch.popupUtils.isPopupOpened=!1},zgssearch.popupUtils.closeOverlayDialog=function(){_jQueryGS("#zgs20_gsOverlayDialog").css("display","none")},zgssearch.popupUtils.renderSelectionPopup=function(parentElem,listValues,selectedValue,attributes){var popupValues,i,selectionPopup=_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsSelectionPopup","zgs19_gsSelectionPopup"));for(i in listValues){var selectedPart="",selectedClass="zgs19_gsCardOption";selectedValue==(attributes.type=i)&&(selectedPart=_jQueryGS(zgssearch.Utils.createElement("div","","zgs18_TickIcon zgs19_gsCardTypeSelected")),selectedClass+=" zgs19_gsModuleSeleFilterElem"),popupValues=_jQueryGS(zgssearch.Utils.createElement("div","",selectedClass,attributes,listValues[i])).append(selectedPart),selectionPopup.append(popupValues)}_jQueryGS(parentElem).append(selectionPopup),zgssearch.popupUtils.isSelectionPopupOpened=!0},zgssearch.popupUtils.closeSelectionPopup=function(){zgssearch.popupUtils.isSelectionPopupOpened=!1,_jQueryGS("#zgs20_gsSelectionPopup").remove()},zgssearch.popupUtils.openCautionPopup=function(modifiedMsg,cautionMsg,gsattr){var cnfrmBoxElem;0==_jQueryGS("#zgs20_gsCautionPopUp").length&&(cnfrmBoxElem=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}),(1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog").append(cnfrmBoxElem):_jQueryGS("#zgs20_gsHolder").append(cnfrmBoxElem.append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos"})))).append(cnfrmBoxElem.append(_jQueryGS("<div>",{id:"zgs20_gsCautionPopUp",class:"zgs19_gsCautionPopUp"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautionPopMsgs"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautModMsg"}).text(modifiedMsg)).append(_jQueryGS("<div>",{class:"zgs19_gsCautMsg"}).text(cautionMsg))).append(_jQueryGS("<div>",{class:"zgs19_gsCautCnfrmActElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons zgs19_gssave",gs:gsattr,cnfrmType:"yes"}).text(zgssearch.getI18NMsg("gs.settings.application.save"))).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons",gs:gsattr,cnfrmType:"no"}).text(zgssearch.getI18NMsg("gs.common.dontSave")))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:"cancel"}))))))},zgssearch.popupUtils.openRefreshPopup=function(){var overlayDialog=1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_globalsearch"),locationUrl=window.location.href;overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"gsssoverlay",tabindex:"-1"})).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopup",class:"zgs19_gsSavedSearchPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUtt zgs19_gsOverflow",value:"SSTitle"}).text("Please refresh the page to get the latest changes")).append(_jQueryGS("<div>",{class:"zgs19_gsRefreshPgActions"}).append(_jQueryGS("<a>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr",href:locationUrl}).text("Ok"))))),overlayDialog.css({display:"block","z-index":"2147483647"}),_jQueryGS("#zgs20_gsQueryBox").blur(),_jQueryGS("#zgs20_gsSTS").select(),_jQueryGS("#zgs20_gsSTS").focus()},function(zgssearch,window){var gscontactresults,_jQueryGS=window._jQueryGS;zgssearch.gscontactresults=(gscontactresults=void 0,(gscontactresults=zgssearch.gscontactresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,results_width,filterDisplay){if(service_name===zgssearch.GSConstant.PEOPLE)return resObj.href=href,gscontactresults.renderPeopleTemplate(resObj,results_width,filterDisplay);img_element=(img_element=(img_element=resObj.empFname||"")+" "+resObj.empLname||"").trim();var val=resObj.cpt||"",opPh=resObj.phone||"",sname=resObj.zuid||"",opEmail=resObj.email||resObj.emid||resObj.mailid||"",opMob=resObj.mobile||resObj.cntn||"",img_element=resObj.full_name||resObj.cnt||img_element||"",serviceNameObj=resObj.deptname||"",searchInsType=resObj.deptid||"",opExtn=resObj.extn||resObj.cnextn||"";"8"===val&&(opExtn=resObj.avayaextn||"-",opEmail=resObj.deptmail||"-");var len,opPh=opPh&&""!=opPh&&"NULL"!=opPh?opPh:"",opMob=opMob&&""!=opMob&&"NULL"!=opMob?opMob:"",results_width=results_width||_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,conObj=zgssearch.getPeopleUserDetails(results_width,opEmail,opMob,opPh,opExtn,serviceNameObj,searchInsType,resObj),serviceNameObj="",width=0,searchInsType=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters;if("5"===val?(serviceNameObj=zgssearch.getConnectorFilterMod(resObj,acc_id,conObj,filterDisplay),len=_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").find(".zgs19_gsResIntxt2").text().length+1,width+=len+=_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").find("#zgs20_moduleName").text().length):"8"===val?img_element=resObj.dept||"":serviceNameObj=conObj.cell3,service_name===zgssearch.GSConstant.ORGRESOURCES){for(var cell in conObj)conObj.hasOwnProperty(cell)&&conObj[cell]&&(width+=gscontactresults.getWidthOfElement(conObj[cell]));for(var cell in conObj)conObj.hasOwnProperty(cell)&&conObj[cell]&&gscontactresults.setMaxWidthOfElement(conObj[cell],width);serviceNameObj&&(resultTit=Math.ceil(len/width*95),_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").css("maxWidth",resultTit+"%"))}var resultTit=zgssearch.getUserStatus(sname),sname=resultTit.name||"",resultTit="",resultTit=(href?_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:img_element,istip:!0}):_jQueryGS("<span>",{gs:"resultTitle",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:img_element,istip:!0})).text(img_element),img_element="",img_element="8"===val?_jQueryGS("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto"}):_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"});return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(img_element))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(resultTit)).append(conObj.cell4).append(conObj.cell1).append(conObj.cell2).append(serviceNameObj))},gscontactresults.getPeopleTemplate=function(templateId,searchInsType){var name_elem,email_elem,phone_elem,people_info,photo_elem,people_template=document.querySelector("#"+templateId);return null==people_template&&(name_elem=_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{id:"people_name_div",href:"",target:"_blank",rel:"noopener noreferrer",gs:"resultTitle",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:""})),email_elem=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{id:"people_email_div",istip:"true",gslabel:"Email",gstitle:""})),phone_elem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl zgs19_gsContactMobileImg"})).append(_jQueryGS("<span>",{id:"zgs20_peoplePhoneDiv",istip:"true",gslabel:zgssearch.getI18NMsg("common.mobile"),gstitle:""})),people_info=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_peopleExtnDiv",istip:"true",gslabel:zgssearch.getI18NMsg("gs.search.service_people.extn"),gstitle:""})),photo_elem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",gs:"gsFilterIcon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_peopleDeptDiv",class:"",istip:"true",gslabel:"",gstitle:"",gs:"",fid:"",gsfilter:"",fname:""})),people_info=_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(name_elem).append(email_elem).append(phone_elem).append(people_info).append(photo_elem),photo_elem=_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",id:"people_status_field"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})),people_template=_jQueryGS("<template>",{id:templateId}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(photo_elem)).append(people_info)),_jQueryGS("#zgs20_globalsearch").append(people_template),people_template=document.querySelector("#"+templateId)),people_template},gscontactresults.renderPeopleTemplate=function(result_info,totalResWidth,filterDisplay){var templateId=filterDisplay.hasOwnProperty("templateId")?filterDisplay.templateId:"people_info_template",template_content=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters,template_content=gscontactresults.getPeopleTemplate(templateId,template_content).querySelector(".zgs19_gs"+template_content+"ResultRow"),template_content=_jQueryGS(document.importNode(template_content,!0));return gscontactresults.getPeopleTemplate.constructNameElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructEmailElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructPhoneElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructEXTNElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructDeptElem(template_content,result_info,filterDisplay),gscontactresults.getPeopleTemplate.getUserStatus(template_content,result_info),gscontactresults.getPeopleTemplate.setElementsWidth(template_content,result_info,totalResWidth),template_content},gscontactresults.getPeopleTemplate.setValue=function(template_content,elem,field_value){elem=_jQueryGS(template_content).find("#"+elem);elem.attr("gstitle",field_value),elem.text(field_value)},gscontactresults.getPeopleTemplate.constructNameElem=function(template_content,result_info){var field_name=result_info.empFname||"",elem=result_info.empLname||"";""!==elem&&(field_name=field_name+" "+elem);field_name=(field_name=result_info.full_name||result_info.cnt||field_name||"").trim(),elem=_jQueryGS(template_content).find("#people_name_div");elem.attr("gstitle",field_name),elem.attr("href",result_info.href),elem.text(field_name),gscontactresults.getPeopleTemplate.setValue(template_content,"people_name_div",field_name)},gscontactresults.getPeopleTemplate.constructEmailElem=function(template_content,field_email){field_email=field_email.email||field_email.emid||field_email.mailid||"";gscontactresults.getPeopleTemplate.setValue(template_content,"people_email_div",field_email)},gscontactresults.getPeopleTemplate.getPhoneNumber=function(result_info){return result_info.mobile||result_info.cntn||""},gscontactresults.getPeopleTemplate.constructPhoneElem=function(template_content,field_mobile){field_mobile=gscontactresults.getPeopleTemplate.getPhoneNumber(field_mobile);gscontactresults.getPeopleTemplate.setValue(template_content,"zgs20_peoplePhoneDiv",field_mobile)},gscontactresults.getPeopleTemplate.getEXTNNumber=function(field_phone){var field_extn=field_phone.extn||field_phone.cnextn||"";return field_extn=""===(field_extn=field_extn&&""!==field_extn&&"NULL"!==field_extn?field_extn:"")?(field_phone=field_phone.phone||"")&&""!==field_phone&&"NULL"!==field_phone?field_phone:"":field_extn},gscontactresults.getPeopleTemplate.constructEXTNElem=function(template_content,field_extn){field_extn=gscontactresults.getPeopleTemplate.getEXTNNumber(field_extn);gscontactresults.getPeopleTemplate.setValue(template_content,"zgs20_peopleExtnDiv",field_extn)},gscontactresults.getPeopleTemplate.constructDeptElem=function(isMultiDept,searchType,filterDisplay){var dept_name=searchType.deptname||"",dept_name_temp=""===dept_name?zgssearch.getI18NMsg("common.not_available"):dept_name,dept_id=searchType.deptid||"",dept_span_elem=_jQueryGS(isMultiDept).find("#zgs20_peopleDeptDiv"),searchType=zgssearch.getSearchType(),isMultiDept=zgssearch.isMultiSelectResults(zgssearch.GSConstant.PEOPLE,"departments","0");filterDisplay&&(searchType===zgssearch.GSConstant.ALL||isMultiDept&&searchType===zgssearch.GSConstant.PEOPLE)?(""!==dept_name&&dept_span_elem.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_department")),dept_span_elem.attr("gstitle",dept_name_temp),dept_span_elem.attr("gs","peopleResDepartment"),dept_span_elem.attr("fId",dept_id),dept_span_elem.attr("gsfilter","deptName"),dept_span_elem.attr("fName",dept_name_temp),dept_span_elem.attr("class","zgs19_gsDeptFilter zgs19_hvr_underline")):(""!==dept_name&&dept_span_elem.attr("gslabel",zgssearch.getI18NMsg("gs.search.result.support.department")),dept_span_elem.attr("class","zgs19_gsDeptFilter"),dept_span_elem.attr("gstitle",dept_name_temp)),dept_span_elem.text(dept_name_temp)},gscontactresults.getPeopleTemplate.getUserStatus=function(template_content,status_class_name){status_class_name=status_class_name.zuid||"";""!==status_class_name&&(status_class_name=zgssearch.getUserStatus(status_class_name).name||"",_jQueryGS(template_content).find("#people_status_field").attr("class","zgs19_gsUniIconHolder "+status_class_name))},gscontactresults.getPeopleTemplate.setElementsWidth=function(extn_number_length,dept_name_temp_length,totalResWidth){var phone_div_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peoplePhoneDiv").parent(),extn_div_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peopleExtnDiv").parent(),dept_span_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peopleDeptDiv").parent(),phone_number_length=gscontactresults.getPeopleTemplate.getPhoneNumber(dept_name_temp_length),extn_number_length=gscontactresults.getPeopleTemplate.getEXTNNumber(dept_name_temp_length),dept_name_temp_length=dept_name_temp_length.deptname||"",phone_number_length=phone_number_length.length,extn_number_length=extn_number_length.length,dept_name_temp_length=dept_name_temp_length.length;phone_number_length<=0?phone_div_elem_parent.css("display","none"):phone_div_elem_parent.css("max-width","120px"),extn_number_length<=0?extn_div_elem_parent.css("display","none"):(extn_div_elem_parent.css("max-width","65px"),0<phone_number_length&&extn_div_elem_parent.css("margin-left","12px")),dept_name_temp_length<=0?dept_span_elem_parent.css("display","none"):(dept_span_elem_parent.css("max-width",(0<phone_number_length?185<totalResWidth?totalResWidth-185:totalResWidth:65<totalResWidth?totalResWidth-65:totalResWidth)+"px"),(0<extn_number_length||0<phone_number_length)&&dept_span_elem_parent.css("margin-left","12px"))},gscontactresults.getPeopleTemplate.constructPeopleURL=function(result_info){return zgssearch.GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(result_info.pkid||"")},gscontactresults.getWidthOfElement=function(conObj){return _jQueryGS(conObj).filter(".zgs19_gsContactNumber").find(".contactDetail").text().length},gscontactresults.setMaxWidthOfElement=function(cell,wid){var cellLength=gscontactresults.getWidthOfElement(cell),wid=Math.ceil(cellLength/wid*95);_jQueryGS(cell).filter(".zgs19_gsContactNumber").css("maxWidth",wid+"%")},gscontactresults)}(zgssearch,window),function(zgssearch,gsconnectorresults){var _jQueryGS=gsconnectorresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnectorresults=(gsconnectorresults=void 0,(gsconnectorresults=zgssearch.gsconnectorresults||{}).getHtmlTemplate=function(resObj,acc_id,href,moduleName,wTitle,icon_text,isMultiModule,moduleElem){if("5"==resObj.cpt||"8"==resObj.cpt)return zgssearch.gscontactresults.getHtmlTemplate(resObj,acc_id,href,moduleName,wTitle,icon_text,isMultiModule,moduleElem);var Summary="",searchInsType=(moduleElem=moduleElem||{}).hasOwnProperty("type")?moduleElem.type:"Search",filterDisplay=!moduleElem.hasOwnProperty("filters")||moduleElem.filters,Summary="3"==resObj.cpt?resObj.hasOwnProperty("desc")&&resObj.desc&&""!==resObj.desc?resObj.desc:resObj.url||"":resObj.summ||resObj.desc||"",cls=resObj.title||zgssearch.getURLWithoutProtocol(href)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),moduleId=resObj.cid||"",moduleName=resObj.cn||"",wTitle=zgssearch.replaceHTMLEntity(cls),icon_text="",isMultiModule=zgssearch.isMultiSelectResults(GSConstant.ORGRESOURCES,"modules","0"),moduleElem=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),cls="",cls=filterDisplay&&isMultiModule?_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<div>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid95Per",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:moduleName,istip:!0,gs:"gsconnService",key:moduleId,acc_id:acc_id,fkey:"serviceType"}).text(moduleName)))):_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault zgs19_gsMxWid95Per",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.module"),gstitle:moduleName,istip:!0}).text(moduleName))),moduleElem=_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:moduleElem}).text(moduleElem)).append(cls),cls="";return"3"==resObj.cpt?cls="zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon":"0"==resObj.cpt?(moduleElem="",cls="zgs19_gsResultsUniIcons zgs19_gsConnectorWelIcon"):(cls="zgs19_creatorCircleText zgs19_gsfl",icon_text=zgssearch.getCapitalizedLtr(moduleName)),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:cls,text:icon_text,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:wTitle,istip:!0}).text(wTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultSummary"}).html(Summary)).append(moduleElem))},gsconnectorresults)}(zgssearch,window),function(zgssearch,gschatresults){var _jQueryGS=gschatresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gschatresults=(gschatresults=void 0,(gschatresults=zgssearch.gschatresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i){var sname,callOutPhotoURL="",staObj="",isChatGroupIcon=!1,cZuid=GSConstant.cuz||"",oZuid=resObj.ownerid||"",cDate=resObj.display_time||"",cName=resObj.display_name||"",cTitle=zgssearch.replaceHTMLEntity(resObj.title)||"",cName=cZuid==oZuid?zgssearch.getI18NMsg("common.me"):cName,chatGroupId="",rParticipants={},totalParticipants=0,recentParticipantsCount=0,group_icon="zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl";if(resObj.hasOwnProperty("participants_count")&&(totalParticipants=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),(chatGroupId=resObj.hasOwnProperty("group_id")?resObj.group_id:chatGroupId)&&"-1"!==chatGroupId&&"null"!==chatGroupId)isChatGroupIcon=!0,GSConstant.GS_CONTACTS_URL,zgssearch.nps,callOutPhotoURL=GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=group&ID="+chatGroupId+"&width=38&height=38"+zgssearch.nps;else if(2<totalParticipants||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(cZuid))isChatGroupIcon=!0,group_icon="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon";else if(0<recentParticipantsCount)for(var partZuid in recentParticipantsCount<=2&&rParticipants.hasOwnProperty(cZuid)&&delete rParticipants[cZuid],rParticipants)staObj=zgssearch.getUserStatus(partZuid),zgssearch.getStampPhotoURL(partZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(partZuid);else"-1"!==oZuid&&(staObj=zgssearch.getUserStatus(oZuid),zgssearch.getStampPhotoURL(oZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(oZuid));return sname=staObj.name||"",_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:group_icon,gs:"gsUserPhoto",group:isChatGroupIcon,src:zgssearch.gsspacer,calloutphoto:callOutPhotoURL})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:cDate}).text(cDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"resultTitle",istip:!0,gstitle:cTitle}).text(cTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:cName}).text(cName))))},gschatresults)}(zgssearch,window),function(zgssearch,window){var gscliqresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscliqresults=(gscliqresults=void 0,(gscliqresults=zgssearch.gscliqresults||{}).getHtmlTemplate=function(footerData,acc_id,href,id,service_name,i,totalResWidth,iconTitle){var fMsgInfo="",isChatGroupIcon=!1,group_icon="",searchType=zgssearch.getSearchType(),group_id=footerData.cid||"",isMutliModule=footerData.ctt||"",column2_perc=footerData.sid||"",message=footerData.msg||"",fname=footerData.fn||"",disp_sender_name=footerData.fc||"",sender_name=footerData.sn||"",channeltype=footerData.clt||"",display_time=footerData.dT||"",pcount=zgssearch.chidVsMeta||{},filterDisplay=pcount.hasOwnProperty(group_id)?pcount[group_id]:{},searchInsType=filterDisplay.title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),titleName=footerData.title=zgssearch.replaceHTMLEntity(searchInsType)||"",pcount=filterDisplay.pcount||"",group_id=filterDisplay.groupid||"",footerData=filterDisplay.owner||"",searchInsType=(iconTitle=iconTitle||{}).hasOwnProperty("type")?iconTitle.type:"Search",filterDisplay=!iconTitle.hasOwnProperty("filters")||iconTitle.filters,iconTitle="";2<pcount||group_id||channeltype||"8"==isMutliModule||"9"==isMutliModule?(isChatGroupIcon=!0,iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.groupchat"),group_icon="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon","8"==isMutliModule?"1"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.orgchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqOCI"):"2"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.teamchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqTCI"):"3"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.perschannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqPCI"):"4"==channeltype&&(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.extchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqECI"):"9"==isMutliModule&&(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.bot"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqBCI")):footerData&&"-1"!==footerData&&(fMsgInfo=zgssearch.getUserStatus(footerData));var sender_name_length,sname=fMsgInfo.name||"",footerData=_jQueryGS("<div>",{class:"zgs19_gsCliqResultAuthor zgs19_gsOverflow"});message||fname||disp_sender_name?(fMsgInfo="",message?fMsgInfo=zgssearch.replaceHTMLEntity(message):(fname&&(fMsgInfo=zgssearch.replaceHTMLEntity(fname)),disp_sender_name&&(disp_sender_name=zgssearch.replaceHTMLEntity(disp_sender_name),fMsgInfo=fMsgInfo?fMsgInfo+", "+disp_sender_name:disp_sender_name)),sender_name?(GSConstant.cuz==column2_perc?sender_name=zgssearch.getI18NMsg("gs.search.filter.cliq.you"):(sender_name_length=zgssearch.gsusercontacts.getUserContacts()).hasOwnProperty(column2_perc)&&(sender_name=sender_name_length[column2_perc].DNAME),sender_name_length=(disp_sender_name=sender_name+":").length,column2_perc=(40<fMsgInfo.length?fMsgInfo.substr(0,39):fMsgInfo).length,column2_perc=Math.ceil(column2_perc/(sender_name_length+column2_perc)*75),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:sender_name}).text(disp_sender_name)).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:sender_name,gstitle:fMsgInfo,style:"max-width:"+column2_perc+"%"}).text(fMsgInfo))):fMsgInfo&&footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsWid100Per",istip:!0,gslabel:zgssearch.getI18NMsg("common.message"),gstitle:fMsgInfo}).text(fMsgInfo))):2<pcount||"8"==isMutliModule?(modulesDiv=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),gstitle:pcount}).text(modulesDiv))):(cliqModInfo=zgssearch.getI18NMsg("9"==isMutliModule?"gs.search.filter.cliq.viabot":"gs.search.filter.cliq.withme"),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gstitle:cliqModInfo}).text(cliqModInfo)));var modulesDiv="",cliqModInfo=gscliqresults.getCliqResModInfo(isMutliModule),isMutliModule=zgssearch.isMultiSelectResults(GSConstant.CLIQ,"modules","0"),modulesDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMutliModule)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:cliqModInfo.name,gs:"cliqModules",fId:cliqModInfo.id}).text(cliqModInfo.name)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.module"),gstitle:cliqModInfo.name}).text(cliqModInfo.name));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:group_icon,gs:"gsUserPhoto",group:isChatGroupIcon,src:zgssearch.gsspacer,gstitle:iconTitle,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:display_time}).text(display_time))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:titleName,istip:!0}).text(titleName))).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)).append(footerData))},gscliqresults.getCliqResModInfo=function(ctype){var modules={name:"",id:""},data=zgssearch.getFilterInfo(GSConstant.CLIQ,"modules","data");switch(ctype){case"1":case"8":case"9":data&&data.hasOwnProperty(ctype)&&(modules={name:data[ctype],id:ctype})}return modules},gscliqresults)}(zgssearch,window),function(zgssearch,window){var gsconnectresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnectresults=(gsconnectresults=void 0,(gsconnectresults=zgssearch.gsconnectresults||{}).RESULTS_WIDTH={},gsconnectresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,cmData){var searchInsType=cmData.hasOwnProperty("type")?cmData.type:"Search",filterDisplay=!cmData.hasOwnProperty("filters")||cmData.filters,searchType=zgssearch.getSearchType(),sname=resObj.zuid||"",curlindex=resObj.type||"",pTime=resObj.time||"",pAuthor=resObj.author||"",curl="true"==resObj.hasAttach,pTitle=zgssearch.replaceHTMLEntity(resObj.title)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle");sname&&"-1"!==sname&&zgssearch.getThumbPhotoURL(sname);var cAttachIcon="";curl&&(cAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var parSpan="",parInDiv="",apostrophe="",wallTxt="",cmodulesId="",cmodulesName="",cmData=zgssearch.getFilterInfo(GSConstant.CONNECT,"connecttype","data");"FORUMS"==curlindex||"BLOG"==curlindex?(cmodulesId="forums",resObj.type="FORUMS",cmodulesName=cmData.forums,-1<(curlindex=(curl=resObj.url||"").indexOf("?isNative=true"))&&(resObj.url=curl.substr(0,curlindex))):(cmodulesId="feeds",cmodulesName=cmData.feeds,modulesDiv=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"),isMultiModule=_jQueryGS(modulesDiv[0])[0],apostrophe=_jQueryGS(modulesDiv[1])[0],wallTxt=_jQueryGS(modulesDiv[2])[0],parInDiv=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)),parSpan=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gstitle:modulesDiv[3]}).append(isMultiModule));var modulesDiv="",isMultiModule=zgssearch.isMultiSelectResults(GSConstant.CONNECT,"connecttype","all"),modulesDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiModule)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:cmodulesName,gs:"connectModules",fId:cmodulesId,acc_id:acc_id}).text(cmodulesName)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gstitle:cmodulesName}).text(cmodulesName)),sname=zgssearch.getUserStatus(sname),sname=sname.name||"";return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsUserPhoto",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_connect.streamModifiedTime"),gstitle:pTime}).text(pTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(cAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:pTitle}).text(pTitle)))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:pAuthor,istip:!0}).text(pAuthor))).append(parInDiv).append(parSpan).append(apostrophe).append(wallTxt).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv))))},gsconnectresults.setConnectResDivElemsWidth=function(resDiv,dummyResDiv,finalFooterElemsWidth){dummyResDiv=_jQueryGS("<div>",{id:"zgs20_dummy"+dummyResDiv+"Res",class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(resDiv);_jQueryGS("#"+finalFooterElemsWidth).append(dummyResDiv);var finalFooterElemsWidth=_jQueryGS(dummyResDiv).find(".zgs19_gsWid100Per")[1],footerElems=_jQueryGS(finalFooterElemsWidth).children(),footerElemsWidth=_jQueryGS(finalFooterElemsWidth).width(),finalFooterElemsWidth=footerElemsWidth;_jQueryGS(footerElems).each(function(footerEle){footerEle=footerElems[footerEle];footerElemsWidth=_jQueryGS(footerEle).hasClass("zgs19_gsContactEmail")?footerElemsWidth:footerElemsWidth-_jQueryGS(footerEle).outerWidth(!0)});var emailFields=_jQueryGS(dummyResDiv).find(".zgs19_gsContactEmail"),balanceWidth=(balanceWidth=footerElemsWidth/emailFields.length)/finalFooterElemsWidth*100;balanceWidth|=0;for(var i=0;i<emailFields.length;i++)_jQueryGS(emailFields[i]).css("max-width",balanceWidth+"%");return resDiv},gsconnectresults.resetResultsWidth=function(offset,account_id){var service_results_width_info;offset<=1&&(void 0!==account_id&&void 0!==(service_results_width_info=gsconnectresults.RESULTS_WIDTH[zgssearch.GSConstant.CONNECT])?delete service_results_width_info[account_id]:gsconnectresults.setResultsWidthInfo(zgssearch.GSConstant.CONNECT,null,{}))},gsconnectresults.setResultsWidthInfo=function(service_name,account_id,service_info){null!=account_id?gsconnectresults.RESULTS_WIDTH[service_name][account_id]=service_info:gsconnectresults.RESULTS_WIDTH[service_name]=service_info},gsconnectresults.getResultsWidthInfo=function(service_name,account_id){return void 0!==account_id?gsconnectresults.RESULTS_WIDTH[service_name]&&gsconnectresults.RESULTS_WIDTH[service_name][account_id]||{}:gsconnectresults.RESULTS_WIDTH[service_name]||{}},gsconnectresults.setFooterElementsWidth=function(prev_last_element_id){var service_results_view_id,div_id,service_name=prev_last_element_id.service_name,results_area_width=prev_last_element_id.total_results_area_width,account_id=prev_last_element_id.account_id,service_info=gsconnectresults.getResultsWidthInfo(service_name,account_id),prev_last_element_id=service_info.current_last_elem_id||"",current_last_elem_id="",second_row_remaining_width=Math.floor((results_area_width-50-15)/100*80),elem_widths_obj={};for(div_id in(""===prev_last_element_id?(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled?_jQueryGS("#"+(service_results_view_id="zgs20_gs"+account_id+"Results")+" >div"):_jQueryGS("#"+service_results_view_id+" >div")):(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled&&(service_results_view_id="zgs20_gs"+account_id+"Results"),_jQueryGS("#"+service_results_view_id).find("#"+prev_last_element_id).first().nextAll())).each(function(index){var div_id=_jQueryGS(this).attr("id"),footer2_elem_width=_jQueryGS(this).find(".zgs19_gsContactEmail"),footer_elements_length=footer2_elem_width.length,footer1_elem_width=0<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[0]).outerWidth()+15:0,footer2_elem_width=1<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[1]).outerWidth()+15:0;footer2_elem_width=second_row_remaining_width<=footer1_elem_width?(elements_width=footer2_elem_width/(footer1_elem_width+footer2_elem_width)*100,footer1_elem_width=Math.floor(second_row_remaining_width/100*(footer1_elem_width/(footer1_elem_width+footer2_elem_width)*100)),Math.floor(second_row_remaining_width/100*elements_width)):second_row_remaining_width-footer1_elem_width;var elements_width=[];elements_width.push(footer1_elem_width),elements_width.push(footer2_elem_width),elem_widths_obj[div_id]=elements_width,current_last_elem_id=div_id}),elem_widths_obj){var footer_elements_length=_jQueryGS("#"+div_id),elements_width=elem_widths_obj[div_id],footer_elements=footer_elements_length.find(".zgs19_gsContactEmail"),footer_elements_length=footer_elements.length;0<footer_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[0]+"px"),1<footer_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[1]+"px"))}(service_info={}).results_area_width=results_area_width,service_info.results_icon_width=50,service_info.prev_last_element_id=prev_last_element_id,service_info.current_last_elem_id=current_last_elem_id,gsconnectresults.setResultsWidthInfo(service_name,account_id,service_info)},gsconnectresults)}(zgssearch,window),function(zgssearch,window){var gscreatorresults,_jQueryGS=window._jQueryGS;zgssearch.gscreatorresults=(gscreatorresults=void 0,(gscreatorresults=zgssearch.gscreatorresults||{}).getHtmlTemplate=function(cutomIcon,acc_id,href,id,service_name,i,totalResWidth,icon_text){var searchInsType=icon_text.hasOwnProperty("type")?icon_text.type:"Search",author=cutomIcon.auth||"",viewName=cutomIcon.aN||"",dTime=cutomIcon.time||"",outerCls=cutomIcon.cg||"",serviceImgAttr=gscreatorresults.getCreatorResTT(outerCls),icon_text=zgssearch.getAcronym(viewName),cutomIcon=""!==serviceImgAttr.customtitle?_jQueryGS("<div>",{class:serviceImgAttr.customimage,gstitle:serviceImgAttr.customtitle}):"",outerCls=""!==cutomIcon?"zgs19_gsMxWid65Per":"zgs19_gsWid75Per";return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",text:icon_text,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.creator.createdDate"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle  zgs19_gsOverflow zgs19_gsfl "+outerCls}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,gslabel:zgssearch.getI18NMsg("gs.search.result.creator.applicationName"),gstitle:viewName,target:"_blank",rel:"noopener noreferrer"}).text(viewName))).append(cutomIcon).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid70Per",gslabel:zgssearch.getI18NMsg("gs.search.result.creator.ownerName"),gstitle:author}).text(author)).append(_jQueryGS("<span>",{class:"zgs19_gsfl "+serviceImgAttr.image,gstitle:serviceImgAttr.title}))))},gscreatorresults.getCreatorResTT=function(type){var creatorImgObj={image:"",title:"",customimage:"",customtitle:""};switch(type){case"2":creatorImgObj.image="zgs18_sharedApp",creatorImgObj.title=zgssearch.getI18NMsg("common.shared_with_me");break;case"3":creatorImgObj.image="zgs18_sharedToGrp",creatorImgObj.title=zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps");break;case"4":creatorImgObj.customimage="zgs18_sharedToOrgGrp",creatorImgObj.customtitle=zgssearch.getI18NMsg("gs.search.result.creator.custom_apps")}return creatorImgObj},gscreatorresults)}(zgssearch,window),function(zgssearch,window){var gscrmresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscrmresults=(gscrmresults=void 0,(gscrmresults=zgssearch.gscrmresults||{}).accountDetails=gscrmresults.accountDetails||{},gscrmresults.getCRMOrganizationId=function(){return gscrmresults.accountDetails.account_id},gscrmresults.getCRMOrganizationDomainName=function(){return gscrmresults.accountDetails.domain_name},gscrmresults.getHtmlTemplate=function(resObj,resultCellObj,href,id,isCustMod,i,totalResWidth,filterDisplay){var module=resObj.mod,searchInsType=zgssearch.getFilterInfo(isCustMod,"modules","data"),crmImgObj=(searchInsType="object"==typeof searchInsType&&searchInsType[resultCellObj]?searchInsType[resultCellObj]:searchInsType)[module]||"",searchInsType=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters,isCustMod=gscrmresults.generateCRMSearchResults(resObj,id,href,searchInsType,filterDisplay,isCustMod,resultCellObj);_jQueryGS("#zgs20_dummyCRMRes").remove();resultCellObj=isCustMod.resultCell,isCustMod=isCustMod.customModule,crmImgObj=gscrmresults.getCRMModuleTT(module,isCustMod,crmImgObj);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(crmImgObj))).append(resultCellObj)},gscrmresults.getHeaderFooterElemsWidth=function(resultCell,headerSecondField,footerFirstField,headerFirstFieldTxtWidth,footerFirstFieldTxtWidth){var footerSecondField=gscrmresults.getCRMModuleTT(headerSecondField,footerFirstField,""),headerSecondFieldTxtWidth=_jQueryGS("<div>",{id:footerFirstFieldTxtWidth,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(footerSecondField))).append(resultCell));_jQueryGS("#"+headerFirstFieldTxtWidth).append(headerSecondFieldTxtWidth);var footerSecondFieldTxtWidth=_jQueryGS("#"+footerFirstFieldTxtWidth+" div.zgs19_gsSearchResultCell2").children(),finalHeaderFirstFieldTxtWidth=_jQueryGS("#"+footerFirstFieldTxtWidth+" div.zgs19_gsSearchResultCell2").width(),finalFooterFirstFieldTxtWidth=footerSecondFieldTxtWidth[0],footer=footerSecondFieldTxtWidth[1],allHeaderElemsWidth=finalHeaderFirstFieldTxtWidth,finalHeaderSecondFieldTxtWidth=finalHeaderFirstFieldTxtWidth;allHeaderElemsWidth-=void 0!==_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;var footerThirdField=_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0];gscrmresults.removeStartsWithClass(footerThirdField,"zgs19_gs_CRMw");var footerModuleWidth=void 0!==_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]).outerWidth(!0):0,moduleWidth=_jQueryGS(_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]).find(".zgs19_hvr_underline_filter")).width()+20;finalHeaderSecondFieldTxtWidth-=footerModuleWidth+(void 0!==_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0)+20;var varyWidth,maxFooterFieldWidth=Math.floor(.4*finalHeaderSecondFieldTxtWidth),maxFirstHeaderFieldWidth=Math.floor(.6*allHeaderElemsWidth),maxSecondHeaderFieldWidth=Math.floor(.3*allHeaderElemsWidth),finalFooterSecondFieldTxtWidth=_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gsCRMResultTitleNew"),excessFooterSpace=_jQueryGS(footer).find(".zgs19_gsCRMResultField"),headerFirstField=gscrmresults.removeStartsWithClass(_jQueryGS(finalFooterSecondFieldTxtWidth)[0],"zgs19_gs_CRMw"),headerSecondField=gscrmresults.removeStartsWithClass(_jQueryGS(finalFooterSecondFieldTxtWidth)[1],"zgs19_gs_CRMw"),footerFirstField=gscrmresults.removeStartsWithClass(_jQueryGS(excessFooterSpace)[0],"zgs19_gs_CRMw"),footerSecondField=gscrmresults.removeStartsWithClass(_jQueryGS(excessFooterSpace)[1],"zgs19_gs_CRMw"),headerFirstFieldTxtWidth=void 0!==headerFirstField?_jQueryGS(headerFirstField).width():0,headerSecondFieldTxtWidth=void 0!==headerSecondField?_jQueryGS(headerSecondField).width():0,footerFirstFieldTxtWidth=void 0!==footerFirstField?_jQueryGS(footerFirstField).width():0,footerSecondFieldTxtWidth=void 0!==footerSecondField?_jQueryGS(footerSecondField).width():0,footerFirstFieldTxtWidth=1<_jQueryGS(footerFirstField).children().length?footerFirstFieldTxtWidth-_jQueryGS(_jQueryGS(footerFirstField).children()[0]).width():footerFirstFieldTxtWidth,footerSecondFieldTxtWidth=1<_jQueryGS(footerSecondField).children().length?footerSecondFieldTxtWidth-_jQueryGS(_jQueryGS(footerSecondField).children()[0]).width():footerSecondFieldTxtWidth,finalHeaderFirstFieldTxtWidth=0,finalHeaderSecondFieldTxtWidth=0,finalFooterFirstFieldTxtWidth=0,finalFooterSecondFieldTxtWidth=0,excessFooterSpace=0;headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth||maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth?(excessFooterSpace=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth+(maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth),finalHeaderFirstFieldTxtWidth=maxFirstHeaderFieldWidth,finalHeaderSecondFieldTxtWidth=maxSecondHeaderFieldWidth):headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth?(finalHeaderSecondFieldTxtWidth=allHeaderElemsWidth<(finalHeaderFirstFieldTxtWidth=headerFirstFieldTxtWidth)+(varyWidth=maxSecondHeaderFieldWidth+(excessFooterSpace+=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth))?allHeaderElemsWidth-finalHeaderFirstFieldTxtWidth:varyWidth,excessFooterSpace=0):maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth&&(finalHeaderFirstFieldTxtWidth=allHeaderElemsWidth<(finalHeaderSecondFieldTxtWidth=headerSecondFieldTxtWidth)+(varyWidth=maxFirstHeaderFieldWidth+(excessFooterSpace+=maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth))?allHeaderElemsWidth-finalHeaderSecondFieldTxtWidth:varyWidth,excessFooterSpace=0);excessFooterSpace=0;return footerFirstFieldTxtWidth<=maxFooterFieldWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth||maxFooterFieldWidth<=footerFirstFieldTxtWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?(excessFooterSpace=maxFooterFieldWidth-footerFirstFieldTxtWidth+(maxFooterFieldWidth-footerSecondFieldTxtWidth),finalFooterSecondFieldTxtWidth=finalFooterFirstFieldTxtWidth=maxFooterFieldWidth):footerFirstFieldTxtWidth<=maxFooterFieldWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?finalFooterSecondFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterFirstFieldTxtWidth=footerFirstFieldTxtWidth)):maxFooterFieldWidth<=footerFirstFieldTxtWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth&&(finalFooterFirstFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterSecondFieldTxtWidth=footerSecondFieldTxtWidth))),0<excessFooterSpace&&footerModuleWidth<moduleWidth&&(moduleWidth=moduleWidth,footerThirdField=_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0],_jQueryGS(footerThirdField).width(moduleWidth)),_jQueryGS(headerFirstField).css("max-width",finalHeaderFirstFieldTxtWidth),_jQueryGS(headerSecondField).css("max-width",finalHeaderSecondFieldTxtWidth),_jQueryGS(footerFirstField).css("max-width",finalFooterFirstFieldTxtWidth),_jQueryGS(footerSecondField).css("max-width",finalFooterSecondFieldTxtWidth),resultCell},gscrmresults.generateCRMSearchResults=function(mandatoryColName,resultAppendId,hrefAttr,isMutliModule,filterDisplay,extraFieldObj1,extraFieldObj2){var isAccountType,fullName,contactOwner,emailClass,leadstatusClass,isContactOwner,phoneType,phoneTypeTitle,mobileimgicon,stage,potentialNameObj,locationImg,locationStr,eventObj,startDate,endDate,endDateClass,startDateClass,iStatusFieldNeedtoShow,startDateObj,toObj,campaignObj,productName,solObj,owner,ownerObj,vendorNameObj,prodNameObj,phone,email,phoneClass,active,activeClass,priceBookOwnerObj,priceBookObj,stageClass,saleOwner,accName,statusClass,venObj,company,subject,status,ownerClass,extraFieldLen,subObj,sepeatorhypen,noteContent,footerClass,titleObj,extraFeildsArr,fullNameObj,resultCellObj={},customModule=!1,module=mandatoryColName.mod,actualModName=zgssearch[extraFieldObj1+"DispObj"],dispObj=actualModName.hasOwnProperty(extraFieldObj2)?actualModName[extraFieldObj2][extraFieldObj1+"_"+module]:{},mandColValue="",rTW20="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20 zgs19_crmAccColor",rTW70="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rTW90="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",accObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw25",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw30",rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",footerObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",crmStatus="zgs19_gs_CRM_status",fW100="zgs19_gsWid100Per zgs19_gsfl",resultCellClass="zgs19_gs"+isMutliModule+"ResultCell2",gsMobileIcon="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",resultCell="",extraSpaceEmail="",quoteOwnerObj="",activeObj="",noteOwner="",vendorName="",extraSeperator="",tempHeader=rTW90,moduleNameObj=zgssearch.getFilterInfo(extraFieldObj1,"modules","data"),emailFieldObj=(moduleNameObj="object"==typeof moduleNameObj&&moduleNameObj[extraFieldObj2]?moduleNameObj[extraFieldObj2]:moduleNameObj)[module]||"",actualModName=zgssearch.getFilterInfo(extraFieldObj1,"modules","current"),isMutliModule=zgssearch.isMultiSelectResults(extraFieldObj1,"modules",GSConstant.ALL),moduleNameObj="";return filterDisplay&&isMutliModule&&"undefined"!==emailFieldObj?(moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:emailFieldObj,gs:extraFieldObj1+"mod",mod:module,acc_id:extraFieldObj2}).text(emailFieldObj))),rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",footerObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw22"):moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gstitle:emailFieldObj}).text(emailFieldObj))),resultCell="Leads"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,fullName=zgssearch.checkUndefined(mandatoryColName.Full_Name),company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Company"),email=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Email"),isAccountType=(phoneType="")!==(phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone")),titleObj=""!==(sepeatorhypen=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Lead_Status")),""!==company&&(tempHeader=rTW70),extraFieldLen=extraFeildsArr.length,!(fullNameObj=""!==email)&&!isAccountType&&!titleObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),emailClass=leadstatusClass=phoneClass=footerObj,fullNameObj&&titleObj&&(emailClass=leadstatusClass=rFW45),noteOwner=(fullNameObj||isAccountType)&&titleObj?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",fullNameObj&&titleObj||!isAccountType||(emailClass=leadstatusClass=phoneClass=rFW45,phoneClass=fullNameObj||titleObj?rFW45:footerObj,activeObj=fullNameObj?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",phoneType=isAccountType?_jQueryGS("<span>",{class:"zgs19_gsCRMResultField  zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45"}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):""),emailFieldObj=fullNameObj?_jQueryGS("<span>",{class:emailClass,gslabel:dispObj.Email,gstitle:email}).text(email):"",isAccountType=titleObj?_jQueryGS("<span>",{class:leadstatusClass+" "+crmStatus,gslabel:dispObj.Lead_Status,gstitle:sepeatorhypen}).text(sepeatorhypen):"",fullNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Full_Name,gstitle:fullName}).text(fullName),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Company,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(emailFieldObj).append(activeObj).append(phoneType).append(noteOwner).append(isAccountType).append(mandColValue).append(moduleNameObj))):"Accounts"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,accName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),ownerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone"),phoneClass=contactOwner=ownerClass="",ownerClass=phoneClass=contactOwner=footerObj,isContactOwner=""!==ownerObj,isAccountType=""!==(mobileimgicon=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Type")),!(phoneTypeTitle=""!==phone)&&!isContactOwner&&!isAccountType&&0<extraFeildsArr.length&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),(phoneTypeTitle&&isContactOwner||isAccountType&&isContactOwner||phoneTypeTitle&&isAccountType)&&(ownerClass=phoneClass=contactOwner=rFW45),noteOwner=""===(activeObj=phoneTypeTitle&&isContactOwner?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"")&&(phoneTypeTitle||isContactOwner)&&isAccountType?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",ownerObj=isContactOwner?_jQueryGS("<div>",{class:ownerClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:ownerObj}).text(ownerObj)):"",phoneType=phoneTypeTitle?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):"",isContactOwner=!isAccountType||isContactOwner&&phoneTypeTitle?"":_jQueryGS("<span>",{class:contactOwner,gslabel:dispObj.Account_Type,gstitle:mobileimgicon}).text(mobileimgicon),phoneTypeTitle=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Account_Name,gstitle:accName}).text(accName),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(phoneTypeTitle)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(phoneType).append(noteOwner).append(isContactOwner).append(mandColValue).append(moduleNameObj))):"Contacts"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,fullName=zgssearch.checkUndefined(mandatoryColName.Full_Name),contactOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),(phoneClass=leadstatusClass=emailClass=potentialNameObj="")!==(company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"))&&(tempHeader="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw75"),mobileimgicon=""!==(phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone")),phoneType=""!==(phoneTypeTitle=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Mobile")),extraFieldLen=extraFeildsArr.length,(isContactOwner=""!==contactOwner)||""!==company||mobileimgicon||phoneType||!(0<extraFieldLen)||(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),emailClass=leadstatusClass=phoneClass=footerObj,isContactOwner&&(mobileimgicon||phoneType)&&(emailClass=leadstatusClass=phoneClass=rFW45,activeObj=_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"})),(mobileimgicon||phoneType)&&(phoneType=mobileimgicon?phone:phoneTypeTitle,phoneTypeTitle=mobileimgicon?dispObj.Phone:dispObj.Mobile,mobileimgicon=mobileimgicon?"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg":gsMobileIcon,potentialNameObj=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:mobileimgicon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:phoneTypeTitle,gstitle:phoneType,gs:"contactPhone"}).text(phoneType))),ownerObj=isContactOwner?_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:contactOwner}).text(contactOwner)):"",fullNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Full_Name,gstitle:fullName}).text(fullName),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Account_Name,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(potentialNameObj).append(mandColValue).append(moduleNameObj))):"Deals"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,potentialNameObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Deal_Name"),eventObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),locationStr=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Closing_Date"),stage=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Stage"),stageClass=locationImg=ownerClass="",ownerClass=locationImg=stageClass=footerObj,""!==eventObj&&""!==stage&&(ownerClass=locationImg=stageClass=rFW45),extraFieldLen=extraFeildsArr.length,""===eventObj&&""===stage&&""===locationStr&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),vendorName=""===stage||""===locationStr&&""===eventObj?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),locationImg=""!==locationStr&&""===eventObj?_jQueryGS("<span>",{class:locationImg,gslabel:dispObj.Closing_Date,gstitle:locationStr}).text(locationStr):"",locationStr=""!==stage?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,gslabel:dispObj.Stage,gstitle:stage}).text(stage):"",eventObj=""!==eventObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:eventObj}).text(eventObj):"",potentialNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Deal_Name,gstitle:potentialNameObj}).text(potentialNameObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(potentialNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(eventObj).append(noteOwner).append(locationImg).append(vendorName).append(locationStr).append(mandColValue).append(moduleNameObj))):"Tasks"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),ownerClass=statusClass="",statusClass=ownerClass=footerObj,""!==status&&""!==owner&&(statusClass=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===status&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),extraSpaceEmail=""!==status&&""!==owner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",footerClass=""!==status?_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status,class:statusClass+" "+crmStatus}).text(status):"",ownerObj=""!==owner?_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:owner,class:ownerClass}).text(owner):"",subObj=_jQueryGS("<a>",{gslabel:dispObj.Subject,gstitle:subject,href:hrefAttr,target:"_blank",rel:"noopener noreferrer",class:tempHeader,gs:"resultTitle"}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpaceEmail).append(footerClass).append(mandColValue).append(moduleNameObj))):"Events"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,eventObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Event_Title"),startDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Start_DateTime"),endDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"End_DateTime"),(locationStr=locationImg="")!==(solObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Venue"))&&(locationImg=_jQueryGS("<span>",{class:"zgs18_crm_location",src:zgssearch.spacerURL}),locationStr=_jQueryGS("<span>",{class:rFW30,gslabel:dispObj.Venue,gstitle:solObj}).text(solObj)),extraSpaceEmail=""===solObj||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),extraFieldLen=extraFeildsArr.length,""===startDate&&""===endDate&&""===solObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),toObj=""!==solObj?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw28":rFW45,actualModName!==GSConstant.CRM_ALL_MODULES&&actualModName!==GSConstant.BIGIN_ALL_MODULES||""===solObj||(toObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20"),startDateObj=""!==startDate?_jQueryGS("<div>",{class:toObj}).append(_jQueryGS("<span>",{gslabel:dispObj.Start_DateTime,gstitle:startDate}).text(startDate)):"",solObj=""!==endDate?_jQueryGS("<div>",{class:toObj}).append(_jQueryGS("<span>",{gslabel:dispObj.End_DateTime,gstitle:endDate}).text(endDate)):"",toObj=""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",eventObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Event_Title,gstitle:eventObj}).text(eventObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(eventObj)).append(_jQueryGS("<div>",{class:fW100}).append(locationImg).append(locationStr).append(extraSpaceEmail).append(startDateObj).append(toObj).append(solObj).append(mandColValue).append(moduleNameObj))):"Calls"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),startDateClass=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Call_Start_Time"),activeObj=""!==(owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"))&&""!==startDateClass?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",ownerClass=campaignObj="",campaignObj=ownerClass=footerObj,""!==owner&&""!==startDateClass&&(campaignObj=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===startDateClass&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",iStatusFieldNeedtoShow=""!==startDateClass?_jQueryGS("<span>",{class:campaignObj,gslabel:dispObj.Call_Start_Time,gstitle:startDateClass}).text(startDateClass):"",endDateClass=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(endDateClass)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(iStatusFieldNeedtoShow).append(mandColValue).append(moduleNameObj))):"Campaigns"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,campaignObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Campaign_Name"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),startDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Start_Date"),endDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"End_Date"),noteOwner=""===owner||""===status&&""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),ownerClass=statusClass=endDateClass=startDateClass="",startDateClass=endDateClass=statusClass=ownerClass=footerObj,startDateClass=endDateClass=ownerClass=""!==startDate&&""!==endDate&&""!==owner?rFW30:rFW45,iStatusFieldNeedtoShow=!1,""===owner?(iStatusFieldNeedtoShow=!0,statusClass=""===(vendorName=""===status||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"))?rFW45:rFW30):iStatusFieldNeedtoShow=""===startDate&&""===endDate,(footerClass="")!==status&&iStatusFieldNeedtoShow&&(footerClass=_jQueryGS("<span>",{class:statusClass+" "+crmStatus,gslabel:dispObj.Status,gstitle:status}).text(status)),extraFieldLen=extraFeildsArr.length,""===owner&&""===status&&""===endDate&&""===startDate&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",startDateObj=""!==startDate?_jQueryGS("<div>",{class:startDateClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Start_Date,gstitle:startDate}).text(startDate)):"",toObj=""!==endDate&&""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",solObj=""!==endDate?_jQueryGS("<div>",{class:endDateClass}).append(_jQueryGS("<span>",{gslabel:dispObj.End_Date,gstitle:endDate}).text(endDate)):"",campaignObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Campaign_Name,gstitle:campaignObj}).text(campaignObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(campaignObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(startDateObj).append(toObj).append(solObj).append(vendorName).append(footerClass).append(mandColValue).append(moduleNameObj))):"Cases"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),productName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),ownerClass=statusClass="",statusClass=ownerClass=footerObj,""!==(owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"))&&""!==status&&(statusClass=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===owner&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==ownerObj&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Solutions"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,solObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Solution_Title"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),vendorNameObj=statusClass="",statusClass=vendorNameObj=footerObj,""!==(productName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"))&&""!==status&&(statusClass=vendorNameObj=rFW45),extraFieldLen=extraFeildsArr.length,""===productName&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),prodNameObj=""!==productName?_jQueryGS("<span>",{class:vendorNameObj,gslabel:dispObj.Product_Name,gstitle:productName}).text(productName):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==productName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",solObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Solution_Title,gstitle:solObj}).text(solObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(solObj)).append(_jQueryGS("<div>",{class:fW100}).append(prodNameObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Products"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,prodNameObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"),priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),extraFieldLen=extraFeildsArr.length,vendorNameObj=ownerClass="",ownerClass=vendorNameObj=footerObj,""!==owner&&""!==priceBookObj&&(ownerClass=vendorNameObj=rFW45),""===priceBookObj&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",vendorNameObj=""!==priceBookObj?_jQueryGS("<span>",{class:vendorNameObj,gslabel:dispObj.Vendor_Name,gstitle:priceBookObj}).text(priceBookObj):"",noteOwner=""!==owner&&""!==priceBookObj?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",prodNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Product_Name,gstitle:prodNameObj}).text(prodNameObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(prodNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(vendorNameObj).append(mandColValue).append(moduleNameObj))):"Vendors"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"),phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone"),email=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Email"),phoneClass=emailClass=footerObj,""!==phone&&""!==email&&(phoneClass=emailClass=rFW45),activeObj=""!==email&&""!==phone?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",extraFieldLen=extraFeildsArr.length,""===phone&&""===email&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),activeClass=""!==email?_jQueryGS("<span>",{class:emailClass,gslabel:dispObj.Email,gstitle:email}).text(email):"",active=""!==phone?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):"",priceBookOwnerObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Vendor_Name,gstitle:priceBookObj}).text(priceBookObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(priceBookOwnerObj)).append(_jQueryGS("<div>",{class:fW100}).append(activeClass).append(activeObj).append(active).append(mandColValue).append(moduleNameObj))):"PriceBooks"===module||"Price_Books"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Price_Book_Name"),priceBookOwnerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),activeClass=ownerClass=footerObj,(activeObj="")!==(active=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Active"))&&""!==priceBookOwnerObj&&(ownerClass=rFW45,activeClass=accObj),""!==active&&(quoteOwnerObj=_jQueryGS("<span>",{class:activeClass,gslabel:dispObj.Active,gstitle:activeObj="true"===active?"Active":"InActive"}).text(activeObj)),extraFieldLen=extraFeildsArr.length,""===active&&""===priceBookOwnerObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),noteOwner=""!==priceBookOwnerObj&&""!==active?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",priceBookOwnerObj=""!==priceBookOwnerObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:priceBookOwnerObj}).text(priceBookOwnerObj):"",priceBookObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Price_Book_Name,gstitle:priceBookObj}).text(priceBookObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(priceBookObj)).append(_jQueryGS("<div>",{class:fW100}).append(priceBookOwnerObj).append(noteOwner).append(quoteOwnerObj).append(mandColValue).append(moduleNameObj))):"Quotes"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,quoteOwnerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),saleOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Quote_Stage"),subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),extraFieldLen=extraFeildsArr.length,stageClass=ownerClass=footerObj,""!==saleOwner&&""!==quoteOwnerObj&&(ownerClass=stageClass=rFW45),""===quoteOwnerObj&&""===saleOwner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),noteOwner=""!==quoteOwnerObj&&""!==saleOwner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",quoteOwnerObj=""!==quoteOwnerObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:quoteOwnerObj}).text(quoteOwnerObj):"",saleOwner=""!==saleOwner?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,gslabel:dispObj.Quote_Stage,gstitle:saleOwner}).text(saleOwner):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(quoteOwnerObj).append(noteOwner).append(saleOwner).append(mandColValue).append(moduleNameObj))):"SalesOrders"===module||"Sales_Orders"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),saleOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),accName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),statusClass=ownerClass="",ownerClass=statusClass=footerObj,""!==saleOwner&&""!==status&&(ownerClass=statusClass=rFW45),""!==accName&&(tempHeader=rTW70),extraFieldLen=extraFeildsArr.length,""===subject&&""===accName&&""===saleOwner&&""===stage&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj1,extraFieldObj2)),venObj=""!==saleOwner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:saleOwner}).text(saleOwner):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",vendorName=""!==status&&""!==saleOwner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),accObj=""!==accName?_jQueryGS("<span>",{class:accObj,gslabel:dispObj.Account_Name,gstitle:accName}).text(accName):"",sepeatorhypen=""!==accName?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(accObj)).append(_jQueryGS("<div>",{class:fW100}).append(venObj).append(vendorName).append(footerClass).append(mandColValue).append(moduleNameObj))):"PurchaseOrders"===module||"Purchase_Orders"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),ownerClass=venObj=statusClass=(statusClass=venObj=ownerClass="")!==(vendorName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"))&&""!==status?rFW30:rFW45,extraFieldLen=extraFeildsArr.length,""===subject&&""===status&&""===vendorName&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),venObj=""!==vendorName?_jQueryGS("<span>",{class:venObj,gslabel:dispObj.Vendor_Name,gstitle:vendorName}).text(vendorName):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==vendorName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(venObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Invoices"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),noteContent=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),""!==company&&(tempHeader=rTW70),ownerClass=statusClass=footerObj,""!==noteContent&&""!==status&&(ownerClass=statusClass=rFW45,noteOwner=_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;")),extraFieldLen=extraFeildsArr.length,""===noteContent&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),footerClass=""!==status?_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status,class:statusClass+" "+crmStatus}).text(status):"",noteContent=""!==noteContent?_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:noteContent,class:ownerClass}).text(noteContent):"",subObj=_jQueryGS("<a>",{gslabel:dispObj.Subject,gstitle:subject,href:hrefAttr,target:"_blank",rel:"noopener noreferrer",class:tempHeader,gs:"resultTitle"}).text(subject),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Company,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(noteContent).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Notes"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,titleObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Note_Title"),noteContent=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Note_Content"),noteOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),footerClass=footerObj,(footerObj="")!==noteContent?footerObj=_jQueryGS("<span>",{gslabel:dispObj.Note_Content,gstitle:noteContent,class:footerClass+" "+crmStatus}).text(noteContent):""!==noteOwner&&(footerObj=_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:noteOwner,class:footerClass}).text(noteOwner)),mandatoryColName.Note_Title=titleObj=""===titleObj?" --- No Title --- ":titleObj,titleObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Note_Title,gstitle:titleObj}).text(titleObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(footerObj).append(moduleNameObj))):(customModule=!0,extraFeildsArr=Object.keys(mandatoryColName),zgssearch.crmCustomMod[GSConstant.CRM+"_"+module]=customModule,extraFieldObj1=(mandColValue=gscrmresults.renderGenericValuesForCRM(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)).field1,extraFieldObj2=mandColValue.field2,extraSeperator=mandColValue.seperator,mandColValue=mandatoryColName[mandatoryColName=mandColValue.mandColName],fullNameObj=_jQueryGS("<a>",{class:rTW90,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj[mandatoryColName],gstitle:mandColValue}).text(mandColValue),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2).append(moduleNameObj))),resultCell=gscrmresults.getHeaderFooterElemsWidth(resultCell,module,customModule,resultAppendId,"zgs20_dummyCRMRes"),resultCellObj.resultCell=resultCell,resultCellObj.customModule=customModule,resultCellObj},gscrmresults.getCRMModuleTT=function(modLower,contName,moduleDispName){var imgObj="";return contName?(contName=modLower.charAt(0).toUpperCase(),imgObj=_jQueryGS("<span>",{class:"zgs19_circleText zgs19_gsfl",gstitle:moduleDispName,gs:"resultMenuItem"}).text(contName)):""!==modLower&&(modLower=modLower.toLowerCase(),imgObj=_jQueryGS("<span>",{class:"zgs19_crmModule zgs18_crm_"+modLower,gstitle:moduleDispName,gs:"resultMenuItem"})),imgObj},gscrmresults.renderGenericValuesForCRMModule=function(module,extraFieldsArr,resObj,extraSeperator,extraFieldObj1,extraFieldObj2){extraSeperator=gscrmresults.renderGenericValuesForCRM(module,extraFieldsArr,resObj,extraSeperator,extraFieldObj1,extraFieldObj2),extraFieldObj1=extraSeperator.field1,extraFieldObj2=extraSeperator.field2,extraSeperator=extraSeperator.seperator;return _jQueryGS("<div>",{class:""}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2)},gscrmresults.renderGenericValuesForCRM=function(currencyFieldVal,extraFields,resObj,lookupfieldVal,textfieldVal,ownerlookupfieldVal){var extraFieldObj={},rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",autoNumberFieldVal="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90";lookupfieldVal!==GSConstant.CRM_ALL_MODULES&&lookupfieldVal!==GSConstant.BIGIN_ALL_MODULES||(rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",autoNumberFieldVal="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70");var extraSeperator,key,extraField1="",extraField2="",finalObj={},phoneFieldObj=new Array,emailFieldObj=new Array,lookupFieldObj=new Array,ownerlookupFieldObj=new Array,picklistFieldObj=new Array,textFieldObj=new Array,currencyObj=new Array,autoNumberObj=new Array,dataObj=zgssearch[textfieldVal+"DataObj"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal],dispObj=zgssearch[textfieldVal+"DispObj"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal],mandatoryColName=zgssearch[textfieldVal+"MandName"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal];for(key in extraFields){var dataType,fieldName=extraFields[key];"null"!==resObj[fieldName]&&(dataType=dataObj[fieldName],mandatoryColName!==fieldName&&void 0!==dataType&&("phone"===dataType&&phoneFieldObj.push(fieldName),"email"===dataType&&emailFieldObj.push(fieldName),"picklist"===dataType&&picklistFieldObj.push(fieldName),"lookup"===dataType&&lookupFieldObj.push(fieldName),"ownerlookup"===dataType&&ownerlookupFieldObj.push(fieldName),"text"===dataType&&textFieldObj.push(fieldName),"currency"===dataType&&currencyObj.push(fieldName),"autonumber"===dataType&&autoNumberObj.push(fieldName)))}var phoneClass=emailClass=pickListFieldClass=lookupClass=ownerlookupClass=textFieldClass=currencyClass=auoNumberClass=autoNumberFieldVal,emailfieldVal=0<emailFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,emailFieldObj[0]):"",phonefieldVal=0<phoneFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,phoneFieldObj[0]):"",picklistfieldVal=0<picklistFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,picklistFieldObj[0]):"",lookupfieldVal=0<lookupFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,lookupFieldObj[0]):"",ownerlookupfieldVal=0<ownerlookupFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,ownerlookupFieldObj[0]):"",textfieldVal=0<textFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,textFieldObj[0]):"",currencyFieldVal=0<currencyObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,currencyObj[0]):"",autoNumberFieldVal=0<autoNumberObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,autoNumberObj[0]):"";return""!==textfieldVal&&(finalObj.text=_jQueryGS("<div>",{class:textFieldClass}).append(_jQueryGS("<span>",{gslabel:dispObj[textFieldObj[0]],gstitle:textfieldVal}).text(textfieldVal))),""!==currencyFieldVal&&(finalObj.currency=_jQueryGS("<div>",{class:currencyClass}).append(_jQueryGS("<span>",{gslabel:dispObj[currencyObj[0]],gstitle:currencyFieldVal}).text(currencyFieldVal))),""!==autoNumberFieldVal&&(finalObj.autonumber=_jQueryGS("<div>",{class:auoNumberClass}).append(_jQueryGS("<span>",{gslabel:dispObj[autoNumberObj[0]],gstitle:autoNumberFieldVal}).text(autoNumberFieldVal))),""!==picklistfieldVal&&(finalObj.picklist=_jQueryGS("<div>",{class:pickListFieldClass}).append(_jQueryGS("<span>",{gslabel:dispObj[picklistFieldObj[0]],gstitle:picklistfieldVal}).text(picklistfieldVal))),""!==ownerlookupfieldVal&&(finalObj.owner=_jQueryGS("<div>",{class:ownerlookupClass}).append(_jQueryGS("<span>",{gslabel:dispObj[ownerlookupFieldObj[0]],gstitle:ownerlookupfieldVal}).text(ownerlookupfieldVal))),""!==lookupfieldVal&&(finalObj.lookup=_jQueryGS("<div>",{class:lookupClass}).append(_jQueryGS("<span>",{gslabel:dispObj[lookupFieldObj[0]],gstitle:lookupfieldVal}).text(lookupfieldVal))),""!==phonefieldVal&&(finalObj.phone=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj[phoneFieldObj[0]],gstitle:phonefieldVal,gs:"contactPhone"}).text(phonefieldVal))),""!==emailfieldVal&&(finalObj.email=_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{gslabel:dispObj[emailFieldObj[0]],gstitle:emailfieldVal}).text(emailfieldVal))),finalObj.hasOwnProperty("email")&&(extraField1=finalObj.email),finalObj.hasOwnProperty("phone")&&(""===extraField1?extraField1=finalObj.phone:""===extraField2&&(extraField2=finalObj.phone)),finalObj.hasOwnProperty("lookup")&&(""===extraField1?extraField1=finalObj.lookup:""===extraField2&&(extraField2=finalObj.lookup)),finalObj.hasOwnProperty("owner")&&(""===extraField1?extraField1=finalObj.owner:""===extraField2&&(extraField2=finalObj.owner)),finalObj.hasOwnProperty("picklist")&&(""===extraField1?extraField1=finalObj.picklist:""===extraField2&&(extraField2=finalObj.picklist)),finalObj.hasOwnProperty("text")&&(""===extraField1?extraField1=finalObj.text:""===extraField2&&(extraField2=finalObj.text)),finalObj.hasOwnProperty("currency")&&(""===extraField1?extraField1=finalObj.currency:""===extraField2&&(extraField2=finalObj.currency)),finalObj.hasOwnProperty("autonumber")&&(""===extraField1?extraField1=finalObj.autonumber:""===extraField2&&(extraField2=finalObj.autonumber)),extraSeperator=""!==extraField1&&""!==extraField2?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",""!==extraField1&&""!==extraField2&&(_jQueryGS(extraField1).removeClass().addClass(rFW45),_jQueryGS(extraField2).removeClass().addClass(rFW45)),extraFieldObj.field1=extraField1,extraFieldObj.field2=extraField2,extraFieldObj.seperator=extraSeperator,extraFieldObj.mandColName=mandatoryColName,extraFieldObj},gscrmresults.getCRMFieldsArr=function(module,resObj){var fieldName,extraFieldsArr=new Array,fieldsArr=new Array,crmResObj={},modFieldsArr=gscrmresults.getCRMModuleFields(module);for(fieldName in resObj)zgssearch.isArrayContain(fieldName,modFieldsArr)?fieldsArr.push(fieldName):"id"!==fieldName&&"mod"!==fieldName&&extraFieldsArr.push(fieldName);return crmResObj.obtainedFieldArr=fieldsArr,crmResObj.extraFieldsArr=extraFieldsArr,crmResObj},gscrmresults.getCRMModuleFields=function(module){switch(module){case"Leads":return["Full_Name","Company","Email","Phone","Lead_Status"];case"Contacts":return["Full_Name","Account_Name","Email","Phone","Mobile"];case"Accounts":return["Account_Name","Account_Type","Website","Phone"];case"Potentials":return["Potential_Name","Potential_Owner","Account_Name","Stage"];case"Deals":return["Deal_Name","Deal_Owner","Account_Name","Stage","Amount"];case"Events":return["Event_Title","Start_DateTime","End_DateTime","Venue"];case"Calls":return["Subject","Call_Start_Time","Call_Type","Call_Purpose"];case"Tasks":return["Subject","Task_Owner","Status"];case"Cases":return["Subject","Type","Product_Name","Status"];case"Quotes":return["Subject","Quote_Owner","Quote_Stage"];case"PurchaseOrders":case"Purchase_Orders":return["Subject","Purchase_Order_Owner","Vendor_Name","Status"];case"SalesOrders":case"Sales_Orders":return["Subject","Sales_Order_Owner","Account_Name","Status"];case"PriceBooks":case"Price_Books":return["Price_Book_Name","Price_Book_Owner","Active"];case"Products":return["Product_Name","Product_Owner","Vendor_Name","Product_Active"];case"Vendors":return["Vendor_Name","Email","Website","Phone"];case"Campaigns":return["Campaign_Name","Status","Type","Start_Date","End_Date"];case"Solutions":return["Solution_Title","Solution_Owner","Status","Product_Name"];case"Invoices":return["Subject","Invoice_Owner","Status"];case"Notes":return["Note_Title","Note_Content"]}},gscrmresults.getProperValueFromDataTypeForCRM=function(resObj,finalVal){finalVal=resObj[finalVal];return""!==zgssearch.checkUndefined(finalVal)?finalVal:""},gscrmresults.removeStartsWithClass=function(ele,startsWithCls){if(void 0!==ele){for(var cl=_jQueryGS(ele).attr("class").split(" "),newcl=[],i=0;i<cl.length;i++)r=cl[i].search(startsWithCls),r&&(newcl[newcl.length]=cl[i]);_jQueryGS(ele).removeClass().addClass(newcl.join(" "))}return ele},gscrmresults)}(zgssearch,window),function(zgssearch,gsdocsresults){var _jQueryGS=gsdocsresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsdocsresults=(gsdocsresults=void 0,(gsdocsresults=zgssearch.gsdocsresults||{}).getHtmlTemplate=function(name,acc_id,href,id,service_name,i){var dAuthor=name.author||name.path||name.owner||name.createdBy||"",serviceImgTitle=name.shared||"",dName=name.doc_name||name.name||"",sharedIcon=name.shared_type||"",serviceImg=name.servImg||"",footerTip=serviceImgTitle?3===sharedIcon?1:0:"",dTime=name.display_time||name.time||name.lmtime||"",serviceImgTitle=zgssearch.getDocResTT(serviceImg);service_name==GSConstant.ONEDRIVE&&name.sharedByMe&&(name.sharedByMe&&(footerTip=""),name.sharedByUserName&&(dAuthor=name.sharedByUserName));sharedIcon=""!==footerTip?_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+zgssearch.docsShared[footerTip].icon,gstitle:zgssearch.docsShared[footerTip].title}):"";service_name==GSConstant.GOOGLEDRIVE&&name.stm&&(sharedIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+zgssearch.docsShared[0].icon,gstitle:zgssearch.docsShared[0].title}));footerTip=zgssearch.getI18NMsg("common.author");return service_name==GSConstant.DROPBOX&&(dTime=name.time||"",footerTip=name=(name=zgssearch.getI18NMsg("common.path")).charAt(0).toUpperCase()+name.slice(1)),_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+serviceImg,gstitle:serviceImgTitle,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.result.document.documentName"),gstitle:dName,istip:!0}).text(dName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid70Per",gslabel:footerTip,gstitle:dAuthor,istip:!0}).text(dAuthor)).append(sharedIcon)))},gsdocsresults)}(zgssearch,window),function(zgssearch,gsmailresults){var _jQueryGS=gsmailresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsmailresults=(gsmailresults=void 0,(gsmailresults=zgssearch.gsmailresults||{}).getHtmlTemplate=function(folderDiv,acc_id,href,id,service_name,i,totalResWidth,mAttachIcon){var searchInsType=mAttachIcon.hasOwnProperty("type")?mAttachIcon.type:"Search",filterDisplay=!mAttachIcon.hasOwnProperty("filters")||mAttachIcon.filters,searchType=zgssearch.getSearchType(),mSender=folderDiv.sender||"",mDate=folderDiv.display_time||"",folderId=folderDiv.folder_id||"",mFolder=folderDiv.folder_name||"",isMultiFolder=folderDiv.has_attachment||"",mailImg=zgssearch.getMailImageStatus(folderDiv.servImg),mSubject=zgssearch.replaceHTMLEntity(folderDiv.subject)||"",unreadMailClass="true"===folderDiv.isBold?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",mAttachIcon="";"1"===isMultiFolder&&(mAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));mSubject=mSubject||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",folderDiv="",isMultiFolder=zgssearch.isMultiSelectResults(GSConstant.MAILS,"folders","allfolders"),folderDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiFolder)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:GSConstant.MAILS,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:mFolder,istip:!0,gs:"mailfolder",fId:folderId,acc_id:acc_id}).text(mFolder)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:mFolder,istip:!0}).text(mFolder));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:mailImg.image,gstitle:mailImg.title,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:mDate}).text(mDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(mAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,class:unreadMailClass,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("common.subject"),gstitle:mSubject,istip:!0}).text(mSubject))).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(folderDiv)).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:mSender,istip:!0}).text(mSender))))},gsmailresults)}(zgssearch,window),function(zgssearch,gsstreamsresults){var _jQueryGS=gsstreamsresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsstreamsresults=(gsstreamsresults=void 0,(gsstreamsresults=zgssearch.gsstreamsresults||{}).getHtmlTemplate=function(folderDiv,acc_id,href,id,service_name,i,totalResWidth,mtitle){var searchInsType=mtitle.hasOwnProperty("type")?mtitle.type:"Search",filterDisplay=!mtitle.hasOwnProperty("filters")||mtitle.filters,searchType=zgssearch.getSearchType(),ownerZuidOrName=(GSConstant.cuz||"")==(folderDiv.hasOwnProperty("owner")?folderDiv.owner:"")?zgssearch.getI18NMsg("common.me"):folderDiv.name,groupName=folderDiv.gN||"",canshowgrp=groupName?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",time=folderDiv.time||"",entityType=folderDiv.entityType||"",currentEntityType=zgssearch.entityTypeTitleMap[entityType],entityTypeTitle=currentEntityType.title,unreadMailClass=folderDiv.title||"",mtitle=zgssearch.replaceHTMLEntity(unreadMailClass)||"",unreadMailClass="true"===folderDiv.isB?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",mtitle=mtitle||currentEntityType.notitle,folderDiv="",currentEntityType=zgssearch.getFilterInfo(GSConstant.MAILS,"entity_type","current"),folderDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||"-1"===currentEntityType)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:GSConstant.STREAMS,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_entity"),gstitle:entityTypeTitle,istip:!0,gs:"streamEntityType",eId:entityType,acc_id:acc_id}).text(entityTypeTitle)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter.entity_type"),gstitle:entityTypeTitle,istip:!0}).text(entityTypeTitle));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}).append(_jQueryGS("<img>",{class:"",gs:"gsUserPhoto",group:"",src:zgssearch.gsspacer,gstitle:"",gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:time}).text(time))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,class:unreadMailClass,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("common.subject"),gstitle:mtitle,istip:!0}).text(mtitle)))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(folderDiv)).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow zgs19_gsWid70Per"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:ownerZuidOrName,istip:!0}).text(ownerZuidOrName))).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per zgs19_gsPdLt3Px "+canshowgrp}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0))).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon",gstitle:zgssearch.getI18NMsg("gs.search.filter.sharedthisentity")})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),gstitle:groupName,istip:!0}).text(groupName))))))},gsstreamsresults)}(zgssearch,window),function(zgssearch,window){var gsreportresults,_jQueryGS=window._jQueryGS;zgssearch.gsreportresults=(gsreportresults=void 0,(gsreportresults=zgssearch.gsreportresults||{}).getHtmlTemplate=function(resPanLHSServiceIconEle,acc_id,href,id,service_name,i,totalResWidth,serviceImgCls){var searchInsType=serviceImgCls.hasOwnProperty("type")?serviceImgCls.type:"Search",lastModAuthor=resPanLHSServiceIconEle.auth||resPanLHSServiceIconEle.mBy,viewName=resPanLHSServiceIconEle.vN||"",dTime=resPanLHSServiceIconEle.time||"",serviceImgCls=resPanLHSServiceIconEle.ty||"",resPanLHSServiceIconEle=gsreportresults.getReportsResTT(serviceImgCls),serviceImgCls=resPanLHSServiceIconEle.image,resPanLHSServiceIconEle=_jQueryGS("<span>",{class:serviceImgCls,gstitle:resPanLHSServiceIconEle.title,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImgCls,resPanLHSServiceIconEle,!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.reports.viewModifiedTime"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.result.reports.viewName"),gstitle:viewName,istip:!0}).text(viewName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.reports.lastModifiedAuthor"),gstitle:lastModAuthor,istip:!0}).text(lastModAuthor))))},gsreportresults.getReportsResTT=function(type){var reportsImgObj={};switch(reportsImgObj.image="zgs18_analytics_"+type.toLowerCase(),type){case"Dashboard":reportsImgObj.title=zgssearch.getI18NMsg("common.d.dashboard");break;case"Table":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.table");break;case"AnalysisView":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.analysisview");break;case"QueryTable":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.querytable");break;case"Report":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.tableview");break;case"SummaryView":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.summaryview");break;case"Pivot":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.pivot")}return reportsImgObj},gsreportresults)}(zgssearch,window),function(zgssearch,window){var gssupportresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupportresults=(gssupportresults=void 0,(gssupportresults=zgssearch.gssupportresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curPortalId){var totalResWidth=totalResWidth||_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,serviceImgCls=gssupportresults.getSupportResObj(resObj),sTime=serviceImgCls.sTime||"",sTitle=serviceImgCls.sTitle||"",resPanLHSServiceIconEle=serviceImgCls.module||"",sAuthor=serviceImgCls.sAuthor||"",searchInsType=curPortalId.hasOwnProperty("type")?curPortalId.type:"Search",filterDisplay=!curPortalId.hasOwnProperty("filters")||curPortalId.filters;resObj.webUrl=zgssearch.fetchCalloutUrlByAccId(GSConstant.SUPPORT,resObj,acc_id);var sAttachIcon="",dept_name=resObj.DEP_NAME||"",sEmail=resObj.module_id||"",deptId=resObj.DEP_ID||"",isMultiDeptment=resObj.ATTACHMENT_NAMES||"",tipTxt="";switch(sEmail){case"1":tipTxt=zgssearch.getI18NMsg("common.author");break;case"2":tipTxt=zgssearch.getI18NMsg("gs.search.result.support.category")}isMultiDeptment&&(sAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var sFooterDiv1,column1_perc,sWeb,footerDiv="",titlewid="zgs19_gsWid75Per",sPhone="",sconObj={cell1:"",cell2:""},moduleDiv="",dept_name_length=zgssearch.gssupport.getModuleName(sEmail,acc_id),column2_perc=zgssearch.isMultiSelectResults(GSConstant.SUPPORT,"modules","0");dept_name_length&&(totalResWidth-=25*totalResWidth/100,moduleDiv=filterDisplay&&column2_perc?_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:dept_name_length,gs:"deskModules",fId:sEmail,depId:deptId,acc_id:acc_id}).text(dept_name_length))):_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.module"),gstitle:dept_name_length,istip:!0}).text(dept_name_length)))),"1"==sEmail||"2"==sEmail?(column1_perc=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),curPortalId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"accounts","current"),isMultiDeptment=zgssearch.isMultiSelectResults(GSConstant.SUPPORT,"departments","0"),sWeb=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:column1_perc}).text(column1_perc),column2_perc=sAuthor.length,dept_name_length=dept_name.length,column1_perc=Math.ceil(column2_perc/(dept_name_length+column2_perc)*75),column2_perc=Math.ceil(dept_name_length/(dept_name_length+column2_perc)*75),sPhone=filterDisplay&&dept_name&&(isMultiDeptment||"0"==curPortalId)?_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:dept_name,istip:!0,class:"zgs19_hvr_underline",gs:"deskDept",gsfilter:"deptName",fId:deptId,acc_id:acc_id}).text(dept_name)):_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:dept_name,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault"}).text(dept_name)),_jQueryGS(sPhone).css("max-width",column2_perc+"%"),sFooterDiv1=_jQueryGS("<div>",{class:"zgs19_gsResultSupportAuthor zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:tipTxt,gstitle:sAuthor,istip:!0}).text(sAuthor)),_jQueryGS(sFooterDiv1).css("max-width",column1_perc+"%"),footerDiv=_jQueryGS("<div>",{class:"zgs19_gsSupportFooter"}).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsWid75Per"}).append(sFooterDiv1).append(sWeb).append(sPhone)).append(moduleDiv)):"3"!=sEmail&&"4"!=sEmail||(sWeb=resObj.WEBSITE||"",sPhone=resObj.PHONE||"",sEmail=resObj.EMAIL||"",titlewid="zgs19_gsWid97Per",sconObj=gssupportresults.getContactUserDetails(service_name,totalResWidth,sEmail,sPhone,sWeb),footerDiv=_jQueryGS("<div>").append(sconObj.cell1).append(sconObj.cell2).append(moduleDiv));serviceImgCls=serviceImgCls.image,resPanLHSServiceIconEle=_jQueryGS("<span>",{class:serviceImgCls,gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.module"),gstitle:resPanLHSServiceIconEle,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImgCls,resPanLHSServiceIconEle,!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:sTime}).text(sTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsOverflow "+titlewid}).append(sAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:resObj.webUrl,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:sTitle}).text(sTitle))).append(footerDiv))},gssupportresults.getSupportResObj=function(resObj){var sresObj={};switch(resObj.module_id){case"1":sresObj.module="Request",sresObj.image="zgs18_gsSuppRequestIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.CONTACTNAME||"",sresObj.sTitle=resObj.support_title||"";break;case"2":sresObj.module="FAQ",sresObj.image="zgs18_gsSuppSolutionIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.TOPIC_NAME||"",sresObj.sTitle=resObj.support_title||"";break;case"3":sresObj.module="Contacts",sresObj.image="zgs18_gsSuppContactIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||"";break;case"4":sresObj.module="Accounts",sresObj.image="zgs18_gsSuppAccountIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||""}return sresObj},gssupportresults.getContactUserDetails=function(service_name,totalResWidth,cell2_span,field1_width,col3,field2_width){var phIcon,cell1="",cell2="";return col3&&(phIcon="",service_name!=GSConstant.SUPPORT&&(phIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})),cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(phIcon).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.support.callout.weburl"),gstitle:col3}).text(col3))),field1_width&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.mobile"),gstitle:field1_width}).text(field1_width))),field2_width&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{gstitle:field2_width}).text(field2_width))),cell2_span&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.email"),gstitle:cell2_span}).text(cell2_span))),_jQueryGS(cell1).css("maxWidth",totalResWidth),cell2&&(field2_width=field1_width=0,(-1<(cell2_span=_jQueryGS(cell1).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<cell2_span.hasClass("zgs19_gsContactMobileImg"))&&(field2_width=totalResWidth-(field1_width=120)),(-1<(cell2_span=_jQueryGS(cell2).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<cell2_span.hasClass("zgs19_gsContactMobileImg"))&&(field1_width=totalResWidth-(field2_width=120)),_jQueryGS(cell1).css("maxWidth",field1_width+"px"),_jQueryGS(cell2).css("maxWidth",field2_width+"px"),_jQueryGS(cell2).css("margin-left","8px")),{cell1:cell1,cell2:cell2}},gssupportresults)}(zgssearch,window),function(zgssearch,window){var gswebsiteresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswebsiteresults=(gswebsiteresults=void 0,(gswebsiteresults=zgssearch.gswebsiteresults||{}).getHtmlTemplate=function(videoIcon,acc_id,href,id,service_name,i,totalResWidth,serviceNameObj){var searchInsType=serviceNameObj.hasOwnProperty("type")?serviceNameObj.type:"Search",filterDisplay=!serviceNameObj.hasOwnProperty("filters")||serviceNameObj.filters,summaryEle=videoIcon.sm||"",resPanLHSServiceIconEle=videoIcon.s||"",wTitle=zgssearch.replaceHTMLEntity(videoIcon.t)||"",serviceImg=gswebsiteresults.getPageResTT(resPanLHSServiceIconEle).image,isMultiService=zgssearch.isMultiSelectResults(GSConstant.WEBSITE,"serviceType","all_applications"),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),categoryId=resPanLHSServiceIconEle,canShowCateg=void 0!==(resPanLHSServiceIconEle=zgssearch.getFilterInfo(GSConstant.WEBSITE,"serviceType","data")[resPanLHSServiceIconEle])&&""!==resPanLHSServiceIconEle,categCls=canShowCateg?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",serviceNameObj="",summaryEle=""!==summaryEle?_jQueryGS("<div>",{class:"zgs19_gsResultSummary"}).html(summaryEle):"",serviceNameObj=(serviceNameObj=filterDisplay&&isMultiService?canShowCateg?_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline zgs19_gsfl zgs19_gsPdLt3Px",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:resPanLHSServiceIconEle,gs:"gsWebService",key:categoryId,fkey:"serviceType"}).text(resPanLHSServiceIconEle):"":canShowCateg?_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter_through.service"),gstitle:resPanLHSServiceIconEle}).text(resPanLHSServiceIconEle):"",_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(serviceNameObj))),videoIcon=videoIcon.vURL?_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsHPVideotime"}):"",resPanLHSServiceIconEle=_jQueryGS("<span>",{class:"zgs19_gsUniIconWebsiteRes "+serviceImg,gstitle:resPanLHSServiceIconEle,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImg,resPanLHSServiceIconEle,!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsMxWid75Per zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:wTitle}).text(wTitle))).append(videoIcon).append(summaryEle).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow "+categCls}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:intxt}).text(intxt)).append(serviceNameObj)))},gswebsiteresults.getPageResTT=function(wService){var websiteImgObj={image:"zgs18_wdefaultpage"};switch(wService){case"lens":case"marketinghub":case"bookings":case"sheet":case"orchestly":case"catalyst":case"bigin":case"analytics":case"accounts":case"assist":case"books":case"bugtracker":case"backstage":case"campaigns":case"cliq":case"connect":case"contactmanager":case"creator":case"crm":case"calendar":case"docs":case"desk":case"developer":case"expense":case"flow":case"forms":case"inventory":case"invoice":case"notebook":case"mail":case"motivator":case"meeting":case"pagesense":case"people":case"projects":case"recruit":case"salesinbox":case"salesiq":case"show":case"showtime":case"sign":case"social":case"subscriptions":case"survey":case"sites":case"sprints":case"vault":case"writer":case"workerly":case"workdrive":websiteImgObj.image="zgs18_w"+wService}return websiteImgObj},gswebsiteresults)}(zgssearch,window),function(zgssearch,gswikiresults){var _jQueryGS=gswikiresults._jQueryGS;zgssearch.gswikiresults=(gswikiresults=void 0,(gswikiresults=zgssearch.gswikiresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,wAttachIcon){var searchInsType=wAttachIcon.hasOwnProperty("type")?wAttachIcon.type:"Search",wAuth=resObj.dN||"",wDate=resObj.dT||"",wName=zgssearch.replaceHTMLEntity(resObj.title)||"";null!=wAuth&&""!=wAuth&&"null"!=wAuth||(wAuth=resObj.dN=resObj.auth);var servWikiImg=resObj.sImg,wikiTT=zgssearch.getDocResTT(servWikiImg),wAttachIcon="";return 1==resObj.ty&&(wAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"})),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+servWikiImg,gstitle:wikiTT,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:wDate}).text(wDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(wAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.result.wiki.resultfooter.wikiName"),gstitle:wName,istip:!0}).text(wName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:wAuth,istip:!0}).text(wAuth))))},gswikiresults)}(zgssearch,window),function(zgssearch,window){var gsbooksresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsbooksresults=(gsbooksresults=void 0,(gsbooksresults=zgssearch.gsbooksresults||{}).getHtmlTemplate=function(booksTemplate,acc_id,itextTrim,id,service_name,i,totalResWidth,bmodules){var searchInsType=bmodules.hasOwnProperty("type")?bmodules.type:"Search",booksIconClass=!bmodules.hasOwnProperty("filters")||bmodules.filters,bmodules=booksTemplate.modules||"",booksTemplate=gsbooksresults.getBooksResTemplate(service_name,bmodules,booksTemplate,acc_id,itextTrim,booksIconClass);if(0<Object.keys(booksTemplate).length){itextTrim="",booksIconClass="";return"contacts"===bmodules?booksIconClass="zgs19_gsfl zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto":(booksIconClass="zgs19_gsResultIconText zgs19_gsfl "+gsbooksresults.getBooksRandColor(i),itextTrim=zgssearch.getFilterData(service_name,"modules","data",bmodules,acc_id).substring(0,2).toUpperCase()),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:booksIconClass,gs:"resultMenuItem"}).text(itextTrim)))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(booksTemplate.row1||"").append(booksTemplate.row2||"").append(booksTemplate.row3||""))}},gsbooksresults.getBooksRandColor=function(i){var colorCodeClass=["zgs19_gs69C310Col","zgs19_gsF54746Col","zgs19_gsB148F3Col","zgs19_gs5b63f1Col","zgs19_gsdc970fCol","zgs19_gs2EA6B5Col",,"zgs19_gs707070Col"];return colorCodeClass[i%colorCodeClass.length]},gsbooksresults.getBooksResTemplate=function(service_name,bmodules,resObj,acc_id,href,filterDisplay){var booksTemplates={},modulesDiv="",isMultiModule=zgssearch.isMultiSelectResults(service_name,"modules","all"),moduleName=zgssearch.getFilterData(service_name,"modules","data",bmodules,acc_id),modulesDiv=filterDisplay&&(service_name===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiModule)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:moduleName,service:service_name,acc_id:acc_id,gs:service_name+"Modules",fId:bmodules}).text(moduleName)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.module"),gstitle:moduleName}).text(moduleName));switch(bmodules){case"contacts":booksTemplates=gsbooksresults.getBooksResTemp1(resObj,modulesDiv,href);break;case"estimates":case"invoices":case"creditnotes":booksTemplates=gsbooksresults.getBooksResTemp2(resObj,modulesDiv,bmodules,href);break;case"customerpayments":booksTemplates=gsbooksresults.getBooksResTemp3(resObj,modulesDiv,href);break;case"recurring_invoices":booksTemplates=gsbooksresults.getBooksResTemp4(resObj,modulesDiv,href)}return booksTemplates},gsbooksresults.getBooksResTemp1=function(bepmTip,modulesDiv,href){var booksTemplates={},bepm=bepmTip.name||"";bepm&&(booksTemplates.icon_text=bepm||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl3"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid97Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:bepm,istip:!0}).text(bepm))));bepm=bepmTip.email||bepmTip.phone||bepmTip.mobile||"";return booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)),bepm&&(bepmTip=bepmTip.email?zgssearch.getI18NMsg("common.email"):zgssearch.getI18NMsg("common.mobile"),booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksResT1R2C1C1",gslabel:bepmTip,gstitle:bepm}).text(bepm)))),booksTemplates},gsbooksresults.getBooksResTemp2=function(brefname,modulesDiv,bmodules,bdate){var booksTemplates={},bamt=brefname.amt||"",t1_dateElem=brefname.name||"";(t1_dateElem||bamt)&&(booksTemplates.icon_text=t1_dateElem||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bamt}).text(bamt))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:bdate,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.billto"),gstitle:t1_dateElem,istip:!0}).text(t1_dateElem))));bdate=brefname.date||"",t1_dateElem=brefname.status||"",brefname=brefname.refname||"";if(booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)),brefname||bdate||t1_dateElem){var t1_dateElem="",invNoTip="";switch(bmodules){case"invoices":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.invoiceno");break;case"estimates":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.estimateno");break;case"creditnotes":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.creditnoteno")}brefname&&(t1_dateElem=_jQueryGS("<span>",{class:"zgs19_gsBooksResT1R2C1C2 zgs19_gsSeparationline",gslabel:zgssearch.getI18NMsg("gs.search.service_books.duedate"),gstitle:bdate}).text(bdate)),booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksResT1R2C1C1",gslabel:invNoTip,gstitle:brefname,istip:!0}).text(brefname)).append(t1_dateElem))}return booksTemplates},gsbooksresults.getBooksResTemp3=function(bpmode,modulesDiv,href){var booksTemplates={},bamt=bpmode.amt||"",bdate=bpmode.name||"";(bdate||bamt)&&(booksTemplates.icon_text=bdate||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl2"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bamt}).text(bamt))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.billto"),gstitle:bdate,istip:!0}).text(bdate))));bdate=bpmode.date||"",bpmode=bpmode.pmode||"";return booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)),(bamt||bpmode)&&booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksResT1R2C1C1",gslabel:zgssearch.getI18NMsg("gs.search.service_books.paymentdate"),gstitle:bdate}).text(bdate)).append(_jQueryGS("<span>",{class:"zgs19_gsBooksResT1R2C1C2 zgs19_gsSeparationline",gslabel:zgssearch.getI18NMsg("gs.search.service_books.paymentmode"),gstitle:bpmode,istip:!0}).text(bpmode))),booksTemplates},gsbooksresults.getBooksResTemp4=function(bduedate,duedateText,bcname){var booksTemplates={},bamt=bduedate.amt||"",bfrequency=bduedate.name||"";(bfrequency||bamt)&&(booksTemplates.icon_text=bfrequency||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl4"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bamt}).text(bamt))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:bcname,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.recurrencename"),gstitle:bfrequency,istip:!0}).text(bfrequency))));bcname=bduedate.cname||"",bfrequency=bduedate.frequency||"";(bcname||bfrequency)&&(booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl4"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.recurringperiod"),gstitle:bfrequency}).text(bfrequency))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.custname"),gstitle:bcname,istip:!0}).text(bcname))));bduedate=bduedate.duedate||"";return booksTemplates.row3=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl4"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(duedateText)),bduedate&&(duedateText=zgssearch.getI18NMsg("gs.search.service_books.nextinvoiceon")+" "+bduedate,booksTemplates.row3.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R3C1 zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.duedate"),gstitle:bduedate}).text(duedateText)))),booksTemplates},gsbooksresults)}(zgssearch,window),function(zgssearch,gscampaignresults){var _jQueryGS=gscampaignresults._jQueryGS;zgssearch.gscampaignresults=(gscampaignresults=void 0,(gscampaignresults=zgssearch.gscampaignresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,cfname){var oemail,clanem,searchInsType=cfname.hasOwnProperty("type")?cfname.type:"Search",camIcon="",camTitle="",camTitleLabel="",camModule="",camAuth="",camAuthLabel="",camDate="";return"1"==acc_id?(camDate=resObj.cct||"",camAuth=resObj.cst||"",camTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.email)||"",camIcon="zgs18_gsCampIcon",camModule=zgssearch.getI18NMsg("gs.search.service_campaigns"),camTitleLabel=zgssearch.getI18NMsg("common.subject"),camAuthLabel=zgssearch.getI18NMsg("common.status")):"2"==acc_id?(oemail=resObj.c_mail||"",clanem="null"!=(clanem=resObj.ln.trim()||"")?clanem:"",(cfname="null"!=(cfname=resObj.fNam.trim()||"")?cfname:"")||clanem?camTitle=resObj.title=(camTitle=cfname+" "+clanem).trim():oemail&&(camTitle=resObj.title=oemail.replace(/@.*$/,"")),camIcon="zgs18_gsCampContIcon",camAuth=oemail||resObj.ph||"",camTitleLabel=zgssearch.getI18NMsg("gs.search.service_people.name"),camModule=zgssearch.getI18NMsg("common.contact"),camAuthLabel=oemail?zgssearch.getI18NMsg("common.email"):zgssearch.getI18NMsg("common.mobile")):"3"==acc_id&&(camDate=resObj.ct||"",camAuth=resObj.oNam||"",camTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.lNam)||"",camIcon="zgs18_gsCampListIcon",camModule=zgssearch.getI18NMsg("gs.search.campaign.callout.lists"),camTitleLabel=zgssearch.getI18NMsg("gs.search.service_people.name"),camAuthLabel=zgssearch.getI18NMsg("common.description")),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:camIcon,gstitle:camModule,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:camDate}).text(camDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append("").append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:camTitleLabel,gstitle:camTitle}).text(camTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:camAuthLabel,gstitle:camAuth,istip:!0}).text(camAuth))))},gscampaignresults)}(zgssearch,window),function(zgssearch,window){var gsworkdriveresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsworkdriveresults=(gsworkdriveresults=void 0,(gsworkdriveresults=zgssearch.gsworkdriveresults||{}).RESULTS_WIDTH={},gsworkdriveresults.getHtmlTemplate=function(labelName,acc_id,href,id,rightFilter,i,totalResWidth,currentFolder){var searchInsType=currentFolder.hasOwnProperty("type")?currentFolder.type:"Search",filterDisplay=!currentFolder.hasOwnProperty("filters")||currentFolder.filters,dAuthor=labelName.auth||"",dName=labelName.dN||"",dTime=labelName.time||"",imageIconClass=(labelName.zuid,labelName.imgIcon),serviceImgTitle=zgssearch.getDocResTT(imageIconClass),fId=labelName.fId||"",teamId=labelName.tId||-1,edition=zgssearch.editionTypeForWD,leftFilter="ENTERPRISE"===edition?"teams":"accounts",teamName=zgssearch.getFilterData(rightFilter,leftFilter,"data",teamId),inTxt=zgssearch.getFilterData(rightFilter,"folders","data",fId,teamId),searchType=zgssearch.getFilterData(rightFilter,"folders","data",fId,"3"),isFolder="";""==inTxt&&""!==searchType?(isFolder=searchType,teamId="3",teamName=zgssearch.getI18NMsg("gs.search.filter.orgfolders")):""!==inTxt&&""==searchType&&(isFolder=inTxt);var leftElem,currentTeam=zgssearch.getFilterInfo(rightFilter,leftFilter,"current"),currentFolder=zgssearch.getFilterInfo(rightFilter,"folders","current"),searchType=zgssearch.getSearchType(),inTxt="",leftFilter="",rightFilter="";"ENTERPRISE"===edition&&teamId?"-1"!=teamId&&""!==teamName&&(""!==isFolder&&(leftFilter=_jQueryGS("<span>",filterDisplay&&"allfolders"===currentFolder?{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsMxWid80Per",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:isFolder,istip:!0,gsfilter:"leftFilter",gs:"workDriveFolders",fId:fId,acc_id:teamId}:{class:"zgs19_gsOverflow  zgs19_gsCurDefault zgs19_gsWid90Per",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:isFolder}).text(isFolder),inTxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),leftElem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow",gs:"folderTitle"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(inTxt)).append(leftFilter)),rightFilter=!filterDisplay||searchType!==GSConstant.ALL&&"0"!==currentTeam?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsfr zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter_label_team"),gstitle:teamName,istip:!0}).text(teamName)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_team"),gstitle:teamName,gs:"workDriveTeams",gsfilter:"rightFilter",teamId:teamId,istip:!0}).text(teamName))):"TEAM"===edition&&""!==isFolder&&(rightFilter=!filterDisplay||searchType!==GSConstant.ALL&&"0"!==currentFolder?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:isFolder}).text(isFolder)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:isFolder,gs:"workDriveFolders",gsfilter:"rightFilter",fId:fId,acc_id:teamId}).text(isFolder)));isFolder=labelName.isF||"",labelName="",labelName=isFolder&&"true"===isFolder?zgssearch.getI18NMsg("gs.search.result.document.folderName"):zgssearch.getI18NMsg("gs.search.result.document.documentName");return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+imageIconClass,gstitle:serviceImgTitle,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:labelName,gstitle:dName}).text(dName)))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsMxWid78Per zgs19_gsWid78Per zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid100Per",gslabel:zgssearch.getI18NMsg("common.author"),gstitle:dAuthor,istip:!0}).text(dAuthor))).append(leftElem)).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsOverflow zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(rightFilter))))},gsworkdriveresults.setResultsWidthInfo=function(service_name,account_id,service_info){gsworkdriveresults.RESULTS_WIDTH[service_name]=gsworkdriveresults.RESULTS_WIDTH[service_name]||{},null!=account_id&&"0"!==account_id?gsworkdriveresults.RESULTS_WIDTH[service_name][account_id]=service_info:gsworkdriveresults.RESULTS_WIDTH[service_name]=service_info},gsworkdriveresults.getResultsWidthInfo=function(results_width,account_id){results_width=gsworkdriveresults.RESULTS_WIDTH[results_width]||{};return results_width=void 0!==account_id&&"0"!==account_id?results_width[account_id]||{}:results_width},gsworkdriveresults.setFooterElementsWidth=function(prev_last_element_id){var service_results_view_id,div_id,service_name=prev_last_element_id.service_name,results_area_width=prev_last_element_id.total_results_area_width,account_id=prev_last_element_id.account_id,service_info=gsworkdriveresults.getResultsWidthInfo(service_name,account_id),prev_last_element_id=service_info.current_last_elem_id||"",current_last_elem_id="",second_row_remaining_width=Math.floor((results_area_width-50-15)/100*80),elem_widths_obj={};for(div_id in(""===prev_last_element_id?(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled?_jQueryGS("#"+(service_results_view_id="zgs20_gs"+account_id+"Results")+" >div"):_jQueryGS("#"+service_results_view_id+" >div")):(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled&&(service_results_view_id="zgs20_gs"+account_id+"Results"),_jQueryGS("#"+service_results_view_id).find("#"+prev_last_element_id).first().nextAll())).each(function(index){var div_id=_jQueryGS(this).attr("id"),footer2_elem_width=_jQueryGS(this).find(".zgs19_gsContactNumber"),footer_elements_length=footer2_elem_width.length,footer1_elem_width=0<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[0]).outerWidth()+15:0,footer2_elem_width=1<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[1]).outerWidth()+15:0;footer2_elem_width=second_row_remaining_width<=footer1_elem_width?(elements_width=footer2_elem_width/(footer1_elem_width+footer2_elem_width)*100,footer1_elem_width=Math.floor(second_row_remaining_width/100*(footer1_elem_width/(footer1_elem_width+footer2_elem_width)*100)),Math.floor(second_row_remaining_width/100*elements_width)):second_row_remaining_width-footer1_elem_width;var elements_width=[];elements_width.push(footer1_elem_width),elements_width.push(footer2_elem_width),elem_widths_obj[div_id]=elements_width,current_last_elem_id=div_id}),elem_widths_obj){var footer_elements_length=_jQueryGS("#"+div_id),elements_width=elem_widths_obj[div_id],footer_elements=footer_elements_length.find(".zgs19_gsContactNumber"),footer_elements_length=footer_elements.length;0<footer_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[0]+"px"),1<footer_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[1]+"px"))}(service_info={}).results_area_width=results_area_width,service_info.results_icon_width=50,service_info.prev_last_element_id=prev_last_element_id,service_info.current_last_elem_id=current_last_elem_id,gsworkdriveresults.setResultsWidthInfo(service_name,account_id,service_info)},gsworkdriveresults)}(zgssearch,window),function(zgssearch,window){var gsslackres,_jQueryGS=window._jQueryGS,document=(zgssearch.getGSConstantObj(),window.document);zgssearch.gsslackres=(gsslackres=void 0,(gsslackres=zgssearch.gsslackres||{}).getIconInfo=function(serviceImg){var icon_info={},module_id=serviceImg.module_id||"",result_type=serviceImg.result_type||"",attach_icon="",icon_title="",group_icon="",tagName="span";return 2==module_id||3==module_id||4==module_id?(attach_icon="resultMenuItem",group_icon=(serviceImg.hasOwnProperty("is_priv")&&serviceImg.is_priv?serviceImg.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==module_id?icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.channel"):2!=module_id&&4!=module_id||(icon_title=zgssearch.getI18NMsg("gs.search.result.slack.callout.group"))):1!=module_id&&5!=module_id||(attach_icon="gsUserPhoto",tagName="img"),2==result_type&&(serviceImg=serviceImg.servImg||"",icon_title=zgssearch.getDocResTT(serviceImg),group_icon="zgs19_gsResultsUniIcons "+serviceImg,attach_icon=""),icon_info.icon_title=icon_title,icon_info.group_icon=group_icon,icon_info.attach_icon=attach_icon,icon_info.tag=tagName,icon_info},gsslackres.getHtmlTemplate=function(temp2_elem){var date=temp2_elem.date||"",module_id=temp2_elem.module_id||"",spanTag1=temp2_elem.module_name||"",replaceNode=temp2_elem.link||"",footer_dom_element=zgssearch.Utils.createElement("div","","zgs19_gsSlkResultAuthor zgs19_gsOverflow"),aEle=temp2_elem.result_type||"",pcount=gsslackres.getIconInfo(temp2_elem),iconTitle=pcount.icon_title,group_icon=pcount.group_icon,AttachIcon=pcount.attach_icon,infoDiv=pcount.tag,disp_sender_name="",disp_sender_gstitle="",disp_sender_gslabel=zgssearch.I18N.getValue("gs.search.result.mail.resultfooter.sender"),infoDiv1=temp2_elem.cname||""||temp2_elem.p_uname||temp2_elem.name||temp2_elem.cby||"";zgssearch.isListViewSearch()?(sender_name_length=temp2_elem.cby||"",(pcount=temp2_elem.mcount||0)&&2<pcount?(disp_sender_name=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),disp_sender_gslabel=zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),disp_sender_gstitle=pcount):""!==sender_name_length&&1!=module_id?(disp_sender_name=disp_sender_gstitle=sender_name_length,disp_sender_gslabel=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy")):disp_sender_gstitle=disp_sender_name=zgssearch.getI18NMsg("gs.search.filter.cliq.withme")):(infoDiv1=temp2_elem.p_uname||temp2_elem.name||"",disp_sender_name=(disp_sender_gstitle=temp2_elem.h_uname||"")+":");var chat_title=temp2_elem.title=zgssearch.replaceHTMLEntity(infoDiv1)||"",sender_name_length=!(!temp2_elem.hasOwnProperty("is_cu")||!temp2_elem.is_cu)&&temp2_elem.is_cu,infoDiv1=temp2_elem.pre||temp2_elem.txt||"",infoDiv1=zgssearch.replaceHTMLEntity(infoDiv1);disp_sender_gstitle&&(sender_name_length&&(disp_sender_name=(disp_sender_gstitle=zgssearch.getI18NMsg("gs.search.filter.cliq.you"))+":"),(zgssearch.isListViewSearch()||""!=infoDiv1&&!zgssearch.isListViewSearch())&&(sender_name_length=disp_sender_name.length,sender_name_length+=15,iconDiv=infoDiv1.length,Math.floor(sender_name_length/(sender_name_length+iconDiv)*75),iconDiv=Math.floor(iconDiv/(sender_name_length+iconDiv)*75),_jQueryGS(footer_dom_element).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:disp_sender_gslabel,gstitle:disp_sender_gstitle}).append(document.createTextNode(disp_sender_name))).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:disp_sender_gstitle,style:"max-width:"+iconDiv+"%"}).append(document.createTextNode(infoDiv1)))));var iconDiv=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),infoDiv1=zgssearch.resultUtil.querySlt(iconDiv,"div"),iconDiv=document.importNode(infoDiv1,!0);"img"==infoDiv?iconDiv.querySelector("span").outerHTML="":iconDiv.querySelector("img").outerHTML="",zgssearch.resultUtil.setAttVal(iconDiv,"class",group_icon,infoDiv),zgssearch.resultUtil.setAttVal(iconDiv,"gs",AttachIcon,infoDiv),zgssearch.resultUtil.setAttVal(iconDiv,"gstitle",iconTitle,infoDiv);infoDiv=zgssearch.resultUtil.querySlt(document,"#infoTemplate"),infoDiv1=zgssearch.resultUtil.querySlt(infoDiv,"div"),infoDiv=document.importNode(infoDiv1,!0);zgssearch.resultUtil.setAttVal(infoDiv,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow","#temp1"),infoDiv.querySelector("#temp1").innerHTML=date,zgssearch.resultUtil.setAttVal(infoDiv,"class","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow","#temp2");replaceNode=_jQueryGS(zgssearch.Utils.createElement("div","temp2","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow")).append(zgssearch.Utils.createElement("a","","",{gs:"resultTitle",href:replaceNode,target:"_blank",rel:"noopener noreferrer"})).append(_jQueryGS(zgssearch.Utils.createElement("div","temp2Span")).append(_jQueryGS(zgssearch.Utils.createElement("span","","zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"))).append(_jQueryGS(zgssearch.Utils.createElement("span","","",{istip:!0}))));infoDiv.querySelector("#temp2").outerHTML=replaceNode[0].outerHTML,2==aEle||3==aEle?(spanTag=infoDiv.querySelector("#temp2").querySelectorAll("span"),zgssearch.resultUtil.setAttVal(spanTag[0],"class","zgs18_gsAttachIcon zgs19_gsfl"),aEle=infoDiv.querySelector("#temp2").querySelector("a"),_jQueryGS(aEle).text(chat_title),_jQueryGS(spanTag[1]).append(aEle),temp2_elem.hasOwnProperty("shared")&&temp2_elem.shared&&infoDiv.querySelector("#temp2Span").appendChild(zgssearch.Utils.createElement("span","","zgs18_gsSharedIcon",{gstitle:zgssearch.I18N.getValue("gs.search.result.document.callout.sharedbyName",[temp2_elem.h_uname||""])}))):(temp2_elem=infoDiv.querySelector("#temp2"),_jQueryGS(temp2_elem.querySelector("a")).text(chat_title),infoDiv.querySelector("#temp2Span").outerHTML=""),infoDiv.querySelector("#temp3").outerHTML="";infoDiv1=document.importNode(infoDiv1,!0);zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow","#temp1");var spanTag=infoDiv1.querySelector("#temp1").querySelectorAll("span");zgssearch.resultUtil.setAttVal(spanTag[0],"class","zgs19_hvr_underlineHeader"),spanTag[1].innerHTML=spanTag1.toString(),zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsOverflow","#temp2");spanTag1=infoDiv1.querySelector("#temp2").querySelector("span");zgssearch.resultUtil.setAttVal(spanTag1,"class","zgs19_gsOverflow zgs19_gsfl zgs19_gs_crmResultHeader"),spanTag1.innerHTML=footer_dom_element.outerHTML,infoDiv1.querySelector("#temp3").outerHTML="";return{iconDiv:iconDiv,infoDiv:infoDiv,infoDiv1:infoDiv1,infoDiv2:""}},gsslackres)}(zgssearch,window),function(zgssearch,gso365results){gso365results._jQueryGS,zgssearch.getGSConstantObj();zgssearch.gso365results=(gso365results=void 0,(gso365results=zgssearch.gso365results||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){return zgssearch.Template.getMailTemplate(resObj,href,acc_id,{sender:"sender_name",display_time:"date",folder_id:"folderId",folder_name:"folderName",has_attachment:"hasAttachments",subject:"subject",isBold:"isRead"},curResultObj)},gso365results)}(zgssearch,window),zgssearch.resultUtil={setAttVal:function(node,attr,val,tag){node&&attr&&(tag?zgssearch.resultUtil.querySlt(node,tag):node).setAttribute(attr,val)},querySlt:function(parent,child,all){if(parent&&child)return all?parent.querySelectorAll(child):parent.querySelector(child)}},function(zgssearch,window){var gscalendarresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendarresults=(gscalendarresults=void 0,(gscalendarresults=zgssearch.gscalendarresults||{}).generateCalendarResNodeTemplate=function(searchInsType,templateId){var calendarTemplate=document.querySelector("#"+templateId);null==calendarTemplate&&(calendarTemplate=_jQueryGS("<template>",{id:templateId}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalcIconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalcDateHolder",gs:"eventDateInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalcMonthHolder",gs:"eventMonthInfo"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid100Per zgs19_gsOverflow "}).append(_jQueryGS("<a>",{id:"zgs20_gsEventTitleTxt",gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{class:"zgs18_gsDateIcon zgs19_gsfl"})).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsfl ",gslabel:zgssearch.getI18NMsg("gs.search.service_books.startdate"),gs:"eventstartDateInfo"}))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(_jQueryGS("<div>",{id:"zgs20_gsEventHostTxt",class:" zgs19_CalcAuthorTxt zgs19_gsfl zgs19_gsOverflow ",gs:"eventHostInfo"})).append(_jQueryGS("<div>",{class:"zgs19_CalcLocation zgs19_gsfl zgs19_gsOverflow",gs:"eventLocationInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader",gs:"calServiceInfo"})))))),_jQueryGS("#zgs20_globalsearch").append(calendarTemplate),_jQueryGS("#"+templateId).css("display","none"))},gscalendarresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){try{var searchInsType=curResultObj.hasOwnProperty("type")?curResultObj.type:"Search",templateId=curResultObj.hasOwnProperty("templateId")?curResultObj.templateId:"zgs20_gscalendarResTemplate",filterDisplay=!curResultObj.hasOwnProperty("filters")||curResultObj.filters;gscalendarresults.generateCalendarResNodeTemplate(searchInsType,templateId);var calendarResNodeTemplate=document.querySelector("#"+templateId),resultsRow=".zgs19_gs"+searchInsType+"ResultRow",row_template=calendarResNodeTemplate.querySelector(resultsRow),template_content=_jQueryGS(document.importNode(row_template,!0));return zgssearch.setGSTagElems(template_content),gscalendarresults.getHtmlTemplate.eventIconElem(template_content,resObj),gscalendarresults.getHtmlTemplate.eventNameElem(template_content,resObj,href),gscalendarresults.getHtmlTemplate.eventDateElem(template_content,resObj),gscalendarresults.getHtmlTemplate.eventDetailsElem(template_content,resObj),gscalendarresults.getHtmlTemplate.serviceElem(template_content,resObj,filterDisplay),template_content}catch(ex){zgssearch.throwClientError("Error while template creation for the servicename :"+service_name+" Ex:",ex)}},gscalendarresults.getHtmlTemplate.eventIconElem=function(template_content,date){var month=(date.sT||"").split(","),date=(month=month[0].split(" "))[1],month=(month=month[0]).charAt(0).toUpperCase()+month.slice(1);_jQueryGS(template_content.eventDateInfo).text(date),_jQueryGS(template_content.eventMonthInfo).text(month)},gscalendarresults.getHtmlTemplate.eventNameElem=function(titleElem,title,href){title=title.t||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),titleElem=_jQueryGS(titleElem.resultTitle);titleElem.attr("href",href),zgssearch.getTargetElem("zgs20_gsEventTitleTxt").setAttribute("gslabel",zgssearch.getI18NMsg("common.eventtitle")),titleElem.attr("gstitle",title),_jQueryGS(titleElem).text(title)},gscalendarresults.getHtmlTemplate.eventDateElem=function(hrsAndMins,resObj){var startDateTxt="",dateElem=_jQueryGS(hrsAndMins.eventstartDateInfo),color=resObj.clr||"";startDateTxt="1"===color?resObj.hasOwnProperty("STM")?(hrsAndMins=zgssearch.convertDurationText(resObj.STM-resObj.CTM),gscalendarresults.formStartDateText(hrsAndMins)):zgssearch.getI18NMsg("gs.search.calendar.callout.started"):(startDateTxt=resObj.sT||"").replace(/-/g,String.fromCharCode(160)),dateElem.attr("gstitle",resObj.sT||""),dateElem.addClass(["zgs19_gsCompletedEventColor","zgs19_gsTodayEventColor","zgs19_gsTomorrowEventColor","zgs19_gsUpcomingEventColor"][color]),dateElem.text(startDateTxt)},gscalendarresults.getHtmlTemplate.eventDetailsElem=function(locElem,hostElem){var hostName=hostElem.host||"",location=hostElem.loc||"",hostElem=_jQueryGS(locElem.eventHostInfo),locElem=_jQueryGS(locElem.eventLocationInfo);""!==hostName&&(zgssearch.getTargetElem("zgs20_gsEventHostTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.results.host")),hostElem.attr("gstitle",hostName),hostElem.text(hostName)),""!==location?(locElem.append(_jQueryGS("<span>",{class:"zgs18_crm_location"})),locElem.append(_jQueryGS("<span>",{class:"zgs19_gsContactEmail"}).text(location)),""==hostName&&locElem.addClass("zgs19_gsMxWid80Per")):hostElem.addClass("zgs19_gsCalMW10Pxof80")},gscalendarresults.getHtmlTemplate.serviceElem=function(isMultiService,serFilterElem,filterDisplay){var serviceId=serFilterElem.sId||"",serFilterElem=_jQueryGS(isMultiService.calServiceInfo),isMultiService=zgssearch.isMultiSelectResults(GSConstant.CALENDAR,"services","0");filterDisplay&&isMultiService?serFilterElem.append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gs:"calendarServices",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_calendar"),gstitle:zgssearch.getCalendarServiceName(serviceId),fId:serviceId,acc_id:GSConstant.CALENDAR}).text(zgssearch.getCalendarServiceName(serviceId))):serFilterElem.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",fId:serviceId,acc_id:GSConstant.CALENDAR}).text(zgssearch.getCalendarServiceName(serviceId)))},gscalendarresults.formStartDateText=function(mins){var msg=zgssearch.getI18NMsg("gs.search.calendar.results.startsIn"),hours=mins[0],mins=mins[1];return 0<hours&&(msg+=" "+hours,msg+=1<hours?" "+zgssearch.getI18NMsg("gs.search.calendar.results.hours"):" "+zgssearch.getI18NMsg("gs.search.calendar.results.hour")),0<mins&&(msg+=" "+mins,msg+=1<mins?" "+zgssearch.getI18NMsg("gs.search.calendar.results.minutes"):" "+zgssearch.getI18NMsg("gs.search.calendar.results.minute")),msg},gscalendarresults)}(zgssearch,window),function(zgssearch,window){var gsnotebookresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsnotebookresults=(gsnotebookresults=void 0,(gsnotebookresults=zgssearch.gsnotebookresults||{}).generateNotebookResNodeTemplate=function(searchInsType,templateID){var date_elem,title_elem,authorName_elem,summary_elem,nbName_elem,nbType,notebookTemplate=document.querySelector("#"+templateID);null===notebookTemplate&&(date_elem=_jQueryGS("<span>",{gstitle:"",gs:"date",gslabel:""}),title_elem=_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}),authorName_elem=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gs:"authorOuter"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:"",istip:!0,gs:"author"})),summary_elem=_jQueryGS("<div>",{class:"zgs19_gsResultSummary",gs:"summ"}),nbType=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),nbName_elem=_jQueryGS("<div>",{class:"zgs19_gsResultNBName zgs19_gsfl zgs19_gsOverflow",gs:"nbN"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:nbType}).text(nbType)).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.r.nb.notebook"),gs:"nbNameTxt"})),nbType=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader",gs:"nbType"}),notebookTemplate=_jQueryGS("<template>",{id:templateID}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(date_elem)).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow zgs19_gsNotebookResultTitle"}).append(title_elem))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(summary_elem)).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(authorName_elem).append(nbName_elem).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(nbType))))),_jQueryGS("#zgs20_globalsearch").append(notebookTemplate),_jQueryGS("#"+templateID).css("display","none"))},gsnotebookresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){try{var searchInsType=curResultObj.hasOwnProperty("type")?curResultObj.type:"Search",templateID=curResultObj.hasOwnProperty("templateId")?curResultObj.templateId:"zgs20_gsNotebookResTemplate",filterDisplay=!curResultObj.hasOwnProperty("filters")||curResultObj.filters;gsnotebookresults.nbClient.process(resObj),gsnotebookresults.generateNotebookResNodeTemplate(searchInsType,templateID);var notebookResNodeTemplate=document.querySelector("#"+templateID),resultsRow=".zgs19_gs"+searchInsType+"ResultRow",row_template=notebookResNodeTemplate.querySelector(resultsRow),template_content=_jQueryGS(document.importNode(row_template,!0));return zgssearch.setGSTagElems(template_content),gsnotebookresults.getHtmlTemplate.constructAuthorElem(template_content),gsnotebookresults.getHtmlTemplate.constructPhotoElem(template_content,resObj),gsnotebookresults.getHtmlTemplate.constructNameElem(template_content,href,resObj),gsnotebookresults.getHtmlTemplate.constructDateElem(template_content,resObj),gsnotebookresults.getHtmlTemplate.constructSummaryElem(template_content),gsnotebookresults.getHtmlTemplate.constructNotebookTypeElem(template_content,resObj,filterDisplay),gsnotebookresults.getHtmlTemplate.constructNotebookNameElem(template_content,resObj),template_content}catch(ex){zgssearch.throwClientError("Error while template creation for the servicename :"+service_name+" Ex:",ex)}},gsnotebookresults.getHtmlTemplate.setValue=function(template_content,elem,field_title,field_value,field_label){elem=_jQueryGS(template_content[elem]);field_label&&elem.attr("gslabel",field_label),elem.attr("gstitle",field_title),elem.text(field_value)},gsnotebookresults.getHtmlTemplate.constructAuthorElem=function(template_content){gsnotebookresults.getHtmlTemplate.setValue(template_content,"author",zgssearch.GSConstant.cun,zgssearch.GSConstant.cun)},gsnotebookresults.getHtmlTemplate.constructPhotoElem=function(template_content,ncType){var serviceImg=gsnotebookresults.nbClient.getThumbnailImage(),ncType=gsnotebookresults.getNoteBookResTT(ncType.type).ncType;_jQueryGS(serviceImg).attr("gstitle",ncType),_jQueryGS(serviceImg).addClass("zgs19_gsNBthumbnail"),_jQueryGS(template_content.resultMenuItem).append(serviceImg)},gsnotebookresults.getHtmlTemplate.constructNameElem=function(elem,href,gslabel){var title=gsnotebookresults.nbClient.getTitle()||gslabel.name||zgssearch.getI18NMsg("gs.r.nb.untitled"),gslabel=""!==gslabel.notecard_id&&void 0!==gslabel.notecard_id?zgssearch.getI18NMsg("gs.r.nb.notes"):zgssearch.getI18NMsg("gs.r.nb.notebook"),elem=_jQueryGS(elem.resultTitle);elem.attr("href",href),elem.attr("gstitle",title),elem.attr("gslabel",gslabel),_jQueryGS(elem).html("").text(title)},gsnotebookresults.getHtmlTemplate.constructDateElem=function(template_content,label){var date=label.time||"",label=zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime");gsnotebookresults.getHtmlTemplate.setValue(template_content,"date",date,date,label)},gsnotebookresults.getHtmlTemplate.constructSummaryElem=function(template_content){var summary=gsnotebookresults.nbClient.getDescription();""!==summary&&null!=summary?(_jQueryGS(template_content.summ).css("display","block"),_jQueryGS(template_content.summ).html("").text(summary)):_jQueryGS(template_content.summ).css("display","none")},gsnotebookresults.getHtmlTemplate.constructNotebookTypeElem=function(template_content,ncAPIKeyType,filterDisplay){var isMultiNoteCard,nbType,ncType=zgssearch.getFilterInfo(GSConstant.NOTEBOOK,"module","current");"notebooks"!==ncType&&(ncType=zgssearch.getFilterInfo(GSConstant.NOTEBOOK,"module","current"),isMultiNoteCard=zgssearch.isMultiSelectResults(GSConstant.NOTEBOOK,"notecardtype",ncType),ncType=(nbType=gsnotebookresults.getNoteBookResTT(ncAPIKeyType.type)).ncType,ncAPIKeyType=nbType.apiKey,nbType=_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gstitle:zgssearch.getI18NMsg("gs.r.f.notecardtype")+": "+ncType}).text(ncType),filterDisplay&&isMultiNoteCard&&(nbType=_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gstitle:zgssearch.getI18NMsg("gs.search.filter_through")+": "+ncType,gs:"gsNotebookService",key:ncAPIKeyType,fkey:"notecardtype"}).text(ncType)),_jQueryGS(template_content.nbType).append(nbType))},gsnotebookresults.getHtmlTemplate.constructNotebookNameElem=function(template_content,noteBookName){var notecardId=noteBookName.notecard_id||"",noteBookName=noteBookName.nbN||"";""!==notecardId&&""!==noteBookName?(_jQueryGS(template_content.nbN).css("display","block"),_jQueryGS(template_content.authorOuter).css("max-width","38%"),gsnotebookresults.getHtmlTemplate.setValue(template_content,"nbNameTxt",noteBookName,noteBookName)):(_jQueryGS(template_content.authorOuter).css("width","100%"),_jQueryGS(template_content.nbN).css("display","none"))},gsnotebookresults.getNoteBookResTT=function(type){var ncType="",apiKey=""!==type&&void 0!==type?type.replace("note/",""):"";switch(type){case"note/notes":ncType=zgssearch.getI18NMsg("common.notes");break;case"note/notebooks":ncType=zgssearch.getI18NMsg("gs.f.nb.notebooks");break;case"note/favorite":ncType=zgssearch.getI18NMsg("gs.f.nb.favorite");break;case"note/text":case"note/mixed":apiKey="text",ncType=zgssearch.getI18NMsg("gs.f.nb.text");break;case"note/checklist":ncType=zgssearch.getI18NMsg("gs.f.nb.checklist");break;case"note/image":ncType=zgssearch.getI18NMsg("gs.f.nb.photo");break;case"note/contact":ncType=zgssearch.getI18NMsg("gs.f.nb.contact");break;case"note/audio":ncType=zgssearch.getI18NMsg("gs.f.nb.audio");break;case"note/sketch":ncType=zgssearch.getI18NMsg("gs.f.nb.sketch");break;case"note/bookmark":ncType=zgssearch.getI18NMsg("gs.f.nb.link")}return{ncType:ncType,apiKey:apiKey}},gsnotebookresults)}(zgssearch,window),zgssearch.servicesWithNoEmptyResponse=[zgssearch.GSConstant.BOX],zgssearch.commonTemplateConstants={author:"author_name",name:"doc_name",time:"time"},zgssearch.iframeUrl,zgssearch.FileMgmtFactory=function(){this.createFileMgmtService=function(serviceInfo){var fileServiceInstance;switch(serviceInfo.service){case zgssearch.GSConstant.DOCUMENTS:fileServiceInstance=new Docs;break;case zgssearch.GSConstant.DROPBOX:fileServiceInstance=new DropBox;break;case zgssearch.GSConstant.BOX:fileServiceInstance=new Box;break;case zgssearch.GSConstant.GOOGLEDRIVE:fileServiceInstance=new Gdrive;break;case zgssearch.GSConstant.ONEDRIVE:fileServiceInstance=new Onedrive}return fileServiceInstance.service=serviceInfo.service,fileServiceInstance.accId=serviceInfo.accountId||"",fileServiceInstance.offset=-1<serviceInfo.offset?serviceInfo.offset:"",fileServiceInstance.parentId=serviceInfo.parentId||"",fileServiceInstance.setResponseObj=function(responseObj){this.responseObj=responseObj},fileServiceInstance.fileObj={},fileServiceInstance.calloutObj={},fileServiceInstance.previewObj={},fileServiceInstance.parentElem=serviceInfo.parentElem||"",fileServiceInstance.cardObj=serviceInfo.cardObj||"",fileServiceInstance.getAccId=function(){return this.accId},fileServiceInstance.getService=function(){return this.service},fileServiceInstance.getOffsetValue=function(){return this.offset},fileServiceInstance.getFileObj=function(){return this.fileObj},fileServiceInstance.getParentId=function(){return this.parentId},fileServiceInstance.getResponseObj=function(){return this.responseObj},fileServiceInstance.getPreviewObj=function(){return this.previewObj},fileServiceInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},fileServiceInstance.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsDocsCallout"},fileServiceInstance.setPreviewParentId=function(previewId){this.previewId=previewId},fileServiceInstance.getPreviewParentId=function(){return this.previewId},fileServiceInstance.setCommonTemplateValues=function(){this.fileObj.accId=this.getAccId(),this.fileObj.serviceName=this.getService(),this.fileObj.type=this.cardObj?this.cardObj.type:"Search"},fileServiceInstance.renderResults=function(){var responseObj=this.getResponseObj();this.setCommonTemplateValues(),this.fileObj.results=[],this.fileObj.results=this.formatResults(responseObj),this.appendResults()},fileServiceInstance.setCommonResultProperties=function(resultObj){var offset=this.getOffsetValue(),tempFileObj={};tempFileObj.index=offset,tempFileObj.shared=resultObj.shared_type||"",tempFileObj.serviceImg=resultObj.servImg||"",tempFileObj.serviceImgTitle=zgssearch.getDocResTT(resultObj.servImg),tempFileObj.footer_tip=zgssearch.getI18NMsg("common.author"),tempFileObj.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";var accId=this.getAccId(),currentDivId=this.getService();tempFileObj.doc_link=zgssearch.fetchCalloutUrlByAccId(currentDivId,resultObj,accId);var sVal=resultObj.shared?3===resultObj.shared_type?1:0:-1;0!=(sVal=resultObj.shared?3===resultObj.shared_type?1:resultObj.sharedByMe?-1:0:-1)&&1!=sVal||(tempFileObj.isShared=!0,tempFileObj.sharedIcon=zgssearch.docsShared[sVal].icon,tempFileObj.sharedTitle=zgssearch.docsShared[sVal].title);currentDivId="zgs20_gs"+currentDivId+"Results_"+offset;return this.cardObj?currentDivId="zgs20_"+this.cardObj.cardId+"_"+offset:zgssearch.multiPageEnabled&&(currentDivId="zgs20_gs"+accId+"Results_"+offset),tempFileObj.id=currentDivId,tempFileObj},fileServiceInstance.appendResults=function(){var templateFunc,parentDivElem,fileObj,load_instance=this.getService();zgssearch.isHandlebarLoaded()?(parentDivElem=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[parentDivElem],fileObj=this.getParentId(),parentDivElem=this.parentElem||_jQueryGS("#"+fileObj),fileObj=this.getFileObj(),1<this.getOffsetValue()?parentDivElem.append(templateFunc(fileObj)):parentDivElem.html(templateFunc(fileObj))):(null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),this.appendResults())},fileServiceInstance.commonCalloutParams=function(resObj){return{serviceName:this.getService(),cId:resObj.CONNECTOR_ID||zgssearch.getResultAccountId()||"",pkid:resObj.doc_id||resObj.id||"",extn:resObj.extn||"",type:resObj.rtype||"",fileName:resObj.name||zgssearch.FILE,mType:resObj.mtype||resObj.mimeType||""}},fileServiceInstance.setCommonCalloutProperties=function(resObj,curCalloutObj){var currEle=zgssearch.getCurrentSelectedElem(),service=this.getService();this.calloutObj.service=this.getService(),this.calloutObj.fileUrl=zgssearch.fetchCalloutUrl(service,resObj),this.calloutObj.postedBy=this.getPostedByInfo(resObj),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||"",this.calloutObj.userPhotoObj=this.constructAuthorPhotoObj(resObj),this.calloutObj.loadericonId="zgs20_gsdocsprevLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader",this.calloutObj.curCalloutObj=curCalloutObj,this.calloutObj.calloutId=curCalloutObj?curCalloutObj.calloutId:"zgs20_gsDocsCallout",this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsDocsPreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},fileServiceInstance.constructCalloutResponse=function(response,resObj,parentDiv){var curCalloutObj=parentDiv.searchObj;this.setCommonCalloutProperties(resObj,curCalloutObj),this.setServiceSpecificCalloutInfo(resObj),this.calloutObj.ownerTitle=this.calloutObj[zgssearch.commonTemplateConstants.author];parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";this.calloutObj.userPhotoObj.hasOwnProperty("class")||(this.calloutObj.userPhotoObj.isGroup?(this.calloutObj.userPhotoObj.isSpan=!0,this.calloutObj.userPhotoObj.class="zgs18_gsGroupIcon "):this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"),this.renderCalloutView(response,resObj,parentDiv,curCalloutObj)},fileServiceInstance.renderCalloutView=function(response,resObj,currService,curCalloutObj){var menuEl=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),menuEl=search_handlebars.templates[menuEl];_jQueryGS(currService).html(menuEl(this.calloutObj));currService=this.calloutObj.userPhotoObj;currService&&zgssearch.renderPhoto(currService.id,currService.url,currService.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null);menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),this.calloutObj.curCalloutObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.minpreview).css("display","none"),this.isFileDownloadable(resObj)||_jQueryGS(menuEl.docsdownload).css("display","none"),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),this.setCalloutEleSize(),zgssearch.isExtension&&zgssearch.thirdPartyCookieDisabled&&"documents"===curCalloutObj.service?(_jQueryGS(menuEl.previewHolder).show(),_jQueryGS("#zgs20_gsdocsprevLoader").remove(),currService={gs:"documentsApp",service:GSConstant.DOCUMENTS,previewHolder:"docspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.documents.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(this.renderCalloutPreview(resObj,response),this.addCalloutActionList(resObj,curCalloutObj))},fileServiceInstance.getPostedByInfo=function(resObj){var service=this.getService(),createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),sharedBy=zgssearch.getI18NMsg("common.shared_by"),ownedBy=zgssearch.getI18NMsg("common.owned_by"),path=zgssearch.getI18NMsg("common.path");return resObj.shared||resObj.stm?service==zgssearch.GSConstant.ONEDRIVE&&resObj.sharedByMe?createdBy:sharedBy:resObj.path?path:service==zgssearch.GSConstant.ONEDRIVE?createdBy:ownedBy},fileServiceInstance.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height());contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},fileServiceInstance.constructAuthorPhotoObj=function(sname){var userPhotoObj={},zuid=zgssearch.getCurCalloutCount();userPhotoObj.id="zgs20_gsDocsCalloutUserImg"+zuid,userPhotoObj.url=zgssearch.gsspacer,userPhotoObj.isGroup=!1,userPhotoObj.isSpan=!1;zuid=sname.zuid,sname=zgssearch.getUserStatus(zuid);return this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder","-1"!==zuid&&void 0!==zuid&&(sname=sname.name||"",userPhotoObj.class="zgs19_gsCalloutUserImg",userPhotoObj.url=zgssearch.getThumbPhotoURL(zuid),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+sname),userPhotoObj},fileServiceInstance.renderCalloutPreview=function(resObj,response){var previewType,previewObject,paramsObj=this.getService(),parentId=this.getPreviewParentId(),preview=new zgssearch.ZSPreview;!response&&-1<zgssearch.servicesWithNoEmptyResponse.indexOf(paramsObj)?((previewObject=preview.createPreviewObj(previewType)).setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.hideLoader(),previewObject.setCardObj(this.cardObj),paramsObj={txt:zgssearch.getI18NMsg("gs.search.result.preview.status.callout.errortext")},previewObject.constructErrorDOMContent(paramsObj)):(previewType=this.getPreviewType(resObj,response)||resObj.doc_type||"",previewObject=preview.createPreviewObj(previewType),zgssearch.iframeUrl&&(previewObject.setIframeUrl(zgssearch.iframeUrl),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),previewObject.setIframeId("callout_iframe_"+(new Date).getTime())),previewObject.setCardObj(this.cardObj),previewObject.setPreviewHolder("docspreviewHolder"),previewObject.setCalloutHolder(this.getCalloutHolder()),previewObject.setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.renderPreview(),zgssearch.calloutVisitRequest())},fileServiceInstance.addCalloutActionList=function(resObj){var service=this.getService(),menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{addToWD:"Add to Workdrive"}],i=0;i<alist.length;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key||"addToWD"==key){var docType=(docType=resObj.doc_type||resObj.rtype||"")||resObj.mimeType?docType:zgssearch.FOLDER,downloadURL=zgssearch.GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||docType===zgssearch.FOLDER||service==zgssearch.GSConstant.BOX&&(resObj.hasOwnProperty("is_download")||"boxnote"==resObj.extn)||resObj.hasOwnProperty("is_down")&&!resObj.is_down)continue}("addToWD"!=key||service!==zgssearch.GSConstant.DOCUMENTS&&zgssearch.addToWDEnabled())&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service}).text(dectext))}}},fileServiceInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},fileServiceInstance.downloadDocument=function(resObj,resourceId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(resourceId),paramObj={},downloadUrl="",service=actionType.getServiceName(),enabledCloudApps=zgssearch.getEnabledCloudApps();service===zgssearch.GSConstant.DOCUMENTS?(resourceId=resObj.docid,downloadUrl=zgssearch.httpstxt+"://"+GSConstant.downloadServer+"/v1/docs/download/"+resourceId):-1<enabledCloudApps.indexOf(service)&&(service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.service=service,downloadUrl=zgssearch.connectors.constructZSYNCDownloadURL(paramObj,resObj)),zgssearch.network.download_file(downloadUrl)},fileServiceInstance.addToWD=function(service,resObj,paramObj,folderId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(paramObj),paramObj={};service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.service=service,paramObj.folderId=folderId,zgssearch.connectors.addFileToWD(paramObj,resObj)},fileServiceInstance.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},fileServiceInstance.getPreviewType=function(resObj,resp){var previewType,type,rle,service=this.getService();return resObj.hasOwnProperty("is_preview")&&!resObj.is_preview?resObj.hasOwnProperty("extn")&&resObj.extn===zgssearch.ZIP||"application/zip"==resObj.mimeType?previewType=zgssearch.ZIP:service==zgssearch.GSConstant.ONEDRIVE?previewType=10==resObj.cSize?zgssearch.FILE:zgssearch.FOLDER:(type=resObj.rtype||"",rle=resObj.rle||!1,type!==zgssearch.FOLDER&&!rle||(previewType=type===zgssearch.FOLDER?zgssearch.FOLDER:zgssearch.FILE)):(service==zgssearch.GSConstant.DOCUMENTS&&resObj.doc_type!=zgssearch.FOLDER?zgssearch.iframeUrl=this.getDocsPreviewURL(resObj):(resp=resp.response,zgssearch.iframeUrl=resp&&resp.url?resp.url:""),zgssearch.iframeUrl&&(previewType=zgssearch.IFRAME)),previewType},fileServiceInstance.isFileDownloadable=function(resObj){var service=this.getService(),isDownloadable=!0;if((resObj.doc_type||resObj.rtype)==zgssearch.FOLDER)isDownloadable=!1;else switch(service){case zgssearch.GSConstant.BOX:!resObj.hasOwnProperty("is_download")&&"boxnote"!=resObj.extn||(isDownloadable=!1);break;case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:resObj.hasOwnProperty("is_down")&&!resObj.is_down&&(isDownloadable=!1);break;case zgssearch.GSConstant.ONEDRIVE:service!=zgssearch.GSConstant.ONEDRIVE||resObj.mimeType||(isDownloadable=!1)}return isDownloadable},fileServiceInstance}};var Box=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getBoxPreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_id="+paramsObj.pkid+"&extn="+paramsObj.extn+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time}},DropBox=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(footerTip){var currentObj=self.setCommonResultProperties(footerTip);currentObj[zgssearch.commonTemplateConstants.author]=footerTip.path,currentObj[zgssearch.commonTemplateConstants.name]=footerTip.name,currentObj[zgssearch.commonTemplateConstants.time]=footerTip.time;footerTip=(footerTip=zgssearch.getI18NMsg("common.path")).charAt(0).toUpperCase()+footerTip.slice(1);currentObj.footerTip=footerTip,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDDropboxPreviewUrl&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.path,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.rtype&&(resObj.rtype!=zgssearch.FOLDER?this.getDropboxFileOwner(resObj,this.calloutObj):(this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+resObj.servImg+" zgs19_gsMg13px",this.calloutObj.userPhotoObj.isSpan=!0))},this.getDropboxFileOwner=function(responseObj,calloutObj){var pkid=responseObj.id,params=responseObj.CONNECTOR_ID,urlObj=zgssearch.getAppIdForCloudApps(params),params="action=getFileMembers&pkid="+pkid+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+params+"&app_id="+urlObj,urlObj={url:"/zgssearch/exconnector/getCalloutData",async:!1,type:"GET"};urlObj.data=params,urlObj.dataType="text",urlObj.success=function(toBeShownCount){var editors,editorArr,ownerCount,ownerDetails,fileDetails,toBeShownCount=JSON.parse(toBeShownCount);toBeShownCount.response&&((toBeShownCount=toBeShownCount.response).owner?(0<(editors=(editorArr=toBeShownCount.owner).owner_arr).length&&(fileDetails=editors),editorArr.is_multi&&(calloutObj.userPhotoObj.isGroup=!0),calloutObj.postedBy=zgssearch.I18N.getValue("gs.callout.owned.by")):(toBeShownCount.editor||toBeShownCount.viewer)&&(toBeShownCount.editor&&(0<(editorArr=(editors=toBeShownCount.editor).editor_arr).length&&(fileDetails=editorArr),editors.is_multi&&(calloutObj.userPhotoObj.isGroup=!0)),toBeShownCount.viewer&&(0<(ownerCount=(ownerDetails=toBeShownCount.viewer).viewer_arr).length&&(fileDetails?Array.prototype.push.apply(fileDetails,ownerCount):fileDetails=ownerCount),ownerDetails.is_multi&&(calloutObj.userPhotoObj.isGroup=!0))),fileDetails?(calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.result.document.callout.sharedwith"),(toBeShownCount=1)==zgssearch.gscomponent.UIType&&(toBeShownCount=3),fileDetails.length>toBeShownCount&&(ownerDetails=1==(ownerCount=fileDetails.length-toBeShownCount)?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):zgssearch.getI18NMsg("gs.search.result.mail.menu.others"),calloutObj.ownerCountTitle="+"+ownerCount+" "+ownerDetails,ownerDetails=fileDetails.splice(toBeShownCount,fileDetails.length),fileDetails=fileDetails.splice(0,toBeShownCount),calloutObj.multiOwnerTitle=calloutObj.postedBy,calloutObj.multiOwnerList=ownerDetails),fileDetails=fileDetails.join(", ")):(responseObj.path?fileDetails=responseObj.path:(fileDetails=responseObj.time,calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.sevice_docs_lastModifiedTime")),calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+responseObj.servImg+" zgs19_gsFileIcon"),calloutObj[zgssearch.commonTemplateConstants.author]=fileDetails)},zgssearch.network.uri(urlObj)}},Gdrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.stm&&(currentObj.sharedIcon=zgssearch.docsShared[0].icon,currentObj.sharedTitle=zgssearch.docsShared[0].title,currentObj.isShared=!0),resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),mimeType=encodeURIComponent(paramsObj.mType),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDGDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&mime_type="+mimeType+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,this.calloutObj.userPhotoObj.url=resObj.photo||"",this.calloutObj.userPhotoObj.class="zgs19_gsCalloutUserImg"}},Onedrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),driveId=zsoid.driveId||"",zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getOneDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&id="+paramsObj.pkid+"&mimeType="+paramsObj.mType+"&name="+encodeURIComponent(paramsObj.fileName)+"&driveId="+driveId+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj.cursorClass="zgs19_gsCurPointer"}},Docs=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.author,currentObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,resultArr.push(currentObj),self.offset++}),resultArr},this.callOutParams=function(paramsObj){paramsObj=this.commonCalloutParams(paramsObj);return"searchType="+paramsObj.serviceName+"&docId="+paramsObj.pkid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.author,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.getDocsPreviewURL=function(resObj){var servImg=resObj.servImg,resourceId=resObj.docid;switch(servImg){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return zgssearch.GSConstant.GS_DOCS_URL+"/writer/preview/"+resourceId;case"zgs19_xl":case"zgs19_sheet":return zgssearch.GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+resourceId+"&top=no";case"zgs19_power":case"zgs19_show":return zgssearch.GSConstant.GS_DOCS_URL+"/show/preview/"+resourceId+"?notopbar=true";default:return zgssearch.GSConstant.GS_DOCS_URL+"/orgembed/"+resourceId}}};zgssearch.ZSProjectMgmtFactory=function(){var projectInstance;zgssearch.asanaStoryAuthorObj={},this.createProjectMgmtInstance=function(service_info){switch(service_info.service_name){case zgssearch.GSConstant.ASANA:projectInstance=new zgssearch.ASANA;break;case zgssearch.GSConstant.PROJECTS:projectInstance=new zgssearch.PROJECTS}return projectInstance.service=service_info.service_name,projectInstance.resultObj=service_info.results,projectInstance.parentId=service_info.parent_div_id,projectInstance.offset=service_info.offset,projectInstance.moduleResultId=service_info.module_parent_id||"",projectInstance.workspaceId=service_info.search_workspace_id||"",projectInstance.workspaceName=service_info.search_workspace_name||"",projectInstance.resultsAreaWidth=service_info.results_area_width||"",projectInstance.accId=service_info.acc_id||"",projectInstance.wsType=service_info.search_type||"",projectInstance.cardObj=service_info.cardObj||"",projectInstance.cardArgObj="",projectInstance.limit=service_info.limit||0,projectInstance.calloutHolder=service_info.calloutHolder||"",service_info.timezone?projectInstance.setTimezone(service_info.timezone):zgssearch.gsprojects.portalTimezone.hasOwnProperty(service_info.acc_id)&&projectInstance.setTimezone(zgssearch.gsprojects.portalTimezone[service_info.acc_id]),projectInstance.setCalloutResponse=function(response){this.taskCalloutResponse=response},projectInstance.getService=function(){return this.service},projectInstance.getResultObj=function(){return this.resultObj},projectInstance.getParentId=function(){return this.parentId},projectInstance.getOffset=function(){return this.offset},projectInstance.getModuleResId=function(){return this.moduleResultId},projectInstance.getModuleType=function(){return this.moduleType},projectInstance.getWorkspaceId=function(){return this.workspaceId},projectInstance.getWorkspaceName=function(){return this.workspaceName},projectInstance.getResultsAreaWidth=function(){return this.resultsAreaWidth},projectInstance.getProjectsResObj=function(){return this.projectsResObj},projectInstance.getAccountId=function(){return this.accId},projectInstance.getWorkspaceType=function(){return this.wsType},projectInstance.getCalloutResponse=function(){return this.taskCalloutResponse},projectInstance.getCalloutHolder=function(){return this.getCardObj().hasOwnProperty("calloutId")?this.cardObj.calloutId:this.calloutHolder||"zgs20_gsProjectsCallout"},projectInstance.getCardObj=function(){return this.cardObj},projectInstance.getSearchType=function(){var cardObj=this.getCardObj();return!_jQueryGS.isEmptyObject(cardObj)&&cardObj.type?cardObj.type:"Search"},projectInstance.renderResults=function(){this.projectsResObj={serviceName:this.getService(),accId:this.getAccountId(),type:this.getSearchType(),resGSAttr:!_jQueryGS.isEmptyObject(this.cardObj)&&this.cardObj.hasOwnProperty("gsattr")?this.cardObj.gsattr:"searchResultTable"},this.formatResults(),this.appendResults()},projectInstance.appendResults=function(){var projectsObj=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[projectsObj],wsHeader=this.getParentId(),parentDivElem=_jQueryGS("#"+wsHeader),projectsObj=this.getProjectsResObj();"all"==this.getWorkspaceType()?(wsHeader=this.getWsHeader(),parentDivElem.append(wsHeader).append(templateFunc(projectsObj))):parentDivElem.append(templateFunc(projectsObj))},projectInstance.calloutResponse=function(){this.calloutObj={},this.setCommonCalloutProperties(),this.setServiceSpecificCalloutProp(),this.renderCallout()},projectInstance.renderCallout=function(){var parentDiv=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),menuEl=search_handlebars.templates[parentDiv],curCalloutObj=this.getCardObj(),parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";_jQueryGS(parentDiv).html(menuEl(this.calloutObj));menuEl=this.calloutObj.userPhotoObj;menuEl&&zgssearch.renderPhoto(menuEl.id,menuEl.url,menuEl.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null);menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.minpreview).css("display","none"),!curCalloutObj||_jQueryGS.isEmptyObject(curCalloutObj)||curCalloutObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none"),this.renderCalloutDetails(),zgssearch.calloutVisitRequest(),this.setCalloutEleSize()},projectInstance.setCommonCalloutProperties=function(){var currEle=zgssearch.getCurrentSelectedElem();this.calloutObj.service=this.getService(),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||""},projectInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},projectInstance}},zgssearch.ASANA=function(){this.storyAuthorDetails={},this.calloutTaskDetails={a_name:"Assigned to",completed:"Status",due_on:"Due  Date",project:"Project",description:"Description"},this.formatResults=function(){var resArr=[],count=this.getOffset(),resObj=this.getResultObj();this.projectsResObj.timeLabel=zgssearch.getI18NMsg("gs.search.result.creator.createdDate");var task,currAcc=zgssearch.getFilterInfo(this.getService(),"accounts","current"),currWS=zgssearch.getFilterInfo(this.getService(),zgssearch.WS,"current");for(task in 0<count&&0!=currAcc&&"all"!=currWS&&(resObj=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(resObj).slice(count,count+25))),this.projectsResObj.workspaceId=this.getWorkspaceId(),this.projectsResObj.currContextFilter=zgssearch.getFilterInfo("asana","projects","dispname"),resObj){var resultObj={};resultObj.field1=resObj[task].name||"Untitled",resultObj.field2=resObj[task].a_name||resObj[task].a_email||"Unassigned",resultObj.field3=resObj[task].due_on,resultObj.time=resObj[task].created_at,resultObj.timeTitle=resObj[task].updated_time,resultObj.index=count,resultObj.userPhotoObj={},resultObj.userPhotoObj.isSpan=!0,resultObj.userPhotoObj.class="zgs18_gsTaskicon",resultObj.iconHolderClass="zgs19_gsUniIconHolder";var id=this.moduleResultId?this.getModuleResId():this.getWorkspaceId()+"Results_";resultObj.id="zgs20_gs"+id+count,this.setAdditionalInfo(resObj[task],resultObj),this.setMaxWidthOfElements(resultObj),resArr.push(resultObj),count++}this.projectsResObj.results=resArr},this.setAdditionalInfo=function(currAcc,asanaObj){var currWs=currAcc.memberships;0<currWs.length&&(currAcc=currWs[0].project,asanaObj.projId=currAcc.gid,asanaObj.contextualFilter=currAcc.name,asanaObj.noFilter=!1,asanaObj.contextualLabel="Project",asanaObj.gsFilter="asanaProjects",asanaObj.moreProj=null,1<currWs.length&&(asanaObj.gsFilter="moreAsanaProjects",asanaObj.moreProj="+"+(currWs.length-1)),"all"!=(currAcc=zgssearch.getFilterInfo(this.getService(),"projects","current"))&&(asanaObj.projId=currAcc,asanaObj.contextualFilter=zgssearch.getFilterInfo(this.getService(),"projects","dispname"),asanaObj.gsFilter="",asanaObj.moreProj=null),currWs=zgssearch.getFilterInfo(this.getService(),zgssearch.WS,"current"),currAcc=zgssearch.getFilterInfo(this.getService(),"accounts","current"),("all"==currWs||0==currAcc||"all"==zgssearch.getSearchType()&&"asanaProjects"==asanaObj.gsFilter)&&(asanaObj.noFilter=!0,asanaObj.gsFilter=""))},this.getWsHeader=function(){var headerObj={id:this.getModuleResId(),serviceName:this.getService(),accId:this.getAccountId(),wsId:this.getWorkspaceId(),wsName:this.getWorkspaceName()};return this.constructHeader(headerObj)},this.constructHeader=function(headerInfo){return _jQueryGS("<div>",{id:headerInfo.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl",service:headerInfo.serviceName,workspace_id:headerInfo.wsId,style:"max-width:30%;"}).text("Workspace : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",service:headerInfo.serviceName,workspace_id:headerInfo.wsId,acc_id:headerInfo.accId,gs:"service_multi_mod",value:headerInfo.wsName,gstitle:headerInfo.wsName,style:"max-width:60%;"}).text(headerInfo.wsName))},this.calloutParams=function(resObj){var connector_id=this.getAccountId(),zsoid=zgssearch.getAppIdForCloudApps(connector_id);return"action=getAsanaTaskCallout&service_name=asana&connector_id="+connector_id+"&gid="+resObj.gid+"&story_limit=3&attach_limit=3&app_id="+zsoid},this.setServiceSpecificCalloutProp=function(){var taskDetails=this.getCalloutResponse(),resObj=zgssearch.getCurrentResObj();this.calloutObj.field1=resObj.name||"Untitled",this.calloutObj.field2=resObj.a_name||resObj.a_email,this.calloutObj.field3=resObj.due_on;taskDetails=taskDetails.task_info;this.calloutObj.projectUrl=taskDetails.open_link,this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.task_details=this.setCalloutTaskDetails()},this.setCalloutTaskDetails=function(){var info,taskDetails=[],taskInfo=this.getCalloutResponse().task_info,resObj=zgssearch.getCurrentResObj(),extraInfo=taskInfo.memberships;if(1<(extraInfo=0==extraInfo.length?resObj.memberships:extraInfo).length){for(var projInfo=[],projFilter=0;projFilter<extraInfo.length;projFilter++)projInfo.push(extraInfo[projFilter].project.name);var currProj=projInfo.join(", ")}else currProj=0==extraInfo.length?"-":extraInfo[0].project.name;for(info in this.calloutTaskDetails){var obj={};taskInfo.hasOwnProperty(info)||resObj.hasOwnProperty(info)||extraInfo&&extraInfo.hasOwnProperty(info)?obj.field_value="completed"==info?resObj[info]?zgssearch.getI18NMsg("gs.asana.completedTasks"):zgssearch.getI18NMsg("gs.asana.incompleteTasks"):taskInfo[info]||resObj[info]||"-":"project"==info?(zgssearch.getFilterInfo(this.getService(),"projects","current"),obj.field_value=currProj):obj.field_value="-",obj.field_label=this.calloutTaskDetails[info],taskDetails.push(obj)}return taskDetails},this.getCalloutActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},this.getAttachments=function(){var self,params,url_obj;"none"==_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display")?(_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display","block"),_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove(),_jQueryGS("#zgs20_gsLessAsanaAttachment").css("display","block")):(params=(self=this).getAccountId(),url_obj=zgssearch.getAppIdForCloudApps(params),params="action=getAsanaAttachments&service_name=asana&connector_id="+params+"&gid="+zgssearch.getCurrentResObj().gid+"&limit=10&app_id="+url_obj,(url_obj=this.getAttachmentCursor())&&(params+="&cursor="+url_obj),(url_obj={}).url=zgssearch.connectorCallOutURL,url_obj.type="GET",url_obj.dataType="text",url_obj.data=params,url_obj.success=function(attachmentInfo){attachmentInfo=zgssearch.jsonParse(attachmentInfo).response;attachmentInfo.cursor?self.setAttachmentCursor(attachmentInfo.cursor):(self.noMoreAttachments=!0,self.setAttachmentCursor(null));attachmentInfo=attachmentInfo.Attachments;self.constructAttachmentsDOM(attachmentInfo)},zgssearch.network.uri(url_obj))},this.renderCalloutDetails=function(){var stObj,atObj=this.getCalloutResponse();atObj.stories&&((stObj=atObj.stories).cursor&&this.setStoriesCursor(stObj.cursor),0==stObj.s_array.length&&(this.noStories=!0)),atObj.Attachments&&((atObj=atObj.Attachments).cursor&&this.setAttachmentCursor(atObj.cursor),0<atObj.Attachments.length?(_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").css("display","block"),this.constructAttachmentsDOM(atObj.Attachments,0)):this.noAttach=!0),0<stObj.s_array.length&&(_jQueryGS("#zgs20_gsAsanaStoriesDetails").css("display","block"),this.storyStartSet=0,this.constructStoriesDOM(stObj.s_array))},this.getStories=function(){var self,connector_id,url_obj,params=_jQueryGS("#zgs20_gsMoreStoriesSet").css("display");0<_jQueryGS("#zgs20_gsMoreAsanaStories").length&&_jQueryGS("#zgs20_gsMoreAsanaStories").remove(),"none"==params?(_jQueryGS("#zgs20_gsMoreStoriesSet").css("display","block"),_jQueryGS("#zgs20_gsLessAsanaStories").css("display","block")):(url_obj=(self=this).getStoriesCursor()||"",connector_id=this.getAccountId(),params=zgssearch.getAppIdForCloudApps(connector_id),params="action=getAsanaStories&service_name=asana&connector_id="+connector_id+"&gid="+zgssearch.getCurrentResObj().gid+"&limit=10&app_id="+params,url_obj&&(params+="&cursor="+url_obj),(url_obj={}).url=zgssearch.connectorCallOutURL,url_obj.type="GET",url_obj.dataType="text",url_obj.data=params,url_obj.success=function(stories){stories=zgssearch.jsonParse(stories).response;stories.cursor?self.setStoriesCursor(stories.cursor):(self.setStoriesCursor(null),self.noMoreStories=!0);stories=stories.stories;self.constructStoriesDOM(stories)},zgssearch.network.uri(url_obj))},this.setStoriesCursor=function(cursor){this.storierCursor=cursor},this.getStoriesCursor=function(){return this.storierCursor||""},this.setAttachmentCursor=function(cursor){this.attachmentCursor=cursor},this.getAttachmentCursor=function(){return this.attachmentCursor||""},this.constructStoriesDOM=function(stories){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),storyDiv=0==this.storyStartSet?menuEl.initialStoriesSet:menuEl.moreStoriesSet;if(0<stories.length){for(var st=0;st<stories.length;st++){this.setAuthorDetails(stories[st]);var authorDetails="",img=stories[st].author_id,pdngClass="",authorName=_jQueryGS("<div>",{class:"zgs19_gshighlight zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsPdRt3Px",gs:"authorStory",aId:img}).text(stories[st].author);stories[st].is_comment||(authorDetails=authorName,authorName=null,pdngClass="zgs19_gsPdngLf0Px");var authorPhotoUrl=stories[st].photo_url||"",storyId="author_set"+this.storyStartSet+"_"+st,desc=_jQueryGS("<span>",{class:"zgs19_gsAsanaStory zgs19_gsfl"}).html(stories[st].text),img=_jQueryGS("<img>",{gs:"gsStoryAuthorPhoto",id:storyId,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer});_jQueryGS(storyDiv).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryLeftPanel zgs19_gsfl"}).append(img)).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(authorName).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryDate zgs19_gsOverflow "+pdngClass}).append(stories[st].created_at)).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryContent zgs19_gsOverflowWrap"}).append(authorDetails).append(desc)))),zgssearch.renderPhoto(storyId,authorPhotoUrl,"zgs19_gsUserPhoto","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto",img)}this.getStoriesCursor()&&(this.storyStartSet++,this.noAttach?(this.noAttach=!1,zgssearch.projectMgmtCalloutObj.getStories()):_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreStories"}).text("Show more"))),this.noMoreStories&&_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideStories"}).text("Show less"))}else _jQueryGS(menuEl.stories).append("No stories yet")},this.constructAttachmentsDOM=function(attachments,startSet){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),service=this.getService();0<_jQueryGS("#zgs20_gsMoreAsanaAttachments").length&&_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove();var attachDiv=0==startSet?menuEl.initialAttachmentsSet:menuEl.moreAttachmentsSet;if(0<attachments.length){for(var attachFooter,attch=0;attch<attachments.length;attch++)_jQueryGS(attachDiv).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter zgs19_gsAddToWDHoverSec"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+attachments[attch].file_img,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow zgs19_gsTp5Px"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:service,aId:attachments[attch].gid,gs:"attachtitle",gstitle:attachments[attch].name,istip:!0}).text(attachments[attch].name)))),zgssearch.addToWDEnabled()&&(attachFooter=_jQueryGS(attachDiv).find(".zgs19_gsCalloutAttachFooter")[attch],_jQueryGS(attachFooter).append(_jQueryGS("<span>",{class:"zgs19_addToWd zgs19_gsDisplayNone",service:service,aId:attachments[attch].gid,gs:"calloutActionOptions",value:"addToWD",aName:attachments[attch].name}).text("Add to Workdrive")));this.getAttachmentCursor()&&(this.noStories?(this.noStories=!1,zgssearch.projectMgmtCalloutObj.getAttachments()):_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreAttachments"}).text(zgssearch.getI18NMsg("gs.asana.showMore")))),this.noMoreAttachments&&_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideAttach"}).text(zgssearch.getI18NMsg("gs.asana.showLess")))}else _jQueryGS(menuEl.attachHolder).append("No attachments")},this.downloadAttachment=function(parambj){parambj={connectorId:(new zgssearch.dashboardSearchActions).createActionType(parambj).getCurrAccId(),attachName:_jQueryGS(parambj).text(),attachId:_jQueryGS(parambj).attr("aId"),service:zgssearch.GSConstant.ASANA};zgssearch.network.download_file(zgssearch.connectors.constructZSYNCDownloadURL(parambj,zgssearch.getCurrentResObj()))},this.addToWD=function(paramObj,resObj,folderId){paramObj={connectorId:(new zgssearch.dashboardSearchActions).createActionType(paramObj).getCurrAccId(),attachName:_jQueryGS(paramObj).attr("aName"),attachId:_jQueryGS(paramObj).attr("aId"),service:zgssearch.GSConstant.ASANA};paramObj.folderId=folderId,zgssearch.connectors.addFileToWD(paramObj,resObj)},this.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),headerHeight=_jQueryGS(menuEl.header).height(),eachSecHt=_jQueryGS(menuEl.taskDesc).height(),eachSecHt=_jQueryGS("#zgs20_gsProjectsCallout").height()-(headerHeight+eachSecHt);eachSecHt-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(eachSecHt-=_jQueryGS("#zgs20_gsSearchResultLeft").height());eachSecHt=(eachSecHt-((_jQueryGS("#zgs20_gsStTitle").height()||0)+(_jQueryGS("#zgs20_gsAttTitle").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaStories").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaAttachments").height()||0)))/2;_jQueryGS(menuEl.stories).css("max-height",eachSecHt+"px"),_jQueryGS(menuEl.attachHolder).css("max-height",eachSecHt+"px")},this.setAuthorDetails=function(authorObj){this.storyAuthorDetails[authorObj.authorId]||(this.storyAuthorDetails[authorObj.author_id]=authorObj)},this.getAuthorDetails=function(authorId){return this.storyAuthorDetails[authorId]},this.getStoryAuthorDetails=function(target){var currentAuthorDetails=_jQueryGS(target).attr("aId"),currentAuthorDetails=this.getAuthorDetails(currentAuthorDetails);currentAuthorDetails&&zgssearch.contextMenuActionsPopUp(target,currentAuthorDetails)},this.getMoreProjectsDetails=function(target){zgssearch.appendFilterIcon(target,zgssearch.GSConstant.ASANA);var accId=_jQueryGS(target).attr("acc_id"),wsId=_jQueryGS(target).attr("workspace_id"),currWs=_jQueryGS(target).closest(".zgs19_gsSearchResultTable"),currAcc=_jQueryGS(currWs).attr("index"),projectsInfo=zgssearch.getResultObject(zgssearch.GSConstant.ASANA,currAcc,accId,wsId).memberships,currWs=zgssearch.getFilterInfo(this.getService(),zgssearch.WS,"current"),currAcc=zgssearch.getFilterInfo(this.getService(),"accounts","current"),gsAttr="asanaProjects";"all"!=currWs&&0!=currAcc&&"all"!=zgssearch.getSearchType()||(gsAttr=""),_jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsContextualFilterDropdown   zgs19_gsProjectsFilterDD"}));for(var projFilter=0;projFilter<projectsInfo.length;projFilter++){var projInfo=projectsInfo[projFilter].project;_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{gs:gsAttr,acc_id:accId,workspace_id:wsId,pid:projInfo.gid}).text(projInfo.name))}},this.hideMoreSectionResults=function(section){_jQueryGS("#"+("zgs20_gsMore"+section+"Set")).css("display","none"),_jQueryGS("#zgs20_gsLessAsana"+section).css("display","none"),_jQueryGS("#zgs20_gsAsana"+section+"Details").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsana"+section,class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"more"+section}).text("Show more"))},this.setMaxWidthOfElements=function(resultObj){var extraWid,filter_wid=40,field2_wid=35;filter_wid||(field2_wid+=filter_wid),!resultObj.field3&&filter_wid&&(field2_wid+=extraWid=Math.round(7.5),filter_wid+=extraWid),resultObj.field2_style="zgs19_gsMxWid"+field2_wid+"Per",resultObj.filter_style="zgs19_gsMxWid"+filter_wid+"Per"}},zgssearch.PROJECTS=function(){this.calloutURL="",this.timezone="",this.setTimezone=function(tz){this.timezone=tz},this.getTimezone=function(){return this.timezone},this.serviceImgData=[],this.getServiceImgData=function(){return this.serviceImgData},this.isShowTimezoneInfo=function(){return this.getTimezone()&&zgssearch.gsprojects.portalTzOffset[this.getAccountId()]!=zgssearch.GSConstant.IAM_USER_TIMEZONE_OFFSET},this.formatResults=function(){this.projectsResObj.currContextFilter=this.projectsResObj.currField5Filter="";var projVal,modData,currType=this.getCardObj().type;"Card"!=currType&&(limit=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.modules,"current"),(projVal=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.projects,"current"))&&"0"!=projVal&&(modData=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,"modules","data"),this.projectsResObj.currContextFilter=modData[projVal]?modData[projVal][limit]:""),this.projectsResObj.currField5Filter=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.projects,"current"));var res,count=this.getOffset(),resObj=this.getResultObj(),limit=this.limit,resArr=[];for(res in resObj=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(resObj).slice(count,limit))){var proj=resObj[res],resultObj={},modObj="Card"==currType?this.getCardObj().cardId:"gs_"+this.getAccountId()+this.getService()+"Results";resultObj.id="zgs20_"+modObj+"_"+count,resultObj.field1=proj.title,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_title"),resultObj.field5=proj.project_name,resultObj.row3=!0,resultObj.field5_label=zgssearch.getI18NMsg("gs.search.service_projects_projectName"),resultObj.field2_style="zgs19_gsMxWid35Per";var isUserImgSpan=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.modules,"current");"Card"!=currType&&proj.mod_id===isUserImgSpan||(resultObj.contextualFilter=proj.module),resultObj.fieldIconTitle=proj.module,resultObj.gsFilter="Card"!==currType?"projectsModule":"",resultObj.contextualLabel=resultObj.fieldIconLabel=zgssearch.getI18NMsg("gs.search.multi.module"),resultObj.filter_style="zgs19_gsWid23Per",resultObj.iconHolderClass="zgs19_gsUniIconHolder",this.isShowTimezoneInfo()?(resultObj.fieldInfoClass="zgs18_gsInfoSmallIcon zgs19_gsResultInfoIcon",resultObj.timeHoverClass="zgs19_gsTimezoneData"):(resultObj.timeLabel=zgssearch.getI18NMsg("gs.modifiedOn"),resultObj.timeTitle=proj.updated_time);modObj=new this["mod_"+proj.mod_id](this);modObj.setModFields(resultObj,proj),resultObj.row3Wid=resultObj.field6?"zgs19_gsWid75Per":"zgs19_gsWid100Per";isUserImgSpan=!modObj.hasOwnProperty("constructOwnerImg");resultObj.userPhotoObj={},isUserImgSpan?(resultObj.userPhotoObj.isSpan=isUserImgSpan,resultObj.userPhotoObj.class=resultObj.resIcon):(resultObj.userPhotoObj=modObj.constructOwnerImg(proj),resultObj.userPhotoObj.gs="resultPhotoImg",resultObj.userPhotoObj.id="zgs20_gsResultUserImg",(projData={}).id=resultObj.id,resultObj.userPhotoObj.url===zgssearch.gsspacer&&(projData.no_photo=!0),projData.img_url=resultObj.userPhotoObj.url,this.serviceImgData.push(projData));var projData=proj.owner;"object"==typeof projData&&1<Object.keys(projData).length&&(resultObj.gsFilterField2="moreProjOwners",resultObj.moreRecField2="+"+(Object.keys(projData).length-1));projData=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.projects,"alldata");resultObj.noFilter=!1,resultObj.noProjFilter=!!projData&&1==Object.keys(projData[this.getAccountId()]).length,resultObj.field5_gsAttr=resultObj.noProjFilter||"Card"===currType?"":"projectsFilter",resultObj.time=proj.updated_time,resultObj.projId=proj.project_id,resultObj.modId=proj.mod_id,resultObj.index=count,resultObj.field5Filter=proj.project_id,resultObj.recordUrl=this.getCalloutURL(proj),count++,resArr.push(resultObj)}this.projectsResObj.results=resArr},this.setServiceSpecificCalloutProp=function(){var curCalloutObj=this.getResultObj()||zgssearch.getCurrentResObj(),titleId=curCalloutObj.task_id||curCalloutObj.bug_id||"";titleId&&(this.calloutObj.field1_id=titleId),this.calloutObj.field1=curCalloutObj.title||"Untitled",curCalloutObj.url=this.calloutObj.projectUrl=this.getCalloutURL(curCalloutObj),this.calloutObj.actions_list=this.getCalloutActionsList();curCalloutObj=this.cardObj;this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsProjectsPreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.loadericonId="zgs20_gsProjectsLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"},this.getCalloutActionsList=function(){var resultObject,actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened()||("3"!=(resultObject=zgssearch.getCurrentResObj()).mod_id&&"5"!=resultObject.mod_id&&"6"!=resultObject.mod_id&&"7"!=resultObject.mod_id&&"9"!=resultObject.mod_id||((action_obj={gs:"calloutActionOptions",gs_label:"embedPreview"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.savePreviewCard"),actions_list.push(action_obj))),actions_list},this.getCalloutURL=function(resObj){var currMod,themeKey,lightThemeCode,themeCode,themeRGB,portalId=this.getAccountId(),projectId=resObj.project_id,entityId=resObj.id,tasklistId="";if(this.calloutObj&&(zgssearch.isExtension||zgssearch.isIE))this.calloutObj.nonIframeModule=!0;else switch(resObj.mod_id){case"3":currMod="milestones";break;case"5":currMod="tasks",tasklistId=resObj.task_list_id;break;case"6":currMod="issues";break;case"7":currMod="forum";break;case"9":currMod="events";break;default:this.calloutObj&&(this.calloutObj.nonIframeModule=!0)}this.calloutObj&&(this.calloutObj.nonIframeModule?this.setCalloutMetaDetails(resObj):(this.iframeURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/portal/"+portalId+"/widgets.do?project_id="+projectId+"&to_view="+currMod+"&entity_id="+entityId+"&"+zgssearch.originParam,window.location.hostname!=zgssearch.GSConstant.searchdomainURL&&(this.iframeURL+=","+zgssearch.httpstxt+"://"+zgssearch.GSConstant.searchdomainURL),themeCode=getComputedStyle(document.body),themeKey="theme",zgssearch.GSConstant.isNightModeEnabled?(themeKey="dark_theme",modObj="34,36,39"):(lightThemeCode=themeCode.getPropertyValue("--zs-primarySelectedBGLightColor").trim())&&(modObj=(lightThemeCode=zgssearch.includes("rgba",lightThemeCode)||zgssearch.includes("rgb",lightThemeCode)?zgssearch.rgbaToRgb(lightThemeCode):zgssearch.hexToRgb(lightThemeCode)).r+","+lightThemeCode.g+","+lightThemeCode.b),((themeRGB=(themeCode=themeCode.getPropertyValue("--zs-primaryThemeIconColor").trim())?(themeCode=zgssearch.hexToRgb(themeCode)).r+","+themeCode.g+","+themeCode.b:themeRGB)||modObj)&&(this.iframeURL+="&"+themeKey+"="+encodeURIComponent(JSON.stringify({zpPrimary:themeRGB,zpPrimaryHover:modObj})))));var modObj=new this["mod_"+resObj.mod_id](this);return this.calloutURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/"+modObj.getCalloutURL(portalId,projectId,entityId,tasklistId),this.calloutURL},this.renderCalloutDetails=function(){var previewObject,preview=new zgssearch.ZSPreview;this.calloutObj.nonIframeModule?previewObject=preview.createPreviewObj():((previewObject=preview.createPreviewObj(zgssearch.IFRAME)).setIframeUrl(this.iframeURL),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),previewObject.setIframeId("callout_iframe_"+(new Date).getTime())),previewObject.setCardObj(this.cardObj),previewObject.setPreviewHolder("projectspreviewHolder"),previewObject.setCalloutHolder(this.calloutObj.calloutHolderId),previewObject.setParentId(this.calloutObj.calloutHolderId),previewObject.setLoaderIconId("zgs20_gsProjectsLoader"),previewObject.renderPreview()},this.setCalloutMetaDetails=function(resObj){var fieldLen,isUserImgSpan=resObj.owner||resObj.milestone;"object"==typeof isUserImgSpan&&(isUserImgSpan=(fieldLen=isUserImgSpan)[0].name,1<(fieldLen=Object.keys(fieldLen).length)&&(this.calloutObj.moreRecOwner=" +"+fieldLen-1,modObj=zgssearch.getCurrentSelectedElem(),this.calloutObj.accId=_jQueryGS(modObj).attr("acc_id")||"",this.calloutObj.index=_jQueryGS(modObj).attr("index")||"")),this.calloutObj.owner=isUserImgSpan,this.calloutObj.time=resObj.updated_time,this.calloutObj.projectName=resObj.project_name,this.calloutObj.module=resObj.module;var modObj=new this["mod_"+resObj.mod_id](this);this.calloutObj.postedBy=modObj.getLabel();isUserImgSpan=!modObj.hasOwnProperty("constructOwnerImg");this.calloutObj.userPhotoObj={},isUserImgSpan?(this.calloutObj.userPhotoObj.isSpan=isUserImgSpan,this.calloutObj.userPhotoObj.class=modObj.getIcon(),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"):this.calloutObj.userPhotoObj=modObj.constructOwnerImg(resObj)},this.constructPhotoObj=function(sname){var userPhotoObj={id:"zgs20_gsDocsCalloutUserImg"};userPhotoObj.url=zgssearch.gsspacer,userPhotoObj.class="zgs19_gsFetchLoader",userPhotoObj.isGroup=!1,userPhotoObj.isSpan=!1;var zuid=sname.zuid,sname=zgssearch.getUserStatus(zuid);return this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid&&(sname=sname.name||"",userPhotoObj.class="zgs19_gsCalloutUserImg",userPhotoObj.url=zgssearch.getThumbPhotoURL(zuid),this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+sname)),userPhotoObj},this.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height()||0);contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.projectscalloutFooter).css("height",contentHeight+"px")},this.mod_3=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field2Class="zgs19_gsMxWid30Per",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.sevice_projects_dueOn"),resultObj.resIcon="zgs18_gsProjMilestoneIcon",resultObj.footer_tip=this.getLabel()},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#milestone/"+projectId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjMilestoneIcon"}},this.mod_4=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.milestone,resultObj.field2Class="zgs19_gsPdRt10Px",resultObj.field2_icon=proj.hasOwnProperty("milestone")&&proj.milestone?"zgs18_gsProjResMilestoneIcon":"",resultObj.resIcon="zgs18_gsProjTasklistIcon",resultObj.footer_tip=this.getLabel(),resultObj.row3=!1},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#tasklistdetail/"+projectId+"/"+recId},this.getIcon=function(){return"zgs18_gsProjTasklistIcon"},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_milestone")}},this.mod_5=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field3_1=proj.status,resultObj.field3_1_title=zgssearch.getI18NMsg("gs.search.service_projects_status")+": ",resultObj.field3_1_style="zgs19_gsProjectStatusVal",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.sevice_projects_dueOn"),resultObj.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_taskId"),resultObj.field1_pre=proj.task_id,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_taskTitle"),resultObj.resIcon="zgs18_gsProjTaskIcon",resultObj.footer_tip=this.getLabel(),resultObj.field6=proj.priority,resultObj.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_priority"),proj.is_recurrence&&(resultObj.fieldTitleIconClass="zgs18_gsRecurrenceIcon zgs19_gsRecurrenceIcon zgs19_gsPdRt6Px",resultObj.fieldTitleIconTitle=zgssearch.getI18NMsg("gs.search.service_projects_recurringTask"))},this.getCalloutURL=function(portalId,projectId,recId,tasklistId){return"portal/"+portalId+"#taskdetail/"+projectId+"/"+tasklistId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjTaskIcon"}},this.mod_6=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field3_1=proj.status,resultObj.field3_1_title=zgssearch.getI18NMsg("gs.search.service_projects_status")+": ",resultObj.field3_1_style="zgs19_gsProjectStatusVal",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.sevice_projects_dueOn"),resultObj.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_bugId"),resultObj.field1_pre=proj.bug_id,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_bugTitle"),resultObj.resIcon="zgs18_gsProjBugIcon",resultObj.footer_tip=this.getLabel(),resultObj.field6=proj.severity,resultObj.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_severity")},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#buginfo/"+projectId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjBugIcon"}},this.mod_7=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner,resultObj.field4=proj.category,resultObj.field4Icon="zgs18_gsProjCategoryIcon zgs19_gsProjCategory",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.service_projects_category"),resultObj.field4Title=proj.category,resultObj.footer_tip=this.getLabel(),this.fieldIconTitle=this.fieldIconLabel=""},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#forums/"+projectId+"/"+recId},this.constructOwnerImg=function(resObj){return self.constructPhotoObj(resObj)},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")}},this.mod_9=function(self){this.setModFields=function(resultObj,proj){resultObj.field2_icon="zgs18_gsDateIcon",resultObj.field2=proj.scheduled_time,resultObj.footer_tip=zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),resultObj.field4=resultObj.field4Title=proj.owner,resultObj.field4Label=zgssearch.getI18NMsg("gs.search.service_projects_host"),resultObj.field4Class="zgs19_gsMxWid40Per",resultObj.field2_style="zgs19_gsMxWid80Per ",resultObj.filter_style="zgs19_gsWid20Per",resultObj.iconHolderClass="zgs19_gsCalcIconHolder",self.isShowTimezoneInfo()&&(resultObj.field2InfoClass=resultObj.field2Info=resultObj.fieldInfoClass+" "+resultObj.timeHoverClass,delete resultObj.fieldInfoClass,delete resultObj.timeHoverClass)},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#myworkcalendar/events/"+recId},this.constructOwnerImg=function(stDate){var obj=self.constructPhotoObj(stDate),stArr=stDate.scheduled_time.split(" "),stDate=stArr[1].split(",");return obj.element='<div class="zgs19_gsCalcDateHolder" >'+stDate[0]+'</div><div class="zgs19_gsCalcMonthHolder">'+stArr[0]+"</div>",obj},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")},this.getTimeDetails=function(){return{title:zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),timeKey:"scheduled_time"}}},this.getMoreOwners=function(target){var owner,serv=zgssearch.GSConstant.PROJECTS,accId=_jQueryGS(target).attr("accountId"),index=_jQueryGS(target).attr("index"),currIndex=serv+index,fullResObj=(new zgssearch.dashboardSearchActions).createActionType(target).getResultObject(serv)||{},ownersList=(fullResObj.hasOwnProperty(serv)&&!_jQueryGS.isEmptyObject(fullResObj[serv])?fullResObj[serv][currIndex]:zgssearch.getResultObject(zgssearch.GSConstant.PROJECTS,index,accId)).owner;for(owner in _jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsProjectsOwnersDD zgs19_gsPdng4Px"})),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeTitle"}).text(zgssearch.getI18NMsg("gs.search.service_projects_assignee"))),ownersList){var photoURL,assignee=ownersList[owner],iconHolder=_jQueryGS("<img>",{id:"zgs20_gsAssigneeList_"+owner,class:"zgs19_gsFetchImgLoader zgs19_gsAssigneesFetchImgLoader zgs19_gsfl",src:zgssearch.gsspacer}),errorDiv=assignee.zuid||"";""!==errorDiv&&"-1"!==errorDiv?(photoURL=zgssearch.getThumbPhotoURL(errorDiv),errorDiv=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),zgssearch.renderPhoto("",photoURL,"zgs19_gsAssigneeImg zgs19_gsfl","",iconHolder,errorDiv)):iconHolder=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeDDList"}).append(iconHolder).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsPdngTp3Px zgs19_gsPdLt6Px"}).text(assignee.name))),document.getElementById("zgs20_gsResultFilterDropDown").scrollIntoViewIfNeeded(!0)}},this.getTimezoneDetails=function(target){var title=zgssearch.GSConstant.PROJECTS,currResObj=_jQueryGS(target).closest(".zgs19_gsSearchResultTable"),modData=_jQueryGS(currResObj).attr("acc_id"),style=_jQueryGS(currResObj).attr("index"),time=title+style,timezone=(new zgssearch.dashboardSearchActions).createActionType(target).getResultObject(title)||{},currResObj={},currResObj=timezone.hasOwnProperty(title)&&!_jQueryGS.isEmptyObject(timezone[title])?timezone[title][time]:zgssearch.getResultObject(zgssearch.GSConstant.PROJECTS,style,modData),timezone="";zgssearch.gsprojects.portalTzOffset[modData]!=zgssearch.GSConstant.IAM_USER_TIMEZONE_OFFSET&&"GMT"!=(timezone=zgssearch.gsprojects.portalTimezone[modData])&&(timezone+=" ( "+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+" "+zgssearch.gsprojects.portalTzOffsetStr[modData]+" )");title=zgssearch.getI18NMsg("gs.search.modfied_time"),time=currResObj.updated_time,style=new this["mod_"+currResObj.mod_id](this),modData=style.hasOwnProperty("getTimeDetails")?style.getTimeDetails():{},style="5px";_jQueryGS.isEmptyObject(modData)||(title=modData.title,time=currResObj[modData.timeKey],style=""),_jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsProjectsOwnersDD zgs19_gsTimezoneInfoDD "})),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsHgtAuto"}).append(_jQueryGS("<span>",{class:"zgs19_gsTimezoneInfo"}).text(title+" :")).append(_jQueryGS("<span>",{class:"zgs19_gsTimezoneInfo zgs19_gsTimezoneData"}).text(time))).append(_jQueryGS("<div>",{class:"zgs19_gsHgtAuto"}).append(_jQueryGS("<span>",{class:"zgs19_gsTimezoneInfo zgs19_gsPdngTp10Px"}).text(zgssearch.getI18NMsg("gs.search.service_projects_portalTz")+" :")).append(_jQueryGS("<span>",{class:"zgs19_gsTimezoneInfo zgs19_gsTimezoneData"}).text(timezone))),_jQueryGS("#zgs20_gsResultFilterDropDown").css("left",_jQueryGS(target).position().left-100),style&&_jQueryGS("#zgs20_gsResultFilterDropDown").css("right",style)}},zgssearch.notesTemplateFactory=function(){this.createCurServiceInstance=function(serviceInfo){var curServiceInstance;return(curServiceInstance=serviceInfo.service===zgssearch.GSConstant.EVERNOTE?new evernote:curServiceInstance).service=serviceInfo.service,curServiceInstance.accId=serviceInfo.accountId||"",curServiceInstance.offset=-1<serviceInfo.offset?serviceInfo.offset:"",curServiceInstance.parentId=serviceInfo.parentId||"",curServiceInstance.setResponseObj=function(responseObj){this.responseObj=responseObj},curServiceInstance.evrObj={},curServiceInstance.calloutObj={},curServiceInstance.parentElem=serviceInfo.parentElem||"",curServiceInstance.cardObj=serviceInfo.cardObj||"",curServiceInstance.cardId=serviceInfo.cardId||"",curServiceInstance.getAccId=function(){return this.accId},curServiceInstance.getService=function(){return this.service},curServiceInstance.getOffsetValue=function(){return this.offset},curServiceInstance.getevrObj=function(){return this.evrObj},curServiceInstance.getParentId=function(){return this.parentId},curServiceInstance.getResponseObj=function(){return this.responseObj},curServiceInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},curServiceInstance.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsEvernoteCallout"},curServiceInstance.setPreviewParentId=function(previewId){this.previewId=previewId},curServiceInstance.getPreviewParentId=function(){return this.previewId},curServiceInstance.setCommonResultProperties=function(currentDivId){var offset=this.getOffsetValue(),currentSerResultObj={};currentSerResultObj.index=offset,currentSerResultObj.service=this.getService(),currentSerResultObj.author=currentDivId.author,currentSerResultObj.CONNECTOR_ID=currentDivId.CONNECTOR_ID,currentSerResultObj.tagId=currentDivId.id,currentSerResultObj.name=currentDivId.name,currentSerResultObj.nameTitle=zgssearch.getI18NMsg("gs.r.nb.notes");var modDataObj=zgssearch.getFilterInfo(this.getService(),"modules","data")[this.accId];modDataObj.hasOwnProperty(currentDivId.nbId)||(zgssearch.notesTemplateInstance.newNotebookDataObj=zgssearch.notesTemplateInstance.newNotebookDataObj||{},zgssearch.notesTemplateInstance.newNotebookDataObj[currentDivId.nbId]=[currentDivId.nbName],modDataObj[currentDivId.nbId]=currentDivId.nbName,zgssearch.getWidgetResponseData(this.getService()).aD[zgssearch.getFilterInfo(this.getService(),"accounts","current")].modules[0][currentDivId.nbId]=currentDivId.nbName),currentSerResultObj.nbId=currentDivId.nbId,currentSerResultObj.nbName=currentDivId.nbName,currentSerResultObj.created=currentDivId.created,currentSerResultObj.url=currentDivId.openUrl,currentSerResultObj.dateTypeTxt=zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),currentSerResultObj.iconTxt=zgssearch.getCapitalizedLtr(currentDivId.name),currentSerResultObj.updated=currentDivId.updated,currentSerResultObj.footer_tip=zgssearch.getI18NMsg("common.author"),currentSerResultObj.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";currentDivId="zgs20_gs"+this.getService()+"Results_"+offset;return this.cardObj?currentDivId="zgs20_"+this.cardObj.cardId+"_"+offset:zgssearch.multiPageEnabled&&(currentDivId="zgs20_gs"+this.accId+"Results_"+offset),currentSerResultObj.id=currentDivId,currentSerResultObj},curServiceInstance.renderResults=function(){var responseObj=this.getResponseObj();this.evrObj={serviceName:this.getService(),accId:this.getAccId(),curNotebook:zgssearch.getFilterInfo(this.getService(),"modules","dispname")},this.evrObj.results=[],this.evrObj.results=this.formatResults(responseObj),this.appendResults()},curServiceInstance.appendResults=function(){var templateFunc,parentDivElem,evrObj,load_instance=this.getService();zgssearch.isHandlebarLoaded()?(parentDivElem=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[parentDivElem],evrObj=this.getParentId(),parentDivElem=this.parentElem||_jQueryGS("#"+evrObj),evrObj=this.getevrObj(),this.evrObj.type=this.cardObj?this.cardObj.type:"Search",1<this.getOffsetValue()?parentDivElem.append(templateFunc(evrObj)):parentDivElem.html(templateFunc(evrObj))):(null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),this.appendResults())},curServiceInstance.commonCalloutParams=function(resObj){var calloutDataObj={};calloutDataObj.serviceName=this.getService(),calloutDataObj.CONNECTOR_ID=resObj.CONNECTOR_ID,calloutDataObj.nbId=resObj.nbId},curServiceInstance.setCommonCalloutProperties=function(resObj,curCalloutObj){var currEle=zgssearch.getCurrentSelectedElem(),service=this.getService();this.calloutObj.service=service,this.calloutObj.url=zgssearch.fetchCalloutUrl(service,resObj),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||"",this.calloutObj.curCalloutObj=curCalloutObj,this.calloutObj.calloutId=curCalloutObj?curCalloutObj.calloutId:"zgs20_gsEvernoteCallout",this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsEvernotePreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},curServiceInstance.constructCalloutResponse=function(response,resObj,curCalloutObj){var parentDiv=response.response,curCalloutObj=curCalloutObj.searchObj;this.setCommonCalloutProperties(resObj,curCalloutObj),this.setServiceSpecificCalloutInfo(resObj),this.calloutObj.calloutPrevUrl=parentDiv.hasOwnProperty("url")?parentDiv.url:"";parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";this.renderCalloutView(response,resObj,parentDiv,curCalloutObj)},curServiceInstance.renderCalloutView=function(response,resObj,parentDiv,menuEl){var parentId=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),parentId=search_handlebars.templates[parentId];_jQueryGS(parentDiv).html(parentId(this.calloutObj));parentId=zgssearch.getFourDotLoader("zgs20_gsNotesTemplateCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader");_jQueryGS("#"+menuEl.calloutId).append(parentId);menuEl=new zgssearch.ZSPreview,parentId=this.getPreviewParentId(),menuEl=menuEl.createPreviewObj(zgssearch.IFRAME);this.calloutObj.calloutPrevUrl&&(menuEl.setIframeUrl(this.calloutObj.calloutPrevUrl),menuEl.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor zgs19_gsVisbHdn"),menuEl.setIframeId("callout_iframe_"+(new Date).getTime())),menuEl.setCardObj(this.cardObj),menuEl.setPreviewHolder("evernotepreviewHolder"),menuEl.setCalloutHolder(this.getCalloutHolder()),menuEl.setParentId(parentId),menuEl.setLoaderIconId("zgs20_gsNotesTemplateCalloutLoader"),menuEl.renderPreview(),zgssearch.calloutVisitRequest();menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),this.calloutObj.curCalloutObj.iconDisplay||(_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none")),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),this.setCalloutEleSize()},curServiceInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},curServiceInstance.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height());contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},curServiceInstance.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},curServiceInstance}};var evernote=function(){this.formatResults=function(res){var self=this,resultArr=[];return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj.accId=resObj.CONNECTOR_ID,currentObj.accId=resObj.CONNECTOR_ID,currentObj.gsfilter="evernoteNotebooks","0"!=zgssearch.getFilterInfo(self.getService(),"modules","current")&&"all"!==zgssearch.getSearchType()&&(currentObj.noFilter=!0,currentObj.gsfilter=""),resultArr.push(currentObj),self.offset++}),resultArr},this.callOutParams=function(resObj){var accId=this.accId||resObj.accId,app_id=zgssearch.getAppIdForCloudApps(accId),domainUrl=window.location.protocol+"//"+window.location.host;return"action=getEvernotePreviewUrl&service_name="+zgssearch.GSConstant.EVERNOTE+"&connector_id="+accId+"&note_id="+resObj.id+"&app_id="+app_id+"&domain_url="+domainUrl+"&isWDEnabled="+zgssearch.addToWDEnabled()},this.getCalloutActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj.author=resObj.author,this.calloutObj.created=resObj.created,this.calloutObj.nbName=resObj.nbName,this.calloutObj.nbName=resObj.nbName,this.calloutObj.title=resObj.name,this.calloutObj.updated=resObj.updated,this.calloutObj.tags=resObj.tags,this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.iconTxt=zgssearch.getCapitalizedLtr(resObj.name),this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.downloadEvernoteAttachment=function(download_url){var conId=zgssearch.getCurSelectedEleAttr("acc_id")||"",ud_download_url=zgssearch.getAppIdForCloudApps(conId),download_obj={};download_obj.connector_id=conId,download_obj.service_name=zgssearch.GSConstant.EVERNOTE,download_obj.action="getENNoteAttachDownloadUrl",download_obj.note_id=download_url.hasOwnProperty("note_id")?download_url.note_id:"",download_obj.res_hash=download_url.hasOwnProperty("res_hash")?download_url.res_hash:"",download_obj.app_id=ud_download_url,download_obj.attach_name=download_url.hasOwnProperty("attach_name")?download_url.attach_name:"";ud_download_url=zgssearch.GSConstant.ud_download_server_url,download_url=zgssearch.GSConstant.ud_service_name,download_url=ud_download_url+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(download_obj)+"&x-service="+download_url;zgssearch.network.download_file(download_url)},this.addToWD=function(resObj,attachId,folderId,resHash){var paramObj={};paramObj.service=zgssearch.GSConstant.EVERNOTE,paramObj.attachId=attachId,paramObj.folderId=folderId,paramObj.resHash=resHash,paramObj.connectorId=zgssearch.curSelectedEle.getAttribute("acc_id")||"",zgssearch.connectors.addFileToWD(paramObj,resObj)},this.evernoteImgBlobPostMsgCallback=function(origin,calloutObj){var msg={action_type:"evernoteImgResp",imgBlob:origin,id:calloutObj.key},origin=calloutObj.origin;calloutObj.target.postMessage(msg,origin)}};function ZSCrm(){this.formatResults=function(){var service_name=this.getServiceName();if(service_name===zgssearch.GSConstant.CRM)for(var offset=this.getOffset(),limit=this.getLimit(),records_info=this.getServiceInfo().records_info;offset<limit;offset++){var api_name,elem_index=service_name+offset,record=records_info[elem_index],module_name=record.mod,nameVsDispName=zgssearch.CrmUtils.getModuleImpFields(service_name,module_name).nameVsDispName,temp_record={};for(api_name in record)temp_record[nameVsDispName[api_name]||api_name]=record[api_name];records_info[elem_index]=temp_record}},this.formatCalloutResults=function(temp_response_json){if(this.getServiceName()!==zgssearch.GSConstant.CRM)return temp_response_json;var impFields=temp_response_json.impFields,extraFields=temp_response_json.extraFields;for(disp_name in impFields)extraFields[disp_name]=impFields[disp_name];var disp_name,apiNames=temp_response_json.apiNames,fields_data=[];for(disp_name in extraFields){var api_name=apiNames[disp_name]||"",obj={};obj.api_name=api_name,obj.disp_label=disp_name,obj.field_val=extraFields[disp_name],fields_data.push(obj)}var temp_results_json={},temp_response_json={};return temp_response_json.disp_fields=fields_data,temp_results_json.response=temp_response_json,temp_results_json},this.renderResults=function(){this.formatResults(),this.render()},this.calloutParams=function(){var module=this.getCurrentResObj(),entityId=zgssearch.CrmUtils.getRecordId(module),module=zgssearch.CrmUtils.getModuleName(module);return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&entityId="+entityId+"&crmMod="+zgssearch.CrmUtils.getCrmModuleQueryName(module)},this.calloutResponse=function(response,argObj){var module_type=this.getCurrentResObj(),module_type=zgssearch.CrmUtils.getModuleName(module_type);response=this.formatCalloutResults(response),this.renderCalloutView(module_type,response,argObj)}}function ZSSalesforce(){this.renderResults=function(){this.render()},this.calloutParams=function(){this.setCurrentResObj();var zsoid=this.getCurrentResObj(),connector_id=zgssearch.getResultAccountId();void 0===zsoid.CONNECTOR_ID&&(zsoid.CONNECTOR_ID=connector_id);var connector_id=zsoid.CONNECTOR_ID||"",record_id=zsoid.Id||"",module_type=zgssearch.CrmUtils.getModuleName(zsoid),zsoid=zgssearch.getAppIdForCloudApps(connector_id);if(""!==module_type)return"action=salesforceCallout&service_name="+zgssearch.GSConstant.SALESFORCE+"&connector_id="+connector_id+"&module_name="+module_type+"&id="+record_id+"&app_id="+zsoid},this.calloutResponse=function(response,argObj){var module_type=this.getCurrentResObj(),module_type=zgssearch.CrmUtils.getModuleName(module_type);this.renderCalloutView(module_type,response,argObj)}}!function(zgssearch,window){window.document;var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.maxPrevPane=gscomponent.isResizeEnabled()&&null!=typeof zgssearch.maxPrevPane?zgssearch.maxPrevPane:950,zgssearch.minPrevPane=gscomponent.isResizeEnabled()&&null!=typeof zgssearch.minPrevPane?zgssearch.minPrevPane:525,zgssearch.leftServicePaneW=gscomponent.isResizeEnabled()?zgssearch.getLHSServicePaneWidth():"auto",zgssearch.maxCalloutPreview=function(service,resObj){var rmW;_jQueryGS("#zgs20_gsSearchResultRight").css("z-index",5),1===gscomponent.UIType&&(rmW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))+parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("max-width").replace("px",""))+"px",_jQueryGS("#zgs20_gsSearchResultRight").css("max-width",rmW)),zgssearch.leftServicePaneW=gscomponent.isResizeEnabled()?zgssearch.getLHSServicePaneWidth():"auto",_jQueryGS("#zgs20_gsSearchResultRight").stop(!0).animate({width:zgssearch.maxPrevPane},"200",function(){zgssearch.openCalloutPreview(service,menuEl,resObj),1===gscomponent.UIType&&(_jQueryGS("#zgs20_gsDocsCalloutFooter").css("width",""),_jQueryGS("#zgs20_gsDocsCalloutFooter").css("max-width",zgssearch.maxPrevPane-50+"px"))}),zgssearch.isMaxCalloutOpen=!0;var scallout=zgssearch.mappedServiceList[service].callout;service===zgssearch.GSConstant.SALESFORCE&&(scallout="gscrm");var cholder="";switch(service){case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.PROJECTS:cholder=zgssearch.projectMgmtCalloutObj.getCalloutHolder();break;case zgssearch.GSConstant.EVERNOTE:cholder=zgssearch.notesTemplateInstance.getCalloutHolder();break;default:cholder=zgssearch[scallout].getCalloutHolder()}var menuEl=zgssearch.getTargetElem(cholder);menuEl&&(zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).show())},zgssearch.minCalloutPreviewChange=function(){zgssearch.isMaxCalloutOpen=!1,zgssearch.setCalloutPreview();var cholder,menuEl,resObj,service=zgssearch.getCurSelectedEleAttr("service");service==GSConstant.ORGRESOURCES||GSConstant.BOOKS==service||GSConstant.INVOICE==service||GSConstant.WORKDRIVE==service?(cholder=zgssearch.mappedServiceList[service].callout,cholder=zgssearch[cholder].getCalloutHolder(),menuEl=zgssearch.getTargetElem(cholder),resObj=zgssearch.getCurrentResObj(),_jQueryGS("#zgs20_gsSearchResultRight").stop(!0).animate({width:zgssearch.minPrevPane,"z-index":1},"200",function(){zgssearch.openCalloutPreview(service,menuEl,resObj)})):_jQueryGS("#zgs20_gsSearchResultRight").stop(!0).animate({width:zgssearch.minPrevPane,"z-index":1},"200",function(){1===zgssearch.gscomponent.UIType&&(_jQueryGS("#zgs20_gsDocsCalloutFooter").css("max-width",""),_jQueryGS("#zgs20_gsDocsCalloutFooter").css("width",zgssearch.minPrevPane-25+"px"))})}}(zgssearch,window),function(zgssearch,window){var gsdocs,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsdocs=(gsdocs=void 0,(gsdocs=zgssearch.gsdocs||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"}],gsdocs.getCalloutHolder=function(){return"zgs20_gsDocsCallout"},gsdocs.calloutParams=function(resObj){var searchType=zgssearch.getCalloutSearchType(),cId=resObj.CONNECTOR_ID||zgssearch.getResultAccountId()||"";void 0===resObj.CONNECTOR_ID&&(resObj.CONNECTOR_ID=cId);var pkid=resObj.id||"",extn=resObj.extn||"",type=resObj.rtype||"",fileName=resObj.name||zgssearch.FILE,zsoid=zgssearch.getAppIdForCloudApps(cId);switch(searchType){case GSConstant.DOCUMENTS:return"searchType="+zgssearch.getCalloutSearchType()+"&docId="+resObj.docid;case GSConstant.BOX:return"action=getBoxPreviewUrl&service_name="+GSConstant.BOX+"&connector_id="+cId+"&file_id="+pkid+"&extn="+extn+"&app_id="+zsoid;case GSConstant.DROPBOX:return"action=getUDDropboxPreviewUrl&pkid="+pkid+"&res_type="+type+"&res_extn="+extn+"&service_name="+GSConstant.DROPBOX+"&connector_id="+cId+"&file_name="+encodeURIComponent(fileName)+"&app_id="+zsoid;case GSConstant.GOOGLEDRIVE:var mtype=resObj.mtype||"";return"action=getUDGDrivePreviewUrl&service_name="+zgssearch.GSConstant.GOOGLEDRIVE+"&connector_id="+cId+"&pkid="+pkid+"&res_type="+type+"&res_extn="+extn+"&mime_type="+mtype+"&file_name="+encodeURIComponent(fileName)+"&app_id="+zsoid;case GSConstant.ONEDRIVE:var mtype=resObj.mimeType||"",driveId=resObj.driveId||"";return"action=getOneDrivePreviewUrl&service_name="+GSConstant.ONEDRIVE+"&connector_id="+cId+"&id="+pkid+"&mimeType="+mtype+"&name="+encodeURIComponent(fileName)+"&driveId="+driveId+"&app_id="+zsoid}},gsdocs.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,downtxt,calloutId=curCalloutObj.calloutId,dcallout=_jQueryGS(calloutId).length,service=zgssearch.getCurSelectedEleAttr("service");dcallout<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),downtxt=zgssearch.getI18NMsg("gs.search.result.document.download"),dcallout=zgssearch.getFourDotLoader("zgs20_gsdocsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:service,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(service),service:service})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.DOCUMENTS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr",gstitle:downtxt,gs:"docsdownload"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:service})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:service}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsDocsCalloutFooter",class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS(calloutId).attr("ccount",count)},gsdocs.setDocsCalloutEleSize=function(menuEl){var width=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(width=_jQueryGS(menuEl.metaInfo).height());width=_jQueryGS("#zgs20_gsDocsCallout").height()-(headerHeight+width);width-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(width-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",width+"px"),1===zgssearch.gscomponent.UIType&&(width=_jQueryGS("#zgs20_gsSearchResultRight").width()-25,_jQueryGS(menuEl.calloutFooter).css("width",width+"px"))},gsdocs.calloutResponse=function(response,resObj,response_type,time){var curCalloutObj=time.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(response_type);var postedBy=_jQueryGS(menuEl).attr("ccount"),service=zgssearch.getCurSelectedEleAttr("service");response||service!=GSConstant.BOX||gsdocs.calloutErrorMsg("",curCalloutObj),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(service,resObj));time=resObj.doc_name||resObj.name||"";_jQueryGS(menuEl.ctitle).empty().text(time).attr("gstitle",time);time=_jQueryGS(response_type.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",time),_jQueryGS(menuEl.clink).attr("gstitle",zgssearch.getNewTabTip(service));response_type=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");time="zgs20_gsDocsCalloutUserImg"+postedBy;_jQueryGS(menuEl.authorPhoto).attr("id",time);postedBy=zgssearch.getUserStatus(response_type);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==response_type&&void 0!==response_type?(author_name_for_callout=postedBy.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+author_name_for_callout),display_time=zgssearch.getThumbPhotoURL(response_type),zgssearch.renderCalloutUserPhoto(time,display_time)):service==GSConstant.GOOGLEDRIVE?(display_time=resObj.photo||"",zgssearch.renderCalloutUserPhoto(time,display_time)):zgssearch.renderCalloutNoUserPhoto(time),service!=GSConstant.DROPBOX&&service!=GSConstant.GOOGLEDRIVE&&service!=GSConstant.BOX&&service!=GSConstant.ONEDRIVE||(_jQueryGS(menuEl).find(".zgs19_gsCalloutUserValue").removeClass("zgs19_gsUserBackground"),_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"));var postedBy=gsdocs.getPostedByInfo(service,resObj),author_name_for_callout=resObj.author,response_type=resObj.owner||resObj.createdBy,display_time=resObj.display_time,time=resObj.time||resObj.lmtime,author_name_for_callout=author_name_for_callout||response_type||resObj.name||"";zgssearch.GSConstant.DROPBOX===service&&(author_name_for_callout=resObj.path||resObj.name||"");response_type=resObj.rtype||"";service==GSConstant.DROPBOX&&"folder"!==response_type&&gsdocs.hideUserHeaderInfo(menuEl),_jQueryGS(menuEl.startedBy).html("").text(postedBy),_jQueryGS(menuEl.owner).html("").text(author_name_for_callout).attr("gstitle",author_name_for_callout).attr("gslabel",""),_jQueryGS(menuEl.date).html("").text(display_time||time||"").attr("gstitle",display_time||time||"").attr("gslabel",zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")),_jQueryGS(menuEl.docsdownload).css("display","none"),gsdocs.renderDocsPreview(menuEl,resObj,service,response),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none")),zgssearch.getCurrentSelectedElem()&&(_jQueryGS("#zgs20_gsdocsprevLoader").css("display","none"),zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsdocs.addCalloutActionList(menuEl,resObj,service),gsdocs.setDocsCalloutEleSize(menuEl),service==GSConstant.DROPBOX&&"folder"!==response_type&&zgssearch.connectors.getDropboxFileOwner()},gsdocs.hideUserHeaderInfo=function(menuEl){_jQueryGS(menuEl.startedBy).parent().parent().css("display","none")},gsdocs.showUserHeaderInfo=function(menuEl){_jQueryGS(menuEl.startedBy).parent().parent().css("display","block")},gsdocs.addCalloutActionList=function(menuEl,resObj,service){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsdocs.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key){var docType=(docType=resObj.doc_type||resObj.rtype||"")||resObj.mimeType?docType:"folder",downloadURL=GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||"folder"===docType||service==GSConstant.BOX&&resObj.hasOwnProperty("is_download")||resObj.hasOwnProperty("is_down")&&!resObj.is_down)continue}_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service}).text(dectext))}}},gsdocs.downloadDocument=function(resObj){var resourceId,downloadURL="",service=zgssearch.getCurSelectedEleAttr("service"),enabledCloudApps=zgssearch.getEnabledCloudApps();service===zgssearch.GSConstant.DOCUMENTS?(resourceId=resObj.docid,downloadURL=zgssearch.httpstxt+"://"+GSConstant.downloadServer+"/v1/docs/download/"+resourceId):-1<enabledCloudApps.indexOf(service)&&(downloadURL=zgssearch.connectors.constructZSYNCDownloadURL("",resObj)),zgssearch.network.download_file(downloadURL)},gsdocs.getDocsPreviewURL=function(resObj){var servImg=resObj.servImg,resourceId=resObj.docid,url="";switch(servImg){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":url=GSConstant.GS_DOCS_URL+"/writer/preview/"+resourceId;break;case"zgs19_xl":case"zgs19_sheet":url=GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+resourceId+"&top=no";break;case"zgs19_power":case"zgs19_show":url=GSConstant.GS_DOCS_URL+"/show/preview/"+resourceId+"?notopbar=true";break;default:url=GSConstant.GS_DOCS_URL+"/orgembed/"+resourceId}return url+"&"+zgssearch.originParam},gsdocs.getExternalconnectorsPrevURl=function(resObj,service){var cId=resObj.CONNECTOR_ID||"",pkid=resObj.id||"",extn=resObj.extn||"",type=resObj.rtype||"";switch(service){case GSConstant.BOX:return"/zgssearch/exconnector/getCalloutData?action=getBoxPreviewUrl&service_name=box&connector_id="+cId+"&fileId="+pkid;case GSConstant.DROPBOX:return"/zgssearch/exconnector/getCalloutData?action=getUDDropboxPreviewUrl&pkid="+pkid+"&res_type="+type+"&res_extn="+extn+"&service_name="+GSConstant.DROPBOX+"&connector_id="+cId;case GSConstant.GOOGLEDRIVE:return"/zgssearch/exconnector/getCalloutData?action=getUDGDrivePreviewUrl&service_name=gdrive&connector_id="+cId+"&pkid="+pkid+"&res_type="+type+"&res_extn="+extn+"&mime_type="+(resObj.mtype||"")}},gsdocs.renderZipPreview=function(accessbtnHeight,docspreviewHolder,resObj){_jQueryGS("#zgs20_gsdocsprevLoader").remove();var calloutParentHeight=resObj.url||resObj.webUrl,calloutParentHeight=_jQueryGS("<div>",{id:"zgs20_gsZipFilePrev",class:"zgs19_gsZipFilePrev",gs:"zipType"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsZipCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.name)).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",target:"_blank",rel:"noopener noreferrer",href:calloutParentHeight}).append(zgssearch.I18N.getValue("gs.callout.preview.open.title",[docspreviewHolder]))).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeDownload",gs:"docsdownload",target:"_blank",rel:"noopener noreferrer"}).append(zgssearch.I18N.getValue("gs.search.result.document.download")))),docspreviewHolder=_jQueryGS(accessbtnHeight.docspreviewHolder);docspreviewHolder.html(calloutParentHeight),docspreviewHolder.css("display","block");calloutParentHeight=_jQueryGS(accessbtnHeight.calloutFooter).height()||0,accessbtnHeight=_jQueryGS("#zgs20_gsZipFilePrev").height();docspreviewHolder.css("margin",(calloutParentHeight-accessbtnHeight)/2+"px auto")},gsdocs.appendSrcParams=function(iframe_src,service,file_extn){return service!==GSConstant.GOOGLEDRIVE&&service!==GSConstant.DROPBOX||(file_extn=null!==(file_extn=void 0!==file_extn.extn?file_extn.extn:null)?file_extn.toLowerCase():null),iframe_src},gsdocs.renderIframePreview=function(iframe_src,menuEl){zgssearch.Utils.createCalloutIframe(iframe_src,menuEl)},gsdocs.showIframePreview=function(){_jQueryGS("#zgs20_gsdocsprevLoader").remove(),_jQueryGS("#zgs20_gscoutLoadHolder").remove(),_jQueryGS("#zgs20_gsDocsCalloutFooter").removeClass("zgs19_gsOverflowHidden"),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("display","block")},gsdocs.constructErrorContent=function(callout_iframe_id){var menuEl=zgssearch.getCurSelectedEleAttr("service"),paramsObj={service:menuEl,previewHolder:"docspreviewHolder"};paramsObj.text=zgssearch.I18N.getValue("gs.common.error");var current_result_obj=zgssearch.mappedServiceList[menuEl].displayName;paramsObj.btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[current_result_obj]);menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout");zgssearch.setGSTagElems(menuEl);current_result_obj=zgssearch.getCurrentResObj();zgssearch.Utils.obtainPageOpenBtn(menuEl,current_result_obj,paramsObj)},gsdocs.renderDocsPreview=function(menuEl,resObj,service,response){var paramsObj={service:service,previewHolder:"docspreviewHolder"},doc_type=resObj.doc_type;_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden");var rle=resObj.rle||!1;if("folder"!==doc_type){_jQueryGS(menuEl.docsdownload).css("display","block"),_jQueryGS("#zgs20_gsdocsprevLoader").css("display","block"),_jQueryGS(menuEl.docspreviewHolder).empty(),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible"),_jQueryGS(menuEl.docspreviewHolder).css({margin:"0px"});var resp,iframe_url="";switch(_jQueryGS(menuEl.metaInfo).css("display","block"),service){case GSConstant.DOCUMENTS:iframe_url=gsdocs.getDocsPreviewURL(resObj);break;case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.ONEDRIVE:var service_name,type=resObj.rtype||"";resObj.hasOwnProperty("is_preview")&&!resObj.is_preview?resObj.hasOwnProperty("extn")&&"zip"===resObj.extn||"application/zip"==resObj.mimeType?zgssearch.gsdocs.renderZipPreview(menuEl,service,resObj):(service==GSConstant.ONEDRIVE?paramsObj.text=10==resObj.cSize?zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize"):zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"):(service_name="","folder"!==type&&!rle||(service_name="folder"===type?zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"):zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize"),paramsObj.text=service_name)),service_name=zgssearch.mappedServiceList[service].displayName,paramsObj.btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[service_name]),zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)):iframe_url=(resp=response.response)&&resp.url?resp.url:""}("folder"===resObj.rtype||resObj.hasOwnProperty("is_download")||service==GSConstant.ONEDRIVE&&!resObj.mimeType||service==GSConstant.DROPBOX&&resObj.hasOwnProperty("is_down")&&!resObj.is_down)&&_jQueryGS(menuEl.docsdownload).css("display","none"),iframe_url&&(""!==iframe_url?zgssearch.gsdocs.renderIframePreview(iframe_url,menuEl):gsdocs.prevErrorInfo(menuEl))}else gsdocs.prevErrorInfo(menuEl);zgssearch.calloutVisitRequest()},gsdocs.prevErrorInfo=function(menuEl){_jQueryGS("#zgs20_gsdocsprevLoader").remove(),_jQueryGS("#zgs20_gscoutLoadHolder").remove();var prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),resObj=zgssearch.getCurrentResObj(),searchType=zgssearch.getSearchType();!resObj.rle&&1||searchType!==GSConstant.DROPBOX||(prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize")),_jQueryGS(menuEl.docspreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible"),_jQueryGS(menuEl.docspreviewHolder).css("display","block")},gsdocs.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsdocs.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout");zgssearch.setGSTagElems(menuEl),gsdocs.setDocsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsdocs.getPostedByInfo=function(service,resObj){var createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),sharedBy=zgssearch.getI18NMsg("common.shared_by"),ownedBy=zgssearch.getI18NMsg("common.owned_by"),path=zgssearch.getI18NMsg("common.path");return resObj.shared||resObj.stm?service==GSConstant.ONEDRIVE&&resObj.sharedByMe?createdBy:sharedBy:resObj.path?path:service==GSConstant.ONEDRIVE?createdBy:ownedBy},gsdocs)}(zgssearch,window),function(zgssearch,window){var gschat,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gschat=(gschat=void 0,(gschat=zgssearch.gschat||{}).actionList=[{continue:"gs.search.result.chat.viewtranscript_dialog.continue"}],gschat.getCalloutHolder=function(){return"zgs20_gsChatCallout"},gschat.calloutParams=function(resObj){return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&chatId="+resObj.chat_id},gschat.createCalloutTemplate=function(count,continueChat){var prevmaxtxt,prevmintxt,startedBy,dcallout,calloutId=continueChat.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getI18NMsg("gs.search.result.chat.callout.with"),startedBy=zgssearch.getI18NMsg("gs.search.result.chat.callout.started_by"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CHAT}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CHAT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gs:"continuechat",gstitle:continueChat})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CHAT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.CHAT}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"personal"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"}))).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"group"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy",gstitle:startedBy}).text(startedBy))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"withtext",gstitle:dcallout}).text(dcallout))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsBorderBox",gs:"calloutFooter"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsChatCalloutFooter",gs:"chatContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100 zgs19_gsVerticalScroll",gs:"chatcontent"}))),_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gschat.setChatCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsChatCallout").height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),(zgssearch.hasWMSTranscript?_jQueryGS(menuEl.calloutFooter):_jQueryGS(menuEl.chatContentHolder)).css("height",contentHeight+"px")},gschat.calloutResponse=function(response,resObj,photoURL,imgId){var curCalloutObj=imgId.searchObj;zgssearch.getTargetElem(curCalloutObj.calloutId);if((response=!zgssearch.hasWMSTranscript?response&&response.resp||"":response)&&"null"!==response){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(photoURL);var calloutCount=_jQueryGS(menuEl).attr("ccount"),sname=resObj.title||"";_jQueryGS(menuEl.ctitle).empty().text(sname).attr("gstitle",sname);var currZUID=GSConstant.cuz,pCount=resObj.ownerid||"",recentParticipantsCount=zgssearch.getI18NMsg("common.me"),imgId=resObj.display_name||"-",imgId=pCount==currZUID?recentParticipantsCount:imgId;_jQueryGS(menuEl.owner).empty().text(imgId).attr("gstitle",imgId);pCount=resObj.display_time||"-",recentParticipantsCount=zgssearch.getI18NMsg("gs.search.result.lastReplied")+" : "+pCount;_jQueryGS(menuEl.date).empty().text(pCount).attr("gstitle",recentParticipantsCount),_jQueryGS(menuEl.personal).show(),_jQueryGS(menuEl.group).hide(),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");imgId="zgs20_gsChatCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var rParticipants={},pCount=0,recentParticipantsCount=0;if(resObj.hasOwnProperty("participants_count")&&(pCount=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),2<pCount&&0<recentParticipantsCount||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(currZUID)){pCount=pCount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants");_jQueryGS(menuEl.partCount).empty().text(pCount).attr("gstitle",pCount),gschat.loadChatParticipantsImages(menuEl,rParticipants,photoURL,calloutCount)}else{var rName=sname,uzuid="";if("object"==typeof rParticipants)for(var rZUid in rParticipants)rName=rParticipants[uzuid=rZUid];_jQueryGS(menuEl.partCount).empty().text(rName).attr("gstitle",rName);sname=_jQueryGS(photoURL.gsUserPhoto).attr("group"),photoURL=_jQueryGS(photoURL.gsUserPhoto).attr("calloutphoto");zgssearch.renderCalloutUserPhoto(imgId,photoURL,sname),_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder"),"true"!=sname&&"-1"!==uzuid&&void 0!==uzuid&&(sname=zgssearch.getUserStatus(uzuid).name||"",_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder "+sname))}_jQueryGS(menuEl.chatcontent).empty(),_jQueryGS(menuEl.chatContentHolder).hide(),_jQueryGS(menuEl.calloutFooter).empty().show(),zgssearch.hasWMSTranscript?WebMessanger.renderTranscript(menuEl.calloutFooter,resObj.chat_id):(_jQueryGS(menuEl.calloutFooter).hide(),_jQueryGS(menuEl.chatContentHolder).show(),gschat.formatChatContentData(menuEl.chatcontent,response),gschat.formatChatURLAndHREF(menuEl.chatcontent)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),gschat.addCalloutActionList(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),_jQueryGS(menuEl.calloutFooter).scrollTop(_jQueryGS(menuEl.calloutFooter)[0].scrollHeight),_jQueryGS(menuEl.chatContentHolder).scrollLeft(0),_jQueryGS(menuEl.chatContentHolder).scrollTop(_jQueryGS(menuEl.chatContentHolder)[0].scrollHeight),zgssearch.calloutVisitRequest()}else gschat.calloutErrorMsg("",curCalloutObj)},gschat.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gschat.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CHAT,gstitle:dectext}).text(dectext))}}},gschat.formatChatContentData=function(target,response){var index=0,elemId="";_jQueryGS(response).each(function(){var chatImgTag,zuidElem,date,spanArr,dateField,time,senderName,msgResponse=_jQueryGS(this).attr("class");"upfilediv"===msgResponse?(elemId="",_jQueryGS(target).append(this)):"upfilediv-img"===msgResponse?(elemId="",dateField=_jQueryGS(this).find("div"),zuidElem=_jQueryGS(this).find("a"),chatImgTag=_jQueryGS(this).find("img"),senderName=_jQueryGS(this).find("label")[1],time=_jQueryGS(dateField).text(),spanArr=_jQueryGS(senderName).text(),date=_jQueryGS(zuidElem).attr("href"),dateField=_jQueryGS(chatImgTag).attr("src"),senderName="zgs19_"+zgssearch.getFileImageClass(time),zuidElem=zgssearch.getDocResTT(senderName),_jQueryGS(chatImgTag).attr("src",GSConstant.GS_CHAT_URL+dateField),_jQueryGS(target).append(_jQueryGS("<div>",{class:"upfilediv-img zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"upfilediv-imgDiv zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+senderName,gstitle:zuidElem,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"upfilediv-imgName zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.CHAT,url:GSConstant.GS_CHAT_URL+date,gs:"contactsurl",gstitle:time,istip:!0}).text(time))).append(_jQueryGS("<div>",{class:"upfilediv-imgName upfilediv-imgSize zgs19_gsfl zgs19_gsOverflow"}).text(spanArr)))):"msghead"===msgResponse?(elemId="",dateField=_jQueryGS(this).find("span").text()||"",senderName=_jQueryGS(this).find("div.sender").text()||"",zuidElem=_jQueryGS(this).find("div.wmsempty").text()||"",(time=date="")!==dateField&&(1===(spanArr=(date=dateField).split(",")).length&&(time=(time=spanArr[0])?time.trim():""),3===spanArr.length&&(dateField=(dateField=spanArr[1])?dateField.trim():"",time=(time=spanArr[2])?time.trim():"",_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatDateField"}).append(_jQueryGS("<span>",{class:"zgs19_gsChatDateContent"}).text(dateField))))),senderName=(senderName=senderName.trim()).substring(0,senderName.length-1).trim(),GSConstant.cuz==zuidElem&&(senderName=zgssearch.getI18NMsg("common.me")),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatSenderField"}).text(senderName).append(_jQueryGS("<span>",{class:"zgs19_gsChatCalloutTime zgs19_gsfr",gstitle:date}).text(time)))):"msgtxt"===msgResponse&&(msgResponse=_jQueryGS(this).html()||"",msgResponse=gschat.getMsgType(msgResponse),_jQueryGS(this).empty().append(msgResponse),""==elemId&&(elemId="zgs20_gsChatMsgContent"+ ++index,_jQueryGS(target).append(_jQueryGS("<div>",{id:elemId,class:"zgs19_gsChatMsgContent"}))),_jQueryGS("#"+elemId).append(this))})},gschat.getMsgType=function(msg){try{msg=" "+msg;var linkRegExp=new RegExp("([^(href|src)=\"'])((("+zgssearch.httptxt+"(s){0,1}://))([^ <\n]*))","gi");msg=(msg=(msg=(msg=(msg=msg.replace(/([a-z0-9]([a-z0-9_\-\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,3}(\.[a-z]{2}){0,2}))/gi,"<a href='mailto:$1' rel='noopener noreferrer'>$1</a>")).replace(linkRegExp,"$1<a href='$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/([^(href|src|\/\/)"'=])((www\.)([^ <\n]*))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+((?!js|cp)[a-z]){2})(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+(com|org|net|int|edu|gov|mil|info|biz))(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>"),msg=Smiley.replace(msg)}catch(ex){zgssearch.throwClientError("Error while replacing msg in getMsgType function.",ex)}return msg},gschat.formatChatURLAndHREF=function(target){_jQueryGS(target).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",GSConstant.GS_CHAT_URL+oldImgSrc)})},gschat.loadChatParticipantsImages=function(menuEl,participants,curRe,calloutCount){try{var cpId,pSize=0,imageCount=0,pLength=Object.keys(participants).length;for(cpId in participants){var photoURL=GSConstant.GS_CONTACTS_URL+"/file?ID="+cpId+"&exp=600&t=user&width=80&height=80"+zgssearch.nps,serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gstitle:participants[cpId],src:photoURL,id:"zgs20_chatParticipantsImg"+pSize+calloutCount})[0];pSize++,_jQueryGS(menuEl).append(serviceImgDummy),_jQueryGS(serviceImgDummy).off().on({load:function(){imageCount+=1,gschat.loadRecentParticipantsIcons(menuEl,curRe,pLength,calloutCount,imageCount)},error:function(){_jQueryGS(this).attr("src",zgssearch.noUserPhoto)}},!0)}}catch(ex){zgssearch.throwClientError("Error while loading photo in loadChatParticipantsImages function.",ex)}},gschat.loadRecentParticipantsIcons=function(menuEl,curRe,cpImg4,calloutCount,imageCount){var cpImg1,cpImg2,cpImg3;cpImg4===imageCount&&(_jQueryGS(menuEl.group).empty(),2===cpImg4?(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2b zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")}))):3===cpImg4?(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3b zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3c zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg3.attr("gstitle"),src:cpImg3.attr("src")}))):4<=cpImg4&&(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount),cpImg4=_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4b zgs19_chatGroup4 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4c zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg3.attr("gstitle"),src:cpImg3.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4d zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg4.attr("gstitle"),src:cpImg4.attr("src")}))),zgssearch.getCurrentSelectedElem()==curRe&&(_jQueryGS(menuEl.personal).hide(),_jQueryGS(menuEl.group).show()),_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg4"+calloutCount).remove())},gschat.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.chat.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gschat.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gschat)}(zgssearch,window),function(zgssearch,window){var gsreports,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsreports=(gsreports=void 0,(gsreports=zgssearch.gsreports||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsreports.getCalloutHolder=function(){return"zgs20_gsReportsCallout"},gsreports.calloutParams=function(resObj){return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&docId="+resObj.docid},gsreports.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.REPORTS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.REPORTS),service:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.REPORTS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsreports.setReportsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height()||0,contentHeight=_jQueryGS(menuEl.metaInfo).height()||0,contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsreports.calloutResponse=function(resObj,modifiedBy,staObj){var curCalloutObj=staObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(modifiedBy);var zuid=resObj.vN||"";_jQueryGS(menuEl.ctitle).empty().text(zuid).attr("gstitle",zuid),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.REPORTS,resObj));staObj=_jQueryGS(modifiedBy.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",staObj);zuid=resObj.mZUID,modifiedBy="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),staObj=_jQueryGS(menuEl.authorPhoto);staObj.attr("src",zgssearch.gsspacer),staObj.attr("class","zgs19_gsFetchLoader"),staObj.attr("id",modifiedBy);staObj=zgssearch.getUserStatus(zuid);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid?(curresObj=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+curresObj),curresObj=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderCalloutUserPhoto(modifiedBy,curresObj)):zgssearch.renderCalloutNoUserPhoto(modifiedBy);var curresObj=resObj.auth||resObj.mBy||"",modifiedBy=zgssearch.getI18NMsg("common.modified_by");_jQueryGS(menuEl.startedBy).empty().text(modifiedBy).attr("gstitle",modifiedBy),_jQueryGS(menuEl.owner).empty().text(curresObj).attr("gstitle",curresObj),_jQueryGS(menuEl.date).empty().text(resObj.time).attr("gstitle",resObj.time),gsreports.renderReportsPreview(menuEl,resObj),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","hide"),_jQueryGS(menuEl.actionPipe).css("display","block"));curresObj=curCalloutObj.hasOwnProperty("type")?curCalloutObj.type:"search",curresObj=zgssearch.Utils.getResultObjectofType(curresObj,curCalloutObj.cardId);curresObj.docid===resObj.docid&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsreports.addCalloutActionList(menuEl,curresObj.ty),gsreports.setReportsCalloutEleSize(menuEl)},gsreports.addCalloutActionList=function(menuEl,documentType){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsreports.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)("embedPreview"!=key||documentType&&zgssearch.isSavedSearchEnabled&&!zgssearch.gsdbUtils.isDashboardOpened()&&!zgssearch.gscardUtils.isCardPageOpened())&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.REPORTS}).text(dectext)))}},gsreports.openReportsResult=function(resourceId){resourceId=resourceId.vId;return GSConstant.GS_REPORTS_URL+"/ZDBDataSheetView.cc?OBJID="+resourceId+"&STANDALONE=true&"+zgssearch.originParam},gsreports.renderReportsPreview=function(menuEl,prevfoldererr){var currService,docType=prevfoldererr.ty;_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),zgssearch.isExtension&&zgssearch.thirdPartyCookieDisabled?(_jQueryGS(menuEl.reportspreviewHolder).empty().show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl).show(),currService={gs:"reportsApp",service:GSConstant.REPORTS,previewHolder:"reportspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.reports.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):"null"!==docType?gsreports.constructReportsIframe(menuEl,prevfoldererr):(prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),_jQueryGS(menuEl.reportspreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible"))},gsreports.constructReportsIframe=function(menuEl,reportsprev){_jQueryGS(menuEl.loadericon).css("display","block"),_jQueryGS(menuEl.reportspreviewHolder).empty(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","hidden");var url=gsreports.openReportsResult(reportsprev),reportsprev=document.createElement("iframe");reportsprev.src=url,reportsprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",reportsprev.setAttribute("frameborder","0"),reportsprev.setAttribute("allowfullscreen","true"),reportsprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible")},500)},_jQueryGS(menuEl.reportspreviewHolder).append(reportsprev)},gsreports.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsReportsCallout");zgssearch.setGSTagElems(menuEl),gsreports.setReportsCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsreports.getPreviewCard=function(respObj){gsreports.constructPreviewForCrd(respObj);var menuEl=zgssearch.getTargetElem(respObj.calloutId);zgssearch.setGSTagElems(menuEl),gsreports.constructReportsIframe(menuEl,respObj),gsreports.setReportsCalloutEleSize(menuEl)},gsreports.constructPreviewForCrd=function(respObj){var calloutDiv;_jQueryGS("#"+respObj.calloutId).length<=0&&(calloutDiv=zgssearch.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),calloutDiv=_jQueryGS("<div>",{id:respObj.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(calloutDiv).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),_jQueryGS(respObj.parentElem).append(calloutDiv))},gsreports)}(zgssearch,window),function(zgssearch,window){var gsconnector,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnector=(gsconnector=void 0,(gsconnector=zgssearch.gsconnector||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{pdf:"gs.search.callout.pdfViewer"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsconnector.getCalloutHolder=function(){return"zgs20_gsConnectorCallout"},gsconnector.calloutParams=function(categId){var docId=categId.did,wikiId=categId.wid,categId=categId.wcid;return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&docId="+docId+"&wikiId="+wikiId+"&wikiCatId="+categId},gsconnector.createCalloutTemplate=function(count,curCalloutObj){"search"===curCalloutObj.type&&_jQueryGS("#zgs20_gsConnectorCallout").remove();var prevmaxtxt,prevmintxt,concallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),concallout=zgssearch.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),concallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorWelPage",class:"zgs19_gsDocsPreviewHolder zgs19_gsCRC",gs:"connectorWelPage"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader zgs19_gsCRC",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.ORGRESOURCES,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.ORGRESOURCES),service:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.ORGRESOURCES}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsCRC",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"sender",istip:!0})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"header2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gs:"clabel"})))))))).append(_jQueryGS("<div>",{class:"zgs19_gsConnCalloutFooter zgs19_gsCalloutPopUp zgs19_gsCalloutFooter zgs19_gsCRC",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"connectorpreviewHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))).append(concallout),_jQueryGS(curCalloutObj.parentElem).append(concallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsconnector.setConnectorCalloutEleSize=function(menuEl){var headerHeight,contentHeight;null!=menuEl&&(headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),gsconnector.setPreviewBtnPosition(menuEl))},gsconnector.calloutResponse=function(response,resObj,curRe,icon_text){var cache=icon_text.searchObj,ty=cache.calloutId;cache.type!=zgssearch.dbCrdCalloutType&&cache.type!=zgssearch.crdPagecalloutType||(zgssearch.cardObjForCurrentSelectedElem[cache.cardId].calloutRespObj=cache);var menuEl=zgssearch.getTargetElem(ty);if(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),"0"===resObj.cpt)return _jQueryGS(menuEl).find(".zgs19_gsCRC").css("display","none"),_jQueryGS(menuEl.connectorWelPage).css("display","block"),void gsconnector.renderWelcomePage(menuEl,resObj,cache);_jQueryGS(menuEl).find(".zgs19_gsCRC").css("display","block"),"3"===resObj.cpt&&_jQueryGS(menuEl.metaInfo).css("display","table"),_jQueryGS(menuEl.connectorWelPage).css("display","none");var enabClabel=zgssearch.fetchCalloutUrl(GSConstant.ORGRESOURCES,resObj),intxt=resObj.title||zgssearch.getURLWithoutProtocol(enabClabel)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle");_jQueryGS(menuEl.ctitle).empty().text(intxt).attr("gstitle",intxt),_jQueryGS(menuEl.ctitle).attr("href",enabClabel);icon_text=_jQueryGS(curRe.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",icon_text),resObj.url||""||(_jQueryGS(menuEl.clink).css("display","none"),_jQueryGS(menuEl.ctitle).removeClass(),_jQueryGS(menuEl.ctitle).css("cursor","auto")),cache.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),zgssearch.getCurrentResObj().did===resObj.did&&(zgssearch.hideCalloutLoader(cache),_jQueryGS(menuEl.connPageTxt).remove(),_jQueryGS(menuEl).css("display","block"));ty=zgssearch.getI18NMsg("gs.search.result.connector.callout.type"),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),enabClabel=resObj.cn,icon_text=zgssearch.getCapitalizedLtr(enabClabel);"3"==resObj.cpt?(_jQueryGS(menuEl.authorPhoto).empty().removeClass("zgs19_creatorCircleText").addClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon"),_jQueryGS(menuEl.authorPhoto).attr("src","zgssearch.gsspacer"),_jQueryGS(menuEl.header2).empty().append(_jQueryGS("<div>",{class:"zgs19_gsConnectorToolsCoutsumm"}).text(resObj.desc||"")).append(_jQueryGS("<div>",{class:"zgs19_gsOpenBtnMeta zgs19_gsCurPointer",gs:"connPage",service:GSConstant.ORGRESOURCES}).text(zgssearch.getI18NMsg("common.open"))),_jQueryGS(menuEl.header2).attr("class","zgs19_gsConnectorToolsHeader")):(_jQueryGS(menuEl.authorPhoto).empty().removeClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon").addClass("zgs19_creatorCircleText"),_jQueryGS(menuEl.authorPhoto).text(icon_text));var ignoreIframe,dType=resObj.cdt,dtypeMsg="";switch(dType){case"webpage":case"files":case"tools":case"tablerecords":case"chat":case"contacts":dtypeMsg=zgssearch.getI18NMsg("gs.search.result.connector.callout."+dType);break;default:dtypeMsg=zgssearch.getI18NMsg("gs.search.result.document.unknown")}_jQueryGS(menuEl.slabel).empty().text(ty).attr("gstitle",ty),_jQueryGS(menuEl.sender).empty().text(dtypeMsg).attr("gstitle",dtypeMsg),_jQueryGS(menuEl.rlabel).empty().text(intxt).attr("gstitle",intxt),_jQueryGS(menuEl.receiver).empty().text(enabClabel).attr("gstitle",enabClabel),setTimeout(function(){menuEl.getElementsByClassName("zgs19_gsCalloutFooter")[0].scrollTo(0,0)},0),gsconnector.actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],"3"!=resObj.cpt&&gsconnector.actionList.push({pdf:"gs.search.callout.pdfViewer"}),gsconnector.setConnectorCalloutEleSize(menuEl),"ERROR"!=response&&null!=response&&(ignoreIframe=enabClabel=!1,response.hasOwnProperty("actualContent")?(ignoreIframe=!0,_jQueryGS(menuEl.connectorpreviewHolder).css("display","none"),_jQueryGS(menuEl.content).empty(),_jQueryGS(menuEl.content).css("display","block"),_jQueryGS(".zgs19_gsConnCalloutFooter").css("overflow-x","auto"),_jQueryGS("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").css("padding","15px"),_jQueryGS("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsBorderBox"),response.actualContent&&"null"!=response.actualContent&&(_jQueryGS(menuEl.content).append(response.actualContent),gsconnector.checkConnectorDataAndAddDomain(menuEl.content))):"1"==resObj.cpt||"7"==resObj.cpt||"9"==resObj.cpt?(_jQueryGS(".zgs19_gsConnCalloutFooter").css("padding","0px"),_jQueryGS(".zgs19_gsConnCalloutFooter").removeClass("zgs19_gsBorderBox"),_jQueryGS(menuEl.content).css("display","none"),zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,cache)):"6"==resObj.cpt?zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,cache):"5"===resObj.cpt?zgssearch.renderRes(resObj,curRe,cache,{name:"cnt",email:"emid",mobile:"cntn",phone:"phone",photo:"photo",extn:"cnextn",deptname:"dept"}):"8"===resObj.cpt?zgssearch.renderRes(resObj,curRe,cache,{name:"dept",email:"email",support_email:"support_mail",mobile:"mobile",phone:"phone",photo:"photo",extn:"extn",deptname:"",summ:"summ"}):"3"==resObj.cpt?gsconnector.renderLinkDetails(menuEl,resObj):(_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj)),"1"!=resObj.cpt&&"7"!=resObj.cpt||(enabClabel=!0),cache=resObj.ct||"",enabClabel&&cache?(cache=zgssearch.getI18NMsg("gs.search.result.connector.callout.lastCached")+" "+cache,_jQueryGS(menuEl.clabel).empty().text(cache).attr("gstitle",cache)):_jQueryGS(menuEl.clabel).empty()),"5"!==resObj.cpt&&"8"!==resObj.cpt&&(gsconnector.addCalloutActionList(menuEl,ignoreIframe,resObj),zgssearch.calloutVisitRequest())},gsconnector.getPrevUrl=function(resObj){var connId=resObj.cid,objId=resObj.oid;return"/zgssearch/esearch/preview?action=getFile&app_id="+(resObj.accId||zgssearch.getResultAccountId())+"&object_id="+objId+"&field_name=pdfsource&ds_id="+connId+"#toolbar=0"},gsconnector.loadPDF=function(menuEl){window.zsPdfWorker=zgssearch.network.getFingerPrintFilePath("js/pdf.worker.js",!0);var url=zgssearch.getCurrentResObj(),menuEl=zgssearch.getNodeByAttr(menuEl,"class","zgs19_gsServiceCalloutHolder")||zgssearch.getTargetElem("zgs20_gsConnectorCallout");zgssearch.setGSTagElems(menuEl),_jQueryGS("iframe").remove(),_jQueryGS("canvas").remove();url=gsconnector.getPrevUrl(url);gsconnector.renderPDF(url,menuEl),_jQueryGS(menuEl.connectorpreviewHolder).show()},gsconnector.renderPDF=function(url,menuEl){function renderPage(page){var canvas=document.createElement("canvas"),ctx=_jQueryGS(menuEl).find(".zgs19_gsDocsPreviewHolder").width()/page.getViewport(1).width,viewport=page.getViewport(ctx);_jQueryGS(menuEl).find(".zgs19_gsDocsPreviewHolder").append(canvas);ctx=canvas.getContext("2d");page.render({canvasContext:ctx,viewport:viewport}),canvas.width=_jQueryGS(menuEl).find(".zgs19_gsDocsPreviewHolder").width(),canvas.height=viewport.height}_jQueryGS(menuEl).find(".zgs19_gsDocsPreviewHolder").find("iframe").remove(),_jQueryGS(menuEl).find(".zgs19_gsDocsPreviewHolder").find("canvas").remove(),_jQueryGS("#zgs20_gsconnectorprevLoader").show();var resObj=zgssearch.getCurrentResObj(),PDFJS=pdfjsDistBuildPdf.PDFJS;PDFJS.disableWorker=!0,PDFJS.getDocument(url).promise.then(function(pdfDoc){zgssearch.pdfMode=!0;for(var num=1;num<=pdfDoc.numPages;num++)pdfDoc.getPage(num).then(renderPage),_jQueryGS("#zgs20_gsconnectorprevLoader").hide()},function(){zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj)})},gsconnector.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.connPageTxt).height())/2;_jQueryGS(menuEl.connPageTxt).css("margin",actualCenterPosition+"px auto"),_jQueryGS(menuEl.connectorpreviewHolder).css("display","block"),_jQueryGS(menuEl.content).css("display","block")},gsconnector.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show())},gsconnector.checkConnectorDataAndAddDomain=function(id){var url=zgssearch.getCurrentResObj(),url=gsconnector.openConnectorResult(url),wikiName=zgssearch.getURLHostName(url);_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",zgssearch.httpstxt+"://"+wikiName+oldImgSrc)}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=_jQueryGS(this).attr("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&0!=oldImgSrc.indexOf("#")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+wikiName+extra+oldImgSrc)),_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("rel","noopener noreferrer"))})},gsconnector.addCalloutActionList=function(menuEl,ignoreIframe,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsconnector.actionList,aListLen=alist.length,url=resObj.hasOwnProperty("url")?resObj.url:"",cpt=resObj.hasOwnProperty("cpt")?resObj.cpt:"",skipVal=0,i=0;i<aListLen;i++){var key,dectext,obj=alist[i];for(key in obj)(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||(ignoreIframe&&"open"!==key&&"copyLink"!==key||!url&&("copyLink"==key||"open"==key)||"pdf"==key&&"1"!=cpt?skipVal+=1:(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.ORGRESOURCES}).text(dectext))))}skipVal==aListLen&&(_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none"))},gsconnector.openConnectorResult=function(resObj){return resObj.url||""},gsconnector.renderWelcomePage=function(menuEl,resObj,curCalloutObj){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS(menuEl.connectorWelPage).css("display","none");var previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME);previewObject.setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId("zgs20_gsConnectorWelPage"),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeId("zgs20_gsConnectorIframe"),previewObject.setIframeUrl(resObj.url),previewObject.renderPreview(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)},0),zgssearch.getCurrentResObj().did===resObj.did&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl.connPageTxt).remove(),_jQueryGS(menuEl).css("display","block")),gsconnector.setConnectorCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gsconnector.renderfeedbackForm=function(){var previewObject;0<_jQueryGS("#zgs20_gsIntranetfeedbackform").length?_jQueryGS("#zgs20_gsIntranetfeedbackform").css("display","block"):(previewObject=zgssearch.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsConnectorCallout").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").append(previewObject),_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").find("iframe").remove(),(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId("zgs20_gsSearchResultRight"),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setIframeUrl("https://forms.zohopublic.com/zohopeople239/form/ContactForm/formperma/vmt2__xqtOJ1Fn3tjIsn-7yc0yX3UO7K8r665ykiREE"),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeId("zgs20_gsConnectorFeedbackIframe"),previewObject.renderPreview())},gsconnector.getURLForPreview=function(resObj){var coutPreType=resObj.cpt,url="";return"7"==coutPreType?url=resObj.url:"9"==coutPreType?(url=resObj.eurl||"").indexOf("zgs=1")<=-1&&(url+="?zgs=1"):url=gsconnector.getPrevUrl(resObj),url},gsconnector.renderConnectorPreview=function(menuEl,url,curCalloutObj){if(zgssearch.isExtension)if(zgssearch.isArrayContain(url.cpt,["1","4","6","9"])){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","none");return(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.FOLDER)).setCardObj(""),previewObject.setPreviewHolder(menuEl.calloutFooter),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setParentId("zgs20_gsConnectorPreviewHolder"),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.renderPreview(),zgssearch.calloutVisitRequest(),void gsconnector.setPreviewBtnPosition(menuEl)}zgssearch.pdfMode=!1;var parCalloutEle,parentCalloutId,previewObject,connectorprev=url.ty,coutPreType=url.cpt;!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?parentCalloutId="zgs20_gsConnectorPreviewHolder":(parCalloutEle=_jQueryGS("#"+curCalloutObj.calloutId).find("#zgs20_gsConnectorPreviewHolder"),parentCalloutId="zgs20_gs_"+curCalloutObj.calloutId+"ConnectorPreviewHolder",parCalloutEle.attr("id",parentCalloutId)),(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId(parentCalloutId),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),curCalloutObj&&curCalloutObj.hasOwnProperty("cardId")&&previewObject.setCardObj(curCalloutObj),"null"!==connectorprev?(_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS(menuEl.connectorpreviewHolder).empty(),connectorprev="",url=gsconnector.getURLForPreview(url),"6"==coutPreType?((connectorprev=document.createElement("img")).className="zgs19_Border0px zgs19_gsDocsIframeTag",connectorprev.setAttribute("frameborder","0"),connectorprev.setAttribute("src",url),connectorprev.setAttribute("width","100%"),connectorprev.setAttribute("height","100%"),connectorprev.onload=function(){setTimeout(function(){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","none"),_jQueryGS(menuEl.connectorpreviewHolder).css("display","block")},500)},_jQueryGS(menuEl.connectorpreviewHolder).append(connectorprev)):(previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeUrl(url),previewObject.setIframeId("zgs20_gsConnectorIframe"),previewObject.renderPreview())):previewObject.previewErrorInfo()},gsconnector.renderLinkDetails=function(menuEl,connectorprev){_jQueryGS(menuEl.connPageTxt).remove();var linkURL=connectorprev.url||"",connectorprev=connectorprev.title||"",connectorprev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkDiv zgs19_gsMxWid800Px",gs:"LinkHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectorLinkImageDiv",id:"zgs20_gsConnectorLinkImageDiv"})).append(_jQueryGS("<div>",{class:" zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkTitleDiv"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorLinkTitle",class:"zgs19_gsConnectorLinkTitle zgs19_gsOverflow zgs19_gsfl zgs19_gsLinkElem",gs:"contactsurl",gstitle:connectorprev,url:linkURL}).text(connectorprev))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkDescDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflow zgs19_gsfl zgs19_gsMxHt20Px",gs:"zgs20_gsConnectorLinkDesc"}).text(linkURL)))));_jQueryGS(menuEl.connectorpreviewHolder).append(connectorprev),zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.zgs20_gsConnectorLinkImageDiv).empty().append(_jQueryGS("<img>",{id:"zgs20_gsConnectorLinkImage",class:"zgs19_gsResultsUniIcons zgs19_gsConnectorToolsCoutIcon zgs19_gsCurPointer zgs19_gsfl",src:zgssearch.gsspacer,url:linkURL,gs:"contactsurl"})),_jQueryGS(menuEl.connPageTxt).show(),gsconnector.setPreviewBtnPosition(menuEl)},gsconnector.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsConnectorCallout");zgssearch.setGSTagElems(menuEl),"5"==(zgssearch.getCurrentResObj().cpt||"")?zgssearch.gscontacts.setContactsCalloutEleSize(menuEl):gsconnector.setConnectorCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsconnector)}(zgssearch,window),function(zgssearch,window){var gsslack,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsslack=(gsslack=void 0,(gsslack=zgssearch.gsslack||{}).actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"}],gsslack.getCalloutHolder=function(){return"zgs20_gsSlackCallout"},gsslack.calloutParams=function(resObj,cargparam){var cid=resObj.CONNECTOR_ID||"";return"action=getSlackCallout&channel="+(resObj.conid||"")+"&service_name=slack&connector_id="+cid+"&time="+(resObj.slacktm||"")+"&r_type="+(resObj.result_type||"")+"&islist="+gsslack.getIfListView(cargparam.searchObj)+"&app_id="+zgssearch.getAppIdForCloudApps(cid)},gsslack.getIfListView=function(ocardId){return zgssearch.gsdbUtils.isDashboardOpened()?(ocardId=ocardId.cardId,ocardId=zgssearch.gscardinDb.getOriginalCardId(ocardId),!zgssearch.gscardinDb.getFilterVal(zgssearch.gsdbUtils.cardIdsVsObject[ocardId].cardconfig,"zs_query")[0]):zgssearch.isListViewSearch()},gsslack.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.GSConstant.SLACK.substring(0,1).toUpperCase()+zgssearch.GSConstant.SLACK.substring(1),dcallout=zgssearch.I18N.getValue("gs.con.continue.chat.title",[dcallout]),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.SLACK,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr zgs19_gsOverflow",gstitle:dcallout,gs:"slackcontinuechat",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.SLACK}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})).append(_jQueryGS("<span>",{class:"zgs19_gsFetchLoader",gs:"authorPhotoSpan"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"author"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{gs:"calloutFooter",class:"zgs19_gsPadBotLeft10"}).append(_jQueryGS("<div>",{id:"zgs20_gsSlackPreviewHolder",class:"zgs19_gsSlkPreviewHolder zgs19_gsOvfwYAuto",gs:"slackpreviewHolder"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:dcallout,gs:"slackcontinuechat",service:GSConstant.SLACK}).text(dcallout))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsslack.setSlackCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),result_type=_jQueryGS(menuEl.slackcontinuechat).height()+40,result_type=_jQueryGS(menuEl).height()-(headerHeight+metaInfoHeight+result_type);zgssearch.isMobViewport()&&(result_type-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",result_type+"px");result_type=zgssearch.getCurrentResObj().result_type||"";_jQueryGS("#zgs20_gsCqC2").parent().removeClass("zgs19_gsDisplayNone"),2==result_type&&_jQueryGS("#zgs20_gsCqC2").parent().addClass("zgs19_gsDisplayNone")},gsslack.calloutResponse=function(msgArr,resObj,participants_text,argObj){var group_icon="",paramsObj="",actualCenterPosition=0,curCalloutObj=argObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(participants_text);var rType=resObj.result_type||"",creBy=resObj.title||"";msgArr&&(paramsObj=msgArr.response||{});var modType=resObj.module_id||paramsObj.module_id||"",pcount=resObj.p_uname||resObj.cname||resObj.cby||"";3!=rType&&2!=rType||(pcount=resObj.h_uname||pcount),_jQueryGS(menuEl.author).empty().text(pcount).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.title")),_jQueryGS(menuEl.ctitle).empty().text(creBy).attr("gstitle",creBy).attr("href",zgssearch.fetchCalloutUrl(GSConstant.SLACK,resObj));var icon_title=_jQueryGS(participants_text.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",icon_title),_jQueryGS(menuEl.clink).attr("gstitle",zgssearch.getNewTabTip(GSConstant.SLACK));var participants_gstitle_value=resObj.time||"-";_jQueryGS(menuEl.date).empty().text(participants_gstitle_value).attr("gstitle",participants_gstitle_value).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.lastReplied"));pcount=resObj.mcount||"",creBy=resObj.cby||"";_jQueryGS(menuEl.partCount).empty();participants_text="",icon_title="",participants_gstitle_value="";"1"!=modType&&"5"!=modType&&(participants_gstitle_value=pcount&&2<pcount?(participants_text=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),pcount):creBy?(participants_text=creBy,icon_title=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),creBy):(participants_text=resObj.module_name||paramsObj.module_name||"",icon_title=zgssearch.getI18NMsg("Module"),participants_text)),_jQueryGS(menuEl.partCount).text(participants_text).attr("class","zgs19_gsCatTxt").attr("gstitle",participants_gstitle_value).attr("gslabel",icon_title),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),1!=modType&&5!=modType&&resObj.hasOwnProperty("conid")?2!=modType&&3!=modType&&4!=modType||(icon_title="",group_icon=(resObj.hasOwnProperty("is_priv")&&resObj.is_priv?resObj.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==modType?icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.channel"):2!=modType&&4!=modType||(icon_title=zgssearch.getI18NMsg("gs.search.result.slack.callout.group")),_jQueryGS(menuEl.authorPhotoSpan).show(),_jQueryGS(menuEl.authorPhotoSpan).attr("class","zgs19_gsSlackCOImg "+group_icon),_jQueryGS(menuEl.authorPhotoSpan).attr("gstitle",icon_title),_jQueryGS(menuEl.authorPhoto).hide()):(_jQueryGS(menuEl.authorPhoto).show(),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",zgssearch.gsspacer),result_link="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",result_link),result_link=resObj.photo||paramsObj.photo,_jQueryGS(menuEl.authorPhoto).removeClass("zgs19_gsFetchLoader").addClass("zgs19_gsCalloutUserImg"),_jQueryGS(menuEl.authorPhoto).attr("src",result_link),_jQueryGS(menuEl.authorPhotoSpan).hide());var renType,result_link=resObj.link=resObj.link||"javascript:;";resObj.hasOwnProperty("conid")||"2"!=rType?msgArr?("success"==(paramsObj.status||"failed").toLowerCase()?(paramsObj=(msgArr=paramsObj.messages||"").length,_jQueryGS(menuEl.slackpreviewHolder).empty(),0==paramsObj&&"2"!=rType&&(paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.con.slack.create.conv"),btnTxt:""},zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)),zgssearch.gsslack.getMSGDOM(menuEl,msgArr,curCalloutObj),"2"==rType&&(renType=_jQueryGS("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.title)).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeSize"}).append(_jQueryGS("<span>").append("size - ")).append(_jQueryGS("<span>").append(resObj.size))).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:result_link}).append(zgssearch.I18N.getValue("common.open")))),_jQueryGS(menuEl.slackpreviewHolder).append(renType),zgssearch.setGSTagElems(menuEl),actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.slackFileTy).height())/2)):zgssearch.gsslack.setErrorResponse(menuEl,resObj),_jQueryGS(menuEl.slackpreviewHolder).css("margin",actualCenterPosition+"px auto")):zgssearch.gsslack.setEmptyResponse(menuEl,resObj):(renType=_jQueryGS("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.title)).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeSize"}).append(_jQueryGS("<span>").append("size - ")).append(_jQueryGS("<span>").append(resObj.size))).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:result_link}).append(zgssearch.I18N.getValue("common.open")))),_jQueryGS(menuEl.slackpreviewHolder).empty(),_jQueryGS(menuEl.slackpreviewHolder).append(renType),zgssearch.setGSTagElems(menuEl),actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.slackFileTy).height())/2,_jQueryGS(menuEl.slackpreviewHolder).css("margin",actualCenterPosition+"px auto")),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none")),zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show());var calloutCount=argObj.curCalloutCount;zgssearch.curCalloutCount==calloutCount&&setTimeout(function(){_jQueryGS(".zgs19_gsCqC2").css("margin-top","0px")},500),gsslack.addCalloutActionList(menuEl,resObj),gsslack.setSlackCalloutEleSize(menuEl),zgssearch.calloutVisitRequest(),_jQueryGS(menuEl.slackpreviewHolder).scrollLeft(0),_jQueryGS(menuEl.slackpreviewHolder).scrollTop(0)},gsslack.getMSGDOM=function(menuEl,messages_data,curCalloutObj){for(var resObj=zgssearch.getCurrentResObj(),messages_data_length=messages_data.length,is_search_results=!1,isList=gsslack.getIfListView(curCalloutObj),i=0;i<messages_data_length;i++){var message_info=messages_data[i],pos="",pad="",user="",renType="",fileAln="",fileCls="",uname="",fileCmt="",text_html="",date=message_info.date||"",msg=message_info.time||"",type=message_info.result_type||"",datefil=messages_data[i-1]||"",pDate=0<i?datefil.date:"",puname=0<i?datefil.h_uname:"";2!=datefil.result_type&&3!=datefil.result_type&&4!=datefil.result_type||(puname=datefil.files[0].h_uname||"");var nTime=i<messages_data_length-1?messages_data[i+1].time:"",is_high=message_info.is_high||!1,is_cuUser=!1,photo=0<(uname=message_info.files||"").length?uname[0]:{},is_search_results=!!is_high,highTxt="",uname=message_info.h_uname||"";(uname=2==type||3==type||4==type?photo.h_uname||"":uname)&&(user=(message_info.hasOwnProperty("is_cu")&&1==message_info.is_cu||photo.hasOwnProperty("is_cu")&&1==photo.is_cu)&&uname?(is_cuUser=!0,pad=fileCls="zgs19_gsMsgTxtBack",fileAln="zgs19_gsMsgFileAlnRht",_jQueryGS("<div>",{class:pos="zgs19_gsSlkCuser"}).append(_jQueryGS("<span>").append(zgssearch.getI18NMsg("gs.search.filter.cliq.you")))):(pos="zgs19_gsSlkuser",fileAln="zgs19_gsMsgFileAlnLft",fileCls="zgs19_gsMsgBc",photo=message_info.photo||resObj.photo||"https://contacts.zoho.com/file?ID=645626233&t=user&height=50&width=50&exp=360000",_jQueryGS("<div>").append(_jQueryGS("<img>",{class:"zgs19_gsMsgUserPhoto",src:photo})).append(_jQueryGS("<div>",{class:"zgs19_gsGrpChatUserName"}).append(document.createTextNode(uname)))),is_high&&(highTxt="zgs20_gsBlink")),uname&&puname==uname&&(user=""),(date&&0==i||pDate!=date)&&(datefil=_jQueryGS("<div>",{gs:"date",class:"zgs19_gsMsgDate"}).append(_jQueryGS("<span>",{class:"zgs19_gsMsgDateVal"}).append(date)),_jQueryGS(menuEl.slackpreviewHolder).append(datefil)),msg&&nTime==msg&&(msg="");var text=message_info.hasOwnProperty("txt")&&message_info.txt?message_info.txt:"";switch(""!==text&&(text=zgssearch.emoji.renderEmojis(text)),type){case 1:renType=_jQueryGS("<div>",{class:pos}).append(_jQueryGS("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+pad,id:highTxt}).append(text));break;case 2:case 3:case 4:case 6:var cmtCls,renType=gsslack.attachmentRendering(fileAln,fileCls,highTxt,message_info);4!=type&&6!=type||(cmtCls=is_cuUser?"zgs19_gsMgRt20Px zgs19_gsInvT1R2_span zgs19_gsfl;":"",6==type?fileCmt=_jQueryGS("<div>",{class:"zgs19_gsMsgFileCmt zgs19_gsMgTop15Px "+cmtCls}).append(text):4==type&&(text_html=_jQueryGS("<div>",{class:"zgs19_gsMsgFileCmt "+cmtCls}).append(text)));break;case 5:renType=gsslack.renderAppNotification(pos,pad,highTxt,message_info)}msg=_jQueryGS("<div>",{gs:"msg",class:"zgs19_gsSlkMsg"}).append(user).append(fileCmt).append(renType).append(text_html).append(_jQueryGS("<div>",{class:"zgs19_gsFloatClear zgs19_gsSlkuser zgs19_gsSlkTime "+pos}).append(msg));_jQueryGS(menuEl.slackpreviewHolder).append(msg),(is_search_results||isList&&i==messages_data_length-1)&&gsslack.scrollToMatchedMsg(menuEl,is_high)}},gsslack.attachmentRendering=function(fileAln,fileCls,highTxt,marCls){for(var fileArr=marCls.files||"",type=marCls.result_type||"",marCls="",fullAttach=_jQueryGS("<div>",{class:"zgs19_gsSetCatDivsn zgs19_gsFloatClear",style:marCls=6!=type?"margin-top:15px;":marCls}),iterator=0;iterator<fileArr.length;iterator++){var renType=fileArr[iterator],fName=renType.name||"",fSize=renType.size||"",link=renType.link||"javascript:;";(renType.hasOwnProperty("is_cu")?renType.is_cu:"")&&fullAttach.css("justify-content","flex-end");var fileIcon=renType.servImg||"zgs19_writer",renType="",renType=_jQueryGS("<div>",{class:"zgs19_gsMsgFileType "+fileAln+" "+fileCls}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileDispFlx zgs19_gsPdng4Px",id:highTxt}).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileIcon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileIcon}))).append(_jQueryGS("<div>",{class:"zgs19_gsSlackFileContentDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileCon"}).append(document.createTextNode(fName))).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileSize"}).append(fSize))).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileActions"}).append(_jQueryGS("<a>",{class:"zgs19_gsResultsUniIcons zgs19_gsOpenFile zgs19_gsCurPointer zgs19_gsfr",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:link})))));fullAttach.append(renType)}return fullAttach},gsslack.renderAppNotification=function(pos,pad,highTxt,message_info){for(var fileAttach=message_info.attachments||[],fullAttach=_jQueryGS("<div>"),iterator=0;iterator<fileAttach.length;iterator++){var icon_text=fileAttach[iterator],authorName=icon_text.user||"",notificationMsg=icon_text.txt||"";""!==notificationMsg&&(notificationMsg=zgssearch.emoji.renderEmojis(notificationMsg));var appName=message_info.app_name||authorName||"",icon_text=zgssearch.getCapitalizedLtr(appName),renType=_jQueryGS("<div>",{class:pos}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs19_gsSlackAppNotificationIconOuter"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsSlackAppNotificationIconInner"}).append(icon_text))).append(_jQueryGS("<div>",{class:"zgs19_gsSlackAppNotificationName"}).append(appName))).append(_jQueryGS("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+pad,id:highTxt}).append(_jQueryGS("<div>",{class:"zgs19_gsFontWeight600"}).append(authorName)).append(_jQueryGS("<div>").append(notificationMsg)));fullAttach.append(renType)}return fullAttach},gsslack.txthighBlink=function(menuEl){zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl).find("#zgs20_gsBlink").css("background-color","#b6b5b5").animate({"background-color":"#b6b5b5"},2e3,function(){_jQueryGS(menuEl).find("#zgs20_gsBlink").removeClass("zgs19_gsMsgTxtHighBack").addClass("zgs19_gsMsgTxt"),_jQueryGS(menuEl).find("#zgs20_gsBlink").css("background-color","")})},gsslack.scrollToMatchedMsg=function(menuEl,is_high){setTimeout(function(){var viewport_height,elem_top,slackPrevHeight;is_high?(viewport_height=_jQueryGS(menuEl.calloutFooter).height(),0<_jQueryGS(menuEl).find("#zgs20_gsBlink").length&&(elem_top=_jQueryGS(menuEl).find("#zgs20_gsBlink").position().top,slackPrevHeight=_jQueryGS(menuEl).find("#zgs20_gsBlink").outerHeight(),viewport_height<elem_top&&_jQueryGS(menuEl).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:elem_top+slackPrevHeight},1e3),is_high&&gsslack.txthighBlink(menuEl))):(slackPrevHeight=menuEl.getElementsByClassName("zgs19_gsSlkMsg")[menuEl.getElementsByClassName("zgs19_gsSlkMsg").length-1].offsetTop,_jQueryGS(menuEl).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:slackPrevHeight},1e3))},1e3)},gsslack.setErrorResponse=function(menuEl,resObj){var paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.search.error.msg"),btnTxt:""};zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)},gsslack.setEmptyResponse=function(menuEl,resObj){var paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.con.slack.create.conv")};zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)},gsslack.getContinueHTMLElem=function(){var continueChat=zgssearch.GSConstant.SLACK.substring(0,1).toUpperCase()+zgssearch.GSConstant.SLACK.substring(1),continueChat=zgssearch.I18N.getValue("gs.con.continue.chat.title",[continueChat]);return _jQueryGS("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:continueChat,gs:"slackcontinuechat",service:zgssearch.GSConstant.SLACK}).text(continueChat))},gsslack.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsslack.addCalloutActionList=function(menuEl,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsslack.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"continue"==key&&"2"==resObj.result_type||"open"==key&&"2"!=resObj.result_type||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.SLACK}).text(dectext))}}},gsslack.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsSlackCallout");zgssearch.setGSTagElems(menuEl),gsslack.setSlackCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsslack)}(zgssearch,window),function(zgssearch,window){var gso365mail,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gso365mail=(gso365mail=void 0,(gso365mail=zgssearch.gso365mail||{}).curcalloutObj=gso365mail.curcalloutObj||{},gso365mail.actionList=[{open:"common.open"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"}],gso365mail.getCalloutHolder=function(){return"zgs20_gsOutlookcallout"},gso365mail.calloutParams=function(resObj){var conId=zgssearch.getCurrentSelectedElem().getAttribute("acc_id")||"";return"action=getO365MailOneTimeURL&service_name=o365mail&connector_id="+conId+"&msgId="+(resObj.id||"")+"&domName="+(window.location.protocol+"//"+window.location.host)+"&app_id="+zgssearch.getAppIdForCloudApps(conId)+"&isWDEnabled="+zgssearch.addToWDEnabled()},gso365mail.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,extimgtip,extimgtext,shrinkedtext,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.O365MAIL,gs:"attachIcon"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.O365MAIL,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.O365MAIL),service:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.O365MAIL}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gso365mailCalloutFooter zgs19_gsHt88Per",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:GSConstant.O365MAIL,gstitle:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gso365mail.setO365MailCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gso365mail.calloutResponse=function(url,resObj,curRe,labelTxt){var title=resObj.subject||zgssearch.getI18NMsg("gs.search.result.mail.subject"),curCalloutObj=labelTxt.searchObj;gso365mail.curcalloutObj=curCalloutObj;var menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var toOthersCount=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.O365MAIL,resObj));labelTxt=_jQueryGS(curRe.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",labelTxt),_jQueryGS(menuEl.ctitle).text(title),_jQueryGS(menuEl.attachIcon).css("display","none"),resObj.hasAttachments&&_jQueryGS(menuEl.attachIcon).css("display","block");toOthersCount="zgs20_gsO365MailCalloutUserImg"+toOthersCount;_jQueryGS(menuEl.authorPhoto).attr("id",toOthersCount),zgssearch.renderCalloutNoUserPhoto(toOthersCount);toOthersCount=resObj.sender_mail||resObj.sender_name||"-na-";_jQueryGS(menuEl.slabel).text(zgssearch.getI18NMsg("common.from")),_jQueryGS(menuEl.sender).text(toOthersCount);toOthersCount=resObj.toRecipients[0]||"",toOthersCount=toOthersCount.hasOwnProperty("emailAddress")?toOthersCount.emailAddress:"",toOthersCount=toOthersCount.hasOwnProperty("address")?toOthersCount.address:toOthersCount.hasOwnProperty("name")?toOthersCount.name:"-na-";_jQueryGS(menuEl.rlabel).text(zgssearch.getI18NMsg("common.to")).attr("gstitle",zgssearch.getI18NMsg("common.to")),_jQueryGS(menuEl.receiver).text(toOthersCount).attr("gstitle",toOthersCount),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%");toOthersCount=resObj.bccRecipients.length+resObj.ccRecipients.length+resObj.toRecipients.length-1;0<toOthersCount&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),mailResp=zgssearch.gsmails.getTotalEmailCount(toOthersCount),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:mailResp}).text(mailResp)).show(),gso365mail.loadToOthersList(menuEl,resObj.toRecipients,resObj.ccRecipients,resObj.bccRecipients));var mailResp=resObj.date||"";_jQueryGS(menuEl.date).text(mailResp);mailResp=resObj.folderName||"";_jQueryGS(menuEl.rfolder).text(mailResp).attr("gstitle",mailResp);mailResp=url.response,url=mailResp.url;mailResp.hasOwnProperty("status")&&"success"==mailResp.status&&gso365mail.renderIframePreview(resObj,menuEl,url),zgssearch.getCurrentSelectedElem()&&(_jQueryGS(menuEl).show(),!1===resObj.isRead&&gso365mail.toggleMailStatus("read",curRe,resObj,curCalloutObj.calloutId)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gso365mail.addCalloutActionList(menuEl),gso365mail.setO365MailCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gso365mail.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gso365mail.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gso365mail.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gso365mail.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gso365mail.renderToOthersList=function(emailList,label){if(emailList&&0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),alistLen=emailList.length,i=0;i<alistLen;i++){var comma=i+1===emailList.length?"":",",mailAddressObj=emailList[i],mailAddressObj=(mailAddressObj.emailAddress.address||mailAddressObj.emailAddress.name,emailList[i].hasOwnProperty("emailAddress")?emailList[i].emailAddress:""),emailId=mailAddressObj.hasOwnProperty("address")?mailAddressObj.address:mailAddressObj.hasOwnProperty("name")?mailAddressObj.name:"";emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:emailId}).text(emailId+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}},gso365mail.renderIframePreview=function(resObj,menuEl,iframeUrl){var o365MailPreview=document.createElement("iframe");o365MailPreview.id="zgs20_o365MailIframePrev";iframeUrl=iframeUrl+"&"+zgssearch.originParam;o365MailPreview.src=iframeUrl||"",o365MailPreview.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",o365MailPreview.setAttribute("frameborder","0"),o365MailPreview.setAttribute("allowfullscreen","true"),o365MailPreview.onload=function(){setTimeout(function(curcalloutObj){zgssearch.hideCalloutLoader(curcalloutObj)},500,gso365mail.curcalloutObj)},_jQueryGS(menuEl.calloutFooter).empty().append(o365MailPreview)},gso365mail.downloadAttachment=function(ud_download_url){var msgId=zgssearch.getCurrentResObj().id||"",conId=zgssearch.getCurSelectedEleAttr("acc_id")||"",download_url=zgssearch.getAppIdForCloudApps(conId),download_obj={};download_obj.connector_id=conId,download_obj.service_name="o365mail",download_obj.action="getO365UDAttachmentUrl",download_obj.isExAttachment=!0,download_obj.msgId=msgId,download_obj.attachmentId=ud_download_url,download_obj.app_id=download_url;ud_download_url=zgssearch.GSConstant.ud_download_server_url,download_url=zgssearch.GSConstant.ud_service_name,download_url=ud_download_url+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(download_obj)+"&x-service="+download_url;zgssearch.network.download_file(download_url)},gso365mail.addToWD=function(resObj,attachId,folderId){var paramObj={};paramObj.service=zgssearch.GSConstant.O365MAIL,paramObj.attachId=attachId,paramObj.folderId=folderId,paramObj.connectorId=zgssearch.curSelectedEle.getAttribute("acc_id")||"",zgssearch.connectors.addFileToWD(paramObj,resObj)},gso365mail.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsOutlookcallout");zgssearch.setGSTagElems(menuEl),gso365mail.setO365MailCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gso365mail.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gso365mail.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.O365MAIL}).text(dectext))}}},gso365mail.toggleMailStatus=function(action,curRe,resObj,calloutId,target){var conId,msgId,isRead,zsoid;curRe&&(conId=zgssearch.getCurrentSelectedElem().getAttribute("acc_id")||"",msgId=resObj.id,isRead=!0,"read"==action?isRead=!0:"unread"==action&&(isRead=!1),zsoid=zgssearch.getAppIdForCloudApps(conId),zgssearch.uri(zgssearch.POST,"/zgssearch/exconnector/getCalloutData","action=updateReadStatus&service_name=o365mail&connector_id="+conId+"&msgId="+msgId+"&isRead="+isRead+"&app_id="+zsoid,{curRe:curRe,resObj:resObj,action:action,accountId:conId,msgId:msgId,calloutId:calloutId,target:target},function(data,status,xhr){gso365mail.markAsReadOrUnreadAction(data,action,curRe,resObj,calloutId,target)}))},gso365mail.markAsReadOrUnreadAction=function(vtext,action,curRe,resObj,toBeChangeCls,target){var menuEl,toBeRemoveCls,toBeChangeTitle;!vtext||"null"===vtext||"success"==((toBeRemoveCls=zgssearch.jsonParse(vtext))&&toBeRemoveCls.response||"").status&&curRe&&(menuEl="",menuEl=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):zgssearch.getTargetElem(toBeChangeCls),vtext=toBeChangeTitle="","read"==action?toBeChangeTitle=zgssearch.getMailImageStatus(0):"unread"==action&&(toBeChangeTitle=zgssearch.getMailImageStatus(1)),toBeRemoveCls=toBeChangeTitle.image,toBeChangeCls=toBeChangeTitle.toBeImage,toBeChangeTitle=toBeChangeTitle.toBeTitle,_jQueryGS(curRe.resultMenuItem).attr("gstitle",toBeChangeTitle),"read"==action?(resObj.isRead=!0,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","unread").attr("gstitle",vtext).text(vtext)):"unread"==action&&(resObj.isRead=!1,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","read").attr("gstitle",vtext).text(vtext)))},gso365mail.calloutErrorMsg=function(error,curCalloutObj){var msg;zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj,msg),msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gso365mail)}(zgssearch,window),zgssearch.Template={},zgssearch.Template.init_department=!1,zgssearch.Template.iconTemplate=function(cls){cls="card"==cls?"zgs19_gsCardResultCell1":"zgs19_gsSearchResultCell1";return _jQueryGS("<template>",{id:"iconTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:cls+" zgs19_iconTemp",id:"iconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder zgs19_iconTemp"}).append(_jQueryGS("<img>",{class:"group_icon",gs:"AttachIcon",src:zgssearch.gsspacer,gstitle:"iconTitle"})).append(_jQueryGS("<span>",{class:"group_icon",gs:"resultMenuItem",gstitle:"iconTitle"}))))},zgssearch.Template.infoTemplate=function(){return _jQueryGS("<template>",{id:"infoTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp1Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp2Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp3Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp3Span",istip:!0})))))},zgssearch.Template.resultTitleTemplate=function(){return _jQueryGS("<template>",{id:"resultTitleTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"temp1Span",class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",gs:"resultTitle",istip:!0}))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<a>",{class:"zgs19_gstemp2",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{istip:!0})))))},zgssearch.Template.getMailTemplate=function(infoDiv,searchType,acc_id,iconDiv,filCls){var GSConstant=zgssearch.getGSConstantObj()||{},data="",temp3Info1Div="",currentFolder="",unreadMailClass=!0===infoDiv[iconDiv.isBold]?"zgs19_gsFtWeightNormal":"zgs19_gsFtWeightBold",currentFolder=infoDiv[iconDiv.isBold]?zgssearch.getMailImageStatus(1):zgssearch.getMailImageStatus(0),infoDiv1=(infoDiv1=infoDiv[iconDiv.subject]=zgssearch.replaceHTMLEntity(infoDiv[iconDiv.subject])||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",mHasAttach=infoDiv[iconDiv.has_attachment]||"",spanTagEle=infoDiv[iconDiv.display_time]||"",mSender=infoDiv[iconDiv.sender]||"",folderId=infoDiv[iconDiv.folder_id]||"",spanTag1=infoDiv[iconDiv.folder_name]||"",infoDiv=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),data=zgssearch.resultUtil.querySlt(infoDiv,"div"),iconDiv=document.importNode(data,!0);iconDiv.querySelector("img.group_icon").outerHTML="";infoDiv=iconDiv.querySelector("span.group_icon");infoDiv.setAttribute("class",currentFolder.image),infoDiv.setAttribute("gstitle",currentFolder.title),zgssearch.resultUtil.setAttVal(infoDiv,"gs","resultMenuItem");currentFolder=zgssearch.resultUtil.querySlt(document,"#resultTitleTemplate");data=zgssearch.resultUtil.querySlt(currentFolder,"div");infoDiv=document.importNode(data,!0);infoDiv.setAttribute("class","zgs19_gsHgt20Px");temp3Info1Div=infoDiv.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),currentFolder=infoDiv.querySelector("#temp1");zgssearch.resultUtil.setAttVal(currentFolder,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gslabel",zgssearch.getI18NMsg("gs.search.filter.sorttime")),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gstitle",spanTagEle),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class",""),_jQueryGS(temp3Info1Div[0]).text(spanTagEle),_jQueryGS(temp3Info1Div[1]).remove();currentFolder=infoDiv.querySelector("#temp2");zgssearch.resultUtil.setAttVal(currentFolder,"class","zgs19_gsWid75Per");spanTagEle=infoDiv.querySelector("#temp2Span");zgssearch.resultUtil.setAttVal(spanTagEle,"class","zgs19_gsResultTitle zgs19_gsOverflow");spanTagEle=spanTagEle.querySelector("span.zgs19_gstemp2Span");mHasAttach?spanTagEle.setAttribute("class","zgs18_gsAttachIcon zgs19_gsfl"):_jQueryGS(spanTagEle).remove();currentFolder=currentFolder.querySelector("a.zgs19_gstemp2");currentFolder.setAttribute("class",unreadMailClass),currentFolder.setAttribute("href",searchType),currentFolder.setAttribute("target","_blank"),currentFolder.setAttribute("rel","noopener noreferrer"),currentFolder.setAttribute("gslabel",zgssearch.getI18NMsg("common.subject")),currentFolder.setAttribute("gstitle",infoDiv1),currentFolder.setAttribute("gs","resultTitle"),_jQueryGS(currentFolder).text(infoDiv1);searchType=infoDiv.querySelector("#temp3");_jQueryGS(searchType).remove();currentFolder=zgssearch.resultUtil.querySlt(document,"#infoTemplate");data=zgssearch.resultUtil.querySlt(currentFolder,"div");infoDiv1=document.importNode(data,!0);zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow","#temp1");searchType=zgssearch.getSearchType(),currentFolder=zgssearch.getFilterInfo(GSConstant.O365MAIL,"folders","current"),data=zgssearch.getFilterInfo(GSConstant.O365MAIL,"folders","data");data[acc_id].hasOwnProperty(folderId)||(data[acc_id][folderId]=spanTag1,zgssearch.updateFilterInfo(GSConstant.O365MAIL,"folders","data",data)),temp3Info1Div=infoDiv1.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class","zgs19_hvr_underlineHeader"),"Card"==filCls.type?zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"style","pointer-events: none;"):zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"style","pointer-events: auto;");filCls="";searchType===GSConstant.ALL||zgssearch.multiPageEnabled||"0"===currentFolder?(filCls="zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",temp3Info1Div[1].setAttribute("gs","outlookfolder"),temp3Info1Div[1].setAttribute("fId",folderId),temp3Info1Div[1].setAttribute("acc_id",acc_id)):filCls="zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",temp3Info1Div[1].setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_folder")),temp3Info1Div[1].setAttribute("gstitle",spanTag1),temp3Info1Div[1].setAttribute("istip",!0),temp3Info1Div[1].setAttribute("class",filCls),_jQueryGS(temp3Info1Div[1]).text(spanTag1);spanTag1=temp3Info1Div[1];_jQueryGS(temp3Info1Div[0]).append(spanTag1),zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResultAuthor zgs19_gsOverflow","#temp2"),zgssearch.resultUtil.setAttVal(infoDiv1.querySelector("#temp2Span"),"class","zgs19_gsResultAuthor zgs19_gsoverflow"),temp3Info1Div=infoDiv1.querySelector("#temp2").querySelectorAll("span.zgs19_gstemp2Span"),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gslabel",zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender")),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gstitle",mSender),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"istip",!0),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class",""),_jQueryGS(temp3Info1Div[0]).text(mSender),_jQueryGS(temp3Info1Div[1]).remove();temp3Info1Div=infoDiv1.querySelector("#temp3");return _jQueryGS(temp3Info1Div).remove(),{iconDiv:iconDiv,infoDiv:infoDiv,infoDiv1:infoDiv1}},zgssearch.connectors={getConnectorDOMId:function(connector_name){return"connector_"+connector_name.toLowerCase()},getCallBackURL:function(){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate"},getNewFlowCallBackURL:function(service){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/redirect/"+service},getBoxAuthURL:function(is_reconnect){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector=box";return!zgssearch.Utils.isUndefined(is_reconnect)&&is_reconnect&&(callback_url+="&reconnect="+is_reconnect),zgssearch.GSConstant.gadget_domain_url+"/auth/box?zservice=ZohoSearch&serURL="+encodeURIComponent(callback_url)},getGDriveAuthURL:function(is_reconnect){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.GOOGLEDRIVE;return!zgssearch.Utils.isUndefined(is_reconnect)&&is_reconnect&&(callback_url+="&reconnect="+is_reconnect),zgssearch.GSConstant.gadget_domain_url+"/auth/google?zservice=ZohoSearch&authScopes=GDRIVE.READ&&multipleAccounts=true&serURL="+encodeURIComponent(callback_url)},getDropBoxAuthURL:function(is_reconnect){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.DROPBOX;return!zgssearch.Utils.isUndefined(is_reconnect)&&is_reconnect&&(callback_url+="&reconnect="+is_reconnect),zgssearch.GSConstant.gadget_domain_url+"/dropbox/auth/v2?zservice=ZohoSearch&serURL="+encodeURIComponent(callback_url)},getSlackAuthURL:function(connector_name,target){encodeURIComponent(window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate?connector="+zgssearch.GSConstant.SLACK);var empty_window_reference=window.open("about:blank","connector_auth","");empty_window_reference.document.write('<html><head><style> .loader {margin: auto;margin-top : 350px;border: 16px solid #f3f3f3;border-radius: 50%;border-top: 16px solid #3498db;width:60px;height: 60px; animation: spin 1s linear infinite;} @keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); } } </style></head><body><div class="loader"></div><div style="margin-top : 50px; text-align:center; font-weight:400; font-size: 25px;">Loading workspaces... Please wait.</div></body></html>');var auth_user_scope=zgssearch.GSConstant.slack_auth_user_scope,gadget_auth_url=zgssearch.GSConstant.slack_auth_scope,redirect_url=zgssearch.connectors.getNewFlowCallBackURL("slack")+"?connector=slack",gadget_auth_url=zgssearch.GSConstant.gadget_domain_url+"/tpa/slack?zservice=ZohoSearch&serUrl="+encodeURIComponent(redirect_url)+"&user_scope="+auth_user_scope+"&scopes="+gadget_auth_url;zgssearch.openWindowForAuthWithTimer(gadget_auth_url,connector_name,target,empty_window_reference)},getSalesForceAuthURL:function(is_reconnect){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.SALESFORCE;return!zgssearch.Utils.isUndefined(is_reconnect)&&is_reconnect&&(callback_url+="&reconnect="+is_reconnect),zgssearch.GSConstant.gadget_domain_url+"/auth/"+zgssearch.GSConstant.SALESFORCE+"?zservice=ZohoSearch&authScopes=api&accountType=production&serURL="+callback_url},getOneDriveAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.ONEDRIVE;return zgssearch.GSConstant.gadget_domain_url+"/office365auth?zservice=ZohoSearch&authIn=window&authScopes=files&multipleAccounts=true&serurl="+encodeURIComponent(callback_url)},getEvernoteAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.EVERNOTE;return zgssearch.GSConstant.gadget_domain_url+"/auth/"+zgssearch.GSConstant.EVERNOTE+"?zservice=ZohoSearch&mode=auth&serURL="+encodeURIComponent(callback_url)},getIsSSOUser:function(){var isSSOUser="";return zgssearch.uri(zgssearch.GET,"zgssearch/exconnector/isO365SSOUser","","",function(response,status){"error"!=status&&(response=response.response||{},isSSOUser=response.isSSOUser)}),isSSOUser},getO365MailAuthURL:function(connector_name,target){var auth_url=zgssearch.connectors.getCallBackURL()+"?connector=o365mail",auth_url=zgssearch.GSConstant.gadget_domain_url+"/office365auth?zservice=ZohoSearch&authIn=window&authScopes=mail&multipleAccounts=true&serurl="+encodeURIComponent(auth_url);zgssearch.openWindowForAuthWithTimer(auth_url,connector_name,target)},getAsanaAuthURL:function(connector_name,target){var empty_window_reference=window.open("about:blank","connector_auth","");empty_window_reference.document.write('<html><head><style> .loader {margin: auto;margin-top : 350px;border: 16px solid #f3f3f3;border-radius: 50%;border-top: 16px solid #3498db;width:60px;height: 60px; animation: spin 1s linear infinite;} @keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); } } </style></head><body><div class="loader"></div><div style="margin-top : 50px; text-align:center; font-weight:400; font-size: 25px;">Loading workspaces... Please wait.</div></body></html>');var asana_url=zgssearch.GSConstant.GS_ASANA_URL+"?client_id="+zgssearch.GSConstant.asana_client_id,callback_url=zgssearch.connectors.getCallBackURL()+"?connector=asana",redirect_uri=encodeURIComponent(callback_url);zgssearch.uri(zgssearch.GET,"zgssearch/exconnector/getStateParam?service_name="+zgssearch.GSConstant.ASANA,"","",function(state_params,status){"error"!=status?(state_params=state_params.response.state,zgssearch.openWindowForAuthWithTimer(asana_url+"&redirect_uri="+redirect_uri+"&state="+state_params+"&scope=default&response_type=code&display_ui=always",connector_name,target,empty_window_reference)):(empty_window_reference.close(),zgssearch.Utils.showErrorMsg(zgssearch.I18N.getValue("gs.search.error.tryagain_generic_error_messege")))})},getAuthURL:function(connector_name,is_reconnect){var auth_url=null;switch(connector_name){case zgssearch.GSConstant.DROPBOX:auth_url=zgssearch.connectors.getDropBoxAuthURL(is_reconnect);break;case zgssearch.GSConstant.BOX:auth_url=zgssearch.connectors.getBoxAuthURL(is_reconnect);break;case zgssearch.GSConstant.SLACK:auth_url=zgssearch.connectors.getSlackAuthURL(is_reconnect);break;case zgssearch.GSConstant.GOOGLEDRIVE:auth_url=zgssearch.connectors.getGDriveAuthURL(is_reconnect);break;case zgssearch.GSConstant.SALESFORCE:auth_url=zgssearch.connectors.getSalesForceAuthURL(is_reconnect);break;case zgssearch.GSConstant.O365MAIL:auth_url=zgssearch.connectors.getO365MailAuthURL();break;case zgssearch.GSConstant.ONEDRIVE:auth_url=zgssearch.connectors.getOneDriveAuthURL();break;case zgssearch.GSConstant.EVERNOTE:auth_url=zgssearch.connectors.getEvernoteAuthURL()}return auth_url},configure:function(target,auth_url){document.getElementById("zgs20_addNewAcc").setAttribute("disabled","true");var is_reconnect=zgssearch.getParentNode(target),connector_name=_jQueryGS(target).attr("ser")||_jQueryGS(is_reconnect).attr("ser"),is_reconnect="reconnectAcc"==auth_url,auth_url="";connector_name===zgssearch.GSConstant.O365MAIL?zgssearch.connectors.getO365MailAuthURL(connector_name,target):connector_name===zgssearch.GSConstant.SLACK?zgssearch.connectors.getSlackAuthURL(connector_name,target):connector_name==zgssearch.GSConstant.ASANA?zgssearch.connectors.getAsanaAuthURL(connector_name,target):(auth_url=zgssearch.connectors.getAuthURL(connector_name,is_reconnect),zgssearch.openWindowForAuthWithTimer(auth_url,connector_name,target))},checkAndUpdateEnabledAccountsList:function(service_name){var enabled_account_list,service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name);service_data.hasOwnProperty("all")&&(enabled_account_list=zgssearch.getEnabledAccListFromWidget(service_name,service_data),service_data.eO=enabled_account_list,zgssearch.gssettingsapptab.storeApplicationData(service_name,service_data))},checkIsDeleteAllowed:function(service_name,connector_id){var all_accounts_list,enabled_accounts_list,is_delete_allowed=!0,service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name);return service_data.hasOwnProperty("all")&&(all_accounts_list=service_data.all||[],(enabled_accounts_list=service_data.eO||[]).length<=0&&(zgssearch.connectors.checkAndUpdateEnabledAccountsList(service_name),enabled_accounts_list=(service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name)).eO||[]),is_delete_allowed=!(1<all_accounts_list.length&&1===enabled_accounts_list.length&&enabled_accounts_list[0]===connector_id)),is_delete_allowed},delAccConfimation:function(ziaWidth){var top,error_msg;document.getElementById("zgs20_gsdelAccCnfrm")||(top=zgssearch.getParentNode(ziaWidth),ziaWidth=_jQueryGS(top).attr("ser"),top=_jQueryGS(top).attr("accId"),zgssearch.connectors.checkIsDeleteAllowed(ziaWidth,top)?(error_msg=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsDelAccOrderDialog")).append(zgssearch.Utils.createElement("div","","zgs19_gsServiceOrderOverlay zgs19_gsSSDialogPos")).append(_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsdelAccCnfrm","zgs19_gsDisplayNone zgs19_gsDeleteConfirmPopup",{gs:"accCnfrm",st:"No"})).append(_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsResultsUniIcons zgs19_gsDeleteAccIcon",{gs:"accCnfrm",st:"No"}))).append(_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsDeleteAccConfirm","",zgssearch.I18N.getValue("gs.con.delete.confirm.title")))).append(_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsDeleteBtn")).append(zgssearch.Utils.createElement("div","","zgs19_gsSC_PUbtmNew zgs19_gsDelCancel",{gs:"accCnfrm",st:"Yes",service_name:ziaWidth,connector_id:top},zgssearch.I18N.getValue("gs.common.yes"))).append(zgssearch.Utils.createElement("div","","zgs19_gsSC_PUbtmNew zgs19_gsDelsave",{gs:"accCnfrm",st:"No"},zgssearch.I18N.getValue("common.no"))))),_jQueryGS("#zgs20_gsHolder").append(error_msg),ziaWidth=_jQueryGS("#zgs20_gsHolder").width(),top=_jQueryGS("#zgs20_gsHolder").height(),error_msg=_jQueryGS("#zgs20_gsdelAccCnfrm").width(),top=(top-_jQueryGS("#zgs20_gsdelAccCnfrm").height())/2,error_msg=(ziaWidth-error_msg)/2,_jQueryGS("#zgs20_gsdelAccCnfrm").css("top",top+"px"),_jQueryGS("#zgs20_gsdelAccCnfrm").css("left",error_msg+"px"),_jQueryGS("#zgs20_gsdelAccCnfrm").css("border-radius","5px")):(error_msg=zgssearch.I18N.getValue("gs.con.not.allowed.dec"),zgssearch.Utils.showErrorMsg(error_msg))),zgssearch.showCnfrmtnPopUp()},delete:function(target){var service=_jQueryGS(target).attr("service_name"),connId=_jQueryGS(target).attr("connector_id"),zsoid=zgssearch.getAppIdForCloudApps(connId,service);zgssearch.uri(zgssearch.POST,"/zgssearch/exconnector/revoke","service_name="+service+"&connector_id="+connId+"&app_id="+zsoid,{},function(account_index,status){var wholeList,accDetails,widget_info,services_info,current_service_info,enable_account_list,loadericon;"success"==((account_index.response||{}).status||"").toLowerCase()?(zgssearch.Utils.showSuccessMsg(zgssearch.I18N.getValue("gs.con.delete.success")),(loadericon=zgssearch.gssettingsapptab.getStoredApplicationData(service)).hasOwnProperty("all")&&(wholeList=loadericon.hasOwnProperty("all")?loadericon.all:"",accDetails=loadericon.hasOwnProperty("aD")?loadericon.aD:"",-1<wholeList.indexOf(connId)&&wholeList.splice(wholeList.indexOf(connId),1),delete accDetails[connId],(current_service_info=(services_info=(widget_info=zgssearch.GSConstant.widgetObject).servicesinfo)[service]).eO&&(-1<(account_index=(enable_account_list=current_service_info.eO).indexOf(connId))&&enable_account_list.splice(account_index,1),current_service_info.eO=loadericon.eO=enable_account_list),current_service_info.all=wholeList,current_service_info.aD=accDetails,services_info[service]=current_service_info,widget_info.servicesinfo=services_info,zgssearch.GSConstant.widgetObject=widget_info,zgssearch.loadWidgetList(zgssearch.GSConstant.widgetObject),zgssearch.gssettingsapptab.storeApplicationData(service,loadericon)),loadericon=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsServiceAccountsBlock").empty().append(loadericon),_jQueryGS("#zgs20_gsSettingprevLoader").show(),setTimeout(function(){var service_account_info;_jQueryGS("#zgs20_gsSettingprevLoader").hide(),zgssearch.gssettingsapptab.setCurrentSelectedService(service),zgssearch.gssettingsapptab.showApplicationData(service,target),!zgssearch.gssettingsapptab.getStoredApplicationData(service)||0===((service_account_info=zgssearch.gssettingsapptab.getStoredApplicationData(service)).all?service_account_info.all.length:0)&&(_jQueryGS("#"+service+"_enable_detailview").removeAttr("checked"),_jQueryGS("#zgs20_gsAppBlock").find(".zgs19_enableContainer").addClass("zgs19_gsHideEleme"),_jQueryGS("#"+service+"_enable").removeAttr("checked","checked"),zgssearch.gssettingsapptab.updateClassForLeftPanelService(service),zgssearch.gssettingsapptab.serviceEnablingActions(service))},500)):zgssearch.Utils.showErrorMsg("Account not yet deleted")})},appendReconnectDiv:function(connector_id){connector_id=_jQueryGS(connector_id),connector_id.attr("ser"),connector_id=connector_id.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+connector_id)).removeClass("zgs19_gsDisplayNone")},removeReconnectDiv:function(connector_id){connector_id=_jQueryGS(connector_id),connector_id.attr("ser"),connector_id=connector_id.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+connector_id)).addClass("zgs19_gsDisplayNone")},configureConnector:function(connector_auth_rul,empty_window_reference){connector_auth_rul=zgssearch.connectors.getAuthURL(connector_auth_rul,empty_window_reference),empty_window_reference=window.open("about:blank","connector_auth","");zgssearch.openWindowForAuth(connector_auth_rul,empty_window_reference)},reconnectConnector:function(connector_name){zgssearch.connectors.configureConnector(connector_name,!0)},getCloudConnectors:function(){},getConnectorAccounts:function(connector_name,target){var url_obj=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsServiceAccountsBlock").append(url_obj),_jQueryGS("#zgs20_gsSettingprevLoader").css("display","block");url_obj={url:"/zgssearch/exconnector/connections",type:"GET",dataType:"text"};url_obj.data="service_name="+connector_name,url_obj.success=function(response){if("success"===(response=(response=zgssearch.jsonParse(response)).response).status.toLowerCase()){var conn=response.connections||"";_jQueryGS("#zgs20_gsSettingprevLoader").css("display","none");var settingsApplData=zgssearch.gssettingsapptab.getStoredApplicationData(connector_name),accDetails=settingsApplData.hasOwnProperty("aD")?settingsApplData.aD:{};if(0<conn.length){for(var i=0;i<conn.length;i++){var connector_info=conn[i],connId=connector_info.CONNECTOR_ID||"",addedTime=connector_info.ADDED_TIME||"",is_token_expired=connector_info.AUTH_ERROR||!1;accDetails.hasOwnProperty(connId)||(accDetails[connId]={},accDetails[connId].e=!0,accDetails[connId].n=connector_info.CONNECTOR_NAME,settingsApplData.all.push(connId)),accDetails.hasOwnProperty(connId)&&(accDetails[connId].added_time=addedTime,accDetails[connId].is_token_expired=is_token_expired)}zgssearch.setWidgetResponseData(connector_name,settingsApplData),zgssearch.gssettingsapptab.storeApplicationData(connector_name,settingsApplData)}}zgssearch.gssettingsapptab.showApplicationData(connector_name,target)},zgssearch.network.uri(url_obj)},getConnectorInfo:function(connector_id){var url_obj={};url_obj.url="/zgssearch/exconnector/connections/"+connector_id,url_obj.type="GET",url_obj.dataType="text",url_obj.success=function(data){JSON.parse(data)},zgssearch.network.uri(url_obj)},deleteConnector:function(connector_name,connector_id){var url_obj={url:"/zgssearch/exconnector/revoke",type:"POST",dataType:"text"};url_obj.data="service_name="+connector_name+"&connector_id="+connector_id,url_obj.success=function(data){JSON.parse(data)},zgssearch.network.uri(url_obj)},handleConnectorAuthResponse:function(connector_name,service_name,auth_status,target,hideSuccessMsg){if("1"==auth_status)hideSuccessMsg||(msg=zgssearch.I18N.getValue("gs.con.auth.success",[connector_name]),zgssearch.Utils.showSuccessMsg(msg)),zgssearch.reloadAppData(service_name,connector_name,target);else switch(zgssearch.getLocalStorageValue("zs_error_code")){case"4":var msg=zgssearch.I18N.getValue("gs.con.auth.account.limit_exceeded");zgssearch.Utils.showErrorMsg(msg);break;case"5":msg=zgssearch.I18N.getValue("gs.con.auth.account.exists");zgssearch.Utils.showErrorMsg(msg);break;case"7":msg=zgssearch.I18N.getValue("gs.con.auth.operation_failure");zgssearch.Utils.showErrorMsg(msg);break;default:msg=zgssearch.I18N.getValue("gs.con.auth.failure");zgssearch.Utils.showErrorMsg(msg)}zgssearch.deleteLocalStorageValue("zs_error_code")},getConnectors:function(){var url_obj={url:"/zgssearch/exconnector/allconnectors",type:"GET",dataType:"text",success:function(response){response=zgssearch.jsonParse(response);zgssearch.gssettingsapptab.connectorDetails=response,zgssearch.gssettingsapptab.renderCloudConnectors(response)}};zgssearch.network.uri(url_obj)},constructZSYNCDownloadURL:function(unique_id,download_obj){download_obj=zgssearch.connectors.getServiceParams(unique_id,download_obj),unique_id=unique_id?unique_id.service:_jQueryGS(zgssearch.curSelectedEle).attr("service");download_obj.action=unique_id===zgssearch.GSConstant.ASANA?"getAsanaAttachmentDownloadUrl":"getDownloadUrl";unique_id="search_download_"+(new Date).getTime();return zgssearch.GSConstant.ud_download_server_url+"?event-id="+unique_id+"&x-cli-msg="+JSON.stringify(download_obj)+"&x-service="+zgssearch.GSConstant.ud_service_name},addFileToWD:function(urlObj,resObj){var param,serviceParams=zgssearch.connectors.getServiceParams(urlObj,resObj),urlParams="action=addToWD_"+(urlObj?urlObj.service:zgssearch.getCurSelectedEleAttr("service"));for(param in serviceParams)urlParams+="&"+param+"="+serviceParams[param];urlParams+="&folder_id="+urlObj.folderId;urlObj={url:"/zgssearch/exconnector/serviceaction",type:"POST"};urlObj.data=urlParams,urlObj.success=function(responseData){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader")[0].remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&_jQueryGS("#zgs20_gsOverlayDialog").css("display","none");var fileName,resp=responseData.response;if(resp&&resp.status)switch(resp.status){case"success":resp.workdrive_filename&&(fileName=resp.workdrive_filename),zgssearch.Utils.showSuccessMsg(zgssearch.I18N.getValue("gs.search.result.addToWd.success",[fileName]));break;case"failed":"failure_SL"==resp.error_message?zgssearch.Utils.showErrorMsg(zgssearch.I18N.getValue("gs.search.result.addToWd.msg.size_exceeded")):zgssearch.Utils.showErrorMsg(zgssearch.I18N.getValue("gs.search.result.addToWd.error"))}},urlObj.error=function(xhr){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader")[0].remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.Utils.showErrorMsg(zgssearch.getI18NMsg("gs.search.result.addToWd.error"))},zgssearch.network.uri(urlObj)},getServiceParams:function(paramObj,current_response_obj){var pkid=current_response_obj.id||"",res_type=current_response_obj.rtype||"",res_name=current_response_obj.name||"",connector_id=current_response_obj.CONNECTOR_ID||"",service_name=paramObj?paramObj.service:zgssearch.getCurSelectedEleAttr("service"),serviceParams={};return serviceParams.connector_id=connector_id,serviceParams.service_name=service_name,serviceParams.res_name=encodeURIComponent(res_name),service_name===zgssearch.GSConstant.DROPBOX?(serviceParams.pkid=pkid,serviceParams.res_type=res_type):service_name===zgssearch.GSConstant.BOX?serviceParams.file_id=pkid:service_name===zgssearch.GSConstant.GOOGLEDRIVE?(serviceParams.pkid=pkid,serviceParams.mime_type=current_response_obj.mtype||"",serviceParams.res_extn=current_response_obj.extn||""):service_name===zgssearch.GSConstant.ONEDRIVE?(serviceParams.id=pkid,connector_id=paramObj.accId,serviceParams.connector_id=connector_id,serviceParams.name=encodeURIComponent(res_name),serviceParams.driveId=current_response_obj.driveId,delete serviceParams.res_name):service_name===zgssearch.GSConstant.ASANA?(connector_id=paramObj.connectorId,serviceParams.connector_id=connector_id,serviceParams.name=paramObj.attachName,serviceParams.gid=paramObj.attachId,delete serviceParams.res_name):service_name===zgssearch.GSConstant.O365MAIL?(connector_id=paramObj.connectorId,serviceParams.connector_id=connector_id,serviceParams.service_name=paramObj.service,serviceParams.msgId=current_response_obj.id,serviceParams.attachmentId=paramObj.attachId,serviceParams.isExAttachment=!0,delete serviceParams.res_name):service_name===zgssearch.GSConstant.EVERNOTE&&(serviceParams.attach_name=paramObj.attachId,serviceParams.res_hash=paramObj.resHash,serviceParams.note_id=current_response_obj.id,delete serviceParams.res_name),serviceParams.app_id=zgssearch.getAppIdForCloudApps(connector_id),serviceParams},getDropboxFileOwner:function(){var params=zgssearch.getCurrentResObj(),pkid=params.id,url_obj=params.CONNECTOR_ID,params="action=getFileMembers&pkid="+pkid+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+url_obj,url_obj={url:"/zgssearch/exconnector/getCalloutData",type:"GET"};url_obj.data=params,url_obj.dataType="text",url_obj.success=function(owner_name){var menuEl,current_pkid=JSON.parse(owner_name);current_pkid.response&&(owner_name=current_pkid.response,menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout"),zgssearch.setGSTagElems(menuEl),owner_name.user&&(!(current_pkid=owner_name.user).owner||0<(owner_name=current_pkid.owner).length&&(""!==(owner_name=(current_pkid=owner_name[0]).name||current_pkid.email||"")&&(current_pkid=zgssearch.getCurrentResObj().id,pkid===current_pkid&&(_jQueryGS(menuEl.startedBy).text(zgssearch.I18N.getValue("gs.callout.owned.by")),_jQueryGS(menuEl.owner).text(owner_name),_jQueryGS(menuEl.owner).attr("gstitle",owner_name),_jQueryGS(menuEl.owner).attr("gslabel",zgssearch.I18N.getValue("gs.callout.owned.by.name"))))))),zgssearch.gsdocs.showUserHeaderInfo(menuEl)},zgssearch.network.uri(url_obj)}},zgssearch.ZSCRMFactory=function(){var crm;this.createCRM=function(service_info){switch(service_info.service_name){case zgssearch.GSConstant.CRM:crm=new ZSCrm;break;case zgssearch.GSConstant.SALESFORCE:crm=new ZSSalesforce}crm.service_name=service_info.service_name;var acc_id=service_info.acc_id||null;return crm.account_id="all_crm_mod"!==acc_id?acc_id:null,crm.offset=service_info.offset||0,crm.limit=service_info.limit||0,crm.results_id=service_info.parent_div_id||"",crm.results_area_width=service_info.results_area_width||512,crm.addtional_info=service_info.service_addtional_info||{},crm.service_info=service_info,crm.parentDiv=service_info.parentDiv,crm.cardObj=service_info.cardObj||"",crm.getServiceName=function(){return this.service_name},crm.getAccountId=function(){return null!==this.account_id&&void 0!==this.account_id&&""!==this.account_id?this.account_id:""},crm.getSearchType=function(){return this.getServiceInfo().search_type||""},crm.getRenderModule=function(){return this.getServiceInfo().search_module_name||""},crm.getResults=function(){return this.getServiceInfo().records_info},crm.getOffset=function(){return this.offset},crm.getLimit=function(){return this.limit},crm.getServiceInfo=function(){return this.service_info},crm.getResultsDivId=function(){return this.results_id},crm.getResultsAreaWidth=function(){return this.results_area_width},crm.getAdditionalInfo=function(){return this.addtional_info},crm.getCardObj=function(){return this.cardObj},crm.setCalloutId=function(calloutId){this.calloutId=calloutId},crm.getCalloutId=function(){return this.calloutId},crm.setCurrentResObj=function(){var cardId=this.getCardObj()?this.cardObj.cardId:"";this.currentResObj=cardId?zgssearch.Utils.getResultObjectofType(zgssearch.dbCrdCalloutType,cardId):zgssearch.getCurrentResObj()},crm.getCurrentResObj=function(){return this.currentResObj},crm.setServiceSearchType=function(){var cardDetails;this.serviceSearchType=zgssearch.getSearchType(),this.getCardObj()&&(cardDetails=this.cardObj.cardId,cardDetails=zgssearch.gscardinDb.getOriginalCardId(cardDetails),cardDetails=zgssearch.gsdbUtils.cardIdsVsObject[cardDetails],this.serviceSearchType=cardDetails.service||zgssearch.GSConstant.ALL)},crm.getServiceSearchType=function(){return this.serviceSearchType},crm.addAccountInfo=function(response_results){response_results.service_name=this.getServiceName(),response_results.acc_id=this.getAccountId(),response_results.search_type=this.getSearchType()},crm.resetWidth=function(){this.getOffset()<=1&&zgssearch.Utils.setResultsWidthInfo(this.getServiceName(),this.getAccountId(),{})},crm.render=function(){zgssearch.CrmUtils.parseDisplayFields(this.getServiceInfo());var response_results=this.parse();this.addAccountInfo(response_results),this.resetWidth(),this.append(this.getResultsDivId(),response_results)},crm.setResultsWidth=function(){var service_info={};service_info.service_name=this.getServiceName(),""!==this.getAccountId()&&(service_info.account_id=this.getAccountId()),service_info.results_parent_id=this.getServiceInfo().module_parent_id||this.getResultsDivId(),service_info.total_results_area_width=this.getResultsAreaWidth(),zgssearch.Utils.setResultsWidth(service_info)},crm.parse=function(){var response_results={};response_results.type=this.getCardObj()?this.cardObj.type:"Search";var service_name=this.getServiceName(),offset=this.getOffset(),limit=this.getLimit(),records_info=this.getResults();"all"===this.getSearchType()&&(offset=0);for(var searchType=this.getServiceSearchType(),records_data=[];offset<limit;offset++){var record=records_info[service_name+offset],temp_record_info={};temp_record_info.index=offset,temp_record_info.id=record.Id||record.id;var cardObj=this.getCardObj()?"zgs20_"+this.cardObj.cardId+"_"+this.getAccountId()+this.getRenderModule()+"Results_"+offset:"zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Results_"+offset;temp_record_info.div_id=cardObj,temp_record_info.link=zgssearch.CrmUtils.getRecordLink(record);var module_name=zgssearch.CrmUtils.getModuleName(record);temp_record_info.module_name=module_name,temp_record_info.module_disp_name=this.getModuleDispName(module_name);cardObj=this.getCardObj();temp_record_info.gsAttr=cardObj&&cardObj.gsattr||"searchResultTable",zgssearch.CrmUtils.parseResultViewFields(service_name,module_name,record,temp_record_info),records_data.push(temp_record_info),searchType===zgssearch.GSConstant.ALL&&this.getAccountId()}return response_results.records_data=records_data,response_results},crm.append=function(mod_header_html,results){var module_parent_id=zgssearch.Handlebar_Template.getResultsTemplateName(this.getServiceName()),template_func=search_handlebars.templates[module_parent_id],parent_div_elem=this.parentDiv||_jQueryGS("#"+mod_header_html),module_parent_id=this.getServiceInfo().module_parent_id;(module_parent_id=this.getCardObj()?this.cardObj.cardId+"_"+module_parent_id:module_parent_id)&&parent_div_elem.append(_jQueryGS("<div>",{id:module_parent_id,class:"",style:""})),"all"===this.getSearchType()?(mod_header_html=this.constructModHeader(),_jQueryGS("#"+module_parent_id).html(mod_header_html).append(template_func(results))):parent_div_elem.append(template_func(results))},crm.constructModHeader=function(){var mod_header_info={};return mod_header_info.id="zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Template",mod_header_info.service_name=this.getServiceName(),mod_header_info.mod_name=this.getRenderModule(),mod_header_info.mod_disp_name=this.getModuleDispName(this.getRenderModule()),mod_header_info.acc_id=this.getAccountId(),zgssearch.CrmUtils.constructModHeader(mod_header_info,this.getCardObj())},crm.renderCalloutView=function(cardObj,menuEl,parentDiv){menuEl=this.parseRecordFields(cardObj,menuEl);this.addExtraInfoForRecord(cardObj,menuEl,parentDiv);cardObj=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getServiceName()),cardObj=search_handlebars.templates[cardObj],parentDiv=parentDiv?parentDiv.searchObj.parentElem:"#zgs20_gsSearchResultRight";_jQueryGS(parentDiv).html(cardObj(menuEl));cardObj=this.getCalloutId();_jQueryGS("#"+cardObj).removeClass("zgs19_gsDisplayNone"),_jQueryGS("#"+cardObj).addClass("zgs19_gsDisplayBlock");menuEl=zgssearch.getTargetElem(this.getCalloutId());zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.minpreview).css("display","none");cardObj=this.getCardObj();cardObj.type===zgssearch.dbCrdCalloutType&&(cardObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none")),this.setCrmCalloutEleSize(menuEl)},crm.parseRecordFields=function(module_name,final_record_info){var record_fields=(final_record_info.response||{}).disp_fields||{},final_record_info={};return zgssearch.CrmUtils.parseFieldsForCalloutHeader(this.getServiceName(),module_name,record_fields,final_record_info),zgssearch.CrmUtils.parseFieldsForCalloutFooter(this.getServiceName(),module_name,record_fields,final_record_info),zgssearch.CrmUtils.parseTitleField(module_name,record_fields,final_record_info),zgssearch.CrmUtils.checkTitleFieldEmpty(final_record_info),final_record_info},crm.addExtraInfoForRecord=function(module_name,final_record_info,argObj){final_record_info.service_name=this.getServiceName(),final_record_info.acc_id=this.getAccountId(),final_record_info.record_link=zgssearch.CrmUtils.getRecordLink(this.getCurrentResObj()),final_record_info.module_name=module_name,final_record_info.module_disp_name=this.getModuleDispName(module_name),final_record_info.calloutId=argObj?argObj.searchObj.calloutId:"zgs20_gsCRMCallout",this.setCalloutId(final_record_info.calloutId),zgssearch.CrmUtils.addActionsList(final_record_info)},crm.getModuleDispName=function(module_name){return zgssearch.getFilterObj(this.getServiceName()).modules.data[this.getAccountId()][module_name]},crm.setCrmCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.impData).height(),calloutId=this.getCalloutId(),contentHeight=_jQueryGS("#"+calloutId).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px")},crm.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=this.getCalloutId()||"zgs20_gsCRMCallout",menuEl=zgssearch.getTargetElem(menuEl);zgssearch.setGSTagElems(menuEl),this.setCrmCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},crm.setCurrentResObj(),crm}},function(zgssearch,window){var gscrmaction,_jQueryGS=window._jQueryGS;zgssearch.gscrmaction=(gscrmaction=void 0,(gscrmaction=zgssearch.gscrmaction||{}).crmContacts=gscrmaction.crmContacts||{},gscrmaction.crmContactsInfo=gscrmaction.crmContactsInfo||{count:0,page:1,more_records:!0},gscrmaction.getCRMContactsUserObj=function(){return gscrmaction.crmContacts||{}},gscrmaction.getCRMContactsInfoObj=function(){return gscrmaction.crmContactsInfo||{}},gscrmaction.isCRMContactsExists=function(){return 0<gscrmaction.getCRMContactsInfoObj().count},gscrmaction.fetchCRMUserInfo=function(params){var argParams,userInfoObj=gscrmaction.getCRMContactsInfoObj();userInfoObj.more_records&&userInfoObj.count<1e3&&(argParams={timeout:0,curCount:zgssearch.gsusercontacts.getServerCallCount(),obj:params},params="action=fetchCRMUserInfo&page="+userInfoObj.page+"&orgId="+zgssearch.gscrmresults.getCRMOrganizationId(),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(luInfoObj,status,response){var argObj=response.args||{},response=zgssearch.jsonParse(luInfoObj),luInfoObj=response.hasOwnProperty("info")?response.info:{};gscrmaction.crmContactsInfo.page=luInfoObj.page||1,gscrmaction.crmContactsInfo.more_records=luInfoObj.more_records||!1,gscrmaction.crmContactsInfo.count=userInfoObj.count+(luInfoObj.count||0),response.hasOwnProperty("users")&&(acrmObj=response.users||{},_jQueryGS.extend(gscrmaction.crmContacts,acrmObj));var acrmObj=argObj.obj||{};acrmObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&(gscrmaction.renderInnerEditFieldsUI(acrmObj),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gsaction.updateEditFieldsHeight())}))},gscrmaction.renderInnerEditFieldsUI=function(acrmObj){if(zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),gscrmaction.isCRMContactsExists()){var id,uniqueIds=[],ownerList=gscrmaction.getCRMContactsUserObj(),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:"";for(id in ownerList){var ownerObj=ownerList[id];if(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,acrmObj.type,"")),10<=uniqueIds.length)break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").show(),zgssearch.gsaction.displayEditFieldsUI(acrmObj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{var err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},gscrmaction)}(zgssearch,window),function(zgssearch,window){var gssupportaction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupportaction=(gssupportaction=void 0,(gssupportaction=zgssearch.gssupportaction||{}).fetDeskContactsCount=50,gssupportaction.defDeskContactsCount=200,gssupportaction.supportContacts=gssupportaction.supportContacts||{},gssupportaction.supportContactsCache=gssupportaction.supportContactsCache||{result:[],noresult:[]},gssupportaction.supportStatus=gssupportaction.supportStatus||{},gssupportaction.getSupportContactsObj=function(portalId,deptId){return portalId&&deptId?gssupportaction.supportContacts["agent_"+portalId+"_"+deptId]||{}:gssupportaction.supportContacts||{}},gssupportaction.isSupportDeptAgentExists=function(portalId,deptId){if(portalId&&deptId)return gssupportaction.supportContacts.hasOwnProperty("agent_"+portalId+"_"+deptId)},gssupportaction.getSupportUnAssObj=function(){return{Unassigned:{zuid:"-1",email:"",full_name:zgssearch.getI18NMsg("common.unassigned")}}},gssupportaction.isDeskSearchReqCached=function(query,extraParams){var myCacheResults=gssupportaction.supportContactsCache.result||[],myCacheNoResults=gssupportaction.supportContactsCache.noresult||[],limitParams="per_page="+gssupportaction.fetDeskContactsCount;return!!zgssearch.gsusercontacts.isReqCached(query,myCacheResults,myCacheNoResults,extraParams,limitParams)},gssupportaction.getSupportStatus=function(){return gssupportaction.supportStatus},gssupportaction.setSupportStatusObj=function(portalId,deptId,obj){return portalId&&deptId&&(gssupportaction.supportStatus["status_"+portalId+"_"+deptId]=obj),{}},gssupportaction.getSupportStatusObj=function(portalId,deptId){return portalId&&deptId&&gssupportaction.getSupportStatus()["status_"+portalId+"_"+deptId]||{}},gssupportaction.isSupportDeptStatusExists=function(portalId,deptId){if(portalId&&deptId)return gssupportaction.getSupportStatus().hasOwnProperty("status_"+portalId+"_"+deptId)},gssupportaction.renderStatusOptionUI=function(tarElem){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var isKeyExists,editFieldsHolder,parent,deskObject=_jQueryGS("#zgs20_gsEditFieldsHolder").css("display");null==deskObject&&"none"==deskObject||"statusChange"!=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype")&&zgssearch.hideEditFieldsList(),null==(deskObject=_jQueryGS("#zgs20_gsEditFieldsHolder").css("display"))||"none"===deskObject?(zgssearch.hideEditFieldsList(),parent=zgssearch.gsaction.currSearchType.getCurrentResultObj(),editFieldsHolder=zgssearch.gsaction.currSearchType.getCurrAccId()||parent.accId,isKeyExists=gssupportaction.isSupportDeptStatusExists(editFieldsHolder,parent.DEP_ID),deskObject={curPortalId:editFieldsHolder,curDeptId:parent.DEP_ID,type:"statusChange",tarElem:tarElem},editFieldsHolder=zgssearch.gsaction.getEditFieldsHolder("statusChange","","","",""),parent=zgssearch.gsaction.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),_jQueryGS(parent).append(editFieldsHolder),isKeyExists?gssupportaction.iterStatusOptionElem(deskObject):gssupportaction.addLoaderForDeskStatus(deskObject),_jQueryGS("#zgs20_gsEditFieldsBottom").hide(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.gsaction.displayEditFieldsUI(tarElem,160)):zgssearch.hideEditFieldsList()},gssupportaction.canAllowUserToCloseTicket=function(){var coflag=!1,unusedModData=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.getResultAccountId()||unusedModData.accId,unusedModData=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");return coflag=unusedModData.hasOwnProperty(portalId)?unusedModData[portalId]["1_ct"]||!1:coflag},gssupportaction.iterStatusOptionElem=function(deskObject){var type=deskObject.type||"",err=deskObject.curDeptId||"",portalId=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=deskObject.curPortalId||portalId.accId||"",statusObj=gssupportaction.getSupportStatusObj(portalId,err),err=Object.keys(statusObj).length;if(_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),0<err){for(var sobj in statusObj){sobj=statusObj[sobj];gssupportaction.renderStatusOptionChild(sobj,type)}5<=err&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{err=zgssearch.getI18NMsg("gs.search.callout.desk.status.errorresp");_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err))}},gssupportaction.renderStatusOptionChild=function(obj,type){var index,sid=obj.id,chelem=obj.name;chelem!==_jQueryGS("#zgs20_gsTicketStatus").find(".zgs19_gsTicketStatusTxt").text()&&(index=!0,(index="Closed"==obj.stype?gssupportaction.canAllowUserToCloseTicket():index)&&(index=zgssearch.gsautocomplete.getSuggestIndex(),chelem=_jQueryGS("<div>",{id:"zgs20_gsEditFieldsChild"+index,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:type,oid:sid,index:index}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggChildName",gstitle:chelem,istip:!0}).text(chelem)))),_jQueryGS(chelem).attr("index",index),_jQueryGS("#zgs20_gsEditFieldsFooter").append(chelem)),zgssearch.addEventForEditFieldsQueryBox())},gssupportaction.addLoaderForDeskStatus=function(deskObj){var loadericon=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(loadericon),zgssearch.isEditFieldsLoaderUI=!0,zgssearch.isEditFieldsLoader||(zgssearch.isEditFieldsLoader=!0,gssupportaction.fetchSupportStatus(deskObj))},gssupportaction.fetchSupportStatus=function(deskObj){deskObj=deskObj||{};var portalId,deptId=GSConstant.SUPPORT,curServerCallCount=zgssearch.getFilterObj(deptId);curServerCallCount.hasOwnProperty("accounts")&&curServerCallCount.hasOwnProperty("departments")&&(portalId=deskObj.curPortalId||curServerCallCount.accounts.current,(deptId=deskObj.curDeptId||curServerCallCount.departments.current)&&portalId&&0!=deptId&&(zgssearch.gsusercontacts.setServerCallCount(),curServerCallCount=zgssearch.gsusercontacts.getServerCallCount(),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchDeskStatus&portalId="+portalId+"&deptId="+deptId,{portalId:portalId,deptId:deptId,timeout:0,obj:deskObj,curCount:curServerCallCount},function(response,status,fobj){fobj=fobj.args||{},response=zgssearch.jsonParse(response)||{};if(response.hasOwnProperty("sMap")){for(var sMap=response.sMap||[],agentObj=gssupportaction.getSupportStatusObj(fobj.portalId,fobj.deptId),i=0;i<sMap.length;i++){var stype=sMap[i],id=stype.id,name=stype.name,stype=stype.stype;agentObj[id]={id:id,name:name,stype:stype}}gssupportaction.setSupportStatusObj(fobj.portalId,fobj.deptId,agentObj)}fobj.curCount!=zgssearch.gsusercontacts.getServerCallCount()||"statusChange"==(fobj=fobj.obj||{}).type&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&gssupportaction.iterStatusOptionElem(fobj)})))},gssupportaction.clickActionForStatus=function(params){var resObj,portalId,attrObj=_jQueryGS(params).attr("oid");attrObj&&(resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.gsaction.currSearchType.getCurrAccId()||resObj.accId,(params=gssupportaction.getSupportStatusObj(portalId,resObj.DEP_ID)).hasOwnProperty(attrObj)&&(params=params[attrObj].name,zgssearch.hideEditFieldsList(),zgssearch.showSearchPageLoader(),attrObj={id:attrObj,name:params,type:"statusChange",serviceName:GSConstant.SUPPORT},params="action=updateDeskStatus&id="+resObj.doc_id+"&portalId="+portalId+"&status="+encodeURIComponent(params),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,attrObj,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var aparams,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(aparams=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.callout.desk.status.success"),zgssearch.showbannertip({ty:1,msg:calloutObj}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[aparams.serviceName].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,owner:aparams,updateRecord:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.callout.crm.errorresp2")})})))},gssupportaction.fetchSupportAgentInfo=function(argParams){argParams=argParams||{};var params,portalId=GSConstant.SUPPORT,deptId=zgssearch.getFilterObj(portalId);deptId.hasOwnProperty("accounts")&&deptId.hasOwnProperty("departments")&&(params=argParams.query||"",portalId=argParams.curPortalId||deptId.accounts.current,(deptId=argParams.curDeptId||deptId.departments.current)&&portalId&&0!=deptId&&(zgssearch.gsusercontacts.setServerCallCount(),argParams={portalId:portalId,deptId:deptId,timeout:0,obj:argParams,query:params,curCount:zgssearch.gsusercontacts.getServerCallCount()},params="action=fetchDeskOrgAgents&portalId="+portalId+"&deptId="+deptId+"&query="+params,zgssearch.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(params,status,argObj){var len=0,argObj=argObj.args||{},response=zgssearch.jsonParse(params)||[];if(zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},_jQueryGS.isArray(response)){for(var len=response.length,deskObj="agent_"+argObj.portalId+"_"+argObj.deptId,agentObj=gssupportaction.supportContacts[deskObj]||{},i=0;i<len;i++){var lastName=response[i],id=lastName.id,zuid=lastName.zuid,emailId=lastName.emailId,firstName=lastName.firstName,lastName=lastName.lastName,firstName=firstName?firstName.trim():"",lastName=lastName?" "+lastName.trim():"";agentObj[id]={email:emailId,full_name:firstName+lastName,zuid:zuid}}gssupportaction.supportContacts[deskObj]=agentObj}params=argObj.query,deskObj=argObj.obj||{};params?(params="per_page="+gssupportaction.fetDeskContactsCount+deskObj.extraParams+"&query="+encodeURIComponent(argObj.query),(len>=gssupportaction.fetDeskContactsCount?gssupportaction.supportContactsCache.result:gssupportaction.supportContactsCache.noresult).push(params),argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&zgssearch.gsaction.searchForEditFields()):deskObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&(argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&gssupportaction.renderInnerEditFieldsUI(deskObj),zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gsaction.updateEditFieldsHeight())})))},gssupportaction.renderInnerEditFieldsUI=function(obj){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=resObj.accId||zgssearch.gsaction.currSearchType.getCurrAccId(),unassObj=gssupportaction.isSupportDeptAgentExists(portalId,resObj.DEP_ID);if(_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),unassObj){var id,uniqueIds=[],curOwnerId=zgssearch.gssupport.assigneeId||"",unassObj=gssupportaction.getSupportUnAssObj(),err3=gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},unassObj,err3);for(id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,obj.type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.gsaction.displayEditFieldsUI(obj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},gssupportaction.updateDeskDueDate=function(argparam,dueParam){zgssearch.showSearchPageLoader();var resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=resObj.accId||zgssearch.gsaction.currSearchType.getCurrAccId(),argparam={service:argparam,ticketId:resObj.doc_id,dueDate:dueParam},dueParam="action=updateDeskDueDate&id="+resObj.doc_id+"&portalId="+encodeURIComponent(portalId)+"&dueDate="+encodeURIComponent(dueParam);zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,dueParam,argparam,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var argObj,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(argObj=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.callout.desk.success.duedate_update"),zgssearch.showbannertip({ty:1,msg:calloutObj}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[argObj.service].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,owner:argObj,updateDueDate:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.callout.crm.errorresp2")})})},gssupportaction)}(zgssearch,window),function(zgssearch,window){var gscalendaraction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendaraction=(gscalendaraction=void 0,(gscalendaraction=zgssearch.gscalendaraction||{}).tempAttendeeList=gscalendaraction.tempAttendeeList||[],gscalendaraction.updateEventObj=gscalendaraction.updateEventObj||{},gscalendaraction.actionOnCalendar=function(target){switch(_jQueryGS(target).attr("actionType")){case"editEvent":var actions=new zgssearch.dashboardSearchActions;gscalendaraction.currSearchType=actions.createActionType(target),gscalendaraction.displayCalendarActionDialog();break;case"updateStatus":actions=new zgssearch.dashboardSearchActions;gscalendaraction.currSearchType=actions.createActionType(target),gscalendaraction.updateUserStatus(target);break;case"calendarDateAction":gscalendaraction.loadEventDatePicker(target);break;case"allDaycheck":gscalendaraction.allDayChange();break;case"timezoneAction":gscalendaraction.displayTimeZoneDialog();break;case"timezoneList":gscalendaraction.displayTimeZoneList();break;case"updateTimeZone":gscalendaraction.updateDisplayTimeZoneList(target);break;case"addAttendees":gscalendaraction.addAttendeesToAttendeeList(target);break;case"removeAttendees":gscalendaraction.removeAttendeesfromAttendeeList(target)}},gscalendaraction.displayCalendarActionDialog=function(){var editActionDiv,parentDiv;zgssearch.calendarActionPopUpOpened?(_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","none"),_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.calendarActionPopUpOpened=!1):(0===_jQueryGS(".zgs19_gsCalendarActionDialog").length&&(editActionDiv=_jQueryGS("<div>",{class:"zgs19_gsCalendarActionDialog zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos"})).append(_jQueryGS("<div>",{id:"zgs20_gsCalendarActionPopup",class:"zgs19_gsCalendarActionPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventDetailsHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEditEvtLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(_jQueryGS("<div>",{class:"zgs19_gsEventTitleHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("common.eventtitle")})).append(_jQueryGS("<input>",{id:"zgs20_gsNewEventTitleTxt",class:"zgs19_gsEventTxt",type:"text",placeholder:zgssearch.getI18NMsg("common.eventtitle")}))).append(_jQueryGS("<div>",{class:"zgs19_gsEventDateInfoHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsStartDateInfo",class:"zgs19_gsDateInfo zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"zgs20_gsStartDateLbl",class:"zgs19_gsEventLabel"})).append(_jQueryGS("<div>",{id:"zgs20_gsEventStartDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"startDate"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventStartDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_gsEventStartTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(_jQueryGS("<div>",{id:"zgs20_gsEndDateInfo",class:"zgs19_gsDateInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("common.to")})).append(_jQueryGS("<div>",{id:"zgs20_gsEventEndDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"endDate"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventEndDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_gsEventEndTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(_jQueryGS("<div>",{class:"zgs19_gsTimeZoneInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsTimeZoneTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneAction",gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.timezone")}))).append(_jQueryGS("<div>",{class:"zgs19_gsDeskDurationInfo zgs19_gsMgLf50Px zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.duration")})).append(_jQueryGS("<div>",{class:"zgs19_gsDurationTxtInfo"}).append(_jQueryGS("<input>",{id:"zgs20_gsHoursTxt",class:"zgs19_gsDurationTxt zgs19_gsfl zgs19_gsMgRt5Px",type:"text",maxlength:"2",placeholder:"HH",onkeypress:"zgssearch.checkIsInputNumber(event)"})).append(_jQueryGS("<span>",{text:":"})).append(_jQueryGS("<input>",{id:"zgs20_gsMinsTxt",class:"zgs19_gsDurationTxt zgs19_gsfr zgs19_gsMgLf5Px",type:"text",maxlength:"2",placeholder:"MM",onkeypress:"zgssearch.checkIsInputNumber(event)"})))).append(_jQueryGS("<div>",{class:"zgs19_gsDeskErrorTxt zgs19_gsDisplayNone zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDayTypeHolder zgs19_gsDisplayNone zgs19_gsPdngBtm7Px"}).append(_jQueryGS("<input>",{id:"zgs20_gsDayType",class:"zgs19_gsCurPointer",type:"checkbox",gs:"calendarActions",actionType:"allDaycheck"})).append(_jQueryGS("<span>",{class:"zgs19_gsAlldayTxt",text:zgssearch.getI18NMsg("gs.search.calendar.callout.allDay")}))).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesInfoHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.addAttendees")})).append(_jQueryGS("<input>",{id:"zgs20_gsAttendeeSearchBox",class:"zgs19_gsEventTxt zgs19_gsMgBtm13Px",type:"text",placeholder:zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeEmail")})).append(_jQueryGS("<div>",{id:"zgs20_gsAtdeSugg",class:"zgs19_gsAtdeSuggContainer zgs19_gsDisplayNone zgs19_gsOvfwAuto"})).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.attendees")})).append(_jQueryGS("<div>",{id:"zgs20_gsAttendeeEditList",class:"zgs19_gsAttendeesListHolder"}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalcDialogActions"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave  zgs19_gsCalcSaveMg zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"updateEvent",text:zgssearch.getI18NMsg("gs.settings.application.save")})).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsMg10Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeDialogBox",text:zgssearch.getI18NMsg("common.cancel")})).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"calendarCnfrmActions",datatype:"closeDialogBox"}))))),1===zgssearch.gscomponent.UIType?((parentDiv=_jQueryGS("#zgs20_gsOverlayDialog")).append(editActionDiv),parentDiv.css("display","block")):_jQueryGS("#zgs20_gsHolder").append(editActionDiv),_jQueryGS("#zgs20_gsNewEventTitleTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsHoursTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsMinsTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsAttendeeSearchBox").attr("autocomplete","off")),gscalendaraction.showEditEventDialogBox(),zgssearch.jqueryMouseEvent())},gscalendaraction.showEditEventDialogBox=function(){gscalendaraction.hideServiceSpecificFields(),gscalendaraction.renderEventOldDetails(),_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","block"),_jQueryGS("#zgs20_gsOverlayDialog").css("display","block"),zgssearch.calendarActionPopUpOpened=!0},gscalendaraction.hideServiceSpecificFields=function(){_jQueryGS("#zgs20_gsEndDateInfo").css("display","none"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),_jQueryGS(".zgs19_gsDayTypeHolder").css("display","none"),_jQueryGS("#zgs20_gsDayType").attr("checked",!1),_jQueryGS(".zgs19_gsDeskDurationInfo").css("display","none"),_jQueryGS(".zgs19_gsAttendeesInfoHolder").css("display","none"),_jQueryGS(".zgs19_gsDeskErrorTxt").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").empty(),_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),gscalendaraction.allDayChange(),gscalendaraction.hidedeskErrorMsg()},gscalendaraction.renderEventOldDetails=function(){var response=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj();switch(_jQueryGS("#zgs20_gsNewEventTitleTxt").val(response.Title||""),gscalendaraction.allDay=response.allDay,gscalendaraction.currSearchType.getCurrentResultObj().sId){case"4":gscalendaraction.renderMailCalendarEventDetails(response);break;case"9":gscalendaraction.renderDeskEventDetails(response)}},gscalendaraction.renderMailCalendarEventDetails=function(response){var duration=_jQueryGS(".zgs19_gsCalendarActionPopup");duration.removeClass("zgs19_gsHgt253Px"),1===zgssearch.gscomponent.UIType?duration.removeClass("zgs19_gsCalTp190Pxof50").addClass("zgs19_gsCalTp280Pxof50 zgs19_gsHgt565Px"):0===zgssearch.gscomponent.UIType&&duration.removeClass("zgs19_gsCalTp180Pxof50 zgs19_gsHgt565Px").addClass("zgs19_gsCalTp255Pxof50"),_jQueryGS("#zgs20_gsStartDateLbl").text(zgssearch.getI18NMsg("common.from")),_jQueryGS("#zgs20_gsEndDateInfo").css("display","block"),_jQueryGS(".zgs19_gsDayTypeHolder").css("display","block"),_jQueryGS(".zgs19_gsAttendeesInfoHolder").css("display","block");var dateAndTime=response.dateandtime,hostEmailId="",duration="";gscalendaraction.startValue=hostEmailId=dateAndTime.start||"",gscalendaraction.endvalue=duration=dateAndTime.end||"";hostEmailId=hostEmailId.split("-"),duration=duration.split("-");_jQueryGS("#zgs20_gsEventStartDateTxt").text(hostEmailId[0]||""),_jQueryGS("#zgs20_gsEventStartTimeTxt").text(hostEmailId[1]||"08:00 AM"),_jQueryGS("#zgs20_gsEventEndDateTxt").text(duration[0]||""),_jQueryGS("#zgs20_gsEventEndTimeTxt").text(duration[1]||"08:30 AM");hostEmailId=response.timezone;response.allDay?(duration=response.ETM-zgssearch.DAY_IN_MILLIS-response.STM,gscalendaraction.eventDuration=0<duration?duration:30*zgssearch.MINUTE_IN_MILLIS,_jQueryGS("#zgs20_gsDayType").prop("checked","checked"),gscalendaraction.allDayChange()):(hostEmailId=dateAndTime.timezone,gscalendaraction.eventDuration=response.ETM-response.STM,_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","block")),_jQueryGS(".zgs19_gsTimeZoneTxt").attr("gstitle",hostEmailId),_jQueryGS(".zgs19_gsTimeZoneTxt").text(hostEmailId);hostEmailId=response.Host_Email;if(gscalendaraction.addAttendeeDetails(0,!1,"",response.zuid,response.Host,hostEmailId,null,"zgs20_gsAttendeeEditList",!1),hostEmailId!==GSConstant.cue&&(gscalendaraction.tempAttendeeList[hostEmailId]={eM:hostEmailId}),response.hasOwnProperty("Attendees"))for(var attendeesList=response.Attendees,isGroup=!1,zuid="",name="",emailId="",gId="",i=0;i<attendeesList.length;i++){var attendeeObj={},eachObj=attendeesList[i],key="";eachObj.hasOwnProperty("grpName")?(isGroup=!0,name=eachObj.grpName||"",emailId=zuid="",key=gId=eachObj.id,attendeeObj.gId=gId):(isGroup=!1,zuid=eachObj.zuid||"",name=eachObj.name||"",key=emailId=eachObj.email||"",attendeeObj.eM=emailId),gscalendaraction.addAttendeeDetails(1+i,isGroup,gId,zuid,name,emailId,null,"zgs20_gsAttendeeEditList",!1),gscalendaraction.tempAttendeeList[key]=attendeeObj}2==response.privilege?_jQueryGS(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").addClass("zgs19_gsHideEleme"):_jQueryGS(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").removeClass("zgs19_gsHideEleme")},gscalendaraction.renderDeskEventDetails=function(response){var hrsAndMins=_jQueryGS(".zgs19_gsCalendarActionPopup");_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),hrsAndMins.removeClass("zgs19_gsHgt565Px").addClass("zgs19_gsHgt253Px"),1===zgssearch.gscomponent.UIType?hrsAndMins.removeClass("zgs19_gsCalTp280Pxof50").addClass("zgs19_gsCalTp190Pxof50"):0===zgssearch.gscomponent.UIType&&hrsAndMins.removeClass("zgs19_gsCalTp255Pxof50").addClass("zgs19_gsCalTp180Pxof50"),_jQueryGS("#zgs20_gsStartDateLbl").text(zgssearch.getI18NMsg("gs.search.calendar.callout.startTime")),_jQueryGS(".zgs19_gsDeskDurationInfo").css("display","block"),gscalendaraction.startMillis=response.STM;hrsAndMins=gscalendaraction.convertMillisIntoDateFormat(gscalendaraction.startMillis);gscalendaraction.startValue=hrsAndMins,gscalendaraction.eventDuration=response.ETM-response.STM;hrsAndMins=hrsAndMins.split("-");_jQueryGS("#zgs20_gsEventStartDateTxt").text(hrsAndMins[0]||""),_jQueryGS("#zgs20_gsEventStartTimeTxt").text(hrsAndMins[1]||"");hrsAndMins=zgssearch.convertDurationText(gscalendaraction.eventDuration);_jQueryGS("#zgs20_gsHoursTxt").val(String(hrsAndMins[0]).padStart(2,"0")||0),_jQueryGS("#zgs20_gsMinsTxt").val(String(hrsAndMins[1]).padStart(2,"0")||0)},gscalendaraction.displayTimeZoneDialog=function(){if(zgssearch.timezonePopUp)_jQueryGS(".zgs19_gsTimeZonePopup").css("display","none"),zgssearch.timezonePopUp=!1;else{var tzTxt=_jQueryGS(".zgs19_gsTimeZonePopup");if(0===tzTxt.length){_jQueryGS("#zgs20_gsCalendarActionPopup").append(_jQueryGS("<div>",{id:"zgs20_gsTimeZonePopup",class:"zgs19_gsTimeZonePopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsTZHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzTitle",text:zgssearch.getI18NMsg("gs.search.calendar.callout.eventTimezone")})).append(_jQueryGS("<div>",{class:"zgs19_gsTzListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzTxtHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsTzTxt",class:"zgs19_gsTzTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneList"}).text("")).append(_jQueryGS("<div>",{class:"zgs19_gsTzDropDown zgs18_gsDropDownIcon",gs:"calendarActions",actionType:"timezoneList"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTzList",class:"zgs19_gsTzList zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzSearch"}).append(_jQueryGS("<input>",{class:"zgs19_gsTzInput",type:"text"}))).append(_jQueryGS("<div>",{class:"zgs19_gsTzListContainer"})))).append(_jQueryGS("<div>",{class:"zgs19_gsTZCnfrmHolder zgs19_gsMgTop15Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave zgs19_gsMgRt20Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"okTz",text:zgssearch.getI18NMsg("gs.search.calendar.callout.ok")})).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeTzBox",text:zgssearch.getI18NMsg("common.cancel")})))));for(var TzList=_jQueryGS(".zgs19_gsTzListContainer"),i=0;i<zgssearch.all_timezones.length;i++){var eachTzObj=zgssearch.all_timezones[i],tz="("+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+eachTzObj.tzTS+") "+eachTzObj.tzDN+"( "+eachTzObj.tzId+" )";TzList.append(_jQueryGS("<div>",{id:"zgs20_gsTzItem"+i,class:"zgs19_gsTzItem zgs19_gsOverflow",tzId:eachTzObj.tzId,gs:"calendarActions",actionType:"updateTimeZone",text:tz}))}}else tzTxt.css("display","block");for(var curTzObj,curTzId=_jQueryGS(".zgs19_gsTimeZoneTxt").text(),i=0;i<zgssearch.all_timezones.length;i++)if(curTzId===(curTzObj=zgssearch.all_timezones[i]).tzId){tz="("+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+curTzObj.tzTS+") "+curTzObj.tzDN+"( "+curTzId+" )";break}tzTxt=_jQueryGS("#zgs20_gsTzTxt");tzTxt.attr("tzId",curTzId),tzTxt.text(tz),_jQueryGS("#zgs20_gsTzList").css("display","none"),zgssearch.jqueryMouseEvent(),gscalendaraction.tzList=!1,zgssearch.timezonePopUp=!0}},gscalendaraction.allDayChange=function(){var dateDiv=_jQueryGS(".zgs19_gsEditDateTxt"),timeDiv=_jQueryGS(".zgs19_gsTimeTxt");_jQueryGS("#zgs20_gsDayType").prop("checked")?(timeDiv.css("display","none"),dateDiv.removeClass("zgs19_gsfl").addClass("zgs19_gsFltNone"),_jQueryGS(".zgs19_gsDateInfo").removeClass("zgs19_gsWid37Per").addClass("zgs19_gsWid43Per"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),gscalendaraction.startValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),gscalendaraction.endvalue=_jQueryGS("#zgs20_gsEventEndDateTxt").text(),gscalendaraction.allDay=!0):(dateDiv.removeClass("zgs19_gsFltNone").addClass("zgs19_gsfl"),timeDiv.css("display","block"),_jQueryGS(".zgs19_gsDateInfo").removeClass("zgs19_gsWid43Per").addClass("zgs19_gsWid37Per"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","block"),gscalendaraction.startValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text()+" - "+_jQueryGS("#zgs20_gsEventStartTimeTxt").text(),gscalendaraction.endvalue=_jQueryGS("#zgs20_gsEventEndDateTxt").text()+" - "+_jQueryGS("#zgs20_gsEventEndTimeTxt").text(),gscalendaraction.allDay=!1)},gscalendaraction.userCalendarActions=function(tarElem){switch(_jQueryGS(tarElem).attr("datatype")){case"updateEvent":gscalendaraction.updateCalendarEventDetails();break;case"closeDialogBox":gscalendaraction.hideEditEventDialogBox(),gscalendaraction.currSearchType={};break;case"okTz":gscalendaraction.updateTimeZoneValue();break;case"closeTzBox":gscalendaraction.hideTimeZoneDialogBox()}},gscalendaraction.displayTimeZoneList=function(){var tzList=_jQueryGS("#zgs20_gsTzList"),tzInput=_jQueryGS(".zgs19_gsTzInput");gscalendaraction.tzList?(tzList.css("display","none"),gscalendaraction.tzList=!1):(tzList.css("display","block"),tzInput.focus(),gscalendaraction.tzList=!0)},gscalendaraction.updateDisplayTimeZoneList=function(tzDiv){var text=tzDiv.textContent,tzId=tzDiv.getAttribute("tzId"),tzDiv=_jQueryGS("#zgs20_gsTzTxt");tzDiv.attr("tzId",tzId),tzDiv.text(text),_jQueryGS(".zgs19_gsTzInput").val(""),_jQueryGS(".zgs19_gsTzItem").css("display","block"),gscalendaraction.displayTimeZoneList()},gscalendaraction.updateTimeZoneValue=function(){var tzId=_jQueryGS("#zgs20_gsTzTxt").attr("tzId"),tzDiv=_jQueryGS(".zgs19_gsTimeZoneTxt");tzDiv.text(tzId),tzDiv.attr("gstitle",tzId),gscalendaraction.hideTimeZoneDialogBox()},gscalendaraction.loadEventDatePicker=function(parentDiv){var isAllDay=gscalendaraction.allDay,dateType=_jQueryGS(parentDiv).attr("dateType"),dateValue="",parentDiv="";"startDate"===dateType?(dateValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),isAllDay||(dateValue+="-"+_jQueryGS("#zgs20_gsEventStartTimeTxt").text()),parentDiv="zgs20_gsEventStartDate"):"endDate"===dateType&&(dateValue=_jQueryGS("#zgs20_gsEventEndDateTxt").text(),isAllDay||(dateValue+="-"+_jQueryGS("#zgs20_gsEventEndTimeTxt").text()),parentDiv="zgs20_gsEventEndDate"),zgssearch.loadDatePicker(zgssearch.handleCalendarDatePickerElem.bind(null,parentDiv,isAllDay,dateValue))},gscalendaraction.updateDatePickerValue=function(dateMillis,startArr){var targetId,dateValue,endArr;startArr.fromUI&&(targetId=dateMillis.id,dateValue=startArr.valueString,dateMillis=startArr.value.getTime(),"zgs20_gsEventStartDate"===targetId?(gscalendaraction.startMillis=dateMillis,gscalendaraction.startValue=dateValue,gscalendaraction.endMillis=dateMillis+gscalendaraction.eventDuration,endArr=gscalendaraction.convertMillisIntoDateFormat(gscalendaraction.endMillis),gscalendaraction.endvalue=endArr,startArr=dateValue.split("-"),endArr=endArr.split("-"),_jQueryGS("#zgs20_gsEventStartDateTxt").text(startArr[0]),_jQueryGS("#zgs20_gsEventEndDateTxt").text(endArr[0]),gscalendaraction.allDay||(_jQueryGS("#zgs20_gsEventStartTimeTxt").text(startArr[1]),_jQueryGS("#zgs20_gsEventEndTimeTxt").text(endArr[1]))):"zgs20_gsEventEndDate"===targetId&&(gscalendaraction.endMillis=dateMillis,endArr=(gscalendaraction.endvalue=dateValue).split("-"),_jQueryGS("#zgs20_gsEventEndDateTxt").text(endArr[0]),gscalendaraction.allDay||_jQueryGS("#zgs20_gsEventEndTimeTxt").text(endArr[1]),gscalendaraction.eventDuration=gscalendaraction.endMillis-gscalendaraction.startMillis))},gscalendaraction.addAttendeeDetails=function(i,isGroup,gId,zuid,name,attendeeDiv,photoURL,attendeeListDiv,isAttendeeSuggestion){var attendeeId,img,groupDiv="",emailDiv="",imgDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeImgHolder zgs19_gsAttendeesPhoto"});"zgs20_gsAttendeeEditList"===attendeeListDiv?(attendeeId=attendeeDiv,isGroup&&(groupDiv="zgs19_gsAtdeGrpName",attendeeId=gId),""===name&&(emailDiv="zgs19_gsAtdeEmail"),img=gscalendaraction.renderAttendeeImg(isGroup,zuid),imgDiv=imgDiv.append(img)):(img=_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer}),imgDiv=imgDiv.append(img),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsResultsUniIcons zgs19_gsAttendeesImg zgs19_gsResNoUserPhoto",img));attendeeDiv=_jQueryGS("<div>",{id:"zgs20_gsAttendeeContainer"+i,class:"zgs19_gsAttendeeContainer",aId:attendeeId}).append(imgDiv).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeName zgs19_gsOverflow "+groupDiv}).text(name)).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeEmail zgs19_gsOverflow "+emailDiv}).text(attendeeDiv)));zuid!==zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj().zuid&&"zgs20_gsAttendeeEditList"===attendeeListDiv&&attendeeDiv.append(gscalendaraction.addAttendeeCloseIcon()),isAttendeeSuggestion?_jQueryGS("#"+attendeeListDiv).append(attendeeDiv):_jQueryGS("#"+attendeeListDiv).prepend(attendeeDiv),zgssearch.jqueryMouseEvent()},gscalendaraction.renderAttendeeImg=function(isGroup,photoURL){var iconHolder;return isGroup?iconHolder=_jQueryGS("<span>",{class:" zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon"}):""!==photoURL&&"-1"!==photoURL&&void 0!==photoURL?(iconHolder=_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer}),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",iconHolder)):iconHolder=_jQueryGS("<img>",{class:"zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",src:zgssearch.gsspacer}),iconHolder},gscalendaraction.updateSearchQueryForCalendar=function(attendeesDiv){zgssearch.ContactsSearchType="calendarAttendees";var attendeeArr=zgssearch.gsautocomplete.contactssearch("users","@"+attendeesDiv);0<attendeeArr.length?((attendeesDiv=_jQueryGS("#zgs20_gsAtdeSugg")).html(""),gscalendaraction.renderAttendeeSuggestion(attendeeArr),attendeesDiv.css("display","block"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","none"),gscalendaraction.AttendeeSuggestion=!0):gscalendaraction.hideAttendeeSuggestion()},gscalendaraction.renderAttendeeSuggestion=function(responseObj){for(var count=0,i=0;i<responseObj.length;i++){var photoURL=responseObj[i][0],email=zgssearch.gsautocomplete.get("users"),name=zgssearch.gsusercontacts.getProximityContactsObject(),userObj=zgssearch.gsusercontacts.getQueriedProxContactsObject(),zuid=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=_jQueryGS.extend({},userObj,zuid,name,email);gscalendaraction.tempAttendeeList.hasOwnProperty(photoURL)||userObj.hasOwnProperty(photoURL)&&(zuid=userObj[photoURL].ZUID,name=zgssearch.replaceHTMLEntity(userObj[photoURL].DNAME),email=zgssearch.replaceHTMLEntity(userObj[photoURL].EMAILID),photoURL=userObj[photoURL].PURL||(zuid&&"-1"!==zuid?zgssearch.getThumbPhotoURL(zuid):""),zuid!==GSConstant.cuz&&(gscalendaraction.addAttendeeDetails(count,!1,"",zuid,name,email,photoURL,"zgs20_gsAtdeSugg",!0),_jQueryGS("#zgs20_gsAttendeeContainer"+count).attr("gs","calendarActions"),_jQueryGS("#zgs20_gsAttendeeContainer"+count).attr("actionType","addAttendees"),count++))}},gscalendaraction.addAttendeesToAttendeeList=function(attendeeDiv){var email=_jQueryGS(attendeeDiv).find(".zgs19_gsAttendeeEmail").text(),attendeeDiv=_jQueryGS(attendeeDiv);attendeeDiv.removeAttr("gs actionType"),attendeeDiv.attr("aId",email),attendeeDiv.append(gscalendaraction.addAttendeeCloseIcon()),_jQueryGS("#zgs20_gsAttendeeEditList").prepend(attendeeDiv),gscalendaraction.tempAttendeeList[email]={eM:email},_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),_jQueryGS("#zgs20_gsAttendeeSearchBox").focus(),gscalendaraction.hideAttendeeSuggestion()},gscalendaraction.removeAttendeesfromAttendeeList=function(aId){aId=_jQueryGS(aId).parent();_jQueryGS(aId).remove();aId=aId.attr("aId");gscalendaraction.tempAttendeeList.hasOwnProperty(aId)&&delete gscalendaraction.tempAttendeeList[aId]},gscalendaraction.addAttendeeCloseIcon=function(){return _jQueryGS("<div>",{class:"zgs19_gsAttendeeClose zgs19_gsSSCloseIcon zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsVisbHdn",gs:"calendarActions",actionType:"removeAttendees"})},gscalendaraction.convertMillisIntoDateFormat=function(min){var dateObj=new Date(min),date=dateObj.getDate();date<10&&(date="0"+date);var month=dateObj.getMonth()+1;month<10&&(month="0"+month);var format="AM",hour=dateObj.getHours(),min=dateObj.getMinutes();return 11<hour&&(format="PM"),12<hour&&(hour-=12),0==hour&&(hour=12),min<10&&(min="0"+min),date+"/"+month+"/"+dateObj.getFullYear()+" - "+hour+":"+min+" "+format},gscalendaraction.updateUserStatus=function(userEmail){var dataType=_jQueryGS(userEmail).attr("datatype"),params=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),eventObj={serviceName:zgssearch.getCalloutSearchType()},userEmail=responseObj.userStatus.email,statusData={email:encodeURIComponent(userEmail),hostMail:encodeURIComponent(responseObj.Host_Email)},params="action=updateAttendeeStatus&eventId="+params.eId+"&calendarId="+params.cId;switch(dataType){case"yes":statusData.status="ACCEPTED";break;case"no":statusData.status="DECLINED";break;case"maybe":statusData.status="TENTATIVE"}params+="&statusData="+JSON.stringify(statusData),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,eventObj,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var aparams,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(aparams=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.calendar.callout.status.success.update"),zgssearch.showbannertip({ty:1,msg:calloutObj}),zgssearch.showCalloutLoader(),nresObj=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[zgssearch.GSConstant.CALENDAR].callout,calloutObj=zgssearch.gscalendaraction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,userStatus:aparams,updateRecord:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.status.updateError")})})},gscalendaraction.updateCalendarEventDetails=function(){gscalendaraction.isEventUpdated=!1;var resObj=gscalendaraction.currSearchType.getCurrentResultObj(),responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),serId=resObj.sId,eventObj=_jQueryGS("#zgs20_gsNewEventTitleTxt").val().trim();if(""!=eventObj){switch(responseObj.Title!==eventObj&&(eventObj=zgssearch.replSplChars(eventObj),gscalendaraction.updateEventObj.title=encodeURIComponent(eventObj),gscalendaraction.isEventUpdated=!0),serId){case"4":gscalendaraction.updateEventObj.etag=responseObj.etag,gscalendaraction.updateEventObj.start=gscalendaraction.startValue,gscalendaraction.updateEventObj.end=gscalendaraction.endvalue,gscalendaraction.allDay||(gscalendaraction.updateEventObj.timezone=encodeURIComponent(_jQueryGS(".zgs19_gsTimeZoneTxt").text())),gscalendaraction.checkCalendarInfoUpdateOrNot();break;case"9":if(gscalendaraction.checkDeskDurationRange())return;gscalendaraction.checkDeskDateAndTimeUpdateOrNot()}if(gscalendaraction.isEventUpdated){var params="action=updateCalendarEventDetails&sId="+serId+"&eventId="+resObj.eId,eventObj={serviceName:zgssearch.getCalloutSearchType()};switch(serId){case"4":params+="&calendarId="+resObj.cId,gscalendaraction.addCalendarEventOldDetails();break;case"9":params+="&account_id="+resObj.zsoid}params+="&eventData="+JSON.stringify(gscalendaraction.updateEventObj),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,eventObj,function(nresObj,status,xhr){zgssearch.hideSearchPageLoader();var response,nscallout,calloutObj=zgssearch.jsonParse(nresObj.response),ncount=calloutObj&&calloutObj.hasOwnProperty("code")?calloutObj.code:"";gscalendaraction.hideEditEventDialogBox(),"SUCCESS"==ncount?(nscallout=zgssearch.getI18NMsg("gs.search.calendar.callout.event.success.update"),zgssearch.showbannertip({ty:1,msg:nscallout}),response=zgssearch.jsonParse(calloutObj.eventData),"9"==serId&&(response=gscalendaraction.getDeskUpdatedValue(responseObj,response)),zgssearch.showCalloutLoader(),nresObj=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[zgssearch.GSConstant.CALENDAR].callout,calloutObj=zgssearch.gscalendaraction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,updateRecord:!0,searchObj:calloutObj}),zgssearch.gscalendaraction.currSearchType.setCurrentResponseObj(response)):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.event.updateError")})})}else gscalendaraction.hideEditEventDialogBox()}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.eventTitleError")})},gscalendaraction.getDeskUpdatedValue=function(oldResponse,newResponse){return newResponse.zuid=oldResponse.zuid,newResponse.Host=oldResponse.Host,newResponse.Host_Email=oldResponse.Host_Email,newResponse.Contact_Email=oldResponse.Contact_Email,oldResponse.hasOwnProperty("Ticket_Subject")&&(newResponse.Ticket_Subject=oldResponse.Ticket_Subject),newResponse},gscalendaraction.checkCalendarInfoUpdateOrNot=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),dateAndTimeObj=responseObj.dateandtime,oldTimezone=dateAndTimeObj.timezone||responseObj.timezone,newTimezone=_jQueryGS(".zgs19_gsTimeZoneTxt").text();dateAndTimeObj.start===gscalendaraction.startValue&&dateAndTimeObj.end===gscalendaraction.endvalue&&responseObj.allDay===gscalendaraction.allDay&&oldTimezone===newTimezone||(gscalendaraction.isEventUpdated=!0),gscalendaraction.checkAttendeeArrayUpdatedOrNot()&&(0<Object.keys(gscalendaraction.tempAttendeeList).length&&(gscalendaraction.updateEventObj.attendees=gscalendaraction.formatEventAttendeesObj(gscalendaraction.tempAttendeeList)),gscalendaraction.isEventUpdated=!0)},gscalendaraction.checkAttendeeArrayUpdatedOrNot=function(){for(var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),oldAttendeeObj=responseObj.Attendees||"",newAttendeeObj=gscalendaraction.tempAttendeeList,newLength=Object.keys(newAttendeeObj).length,newLength=newAttendeeObj.hasOwnProperty(responseObj.Host_Email)?--newLength:newLength,isChanged=!1,i=0;i<oldAttendeeObj.length;i++){var newObj=oldAttendeeObj[i],checkId="",keyName="",keyName=newObj.hasOwnProperty("email")?(checkId=newObj.email,"eM"):(checkId=newObj.id,"gId");newAttendeeObj.hasOwnProperty(checkId)||((newObj={})[keyName]=checkId,newObj.del=!0,newAttendeeObj[checkId]=newObj,isChanged=!0)}return isChanged||oldAttendeeObj.length!==newLength},gscalendaraction.checkDeskDurationRange=function(){var mins=_jQueryGS("#zgs20_gsMinsTxt").val(),hours=_jQueryGS("#zgs20_gsHoursTxt").val(),curMillis=(new Date).getTime();return 60<=mins?(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.minutesError")),!0):24<=hours?(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.hoursError")),!0):gscalendaraction.startMillis<=curMillis&&(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.dateError")),!0)},gscalendaraction.checkDeskDateAndTimeUpdateOrNot=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),curEvtDuration=gscalendaraction.getCurEventDuration();responseObj.STM===gscalendaraction.startMillis&&gscalendaraction.eventDuration===curEvtDuration||(gscalendaraction.updateEventObj.start=gscalendaraction.startValue,gscalendaraction.updateEventObj.duration=curEvtDuration/zgssearch.SECOND_IN_MILLIS,gscalendaraction.isEventUpdated=!0)},gscalendaraction.addCalendarEventOldDetails=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj();!gscalendaraction.updateEventObj.hasOwnProperty("attendees")&&0<Object.keys(gscalendaraction.tempAttendeeList).length&&responseObj.hasOwnProperty("Attendees")&&(gscalendaraction.updateEventObj.attendees=gscalendaraction.formatEventAttendeesObj(gscalendaraction.tempAttendeeList))},gscalendaraction.formatEventAttendeesObj=function(attendeesListObj){var key,finalAttendeesObj=[];for(key in attendeesListObj){var eachObj=attendeesListObj[key],tempObj={};eachObj.hasOwnProperty("del")&&(tempObj.deleted=!0),eachObj.hasOwnProperty("eM")?tempObj.email=encodeURIComponent(eachObj.eM):eachObj.hasOwnProperty("gId")&&(tempObj.groupId=eachObj.gId),finalAttendeesObj.push(tempObj)}return finalAttendeesObj},gscalendaraction.getCurEventDuration=function(){var hours=_jQueryGS("#zgs20_gsHoursTxt").val(),mins=_jQueryGS("#zgs20_gsMinsTxt").val();return hours*zgssearch.HOURS_IN_MILLIS+mins*zgssearch.MINUTE_IN_MILLIS},gscalendaraction.hideEditEventDialogBox=function(){gscalendaraction.tempAttendeeList=[],gscalendaraction.updateEventObj={},gscalendaraction.hideTimeZoneDialogBox(),gscalendaraction.hideServiceSpecificFields(),_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","none"),_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.calendarActionPopUpOpened=!1},gscalendaraction.hideTimeZoneDialogBox=function(){gscalendaraction.displayTimeZoneList(),_jQueryGS("#zgs20_gsTzList").css("display","none"),zgssearch.gscalendaraction.tzList=!1,_jQueryGS(".zgs19_gsTimeZonePopup").css("display","none"),zgssearch.timezonePopUp=!1},gscalendaraction.hideAttendeeSuggestion=function(){_jQueryGS("#zgs20_gsAtdeSugg").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","block"),gscalendaraction.AttendeeSuggestion=!1},gscalendaraction.showDeskErrorMsg=function(msgText){var errorMsg=_jQueryGS(".zgs19_gsDeskErrorTxt");_jQueryGS(".zgs19_gsEventDateInfoHolder").addClass("zgs19_gsHgt80Px"),_jQueryGS(".zgs19_gsCalendarActionPopup").addClass("zgs19_gsHgt268Px"),errorMsg.text(msgText),errorMsg.css("display","block")},gscalendaraction.hidedeskErrorMsg=function(){_jQueryGS(".zgs19_gsEventDateInfoHolder").removeClass("zgs19_gsHgt80Px"),_jQueryGS(".zgs19_gsCalendarActionPopup").removeClass("zgs19_gsHgt268Px"),_jQueryGS(".zgs19_gsDeskErrorTxt").css("display","none")},gscalendaraction)}(zgssearch,window),function(zgssearch,window){var gshistory,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gshistory=(gshistory=void 0,(gshistory=zgssearch.gshistory||{}).isURLParamsHandled=gshistory.isURLParamsHandled||!1,gshistory.getSearchParams=function(){for(var sURLVariables=location.search.substring(1).split("&"),paramVsValues={},i=0;i<sURLVariables.length;i++){var paramValue=sURLVariables[i].split("="),paramName=paramValue[0],paramValue=paramValue[1];paramVsValues[paramName]=paramValue}return paramVsValues},gshistory.handleURLSearch=function(){if(1===gscomponent.UIType&&!gshistory.isURLParamsHandled){gshistory.isURLParamsHandled=!0;try{var slist,paramVsValues=gshistory.getSearchParams(),query=paramVsValues.hasOwnProperty("q")?paramVsValues.q:"",service=paramVsValues.hasOwnProperty("s")?paramVsValues.s:"";zgssearch.isQueryValid(service)&&(service=decodeURIComponent(service),service=gshistory.getProperServiceName(service),slist=zgssearch.getServiceList("serviceList")||[],zgssearch.isArrayContain(service,slist)?(zgssearch.setSearchType(service),zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.displayDefaultPage(!1)):zgssearch.setSearchType(GSConstant.ALL)),zgssearch.setClearRenderedFiltersFlag(!0),zgssearch.isQueryValid(query)?(query=decodeURIComponent(query),service=zgssearch.isQueryValid(service)?service:GSConstant.ALL,document.getElementById("zgs20_gsQueryBox").value=query,document.getElementById("zgs20_gsQueryDiv").innerText=query,zgssearch.queryOrigin=2,gshistory.docommonURLSearch(),zgssearch.handleUserQuery()):zgssearch.isServiceHasEmptySearch(service)&&(gshistory.docommonURLSearch(),zgssearch.handleEmptySearchQry(service)),zgssearch.handleSearchCloseIcon()}catch(ex){zgssearch.throwClientError("Error in handleURLSearch",ex)}}},gshistory.docommonURLSearch=function(){zgssearch.isURLParamsSearch=!0,zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.displayDefaultPage(!1),zgssearch.showSearchPageLoader()},gshistory.getProperServiceName=function(service){for(var serviceList=zgssearch.getServiceList("serviceList"),slist=0<serviceList.length?serviceList:Object.keys(zgssearch.mappedServiceList),mlist=zgssearch.getMappedServiceList()||[],i=0;i<slist.length;i++){var ser=slist[i];if(mlist.hasOwnProperty(ser))if((mlist[ser].api_url_service_name||"").toLowerCase()==service.toLowerCase()){service=ser;break}}return service},gshistory.updateSearchURLParams=function(search_type,slist){var mapObj,appMetaEle,existingContent,newContent;gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&gscomponent.hasOwnProperty("queryChange")&&(zgssearch.isQueryValid(search_type)||zgssearch.isQueryValid(slist))&&(mapObj=zgssearch.getMappedServiceList()[search_type])&&(appMetaEle=mapObj.api_url_service_name||"",newContent=slist&&slist.trim(),zgssearch.gscomponent.queryChange(appMetaEle.toLowerCase(),newContent)),1===gscomponent.UIType&&void 0!==history.pushState&&(existingContent=window.location.href.split("?")[0]||"",newContent=window.location.pathname,newContent=(existingContent=zgssearch.includes("/dashboards",newContent)||zgssearch.includes("/cards",newContent)||"/settings"==newContent?window.location.origin+"/searchhome":existingContent)+"?",zgssearch.isQueryValid(newContent)&&(existingContent=newContent,zgssearch.isQueryValid(slist)&&(existingContent+="q="+slist),newContent=existingContent,zgssearch.isQueryValid(search_type)&&(slist=zgssearch.getServiceList("serviceList")||[],zgssearch.isArrayContain(search_type,slist)&&(existingContent+="&s="+(appMetaEle=(mapObj=zgssearch.getMappedServiceList()[search_type]).api_url_service_name||"").toLowerCase(),newContent+="&s="+search_type)),appMetaEle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),history.pushState({id:"zsearch",title:appMetaEle,service:search_type,url:existingContent},appMetaEle,existingContent),(appMetaEle=document.querySelector('meta[name*="apple-itunes-app"]'))&&(newContent=(existingContent=appMetaEle.getAttribute("content")).slice(0,existingContent.lastIndexOf("app-argument"))+"app-argument="+newContent,appMetaEle.setAttribute("content",newContent))))},gshistory.pushStateOfAView=function(viewPageObj){var targetURL,stateObj;1===gscomponent.UIType&&(stateObj=void 0!==history.state?history.state:{id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"},targetURL=window.location.origin+viewPageObj.url,stateObj={id:viewPageObj.id,title:viewPageObj.title,url:targetURL,previousState:stateObj},history.state&&targetURL==history.state.url||history.pushState(stateObj,viewPageObj.title,targetURL))},gshistory.pushDashboardsState=function(pathname,hash){var prevState,targetURL;1===gscomponent.UIType?(prevState=void 0!==history.state?history.state:{id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"},targetURL=window.location.origin+pathname+hash,history.state&&targetURL==history.state.url||history.pushState({id:"dashboards",title:"Dashboards Page",url:targetURL,previousState:prevState},"Dashboards Page",targetURL)):zgssearch.gscomponent.hasOwnProperty("isServiceSuite")&&zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.queryChange("dashboards/"+pathname+hash)},gshistory.pushCardsState=function(pathname,hash){var prevState,targetURL;1===gscomponent.UIType?(prevState=void 0!==history.state?history.state:{id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"},targetURL=window.location.origin+pathname+hash,history.state&&targetURL==history.state.url||history.pushState({id:"cards",title:"Cards Page",url:targetURL,previousState:prevState},"Cards Page",targetURL)):zgssearch.gscomponent.hasOwnProperty("isServiceSuite")&&zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.queryChange("cards/"+pathname+hash)},1===gscomponent.UIType&&(window.removeEventListener("popstate",gshistory.handlePopStateEvent,!0),gshistory.handlePopStateEvent=function(){var stateObj,targetURL,isCurrentStateDashboard,isCurrentStateCards;void 0!==history.state&&(stateObj=history.state||{},targetURL=window.location.href||"",isCurrentStateDashboard=zgssearch.includes("/dashboards",window.location.pathname),isCurrentStateCards=zgssearch.includes("/cards",window.location.pathname),stateObj.hasOwnProperty("url")&&(targetURL=stateObj.url,history.replaceState(stateObj,stateObj.title,stateObj.url),zgssearch.isDashboardEnabled&&isCurrentStateDashboard&&zgssearch.dashboard.Hash.render(),zgssearch.isSavedSearchEnabled&&isCurrentStateCards&&zgssearch.cardHash.render()),!targetURL||isCurrentStateDashboard||isCurrentStateCards||setTimeout(function(){window.location.replace(targetURL)},0))},window.addEventListener("popstate",gshistory.handlePopStateEvent,!0)),gshistory)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.getBannerClass=function(){return["background-color: #ededed; border-color: #c7c6c5;","background-color: #e6f3fb; border-color: #70b2db;","background-color: #f8f0c9; border-color: #d5c260;","background-color: #f6dede; border-color: #ec9789;"]},zgssearch.getBannerIconClass=function(){return["zgs18_gsInfoIcon","zgs18_gsSuccessIcon","zgs18_gsactionInfoIcon","zgs18_gsactionErrorIcon"]},zgssearch.renderBanner=function(textWidth,elementObj){var req_msg=textWidth.msg,bannerElem=textWidth.ty||0,req_class=zgssearch.getBannerClass()[bannerElem],bannerTipText=zgssearch.getBannerIconClass()[bannerElem],topValue=zgssearch.getTargetElem(elementObj.parentClass),bannertipIcon=topValue.getBoundingClientRect().width-70,bannerWidth=zgssearch.getWidthOfText(req_msg,300)+50,left=(bannertipIcon-bannerWidth)/2,textWidth=bannerWidth-30,bannerElem=_jQueryGS(elementObj.bannerClass),bannertipIcon=bannerElem.find(elementObj.bannerIconClass);bannertipIcon.removeClass("zgs18_gsInfoIcon zgs18_gsSuccessIcon zgs18_gsactionInfoIcon zgs18_gsactionErrorIcon"),bannertipIcon.addClass(bannerTipText);bannerTipText=bannerElem.find(elementObj.bannerTextClass);bannerTipText.css("maxWidth","500px"),bannerTipText.text(req_msg),300<textWidth?bannerTipText.hasClass("zgs19_gsfl")&&bannerTipText.removeClass("zgs19_gsfl"):bannerTipText.hasClass("zgs19_gsfl")||bannerTipText.addClass("zgs19_gsfl"),bannerTipText.addClass("zgs19_gsWtSpNormal");topValue=topValue.offsetTop;bannerElem.stop(!0).attr("style",req_class).css({maxWidth:bannerWidth,left:left,opacity:0,top:topValue}).show().animate({opacity:1},500,function(){_jQueryGS(elementObj.bannerClass).stop(!0).animate({opacity:1},3e3,function(){zgssearch.hidebanner(elementObj.bannerClass)})})},zgssearch.hidebanner=function(bannerElem){bannerElem=_jQueryGS(bannerElem);"none"!=bannerElem.css("display")&&bannerElem.css("display","none")},zgssearch.showbannertip=function(obj){zgssearch.renderBanner(obj,{parentClass:"zgs20_gsSearchResultsArea",bannerClass:"#zgs20_gsbannertip",bannerIconClass:"#zgs20_gsbannertipicon",bannerTextClass:"#zgs20_gsbannertiptext"})},zgssearch.showTopbannertip=function(obj){1===zgssearch.gscomponent.UIType?zgssearch.renderBanner(obj,{parentClass:"zgs20_zohosearchWrapper",bannerClass:"#zgs20_gsTopbannertip",bannerIconClass:"#zgs20_gsTopbannertipicon",bannerTextClass:"#zgs20_gsTopbannertiptext"}):zgssearch.showbannertip(obj)}}(zgssearch,window),function(zgssearch,toolTipMountId){var _jQueryGS=toolTipMountId._jQueryGS,toolTipMountId=(zgssearch.gscomponent||{}).getToolTipMountId(),target=zgssearch.getTargetElem(toolTipMountId),tipMouseObj={pageX:0,pageY:0,timer:null,event:null};zgssearch.clearTipMouseInterval=function(){clearInterval(tipMouseObj.timer),tipMouseObj={pageX:0,pageY:0,timer:null,event:null}},_jQueryGS("#zgs20_gstootltip").remove(),0==_jQueryGS("#zgs20_gstootltip").length&&_jQueryGS("#"+toolTipMountId).append(_jQueryGS("<div>",{id:"zgs20_gstootltip",class:"zgs19_gstootltip zgs19_gsTipBoxShadow zgs19_gsBorderBox zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gsBorderBox"}))),_jQueryGS(target).off("mousemove").on("mousemove",function(event){zgssearch.setTooltipTimer(event)}),_jQueryGS(target).off("mouseout").on("mouseout",function(){zgssearch.hidetooltip()}),zgssearch.clearTooltip=function(){zgssearch.hidetooltip(),zgssearch.clearTipMouseInterval()},zgssearch.setTooltipTimer=function(event){null!=tipMouseObj.event&&tipMouseObj.event.target!=event.target&&zgssearch.clearTipMouseInterval(),tipMouseObj.event=event,null==tipMouseObj.timer&&(tipMouseObj.pageX=event.pageX,tipMouseObj.pageY=event.pageY,tipMouseObj.timer=setInterval(function(){var tevent=tipMouseObj.event;tipMouseObj.pageX===tevent.pageX&&tipMouseObj.pageY===tevent.pageY?(clearInterval(tipMouseObj.timer),zgssearch.showtooltip(tevent)):(tipMouseObj.pageX=tevent.pageX,tipMouseObj.pageY=tevent.pageY)},250))},zgssearch.getViewableContentWidth=function(hoveredElemParentW){var hoveredElemW=_jQueryGS(hoveredElemParentW).width(),hoveredElemParentW=_jQueryGS(hoveredElemParentW).parent().width();return hoveredElemW<hoveredElemParentW?hoveredElemW:hoveredElemParentW},zgssearch.showtooltip=function(tooltipMountLeft){var leftArrow,left,top,tooltipMountRect,rightTallyW,rightAvailableW,toolHeight,tooltipMountWidth=tooltipMountLeft.target,serviceListW=_jQueryGS(tooltipMountWidth).attr("gstitle")||"",hoveredElemRectTop=_jQueryGS(tooltipMountWidth).attr("gslabel")||"",isDownArrow=_jQueryGS(tooltipMountWidth).attr("gsextratitle")||"",tipHalfW=_jQueryGS(tooltipMountWidth).attr("gsextralabel")||"";(serviceListW||isDownArrow)&&(_jQueryGS(".zgs19_gstoolHold").remove(),rightAvailableW=top=0,serviceListW&&(top=zgssearch.renderToolTip(hoveredElemRectTop,serviceListW,"zgs20_gstoollabel","zgs20_gstooltext")),left=(rightAvailableW=isDownArrow?zgssearch.renderToolTip(tipHalfW,isDownArrow,"zgs20_gsextratoollabel","zgs20_gsextratooltext"):rightAvailableW)<top?top:rightAvailableW,_jQueryGS("#zgs20_gstootltip").css("maxWidth",Math.ceil(left)),rightTallyW=tooltipMountRect=toolHeight=0,toolHeight=zgssearch.getWMSBarHeight(),0<(leftArrow=target.getBoundingClientRect().top)&&(tooltipMountRect=leftArrow),0<(hoveredElemRectTop=target.getBoundingClientRect().left)&&(rightTallyW=hoveredElemRectTop),serviceListW=zgssearch.isMobViewport()?0:zgssearch.getLHSServicePaneWidth(),tipHalfW=tooltipMountWidth.getBoundingClientRect(),isDownArrow="true"===(_jQueryGS(tooltipMountWidth).attr("istip")||"")?zgssearch.getViewableContentWidth(tooltipMountWidth):tipHalfW.width,(_jQueryGS(tooltipMountWidth).attr("isParentTip")||"")&&(isDownArrow=(tipHalfW=(tooltipMountWidth=zgssearch.getParentTipNode(tooltipMountWidth,"gsParentTip")).getBoundingClientRect()).width,serviceListW=0),rightAvailableW=(top=tipHalfW.left-rightTallyW)+isDownArrow/2,hoveredElemRectTop=tipHalfW.top-leftArrow,isDownArrow=!1,leftArrow=(tipHalfW=left/2)-5,left=top,top=tooltipMountLeft.pageY-tooltipMountRect+_jQueryGS("#zgs20_gstoolarrow").width()/2+15,(tooltipMountLeft=zgssearch.getNoteByAttr(tooltipMountWidth,"id","zgs20_gsHolder"))&&(tooltipMountWidth=(tooltipMountRect=tooltipMountLeft.getBoundingClientRect()).right-rightTallyW,tooltipMountLeft=0<tooltipMountRect.left?tooltipMountRect.left-(rightTallyW+serviceListW):rightTallyW+serviceListW,rightTallyW=0,rightAvailableW<tipHalfW?(left=tooltipMountLeft,leftArrow-=tipHalfW-rightAvailableW):left-=left-(rightAvailableW-tipHalfW),(rightAvailableW=tooltipMountWidth-rightAvailableW)<tipHalfW&&(left-=rightTallyW=tipHalfW-rightAvailableW,leftArrow+=rightTallyW),left<serviceListW&&(leftArrow-=serviceListW-left,left=serviceListW),tooltipMountRect.bottom-tooltipMountRect.top-toolHeight<20+hoveredElemRectTop+(toolHeight=_jQueryGS("#zgs20_gstootltip").height())&&(isDownArrow=!0,top=hoveredElemRectTop-toolHeight-6)),_jQueryGS("#zgs20_gstoolarrow").removeClass("zgs19_gstooldownarrow zgs19_gstooluparrow"),isDownArrow?(_jQueryGS("#zgs20_gstoolarrow").addClass("zgs19_gstooldownarrow"),_jQueryGS("#zgs20_gstoolarrow").css({top:"",bottom:"-5px",left:leftArrow})):(_jQueryGS("#zgs20_gstoolarrow").addClass("zgs19_gstooluparrow"),_jQueryGS("#zgs20_gstoolarrow").css({top:"-5px",bottom:"",left:leftArrow})),_jQueryGS("#zgs20_gstootltip").stop(!0).css({top:top,left:left,opacity:0}).css("display","block").animate({opacity:1},500,function(){_jQueryGS("#zgs20_gstootltip").stop(!0).animate({opacity:1},5e3,function(){zgssearch.hidetooltip()})}))},zgssearch.renderToolTip=function(gslabel,gsdata,labelId,textId){_jQueryGS("#zgs20_gstootltip").append(_jQueryGS("<div>",{class:"zgs19_gstoolHold zgs19_gsOverflowWrap"}).append(_jQueryGS("<span>",{id:labelId,class:"zgs19_gstoollabel zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl"})).append(_jQueryGS("<span>",{id:textId,class:"zgs19_gstooltext zgs19_gsBorderBox"})));var textwidth=gsdata,labelwidth=0;gslabel&&(labelwidth=5,textwidth=(gslabel+=":")+" "+gsdata);var tipwidth=zgssearch.getWidthOfText(textwidth,600),tipwidth=Math.ceil(tipwidth)+labelwidth+24+2;return _jQueryGS("#"+labelId).empty().css("display","none"),gslabel&&(textwidth=zgssearch.getWidthOfText(gsdata,600),tipwidth<=(labelwidth=zgssearch.getWidthOfText(gslabel,600)+labelwidth)+textwidth&&(labelwidth=500),_jQueryGS("#"+labelId).empty().css("display","block").text(gslabel),_jQueryGS("#"+labelId).css("maxWidth",Math.ceil(labelwidth))),_jQueryGS("#"+textId).empty().text(gsdata),tipwidth},zgssearch.hidetooltip=function(){"none"!==zgssearch.getTargetElem("zgs20_gstootltip").style.display&&_jQueryGS("#zgs20_gstootltip").css("display","none")}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.dateRangeEventType="",zgssearch.datePickerEventType="";var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.zsdatepickerLabel={OKButtonLabel:zgssearch.getI18NMsg("common.dp.OKButtonLabel"),cancelButtonLabel:zgssearch.getI18NMsg("common.dp.cancelButtonLabel"),daysAbbreviated:[zgssearch.getI18NMsg("common.dp.Sun"),zgssearch.getI18NMsg("common.dp.Mon"),zgssearch.getI18NMsg("common.dp.Tue"),zgssearch.getI18NMsg("common.dp.Wed"),zgssearch.getI18NMsg("common.dp.Thu"),zgssearch.getI18NMsg("common.dp.Fri"),zgssearch.getI18NMsg("common.dp.Sat")],monthsAbbreviated:[zgssearch.getI18NMsg("common.dp.Jan"),zgssearch.getI18NMsg("common.dp.Feb"),zgssearch.getI18NMsg("common.dp.Mar"),zgssearch.getI18NMsg("common.dp.Apr"),zgssearch.getI18NMsg("common.dp.May"),zgssearch.getI18NMsg("common.dp.Jun"),zgssearch.getI18NMsg("common.dp.Jul"),zgssearch.getI18NMsg("common.dp.Aug"),zgssearch.getI18NMsg("common.dp.Sep"),zgssearch.getI18NMsg("common.dp.Oct"),zgssearch.getI18NMsg("common.dp.Nov"),zgssearch.getI18NMsg("common.dp.Dec")],nextMonth:zgssearch.getI18NMsg("common.dp.nextMonth"),nextYear:zgssearch.getI18NMsg("common.dp.nextYear"),prevMonth:zgssearch.getI18NMsg("common.dp.prevMonth"),prevYear:zgssearch.getI18NMsg("common.dp.prevYear"),nextDecade:zgssearch.getI18NMsg("common.dp.nextDecade"),prevDecade:zgssearch.getI18NMsg("common.dp.prevDecade"),nextCentury:zgssearch.getI18NMsg("common.dp.nextCentury"),prevCentury:zgssearch.getI18NMsg("common.dp.prevCentury")},zgssearch.zsdaterangepickerLabel=zgssearch.assignObject(zgssearch.zsdatepickerLabel,{fromLabel:zgssearch.getI18NMsg("common.from"),toLabel:zgssearch.getI18NMsg("common.to")}),zgssearch.zsdatetimepickerLabel=zgssearch.assignObject(zgssearch.zsdatepickerLabel,{timeLabel:zgssearch.getI18NMsg("common.dp.timeLabel")}),zgssearch.zsdatetimerangepickerLabel=zgssearch.assignObject(zgssearch.zsdaterangepickerLabel,{timeLabel:zgssearch.getI18NMsg("common.dp.timeLabel")}),zgssearch.loadDatePicker=function(callback){var CSSURL;zgssearch.hasDatePicker?callback&&callback():(zgssearch.hasDatePicker=!0,CSSURL=zgssearch.network.getFingerPrintFilePath("css/gszohocomponents.min.css",!0),zgssearch.network.loadCSSFile(CSSURL,function(){var jsURL=zgssearch.network.getFingerPrintFilePath("js/gszohocomponents.min.js",!0);zgssearch.network.loadJSFile(jsURL,callback)}))},zgssearch.createDatePicker=function(searchType,key,target){try{zgssearch.createCustomDatePicker(searchType,key,target,!0),zgssearch.createCustomDatePicker(searchType,key,target,!1)}catch(ex){zgssearch.throwClientError("Error while creating custom datepicker",ex)}},zgssearch.createCustomDatePicker=function(searchType,key,targetElem,isDateRange){var targetId="",targetId=searchType===GSConstant.CALENDAR?isDateRange?"zgs20_gsCalDateRangePickerElem":"zgs20_gsCalSingleDatePickerElem":isDateRange?"zgs20_gsDateRangePickerElem":"zgs20_gsSingleDatePickerElem",fromdate="",todate="",gsdatepicker="",curDateObj={};switch(zgssearch.curFilterType){case"gs_filters":curDateObj.type=zgssearch.getFilterInfo(searchType,key,"current"),curDateObj.tdate=zgssearch.getFilterInfo(searchType,key,"todate"),curDateObj.fdate=zgssearch.getFilterInfo(searchType,key,"fromdate");break;case"card_modules":curDateObj=zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId].hasOwnProperty(key)?zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId][key][0]:curDateObj;break;case"cc_modules":curDateObj=zgssearch.selectedSearchObj.hasOwnProperty(key)?zgssearch.selectedSearchObj[key][0]:curDateObj}var dkobj,drobj,gsdatepicker=curDateObj.type||"",todate=curDateObj.tdate||"",fromdate=curDateObj.fdate||"";0<_jQueryGS("#"+targetId).length?(zgssearch.isMoreFilterListDisplay&&(dkobj=zgssearch.curMoreFiltersList||{},""!=(drobj=zgssearch.curMoreDateFiltersList||{}).fromdate&&""!=drobj.todate&&(todate=drobj.todate,fromdate=drobj.fromdate,gsdatepicker=dkobj[key]||gsdatepicker)),isDateRange?"customrange"!=gsdatepicker&&(fromdate=todate=""):"customdate"!=gsdatepicker&&(fromdate=void 0),isDateRange?(_jQueryGS("#"+targetId).zsdaterangepicker("clearSelection"),_jQueryGS("#"+targetId).zsdaterangepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy",fromValue:fromdate,toValue:todate})):_jQueryGS("#"+targetId).zsdatepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy",value:fromdate})):((gsdatepicker=document.createElement("div")).id=targetId,document.body.appendChild(gsdatepicker),isDateRange?_jQueryGS("#"+targetId).zsdaterangepicker({format:"dd-MM-yyyy",monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,fromValue:fromdate,toValue:todate,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdaterangepickerLabel,change:function(event,ui){switch(zgssearch.curFilterType){case"gs_filters":zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui);break;case"card_modules":var curCardFilterObj=zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId];zgssearch.updateCardDatePicker("customrange",ui,curCardFilterObj);break;case"cc_modules":curCardFilterObj=zgssearch.selectedSearchObj;zgssearch.updateCardDatePicker("customrange",ui,curCardFilterObj)}},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode||event.which)==zgssearch.specialkeys.ESC)return zgssearch.focusForWeb("zgs20_gsQueryBox"),!1}}):_jQueryGS("#"+targetId).zsdatepicker({format:"dd-MM-yyyy",monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,value:fromdate,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatepickerLabel,change:function(event,ui){switch(zgssearch.curFilterType){case"gs_filters":zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui);break;case"card_modules":var curCardFilterObj=zgssearch.gscardfilter.currentSelectedFiltersObj[zgssearch.gscardfilter.curCardId];zgssearch.updateCardDatePicker("customdate",ui,curCardFilterObj);break;case"cc_modules":curCardFilterObj=zgssearch.selectedSearchObj;zgssearch.updateCardDatePicker("customdate",ui,curCardFilterObj)}},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode||event.which)==zgssearch.specialkeys.ESC)return zgssearch.focusForWeb("zgs20_gsQueryBox"),!1}}))},zgssearch.addDeskDueDatePickerOption=function(){try{zgssearch.createDateTimepicker("zgs20_gsTicketDueDate")}catch(ex){zgssearch.throwClientError("Error while creating custom datepicker for support service",ex)}},zgssearch.handleDueDatePickerElem=function(datatype){zgssearch.isDatePickerDisplay?zgssearch.hideDatePicker():(zgssearch.hideEditFieldsList(),_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)?zgssearch.curDatePickerElem=zgssearch.getTargetElem("zgs20_gsTicketDueDate"):zgssearch.curDatePickerElem=zgssearch.gsaction.currSearchType.getTargetElem("#zgs20_gsTicketDueDate"),zgssearch.addDeskDueDatePickerOption(),zgssearch.handleDatePicker(datatype))},zgssearch.createDateTimepicker=function(targetElem){var targetId="zgs20_gsDateTimePickerElem",gsdatepicker=zgssearch.curDatePickerObj||{},fromdate=gsdatepicker.fromdate||void 0;0<_jQueryGS("#"+targetId).length?_jQueryGS("#"+targetId).zsdatetimepicker("setAttributes",{forElement:"#"+targetId,format:"dd-MM-yyyy hh:mm tt",value:fromdate}):((gsdatepicker=document.createElement("div")).id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatetimepicker({format:"dd-MM-yyyy hh:mm tt",monthsPerView:1,immediateCommit:!1,value:fromdate,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimepickerLabel,change:function(event,ui){zgssearch.updateDatePicker(zgssearch.curDatePickerObj,ui)},cancel:function(){zgssearch.hideDatePicker()},beforeclose:function(event){if((event.keyCode||event.which)==zgssearch.specialkeys.ESC)return zgssearch.focusForWeb("zgs20_gsQueryBox"),!1}}))},zgssearch.handleDatePicker=function(soid,serviceName,eventType){try{var searchType,eventTypeId,minMAxValue,targetId="";"customrange"==soid?(targetId="zgs20_gsDateRangePickerElem",searchType=serviceName||zgssearch.getSearchType(),eventTypeId="",searchType===GSConstant.CALENDAR&&(targetId="zgs20_gsCalDateRangePickerElem",eventTypeId=eventType||zgssearch.getFilterInfo("calendar","eventTypes","current")),searchType===GSConstant.CALENDAR&&zgssearch.dateRangeEventType!=eventTypeId?(minMAxValue=zgssearch.getCalendarDateRangePicker(eventTypeId),_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute","minDate",minMAxValue[0]),_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute","maxDate",minMAxValue[1]),zgssearch.dateRangeEventType=eventTypeId):zgssearch.isArrayContain(searchType,zgssearch.SERVICES_PROJECT)&&(_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute","minDate",null),_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute","maxDate",null)),_jQueryGS("#"+targetId).zsdaterangepicker("open",zgssearch.curDatePickerElem)):"customdate"==soid?(targetId="zgs20_gsSingleDatePickerElem",searchType=serviceName||zgssearch.getSearchType(),eventTypeId="",searchType===GSConstant.CALENDAR&&(targetId="zgs20_gsCalSingleDatePickerElem",eventTypeId=eventType||zgssearch.getFilterInfo("calendar","eventTypes","current")),searchType===GSConstant.CALENDAR&&zgssearch.datePickerEventType!==eventTypeId?(minMAxValue=zgssearch.getCalendarDateRangePicker(eventTypeId),_jQueryGS("#"+targetId).zsdatepicker("setAttribute","minDate",minMAxValue[0]),_jQueryGS("#"+targetId).zsdatepicker("setAttribute","maxDate",minMAxValue[1]),zgssearch.datePickerEventType=eventTypeId):zgssearch.isArrayContain(searchType,zgssearch.SERVICES_PROJECT)&&(_jQueryGS("#"+targetId).zsdatepicker("setAttribute","minDate",null),_jQueryGS("#"+targetId).zsdatepicker("setAttribute","maxDate",null)),_jQueryGS("#"+targetId).zsdatepicker("open",zgssearch.curDatePickerElem)):"dueDateChange"==soid&&_jQueryGS("#"+(targetId="zgs20_gsDateTimePickerElem")).zsdatetimepicker("open",zgssearch.curDatePickerElem);var zindex=_jQueryGS("#zgs20_globalsearch").css("z-index")+1;_jQueryGS("#"+targetId).css("z-index",zindex),_jQueryGS("#"+targetId).attr("datatype",soid),_jQueryGS("#"+targetId).attr("gs","gsfilterComponentPicker"),zgssearch.isDatePickerDisplay=!0,_jQueryGS(zgssearch.curDatePickerElem).addClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")}catch(ex){zgssearch.throwClientError("Error in handleDatePicker",ex)}},zgssearch.updateDatePicker=function(targetId,dcolor){var key,soid,service,todate,fromdate,dispname;dcolor.fromUI&&(key=targetId.key||"",soid=targetId.soid||"",service=targetId.service||"",key&&soid&&service&&("customrange"==soid||"customdate"==soid||"duedate"==soid)&&(todate=fromdate="","duedate"==soid?(fromdate=""+dcolor.valueString,(targetId.fromdate||void 0)!=fromdate&&fromdate&&"undefined"!=fromdate&&zgssearch.gssupportaction.updateDeskDueDate(GSConstant.SUPPORT,fromdate),zgssearch.hideDatePicker()):("customrange"==soid?(todate=""+dcolor.toValueString,fromdate=""+dcolor.fromValueString):"customdate"==soid&&(fromdate=todate=""+dcolor.valueString),fromdate&&"undefined"!=fromdate&&todate&&"undefined"!=todate&&(dispname=zgssearch.getFilterData(service,key,"data",soid),zgssearch.isMoreFilterListDisplay?(zgssearch.dateFilterDisplay=!0,zgssearch.curMoreFiltersList[key]=soid,zgssearch.curMoreDateFiltersList={fromdate:fromdate,todate:todate},_jQueryGS(targetId="#zgs20_gsMoreFilterElem_"+key).attr("soid",key),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("gstitle",dispname).text(dispname),dcolor=zgssearch.getFilterInfo(service,key,"default")==soid?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor),zgssearch.hideDatePicker()):(zgssearch.dateFilterDisplay=!1,zgssearch.updateFilterInfo(service,key,"todate",todate),zgssearch.updateFilterInfo(service,key,"fromdate",fromdate),zgssearch.updateFilterInfo(service,key,"current",soid),zgssearch.updateFilterInfo(service,key,"dispname",dispname),zgssearch.handleDefaultSearch())))))},zgssearch.hideDatePicker=function(){try{zgssearch.isDatePickerDisplay=!1,_jQueryGS(zgssearch.curDatePickerElem).removeClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var drlength=_jQueryGS("#zgs20_gsDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsDateRangePickerElem").zsdaterangepicker("close");var dtlength=_jQueryGS("#zgs20_gsSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsDateTimePickerElem").zsdatetimepicker("close");drlength=_jQueryGS("#zgs20_gsCalDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsCalDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsCalDateRangePickerElem").zsdaterangepicker("close");dtlength=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsCalDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalDateTimePickerElem").zsdatepicker("close"),zgssearch.curDatePickerElem="",zgssearch.curFilterType=""}catch(ex){zgssearch.throwClientError("Error in hideDatePicker",ex)}},zgssearch.handleCalendarDatePickerElem=function(targetElem,isAllDay,dateValue){zgssearch.isDatePickerDisplay?zgssearch.hideDatePicker():(zgssearch.hideEditFieldsList(),zgssearch.curDatePickerElem=zgssearch.getTargetElem(targetElem),zgssearch.addCalendarDatePickerOption(targetElem,isAllDay,dateValue),zgssearch.handleCalendarDatePicker(isAllDay,targetElem,dateValue))},zgssearch.addCalendarDatePickerOption=function(targetElem,isAllDay,dateValue){try{zgssearch.createCalendarDatePicker(targetElem,isAllDay,dateValue)}catch(ex){zgssearch.throwClientError("Error while creating custom datepicker for calendar service",ex)}},zgssearch.createCalendarDatePicker=function(targetElem,isAllDay,dateValue){var gsdatepicker,dateFormat="",targetId="",targetId=isAllDay?(dateFormat="dd/MM/yyyy","zgs20_gsCalSingleDatePickerElem"):(dateFormat="dd/MM/yyyy - hh:mm tt","zgs20_gsCalDateTimePickerElem");0<_jQueryGS("#"+targetId).length?isAllDay?_jQueryGS("#"+targetId).zsdatepicker("setAttributes",{forElement:"#"+targetId,format:dateFormat,value:dateValue}):_jQueryGS("#"+targetId).zsdatetimepicker("setAttributes",{forElement:"#"+targetId,format:dateFormat,value:dateValue}):((gsdatepicker=document.createElement("div")).id=targetId,document.body.appendChild(gsdatepicker),isAllDay?_jQueryGS("#"+targetId).zsdatepicker({format:dateFormat,monthsPerView:1,value:dateValue,immediateCommit:!1,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatepickerLabel,change:function(event,ui){zgssearch.gscalendaraction.updateDatePickerValue(zgssearch.curDatePickerElem,ui)},cancel:function(){zgssearch.hideDatePicker()}}):_jQueryGS("#"+targetId).zsdatetimepicker({format:dateFormat,monthsPerView:1,immediateCommit:!1,value:dateValue,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimepickerLabel,change:function(event,ui){zgssearch.gscalendaraction.updateDatePickerValue(zgssearch.curDatePickerElem,ui)},cancel:function(){zgssearch.hideDatePicker()}}))},zgssearch.handleCalendarDatePicker=function(isAllDay,startTime,zindex){var startDate,targetId="";isAllDay?(targetId="zgs20_gsCalSingleDatePickerElem","zgs20_gsEventStartDate"==startTime?_jQueryGS("#"+targetId).zsdatepicker("setAttribute","minDate",null):(startDate=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),_jQueryGS("#"+targetId).zsdatepicker("setAttribute","minDate",startDate)),_jQueryGS("#"+targetId).zsdatepicker("setAttribute","value",zindex),_jQueryGS("#"+targetId).zsdatepicker("open",zgssearch.curDatePickerElem)):(targetId="zgs20_gsCalDateTimePickerElem","zgs20_gsEventStartDate"==startTime?_jQueryGS("#"+targetId).zsdatetimepicker("setAttribute","minDate",null):(startDate=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),startTime=_jQueryGS("#zgs20_gsEventStartTimeTxt").text(),_jQueryGS("#"+targetId).zsdatetimepicker("setAttribute","minDate",startDate+"-"+startTime)),_jQueryGS("#"+targetId).zsdatetimepicker("setAttribute","value",zindex),_jQueryGS("#"+targetId).zsdatetimepicker("open",zgssearch.curDatePickerElem));zindex=_jQueryGS("#zgs20_globalsearch").css("z-index")+1;_jQueryGS("#"+targetId).css("z-index",zindex),_jQueryGS("#"+targetId).attr("gs","gsfilterComponentPicker"),zgssearch.isDatePickerDisplay=!0},zgssearch.getCalendarDateRangePicker=function(eventTypeId){switch(eventTypeId){case"0":return[null,null];case"1":return["TODAY",null];case"-1":return[null,"TODAY"];default:return[null,null]}},zgssearch.createNewCustomDatePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDatePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatepicker({format:dateFormat,monthsPerView:1,immediateCommit:!1,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datepicker",ex)}},zgssearch.createNewCustomDateTimePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateTimePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatetimepicker({format:dateFormat,monthsPerView:1,immediateCommit:!1,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datetimepicker",ex)}},zgssearch.createNewCustomDateRangePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateRangePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdaterangepicker({format:dateFormat,immediateCommit:!1,selectionType:"continuous",forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdaterangepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom daterangepicker",ex)}},zgssearch.createNewCustomDateTimeRangePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateTimeRangePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatetimerangepicker({format:dateFormat,immediateCommit:!1,selectionType:"continuous",forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimerangepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datetimerangepicker",ex)}},zgssearch.handleNewCustomDatePicker=function(datePickerElem,dataType,attributeObj){try{var targetId="";if("customdate"==dataType){for(var key in targetId="zgs20_gsCustomDatePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatepicker("open",datePickerElem)}else if("customdatetime"==dataType){for(var key in targetId="zgs20_gsCustomDateTimePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatetimepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatetimepicker("open",datePickerElem)}else if("customdaterange"==dataType){for(var key in targetId="zgs20_gsCustomDateRangePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdaterangepicker("open",datePickerElem)}else{for(var key in"customdatetimerange",targetId="zgs20_gsCustomDateTimeRangePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatetimerangepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatetimerangepicker("open",datePickerElem)}var zindex=_jQueryGS("#zgs20_globalsearch").css("z-index")+1;_jQueryGS("#"+targetId).css("z-index",zindex),_jQueryGS("#"+targetId).attr("gs","gsDatePickerComponent"),zgssearch.isCustomDatePickerDisplay=!0}catch(ex){zgssearch.throwClientError("Error in handleCustomDatePicker",ex)}},zgssearch.hideNewCustomDatePicker=function(){try{var dtlength=_jQueryGS("#zgs20_gsCustomDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDateTimePickerElem").zsdatetimepicker("close");var drlength=_jQueryGS("#zgs20_gsCustomDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsCustomDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsCustomDateRangePickerElem").zsdaterangepicker("close");dtlength=_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").zsdatetimerangepicker("close"),zgssearch.isCustomDatePickerDisplay=!1}catch(ex){zgssearch.throwClientError("Error in hideNewCustomDatePicker",ex)}}}(zgssearch,window),function(zgssearch,window){var gssavedsearches,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssavedsearches=(gssavedsearches=void 0,(gssavedsearches=zgssearch.gssavedsearches||{}).isSSOpened=gssavedsearches.isSSOpened||!1,gssavedsearches.isSaveThisSearchDialogOpened=gssavedsearches.isSaveThisSearchDialogOpened||!1,gssavedsearches.currSelectedSSButton=gssavedsearches.currSelectedSSButton||"",gssavedsearches.savedSearchElem=gssavedsearches.savedSearchElem||"",gssavedsearches.prevSelectedTitle=gssavedsearches.prevTitleClick||"",gssavedsearches.prevSelectedFilters=gssavedsearches.prevSelectedFilters||"",gssavedsearches.isSSFiltersListOpened=gssavedsearches.isSSFiltersListOpened||!1,gssavedsearches.isSSSearchBoxOpened=gssavedsearches.isSSSearchBoxOpened||!1,gssavedsearches.savedIdsVsObject=gssavedsearches.savedIdsVsObject||{},gssavedsearches.savedIdVsNames=gssavedsearches.savedIdVsNames||{},gssavedsearches.ssIdsArr=gssavedsearches.ssIdsArr||[],gssavedsearches.savedSearchNames=gssavedsearches.savedSearchNames||[],gssavedsearches.zuidcardsinfo=gssavedsearches.zuidcardsinfo||{},gssavedsearches.clearSavedSearchData=function(){gssavedsearches.cardIdVsNames={},gssavedsearches.cardIdsVsObject={},gssavedsearches.cardIdArr=[],gssavedsearches.zuidcardsinfo={}},gssavedsearches.getSavedCardParams=function(){var description,service,argParams,stsVal=_jQueryGS("#zgs20_gsSTS").val(),queryObject={};""!==stsVal.trim()?(description=_jQueryGS("#zgs20_gsCrdDescInput").val().trim(),service=zgssearch.getSearchType(),argParams=zgssearch.getLastSearchedQuery(),zgssearch.getFilterParams(service,queryObject),queryObject.service=service,queryObject.query=argParams.query,argParams.hasOwnProperty("sort_criteria")&&argParams.sort_criteria?queryObject.sort=argParams.sort_criteria:argParams.hasOwnProperty("nlpsearch")&&argParams.nlpsearch&&(queryObject.nlpsearch=[argParams.nlpsearch]),argParams=zgssearch.formNewQueryObjectModelQuery(queryObject),queryObject=encodeURIComponent(JSON.stringify(argParams)),argParams={callback:gssavedsearches.hideSavedSearchDialog,service:service,name:stsVal},gssavedsearches.saveSearchCard(stsVal,service,queryObject,description,argParams,zgssearch.getI18NMsg("gs.saved_search.insert_success"),zgssearch.getI18NMsg("gs.saved_search.service_insert_error"))):zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")})},gssavedsearches.saveSearchCard=function(cardName,service,params,description,argParams,successMsg,errorMsg){""!==cardName?_jQueryGS.isEmptyObject(params)||(params="action=savecard&service="+service+"&cardtype=0&favoritetype=1&categoryid=1&cardname="+encodeURIComponent(cardName)+"&cardconfig="+params,""!==description&&(params+="&carddescription="+encodeURIComponent(description)),zgssearch.uri(zgssearch.POST,zgssearch.postCardsURL,params,argParams,function(callback,status,cardId){var response=zgssearch.jsonParse(callback),callback=cardId.args,cardId=response.cardid,callback=callback.callback;"1001"===response.status?(zgssearch.showTopbannertip({ty:1,msg:successMsg}),callback(cardId,argParams),zgssearch.gscardUtils.addCrdAutoSugg(cardId,argParams)):(gssavedsearches.hideSavedSearchDialog&&gssavedsearches.hideSavedSearchDialog(),zgssearch.showTopbannertip({ty:3,msg:errorMsg}))})):zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")})},gssavedsearches.getSavedSearchInfo=function(argparams){zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,"action=getcards&cardtype="+zgssearch.SAVED_RESULT_CARD,argparams,function(data,status,callback){var response=zgssearch.jsonParse(data),argparams=callback.args,callback=argparams.callback;if(zgssearch.Utils.removePageLoader("#zgs20_gsSettingsPageLoader"),response.hasOwnProperty("status")&&"1004"===response.status){var i,responseData=response.cards;for(i in gssavedsearches.clearSavedSearchData(),gssavedsearches.zuidcardsinfo=response.zuidcardsinfo,responseData){var ssName=(data=responseData[i]).hasOwnProperty("service")?data.service:GSConstant.ALL;data.sName=ssName;var ssId=data.cardid,ssName=data.cardname;gssavedsearches.cardIdsVsObject[ssId]=data,gssavedsearches.cardIdVsNames[ssId]=ssName,gssavedsearches.cardIdArr.push(ssId)}0<Object.keys(responseData).length?callback(responseData,argparams,""):callback("",argparams,zgssearch.getI18NMsg("gs.saved_search.no_savedsearch_info"))}else callback("",argparams,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))})},gssavedsearches.searchInSS=function(){_jQueryGS(".zgs19_gsSSInput").off().on({keyup:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase();_jQueryGS(".zgs19_SSTableBody>.zgs19_gsSavedSearchInfo>.zgs19_gsSSMeta>.zgs19_gsNameHolder").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsSavedSearchInfo");_jQueryGS(parentEle).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})}}),_jQueryGS(".zgs19_gsSSMenuInput").off().on({keyup:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase();_jQueryGS("#zgs20_gsSSAutoListingData>.zgs19_gsMenuOptionChild>.zgs19_gsSSAutoTitleVal").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsMenuOptionChild");_jQueryGS(parentEle).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})}})},gssavedsearches.addSSSearchBox=function(){var ssBox=_jQueryGS("#zgs20_SSBox");ssBox.is(":visible")?ssBox.css("display","none"):(gssavedsearches.isSSSearchBoxOpened=!0,ssBox.css("display","block"),_jQueryGS("#zgs20_gsSSInput").focus())},gssavedsearches.showFilters=function(target){var parentElem,targetElem,ssfObj,parentEle=_jQueryGS(target).closest(".zgs19_gsSavedSearchInfo"),ssId=_jQueryGS(parentEle).attr("id"),filterDiv=_jQueryGS(parentEle).find(".zgs19_gsFilterDiv");""!==gssavedsearches.prevSelectedTitle&&gssavedsearches.prevSelectedTitle!==ssId&&(targetElem=(parentElem=_jQueryGS("#"+gssavedsearches.prevSelectedTitle)).find(".zgs19_gsSSTitleVal"),ssfObj=parentElem.find(".zgs19_gsFilterDiv"),gssavedsearches.hideTargetFilterDiv(targetElem,parentElem,ssfObj)),""!==gssavedsearches.prevSelectedTitle&&gssavedsearches.prevSelectedTitle===ssId&&filterDiv.is(":visible")?gssavedsearches.hideTargetFilterDiv(target,parentEle,filterDiv):(ssfObj=gssavedsearches.cardIdsVsObject[ssId],ssfObj=gssavedsearches.getParamsOfSS(ssfObj),gssavedsearches.constructFilterParams(target,parentEle,filterDiv,ssfObj,ssId))},gssavedsearches.getParamsOfSS=function(paramsObj){var i,cardConfig=paramsObj.hasOwnProperty("cardconfig")?paramsObj.cardconfig:"",search_type=paramsObj.service||GSConstant.ALL,searchQuery="",firstParams={},lastParams={},finalFilterObj={};for(i in firstParams[zgssearch.getI18NMsg("gs.saved_searches.filter_app")]=zgssearch.mappedServiceList[search_type].displayName,cardConfig){var zuidCardInfo,finaVal,nlpSearch,eachfilterObj=cardConfig[i],keyName=eachfilterObj.name,valueArr=eachfilterObj.value,tempObj={};"zs_query"===keyName?(searchQuery=valueArr[0],firstParams[zgssearch.getI18NMsg("gs.saved_searches.filter_keyword")]=searchQuery.trim()):"zs_mention"===keyName?(finaVal=valueArr[0],finaVal=(zuidCardInfo=gssavedsearches.zuidcardsinfo).hasOwnProperty(finaVal)?zuidCardInfo[finaVal]:"",firstParams[zgssearch.getI18NMsg("gs.saved_searches.mentionedUser")]=finaVal):"accounts_list"===keyName&&zgssearch.widgetServiceList.hasOwnProperty(search_type)?(keyName=zgssearch.widgetServiceList[search_type].key,(finaVal=zgssearch.getFilterObj(search_type)).hasOwnProperty(keyName)&&(finaVal=finaVal[keyName].key,tempObj.value=valueArr,tempObj.type=eachfilterObj.type,finalFilterObj[finaVal]=tempObj)):"sort_criteria"===keyName&&searchQuery.trim()?(nlpSearch=valueArr[0],lastParams[zgssearch.getI18NMsg("gs.search.filter.sort")]="1"==nlpSearch?zgssearch.getI18NMsg("gs.search.filter.sorttime"):zgssearch.getI18NMsg("gs.search.filter.sortrelv")):"nlpsearch"===keyName?(nlpSearch=valueArr[0])&&"true"==nlpSearch&&(lastParams[zgssearch.getI18NMsg("gs.saved_searches.nlpsearch")]="true"):(tempObj.value=valueArr,tempObj.type=eachfilterObj.type,finalFilterObj[keyName]=tempObj)}var filterParams=gssavedsearches.updateFilterParamForSS(search_type,finalFilterObj,!0,firstParams),ssfilterParams=filterParams.meta,paramsObj={};return paramsObj.params=_jQueryGS.extend({},firstParams,ssfilterParams,lastParams),paramsObj.supportParams=filterParams.supportParams,paramsObj},gssavedsearches.constructFilterParams=function(target,parentEle,filterDiv,ssfObj,ssId){if(filterDiv.html(""),ssfObj&&!_jQueryGS.isEmptyObject(ssfObj)){for(var key in ssfObj){var keyValue,valueArr,fParams,valueLen=ssfObj[key];"undefined"!=key&&key&&""!=key.trim()&&"undefined"!=valueLen&&valueLen&&""!=valueLen.trim()&&(fParams=key+":",valueLen=(valueArr=(keyValue=valueLen).split(",")).length,fParams=_jQueryGS("<div>",{class:"zgs19_gsFilterElem"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterkey"}).text(fParams)).append(_jQueryGS("<span>",{class:"zgs19_gsFilterValue"})),2<valueLen&&(keyValue=valueArr[0]+",  "+valueArr[1],fParams.append(_jQueryGS("<span>",{class:"zgs19_gsFilterCountLink zgs19_gsCurPointer zgs19_gsOverflow",gs:"moreSelectFilterList",filterKey:key}).text("+"+(valueLen-2)+" more"))),_jQueryGS(fParams).find(".zgs19_gsFilterValue").text(keyValue)),filterDiv.append(fParams)}filterDiv.css("display","block");var totheight=filterDiv.height()+50;_jQueryGS(parentEle).css("height",totheight+"px"),_jQueryGS(target).removeClass("zgs19_gsTitleUnSelClr").addClass("zgs19_gsTitleSelClr"),gssavedsearches.prevSelectedTitle=ssId}},gssavedsearches.renderSelectedFiltersList=function(target){var filterListElem,filterKey=_jQueryGS(target).attr("filterKey"),ssId=_jQueryGS(target).closest(".zgs19_gsSavedSearchInfo"),ssId=_jQueryGS(ssId).attr("id");""===gssavedsearches.prevSelectedFilters||gssavedsearches.prevSelectedFilters!==ssId+"_"+filterKey||0===(filterListElem=_jQueryGS(".zgs19_gsSelFilterList")).length?gssavedsearches.renderFiltersList(target,ssId,filterKey):filterListElem.is(":visible")?gssavedsearches.hideSelectedFiltersList(target):gssavedsearches.showSelectedFiltersList(target)},gssavedsearches.renderFiltersList=function(target,ssId,filterKey){0===_jQueryGS(".zgs19_gsSelFilterList").length&&_jQueryGS(".zgs19_SSTableBody").append(_jQueryGS("<div>",{class:"zgs19_gsSelFilterList"}));var filterListElem=_jQueryGS(".zgs19_gsSelFilterList");_jQueryGS(filterListElem).empty();for(var parentPos=gssavedsearches.cardIdsVsObject[ssId],valueArr=gssavedsearches.getParamsOfSS(parentPos)[filterKey].split(","),value=2;value<valueArr.length;value++)filterListElem.append(_jQueryGS("<div>",{class:"zgs19_gsFilterTxt zgs19_gsOverflow zgs19_gsfl"}).text(valueArr[value]));var tableViewPort=_jQueryGS(".zgs19_SSTableBody").scrollTop(),elemWidth=_jQueryGS("#"+ssId+" .zgs19_gsFilterCountLink").width(),topPos=_jQueryGS("#"+ssId+" .zgs19_gsFilterCountLink").height(),leftPos=_jQueryGS(filterListElem).width(),ElemPos=_jQueryGS(target).offset(),parentPos=_jQueryGS(".zgs19_SSTableBody").offset(),leftPos=ElemPos.left+elemWidth-parentPos.left-leftPos,topPos=tableViewPort+ElemPos.top-parentPos.top+topPos+1;_jQueryGS(filterListElem).css({left:Math.floor(leftPos),top:Math.floor(topPos)}),_jQueryGS(".zgs19_gsSelFilterList").scrollTop(0),gssavedsearches.prevSelectedFilters=ssId+"_"+filterKey,gssavedsearches.showSelectedFiltersList(target)},gssavedsearches.showSelectedFiltersList=function(target){var gsAttr=gssavedsearches.prevSelectedTitle,filterElem=_jQueryGS("#"+gsAttr+" .zgs19_gsFilterCountLink");filterElem.removeClass("zgs19_gsBorderCCC zgs19_gsffffffBGCol zgs19_gsFilterLink");gsAttr=_jQueryGS(target).attr("gs");_jQueryGS("moreSelectFilterList"===gsAttr?target:filterElem).addClass("zgs19_gsBorderCCC zgs19_gsffffffBGCol zgs19_gsFilterLink"),gssavedsearches.isSSFiltersListOpened=!0,_jQueryGS(".zgs19_gsSelFilterList").css("display","block")},gssavedsearches.hideSelectedFiltersList=function(target){var ssId=gssavedsearches.prevSelectedTitle,gsAttr=_jQueryGS(target).attr("gs");_jQueryGS("moreSelectFilterList"===gsAttr?target:"#"+ssId+" .zgs19_gsFilterCountLink").removeClass("zgs19_gsBorderCCC zgs19_gsffffffBGCol zgs19_gsFilterLink"),gssavedsearches.isSSFiltersListOpened=!1,_jQueryGS(".zgs19_gsSelFilterList").css("display","none")},gssavedsearches.hideTargetFilterDiv=function(target,parentEle,filterDiv){filterDiv.css("display","none"),_jQueryGS(parentEle).css("height","50px"),_jQueryGS(target).removeClass("zgs19_gsTitleSelClr").addClass("zgs19_gsTitleUnSelClr")},gssavedsearches.actionsOnSS=function(target){var actionType=_jQueryGS(target).attr("actionType");switch(actionType){case"searchSS":var titValue=_jQueryGS(target).closest(".zgs19_gsSavedSearchInfo"),titValue=_jQueryGS(titValue).attr("id");gssavedsearches.performSearchOnSSData(titValue);break;case"editSS":titValue=zgssearch.getI18NMsg("gs.saved_searches.action_rename");zgssearch.gssavedsearches.displaySavedSearchDialog(target,titValue,actionType);break;case"delSS":zgssearch.gssavedsearches.confirmDeleteDialogBox(target)}},gssavedsearches.performSearchOnSSData=function(isSearch){var isSearch=gssavedsearches.cardIdsVsObject[isSearch],search_type=isSearch.service||GSConstant.ALL,cardConfig=isSearch.cardconfig||[],searchQuery="",men_user_zuid="",men_user_name="",nlpSearch="",filtersObj={};if(search_type&&(search_type===GSConstant.ALL||zgssearch.isArrayContain(search_type,zgssearch.getAccessibleServiceList()))){for(var i=0;i<cardConfig.length;i++){var gfObj,sortVal,eachfilterObj=cardConfig[i],keyName=eachfilterObj.name,valueArr=eachfilterObj.value,tempObj={};"zs_query"===keyName?searchQuery=valueArr[0]:"zs_mention"===keyName?(men_user_zuid=valueArr[0],men_user_name=(gfObj=zgssearch.gscardUtils.zuidcardsinfo).hasOwnProperty(men_user_zuid)?gfObj[men_user_zuid]:""):"nlpsearch"===keyName?nlpSearch=valueArr[0]:"accounts_list"===keyName&&zgssearch.widgetServiceList.hasOwnProperty(search_type)?(keyName=zgssearch.widgetServiceList[search_type].key,(gfObj=zgssearch.getFilterObj(search_type)).hasOwnProperty(keyName)&&(sortVal=gfObj[keyName].key,tempObj.value=valueArr,tempObj.type=eachfilterObj.type,filtersObj[sortVal]=tempObj)):"sort_criteria"===keyName&&searchQuery.trim()?(sortVal=valueArr[0],tempObj.value="1"==sortVal?["sorttime"]:["sortrelv"],tempObj.type=eachfilterObj.type,filtersObj.sort=tempObj):(tempObj.value=valueArr,tempObj.type=eachfilterObj.type,filtersObj[keyName]=tempObj)}isSearch=!0;zgssearch.updateServiceFilters(search_type),(isSearch=!_jQueryGS.isEmptyObject(filtersObj)?gssavedsearches.updateFilterParamForSS(search_type,filtersObj,!1):isSearch)&&(zgssearch.updateSearchType(search_type),_jQueryGS("#zgs20_gsCardsPage").css("display","none"),_jQueryGS("#zgs20_gsQueryBox").val(searchQuery),_jQueryGS("#zgs20_gsQueryDiv").text(searchQuery),zgssearch.parsingQueryForSS(men_user_name,men_user_zuid,search_type,searchQuery),zgssearch.gshistory.updateSearchURLParams(search_type,searchQuery),zgssearch.gsautocomplete.storeRecentSearch(),zgssearch.displayDefaultPage(!1),zgssearch.showSearchPageLoader(),zgssearch.GSConstant.nlpSearchEnabled&&(document.getElementById("zgs20_gsNLPSearchEnabled").checked=!(!nlpSearch||"true"!==nlpSearch)),zgssearch.handleUserSearchQuery(searchQuery,search_type))}else zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.disabled_service_info")})},zgssearch.parsingQueryForSS=function(name,value,curpos,searchquery){zgssearch.gsautocomplete.checkQueryFilterExists("services"),zgssearch.gsautocomplete.checkQueryFilterExists("users");var finalQuery=zgssearch.gsautocomplete.get("services"),lhindex=" #"+finalQuery[curpos]+"  ";_jQueryGS("#zgs20_gsQueryBox").val(lhindex),_jQueryGS("#zgs20_gsQueryDiv").text(lhindex),zgssearch.gsautocomplete.setQryFilters("services",curpos),zgssearch.gsautocomplete.setQryFiltersMap("services",finalQuery[curpos]),zgssearch.gsautocomplete.parseQueryDiv();lhindex=zgssearch.gsautocomplete.getLastIndexOfFilters(),finalQuery=zgssearch.getValue("zgs20_gsQueryBox"),curpos=zgssearch.getCursorPos(),lhindex=" "==finalQuery.substr(0,curpos)[lhindex]?lhindex+1:lhindex;zgssearch.gsautocomplete.setLastSavedIndex(lhindex),value&&-1!==value&&"-1"!==value&&""!==value&&(curpos=zgssearch.getCursorPos(),lhindex=finalQuery.substr(0,curpos).length,finalQuery=zgssearch.gsautocomplete.setMentionAndQryinSearchBox(name,{ZUID:value,EMAILID:""},finalQuery,lhindex,curpos),_jQueryGS("#zgs20_gsQueryBox").val(finalQuery),_jQueryGS("#zgs20_gsQueryDiv").text(finalQuery)),finalQuery+=searchquery,_jQueryGS("#zgs20_gsQueryBox").val(finalQuery),_jQueryGS("#zgs20_gsQueryDiv").text(finalQuery),zgssearch.gsautocomplete.parseQueryDiv()},gssavedsearches.updateFilterParamForSS=function(service,filterObj,isTitleReq){var gfObj=zgssearch.getFilterObj(service),suppParams={},ssfObj={};if(gfObj){for(var common_order=zgssearch.getServiceOrders(gfObj,service),accId="",i=0;i<common_order.length;i++){var fkey=common_order[i];if(gfObj.hasOwnProperty(fkey)){var fkObj=gfObj[fkey],oKey=fkObj.key,fromdate=fkObj.data;if(filterObj.hasOwnProperty(oKey)){var valueArr=filterObj[oKey].value,value=valueArr[0],todate=fkObj.type,formattedObj=fkObj.title;if(fkey===zgssearch.getWidgetServiceList(service).key){var accId=value,servicemappList=zgssearch.mappedServiceList[service];if(servicemappList&&servicemappList.is_multi_accounts){var fromdate=fkObj.hasOwnProperty("alldata")?fkObj.alldata:fromdate,isMultiSelectEnabled=fkObj.accIdArr;if(!isTitleReq&&isMultiSelectEnabled.indexOf(value)<0){var dispVal=zgssearch.getDispName(service,accId,fromdate,value,todate);zgssearch.showbannertip({ty:2,msg:zgssearch.I18N.getValue("gs.saved_search.disabled_portal_info",[dispVal?dispVal+" "+formattedObj:formattedObj])});break}}}var dateObj,dispVal=zgssearch.getDispName(service,accId,fromdate,value,todate),isMultiSelectEnabled=zgssearch.isMultiSelectEnabledFilter(service,fkey);ssfObj[formattedObj]=isMultiSelectEnabled?gssavedsearches.getMultiSelectDispName(service,accId,fromdate,valueArr,todate):dispVal,suppParams[formattedObj]={type:todate},"date"===oKey&&((formattedObj=gssavedsearches.constructFilterFormatForDate(service,filterObj[oKey])).hasOwnProperty("date")?(value=(dateObj=formattedObj.date).value,dispVal=zgssearch.getDispName(service,accId,fromdate,value,todate),ssfObj[dateObj.dispName]=dispVal,isTitleReq||zgssearch.updateDateFormat(service,oKey,value)):formattedObj.hasOwnProperty("relativedate")&&(value=(dateObj=formattedObj.relativedate).value,dispVal=zgssearch.getDispName(service,accId,fromdate,value,todate),ssfObj[dateObj.dispName]=dispVal,fromdate=dateObj.fromDate,todate=dateObj.toDate,ssfObj[zgssearch.getI18NMsg("gs.saved_searches.filter_fromDate")]=fromdate,ssfObj[zgssearch.getI18NMsg("gs.saved_searches.filter_toDate")]=todate,isTitleReq||(zgssearch.updateFilterInfo(service,oKey,"fromdate",dateObj.fromDateVal),zgssearch.updateFilterInfo(service,oKey,"todate",dateObj.toDateVal),zgssearch.curFilterType="gs_filters",zgssearch.loadDatePicker(zgssearch.createDatePicker.bind(null,service,fkey,"zgs20_gsModuleFilterElem_date"))))),isTitleReq||(isMultiSelectEnabled&&(value=gssavedsearches.getMultiSelectCurrentKey(valueArr)),zgssearch.updateFilterInfo(service,fkey,"current",value),zgssearch.updateFilterInfo(service,fkey,"dispname",dispVal))}}}if(isTitleReq){var filterParams={};return filterParams.meta=ssfObj,filterParams.supportParams=suppParams,filterParams}return!0}},gssavedsearches.getMultiSelectDispName=function(service,accId,fkeyData,valueArr,type){for(var filtersLen=valueArr.length,disName="",f=0;f<filtersLen;)disName+=zgssearch.getDispName(service,accId,fkeyData,valueArr[f],type),++f<filtersLen&&(disName+=", ");return disName},gssavedsearches.getMultiSelectCurrentKey=function(valueArr){for(var filtersLen=valueArr.length,keyVaue="",f=0;f<filtersLen;)keyVaue+=[valueArr[f]],++f<filtersLen&&(keyVaue+=",");return keyVaue},gssavedsearches.constructFilterFormatForDate=function(service,fromDateFormat){var fromDateFil,toDateFil=fromDateFormat.hasOwnProperty("type")?fromDateFormat.type:"",dateObj={},dateTypeObj={};if("4"==toDateFil){var toDateFormat,i,dateUnit=(toDateFormat=fromDateFormat.value)[0],filterDates=zgssearch.filterDates;for(i in filterDates){var fDateType=filterDates[i],newDateType=service!==GSConstant.CALENDAR&&service!==GSConstant.ASANA||dateUnit.timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK&&dateUnit.timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH?fDateType.datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_ENTIRE;dateUnit.datevalue==fDateType.datevalue&&dateUnit.datetype===newDateType&&dateUnit.timeunit==fDateType.timeunit&&(dateTypeObj.dispName="Date",dateTypeObj.value=i,dateObj.date=dateTypeObj)}}else"3"==toDateFil&&(fromDateFil=(toDateFormat=fromDateFormat.value)[0],toDateFil=toDateFormat[1],fromDateFormat=fromDateFil.split("-")[0],toDateFormat=toDateFil.split("-")[0],dateTypeObj.value=fromDateFormat===toDateFormat?"customdate":"customrange",dateTypeObj.dispName="Relative Date",dateTypeObj.fromDate=fromDateFil,dateTypeObj.toDate=toDateFil,dateTypeObj.fromDateVal=fromDateFil.split(" ")[0],dateTypeObj.toDateVal=toDateFil.split(" ")[0],dateObj.relativedate=dateTypeObj);return dateObj},gssavedsearches.displaySavedSearchDialog=function(ssId,titVal,cnfrmType){var pholder,gsSave;gssavedsearches.isSaveThisSearchDialogOpened||(pholder="embedPreview"==cnfrmType?zgssearch.getI18NMsg("gs.saved_searches.placeholder_embedPreview"):zgssearch.getI18NMsg("gs.saved_searches.placeholder_rename"),ssId&&((ssId=_jQueryGS(ssId).closest(".zgs19_gsSavedSearchInfo")).addClass("zgs19_gsBGCHed"),ssId=_jQueryGS(ssId).attr("id"),gssavedsearches.savedSearchElem=ssId,gssavedsearches.cardIdVsNames[ssId]),cnfrmType="embedPreview"==cnfrmType?(gsSave="epCnfrmActions","saveEPFields"):(gsSave="ssCnfrmActions","saveSSFields"),zgssearch.popupUtils.openEditNamepopup(titVal,"",pholder,"",!0,"",gsSave,cnfrmType,"closeSaveDialog"),gssavedsearches.isSaveThisSearchDialogOpened=!0)},gssavedsearches.confirmDeleteDialogBox=function(overlayDialog){var yesButt=_jQueryGS(overlayDialog).closest(".zgs19_gsSavedSearchInfo");yesButt.addClass("zgs19_gsBGCHed");overlayDialog=_jQueryGS(yesButt).attr("id");gssavedsearches.savedSearchElem=overlayDialog,gssavedsearches.isSaveThisSearchDialogOpened=!0,_jQueryGS(".zgs19_gsSavedSearchDialog").remove();yesButt=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelCancel",gs:"ssCnfrmActions",dataType:"Yes"}).text(zgssearch.getI18NMsg("gs.common.yes")),overlayDialog=1===zgssearch.gscomponent.UIType?_jQueryGS("#zgs20_gsOverlayDialog"):_jQueryGS("#zgs20_gsHolder");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchDialog"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSOverlay zgs19_gsSSDialogPos",gs:"gsssoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopUp",class:"zgs19_gsSavedSearchPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsDeleteAccConfirm"}).text(zgssearch.getI18NMsg("gs.saved_search.delete_cnfrm"))).append(_jQueryGS("<div>",{class:"zgs19_gsDelActions"}).append(yesButt).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelsave",gs:"ssCnfrmActions",dataType:"No"}).text(zgssearch.getI18NMsg("common.no")))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"ssCnfrmActions",datatype:"closeSaveDialog"}))))),overlayDialog.css({display:"block","z-index":"10000000000"}),gssavedsearches.currSelectedSSButton=yesButt},gssavedsearches.userSettingsActions=function(tarElem){switch(_jQueryGS(tarElem).attr("cnfrmType")){case"saveSSFields":gssavedsearches.getSavedCardParams();break;case"updateCardName":zgssearch.gscards.renameCards();break;case"closeEditDialog":case"closeSaveDialog":case"No":gssavedsearches.hideSavedSearchDialog();break;case"Yes":gssavedsearches.deleteSavedSearchEntry();break;case"saveEPFields":gssavedsearches.savePreview()}zgssearch.gssavedsearches.currSelectedSSButton=""},gssavedsearches.renametheSS=function(tarElem){var ssId=gssavedsearches.savedSearchElem,nameOfSS=zgssearch.getValue("zgs20_gsSTS"),args=gssavedsearches.cardIdVsNames[ssId];nameOfSS?args===nameOfSS?zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_samename_info")}):(args={ssId:ssId,reName:nameOfSS},zgssearch.uri(zgssearch.POST,"/zgssearch/gsupdatecards","action=updatecardname&cardid="+ssId+"&cardname="+encodeURIComponent(nameOfSS),args,function(renameId,status,ssId){var nameOfSS=zgssearch.jsonParse(renameId),renameId=ssId.args;"1002"===nameOfSS.status?(zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.saved_search.rename_update_success")}),ssId=renameId.ssId,nameOfSS=renameId.reName,renameId=_jQueryGS("#"+ssId).find(".zgs19_gsSSTitleVal"),_jQueryGS(renameId).text(nameOfSS),gssavedsearches.cardIdVsNames[ssId]=nameOfSS,gssavedsearches.cardIdsVsObject[ssId].ssn=nameOfSS):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.saved_search.rename_updateError")})}),gssavedsearches.hideSavedSearchDialog()):zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")})},gssavedsearches.hideSavedSearchDialog=function(){zgssearch.popupUtils.closeCnfrmDialogBox(),zgssearch.popupUtils.closeOverlayDialog(),gssavedsearches.isSaveThisSearchDialogOpened=!1},gssavedsearches.deleteSavedSearchEntry=function(){var ssId=gssavedsearches.savedSearchElem;""!==ssId&&(zgssearch.uri(zgssearch.POST,"/zgssearch/gsupdatecards","action=deletecard&cardid="+ssId,"",function(index){"1003"==zgssearch.jsonParse(index).status?(zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.saved_search.delete_succes")}),_jQueryGS("#"+ssId).remove(),delete gssavedsearches.cardIdsVsObject[ssId],delete gssavedsearches.cardIdVsNames[ssId],-1<(index=gssavedsearches.cardIdArr.indexOf(ssId))&&gssavedsearches.cardIdArr.splice(index,1)):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.saved_search.delete_error")})}),gssavedsearches.hideSavedSearchDialog())},gssavedsearches.displaySSMenuOption=function(){_jQueryGS("#zgs20_gsMenuOption").length<=0&&(zgssearch.gsusersettings.openSettingsMenuOptions(),_jQueryGS("#zgs20_gsMenuOptionHolder").append(_jQueryGS("<div>",{id:"zgs20_gsMenuOption",class:"zgs19_gsMenuOption zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSAutoListHeader",gs:"settingsSSHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSAutoListTitle zgs19_gsMxWid98Per zgs19_gsOverflow",gs:"settingsSSTitle",gstitle:zgssearch.getI18NMsg("gs.saved_searches.title")}).text(zgssearch.getI18NMsg("gs.saved_searches.title")))).append(_jQueryGS("<div>",{class:"zgs19_SSMenuSearchBox zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsSSAutoListingData",class:"zgs19_gsSSAutoListingData zgs19_gsfl"}))));var argparams={callback:gssavedsearches.constructSavedSearchesInAutoSuggest};gssavedsearches.getSavedSearchInfo(argparams),gssavedsearches.ssMenuOptionPositionCalc(),"none"===_jQueryGS("#zgs20_gsMenuOption").css("display")?(_jQueryGS("#zgs20_gsMenuOption").show(),zgssearch.isSSMenuOpened="true"):(_jQueryGS("#zgs20_gsMenuOption").hide(),zgssearch.isSSMenuOpened="false")},gssavedsearches.ssMenuOptionPositionCalc=function(){var ssLeft,menuHeight;1===zgssearch.gscomponent.UIType&&(ssLeft=(menuHeight=_jQueryGS(".zgs19_gsSSDD_Enable")[0].getBoundingClientRect()).left,menuHeight=menuHeight.top+menuHeight.height,ssLeft-=280,_jQueryGS("#zgs20_gsMenuOption").css("top",menuHeight+"px"),_jQueryGS("#zgs20_gsMenuOption").css("left",ssLeft+"px"))},gssavedsearches.constructSavedSearchesInAutoSuggest=function(responseData,argparams,ssMenuSearchBox){var finalHeight=400;if(_jQueryGS("#zgs20_gsSSAutoListingData").html(""),ssMenuSearchBox)gssavedsearches.showErrorMessageinSSMenu(zgssearch.getI18NMsg("gs.saved_search.no_savedsearch_info"));else{var i,ssMenuSearchBox=responseData.length,finalHeight=40*ssMenuSearchBox;for(i in 5<ssMenuSearchBox&&((ssMenuSearchBox=_jQueryGS(".zgs19_SSMenuSearchBox")).html("").append(_jQueryGS("<span>",{class:" zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl zgs19_gsCurPointer",gstitle:zgssearch.getI18NMsg("gs.saved_searches.search_placeholder")})).append(_jQueryGS("<div>",{id:"zgs20_SSMenuBox",class:"zgs19_SSMenuBox"}).append(_jQueryGS("<input>",{id:"zgs20_gsSSMenuInput ",class:"zgs19_gsSSMenuInput",type:"text",placeholder:zgssearch.getI18NMsg("gs.saved_searches.search_placeholder")}))),ssMenuSearchBox.css("display","block"),_jQueryGS("#zgs20_gsSSMenuInput").attr("autocomplete","off")),responseData){var data=responseData[i],ssId=data.cardid,ssValue=data.cardname;gssavedsearches.cardIdsVsObject[ssId]=data,gssavedsearches.cardIdVsNames[ssId]=ssValue,gssavedsearches.cardIdArr.push(ssId);ssValue=_jQueryGS("<div>",{class:"zgs19_gsMenuOptionChild zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsSSPinName",ssid:ssId,gs:"ssMenuTitle"}).append(_jQueryGS("<div>",{class:"zgs19_gsSSAutoTitleVal",gs:"ssMenuTitle"}).text(ssValue));_jQueryGS("#zgs20_gsSSAutoListingData").append(ssValue)}gssavedsearches.searchInSS()}_jQueryGS("#zgs20_gsSSAutoListingData").css({height:finalHeight+"px","max-height":"400px"})},gssavedsearches.showErrorMessageinSSMenu=function(ssErrorMsg){ssErrorMsg=_jQueryGS("<span>",{class:"zgs19_gsSSMenuErrorHolder"}).text(ssErrorMsg);_jQueryGS("#zgs20_gsSSAutoListingData").append(ssErrorMsg)},gssavedsearches.handleSSMenuTitle=function(ssId){ssId=_jQueryGS(ssId).closest(".zgs19_gsMenuOptionChild"),ssId=_jQueryGS(ssId).attr("ssid");gssavedsearches.performSearchOnSSData(ssId)},gssavedsearches.savePreview=function(){var resObj,service,prevCrdConfig,descriptionParam,argParams,cardName=_jQueryGS("#zgs20_gsSTS").val();""!==cardName.trim()?(argParams=_jQueryGS("#zgs20_gsCrdDescInput").val().trim(),resObj=zgssearch.getCurrentResObj(),service=_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("service")||resObj.serviceName,zgssearch.isArrayContain(service,zgssearch.prevAPIServ)?(prevCrdConfig=zgssearch.mappedServiceList[service].callout,prevCrdConfig=zgssearch[prevCrdConfig].getPreviewCrdParams(),prevCrdConfig=zgssearch.gssavedsearches.getPrevCrdConfig(prevCrdConfig)):(descriptionParam=!(descriptionParam=resObj[zgssearch.servicePkIdMapping[service]])&&service==zgssearch.GSConstant.NOTEBOOK?resObj.notebook_id:descriptionParam)&&(prevCrdConfig=gssavedsearches.formPreviewConfig(descriptionParam,service)),(descriptionParam="")!==(argParams=_jQueryGS("#zgs20_gsCrdDescInput").val().trim())&&(descriptionParam="&carddescription="+encodeURIComponent(argParams)),prevCrdConfig&&(argParams={service:service,name:cardName,cardType:zgssearch.PREVIEW_CARD},zgssearch.uri(zgssearch.POST,zgssearch.postCardsURL,"action=savecard&service="+service+"&cardtype="+zgssearch.PREVIEW_CARD+"&favoritetype=1&categoryid=1&cardname="+encodeURIComponent(cardName)+descriptionParam+"&previewcardconfig="+prevCrdConfig,argParams,function(cardId,status,argParams){cardId=zgssearch.jsonParse(cardId),argParams=argParams.args;"1001"===cardId.status?(cardId=cardId.cardid,zgssearch.gscardUtils.addCrdAutoSugg(cardId,argParams),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.preview_card.insert_success")})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.preview_card.service_insert_error")})})),gssavedsearches.hideSavedSearchDialog()):zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")})},gssavedsearches.formPreviewConfig=function(pkId,service){var prevCrdConfig=[],accId=zgssearch.getResultAccountId();return prevCrdConfig.push({name:"account_id",value:accId}),prevCrdConfig.push({name:"pk_id",value:pkId}),encodeURIComponent(JSON.stringify(prevCrdConfig))},gssavedsearches.getPrevCrdConfig=function(prevObj){var param,previewCrdConfig=[];for(param in prevObj)previewCrdConfig.push({name:param,value:prevObj[param]});return encodeURIComponent(JSON.stringify(previewCrdConfig))},gssavedsearches)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.setCalloutSearchType=function(service){zgssearch.calloutSearchType=service},zgssearch.getCalloutSearchType=function(){return zgssearch.calloutSearchType},zgssearch.getFourDotLoader=function(id,className){return _jQueryGS("<div>",{id:id,class:className,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},zgssearch.setSearchBoxSegmentSize=function(){var extraIconW,searchBoxW=_jQueryGS(".zgs19_gsqryinnerdiv").outerWidth(!0);0<searchBoxW&&(searchBoxW=searchBoxW-(_jQueryGS("#zgs20_gsQueryCloseBox").outerWidth(!0)+(extraIconW=(_jQueryGS("#zgs20_gsSSIconHolder").is(":visible")?_jQueryGS("#zgs20_gsSSIconHolder").outerWidth(!0):0)+(_jQueryGS(".zgs19_gsnlpZia").is(":visible")?_jQueryGS(".zgs19_gsnlpZia").outerWidth(!0):0))+(_jQueryGS("#zgs20_gsQueryBoxHolder > zgs20_gsMenuOptionHolder").is(":visible")?_jQueryGS(".#zgs20_gsQueryBoxHolder > zgs20_gsMenuOptionHolder").outerWidth(!0):0)),_jQueryGS("#zgs20_gsQueryCloseBox").css("right",extraIconW),_jQueryGS("#zgs20_gsQueryBox").css("width",searchBoxW),_jQueryGS("#zgs20_gsQueryDiv").css("width",searchBoxW))},zgssearch.getResultObject=function(service,key,serviceObj,module){if(zgssearch.isArrayContain(service,zgssearch.serviceList)){serviceObj=zgssearch.getServiceResultObject(service,serviceObj);if(serviceObj=zgssearch.getSpecificResultsObject(serviceObj,service,module)){key=service+key;if(serviceObj.hasOwnProperty(key))return serviceObj[key]}}return{}},zgssearch.hideDatePicker=function(){try{zgssearch.isDatePickerDisplay=!1,_jQueryGS(zgssearch.curDatePickerElem).removeClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var drlength=_jQueryGS("#zgs20_gsDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsDateRangePickerElem").zsdaterangepicker("close");var dtlength=_jQueryGS("#zgs20_gsSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsDateTimePickerElem").zsdatetimepicker("close");drlength=_jQueryGS("#zgs20_gsCalDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsCalDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsCalDateRangePickerElem").zsdaterangepicker("close");dtlength=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsCalDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalDateTimePickerElem").zsdatepicker("close"),zgssearch.curDatePickerElem=""}catch(ex){zgssearch.throwClientError("Error in hideDatePicker",ex)}},zgssearch.updateUserPhoto=function(id,photoURL){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){try{userPhotoSuccess=function(ele){var imgEle=zgssearch.getTargetElem(ele.getAttribute("gs"));imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&(_jQueryGS(imgEle.gsUserPhoto).attr("src",ele.src),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsUserPhoto"))),zgssearch.removeEle(ele)},userPhotoError=function(ele){zgssearch.loadResNoPhotoImg(ele.getAttribute("gs"))};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){userPhotoSuccess(this)},error:function(){userPhotoError(this)}},!0):userPhotoError(serviceImgDummy)}catch(ex){zgssearch.throwClientError("Error while updating User Photo",ex)}})},zgssearch.getServiceName=function(service){var serviceURL="";return"writer"===service?serviceURL=zgssearch.GSConstant.GS_WRITER_URL:"sheet"===service?serviceURL=zgssearch.GSConstant.GS_SHEET_URL:"show"===service?serviceURL=zgssearch.GSConstant.GS_SHOW_URL:"explorer"===service&&(serviceURL=zgssearch.GSConstant.GS_DOCS_URL),serviceURL},zgssearch.closePreview=function(){zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent&&!_jQueryGS.isEmptyObject(zgssearch.pcResObj)&&zgssearch.pcResObj.parent&&_jQueryGS("#"+zgssearch.pcResObj.parent).remove()},zgssearch.openInWD=function(service,resObj,target,attachId,resHash){var wd,wdParams;zgssearch.workdriveComponentLoaded?(wd=new WorkDrive,(wdParams={service:"ZohoSearch"}).WDDomainURL=zgssearch.GSConstant.GS_WORKDRIVE_URL,wdParams.height=1==zgssearch.GSConstant.UIType?"560px":"530px",wdParams.width=1==zgssearch.GSConstant.UIType?"800px":"700px",wdParams.showPrimaryButton=!0,wdParams.containerId="zgs20_wdMount",zgssearch.isGSOpenedInWorkplaceApp?wdParams.proxyPath="/biz/wp/workdriveapi":wdParams.proxyPath="/zgssearch/workdriveapi",wdParams.closeActionCallBack=function(){1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&_jQueryGS("#zgs20_gsOverlayDialog").css("display","none")},wdParams.primaryActionCallBack=function(folderId){folderId=folderId.callbackDataFromWorkDrive.destinationResourceToAdd[0].id;zgssearch.addToWorkdrive(service,resObj,target,folderId,attachId,resHash)},1==zgssearch.GSConstant.UIType&&"none"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&_jQueryGS("#zgs20_gsOverlayDialog").css("display","block"),wdParams.collapseLeftPanel=!1,wdParams.draggableDialog=!1,wd.showResourceAdder(wdParams)):zgssearch.loadWorkdriveComponent(function(){zgssearch.openInWD(service,resObj,target,attachId)})},zgssearch.addToWorkdrive=function(service,resObj,target,folderId,attachId,resHash){_jQueryGS("#zgs20_wdMount").addClass("zgs19_gsWDoverLay");var fileMgmtInstance,fileMgmtInfo=zgssearch.getFourDotLoader("zgs20_gsWDoverlayLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsWDoverlayLoader");_jQueryGS("#zgs20_wdMount").append(fileMgmtInfo),zgssearch.isArrayContain(service,zgssearch.SERVICES_STORAGE)?(fileMgmtInstance=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).addToWD(service,resObj,target,folderId)):service===zgssearch.GSConstant.O365MAIL?zgssearch.gso365mail.addToWD(resObj,attachId,folderId):service===zgssearch.GSConstant.ASANA?zgssearch.projectMgmtCalloutObj.addToWD(target,resObj,folderId):service===zgssearch.GSConstant.EVERNOTE&&zgssearch.notesTemplateInstance.addToWD(resObj,attachId,folderId,resHash)}}(zgssearch,window),function(zgssearch,window){window._jQueryGS;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.serviceList=zgssearch.serviceList||[],zgssearch.allServiceList=zgssearch.allServiceList||[],zgssearch.eventStats="/zgssearch/gsevent",zgssearch.noUserPhoto=zgssearch.noUserPhoto||"/zgssearch/images/no-user-image.png",zgssearch.GSConstant.accessible_cloud_apps=GSConstant.accessible_cloud_apps||[GSConstant.GOOGLEDRIVE,GSConstant.BOX,GSConstant.DROPBOX,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE,GSConstant.SALESFORCE,GSConstant.ASANA],zgssearch.cursor_supported_services=[GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE],zgssearch.GET="GET",zgssearch.POST="POST",zgssearch.LINE_ICON_MAP={zgs18_gsUniAllIcon:4,zgs18_gsAppsIcon:4,zgs18_gsUniConnectIcon:4,zgs18_gsUniDocsIcon:3,zgs18_gsUniPeopleIcon:10,zgs18_gsUniPerIcon:5,zgs18_gsUniOrgIcon:6,zgs18_gsUniMailsIcon:2,zgs18_gsUniNoteBookIcon:6,zgs18_gsUniCreatorIcon:2,zgs18_gsUniWebsiteIcon:2,zgs18_gsUniCampaignIcon:2,zgs18_gsUniChatIcon:2,zgs18_gsUniProjectsIcon:9,zgs18_wone:7,zgs18_wmarketplace:3,zgs18_wofficeintegrator:5,zgs18_wbugtracker:10,zgs18_wsign:5,zgs18_wpayroll:4,zgs18_wmail:2,zgs18_wcliq:2,zgs18_wchat:2,zgs18_wconnect:6,zgs18_wcampaigns:2,zgs18_wmotivator:8,zgs18_wsocial:9,zgs18_wsurvey:8,zgs18_wbugTracker:10,zgs18_wprojects:9,zgs18_wassist:3,zgs18_wpeople:10,zgs18_wcreator:2,zgs18_wdeveloper:9,zgs18_wcalendar:9,zgs18_wnotebook:6,zgs18_wsites:6,zgs18_wsprints:3,zgs18_wvault:7,zgs18_wpagesense:8,zgs18_winventory:4,zgs18_worchestly:2,zgs18_wcatalyst:2,zgs18_wbookings:3,zgs18_wmarketinghub:5,zgs18_wlens:5,zgs18_wsite24x7:3,zgs18_wdocs:3,zgs18_wflow:2,zgs18_wcheckout:5,zgs18_analytics_table:12,zgs18_analytics_report:18,zgs18_analytics_analysisview:4,zgs18_analytics_summaryview:4,zgs18_analytics_pivot:2,zgs18_analytics_querytable:3,zgs18_analytics_dashboard:8,zgs18_gsSuppRequestIcon:7,zgs18_gsSuppSolutionIcon:5,zgs18_gsSuppAccountIcon:6,zgs18_gsSuppContactIcon:2,zgs18_gsUniEvernoteIcon:3,zgs18_gsPlusCircle:4},zgssearch.SERVICES_CRM=[zgssearch.GSConstant.CRM,zgssearch.GSConstant.SALESFORCE],zgssearch.SERVICES_MAIL=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.O365MAIL],zgssearch.SERVICES_STORAGE=[zgssearch.GSConstant.DOCUMENTS,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE],zgssearch.SERVICES_PROJECT=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.ASANA],zgssearch.SERVICES_NOTES=[zgssearch.GSConstant.EVERNOTE],zgssearch.specialkeys={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,CUT:88},zgssearch.originParam=zgssearch.isExtension?"":"frameorigin="+window.location.origin,zgssearch.hasWebMessanger=zgssearch.hasWebMessanger||"undefined"!=typeof WebMessanger,zgssearch.isCliqDomain=zgssearch.isCliqDomain||!(!zgssearch.hasWebMessanger||!WebMessanger.isCliqDomain)&&WebMessanger.isCliqDomain(),zgssearch.hasWMSTranscript=zgssearch.hasWMSTranscript||!!zgssearch.hasWebMessanger&&void 0!==WebMessanger.renderTranscript,zgssearch.hasWmsResource=zgssearch.hasWmsResource||"undefined"!=typeof WmsResource,zgssearch.pcEnabledSer=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.CONNECT,zgssearch.GSConstant.CLIQ,zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.PEOPLE,zgssearch.GSConstant.SUPPORT,zgssearch.GSConstant.WIKI,zgssearch.GSConstant.DOCUMENTS],zgssearch.fetchActionsURL="/zgssearch/gsservicedata",zgssearch.nps="&nps=202",zgssearch.workdriveServices=["zohosheet","zohoshow","writer","docs","spreadsheet","presentation","image","pdf","video","audio","file","folder"],zgssearch.campaigns_version=zgssearch.campaigns_version||{},zgssearch.docIdsVsEncryptedIds=zgssearch.docIdsVsEncryptedIds||{},zgssearch.servicePkIdMapping={people:"pkid",personalContacts:"contact_id",cliq:"cid",support:"doc_id",wiki:"doc_id",website:"pk_id",connector:"oid",notebook:"notecard_id",reports:"vId",workdrive:"dId",connect:"id",crm:"id",bigin:"id",evernote:"id",projects:"id"},zgssearch.entityTypeTitleMap={1:{title:zgssearch.getI18NMsg("gs.search.filter.emails"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasemails"),notitle:"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")"},2:{title:zgssearch.getI18NMsg("gs.search.filter.notes"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasnotes"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},3:{title:zgssearch.getI18NMsg("gs.search.filter.tasks"),hasText:zgssearch.getI18NMsg("gs.search.filter.hastasks"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},4:{title:zgssearch.getI18NMsg("gs.search.filter.events"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasevents"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},6:{title:zgssearch.getI18NMsg("gs.search.filter.postmesseges"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},10:{title:zgssearch.getI18NMsg("gs.search.filter.bookmarks"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"}},zgssearch.iframePreviewServ=[zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.REPORTS],zgssearch.prevAPIServ=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.BOOKS,zgssearch.GSConstant.INVOICE,zgssearch.GSConstant.STREAMS]}(zgssearch,window),function(zgssearch){zgssearch.cardPagePreviewActions=function(){this.setCurrentCard=function(tarElem){var card=_jQueryGS("#zgs20_gsCrdPrevBdy");this.currCard=card[0]},this.getCurrentCardId=function(){return _jQueryGS(".zgs19_gsCrdPrevBdy").attr("cardid")},this.getCurrentCard=function(){return this.currCard},this.getCalloutParent=function(){return zgssearch.getTargetElem("zgs20_gsCrdPrevCallout")},this.getCurrentResultObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].resultObj},this.getTargetElem=function(ele){var card=this.getCurrentCard();return _jQueryGS(card).find(ele)[0]},this.getCurrAccId=function(){var cardConfig=this.getCurrentCardId(),cardObject=_jQueryGS(".zgs19_gsCrdHdrType").attr("cardtype"),cardObject=zgssearch.cardTypeClass[cardObject],cardObject=zgssearch[cardObject].cardIdsVsObject[cardConfig],cardConfig=cardObject.cardconfig||{};cardObject.cardtype==zgssearch.PREVIEW_CARD?accArrVal="account_id":(accArrVal="accounts_list",cardObject.service===zgssearch.GSConstant.CAMPAIGNS&&(accArrVal="module"));var accArrVal=zgssearch.gscardinDb.getFilterVal(cardConfig,accArrVal);return null!=accArrVal&&cardObject.cardtype==zgssearch.PREVIEW_CARD?accArrVal:null!==accArrVal&&0<accArrVal.length?accArrVal[0]:""},this.getServiceName=function(){return zgssearch.getCalloutSearchType()},this.getSearchDBCalloutObj=function(){var crdCallout=_jQueryGS("#zgs20_gsCrdPrevCallout"),cardId=this.getCurrentCardId();return{type:zgssearch.crdPagecalloutType,parentElem:crdCallout,calloutId:"zgs20_gs"+cardId+"__callout",cardId:cardId,curSelectedEle:zgssearch.gscards.curSelectedEle,iconDisplay:!1}},this.getCurrentResponseObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj},this.setCurrentResponseObj=function(currRespObj,cardId){cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj=currRespObj},this.getCurrentCRMOwner=function(){var cardId=this.getCurrentCardId();return zgssearch.gscrm.crmOwnerData[cardId].id},this.getCardObjInContext=function(cardId){return zgssearch.gscardUtils.cardIdsVsObject[cardId]},this.getResultObject=function(){var cardId=this.getCurrentCardId();return zgssearch.gscardsresult.cardResultsObj[cardId]}},zgssearch.dashboardActions=function(){this.currCard,this.service="",this.setCardFromCallout=function(card){card=_jQueryGS(card).closest(".zgs19_gsCard");this.currCard=card[0]},this.getCurrentCard=function(){return this.currCard},this.getCurrentCardId=function(card){return card=card||this.getCurrentCard(),_jQueryGS(card).attr("cardid")},this.getCalloutParent=function(cardCallout){if(cardCallout)return _jQueryGS(cardCallout).closest(".zgs19_gsCrdCallout")[0];cardCallout=this.getCurrentCard().querySelector(".zgs19_gsCrdCallout");return this.service=_jQueryGS(cardCallout).attr("service"),cardCallout},this.getCurrentResultObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].resultObj},this.getTargetElem=function(elem){var card=this.getCurrentCard();return _jQueryGS(card).find(elem)[0]},this.getCurrAccId=function(){var cardConfig=_jQueryGS(this.currCard).attr("cardId"),cardType=zgssearch.gscardinDb.getOriginalCardId(cardConfig),cardObject=zgssearch.gsdbUtils.cardIdsVsObject[cardType],cardType=(zgssearch.gsdbUtils.dbCardIdObjInDB[cardConfig]||cardObject).cardType,cardConfig=cardObject.cardconfig||{};cardType==zgssearch.PREVIEW_CARD?accArrVal="account_id":(accArrVal="accounts_list",cardObject.service===zgssearch.GSConstant.CAMPAIGNS&&(accArrVal="module"));var accArrVal=zgssearch.gscardinDb.getFilterVal(cardConfig,accArrVal);return null!=accArrVal&&cardType==zgssearch.PREVIEW_CARD?accArrVal:null!==accArrVal&&0<accArrVal.length?accArrVal[0]:""},this.getServiceName=function(){if(this.service)return this.service;var cardCallout=this.getCurrentCard().querySelector(".zgs19_gsCrdCallout");return _jQueryGS(cardCallout).attr("service")},this.getSearchDBCalloutObj=function(){var service=this.getCurrentCard(),cardId=_jQueryGS(service).attr("cardid"),calloutCardId="zgs20_gs"+cardId+"_"+_jQueryGS(service).attr("index")+"_callout",selectedRes=_jQueryGS(service).find(".zgs19_gsResultselected"),service=this.getServiceName();return{type:zgssearch.dbCrdCalloutType,parentElem:this.getCalloutParent(),calloutId:calloutCardId,iconDisplay:!1,cardId:cardId,curSelectedEle:selectedRes,service:service}},this.getCurrentResponseObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj},this.setCurrentResponseObj=function(currRespObj,cardId){cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj=currRespObj},this.getCurrentCRMOwner=function(){var cardId=this.getCurrentCardId();return zgssearch.gscrm.crmOwnerData[cardId].id},this.getCardObjInContext=function(cardId){return zgssearch.gsdbUtils.cardIdsVsObject[cardId]},this.getResultObject=function(){var cardId=this.getCurrentCardId();return zgssearch.gscardsresult.cardResultsObj[cardId]}},zgssearch.searchActions=function(){this.getCalloutParent=function(){return zgssearch.getTargetElem("zgs20_gsSearchResultRight")},this.getCurrentResultObj=function(){return zgssearch.getCurrentResObj()},this.getTargetElem=function(ele){return _jQueryGS(ele)},this.getCurrAccId=function(){return zgssearch.getResultAccountId()},this.getServiceName=function(){return zgssearch.getCalloutSearchType()},this.getSearchDBCalloutObj=function(){return zgssearch.searchCalloutObj},this.getCurrentResponseObj=function(){return zgssearch.getCurrentResponseObj},this.setCurrentResponseObj=function(currRespObj){zgssearch.getCurrentResponseObj=currRespObj},this.getCurrentCRMOwner=function(){return zgssearch.gscrm.crmOwnerData.id},this.getResultObject=function(currService){return zgssearch.resultObject[currService]}},zgssearch.getCurrentSelectedElem=function(){return(zgssearch.isDashboardOpened&&zgssearch.hasOwnProperty("gscardsresult")?zgssearch.gscardsresult:zgssearch.isCardPageOpened&&zgssearch.hasOwnProperty("gscards")?zgssearch.gscards:zgssearch).curSelectedEle}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.dashboardSearchActions&&(zgssearch.commonSearchActions=new zgssearch.dashboardSearchActions),zgssearch.handleServiceOptionsForCallout=function(isCloseTrigger){zgssearch.hasOwnProperty("gswebsite")&&zgssearch.gswebsite.isVideoResultObtained&&(_jQueryGS("#zgs20_gsWebsiteIframe").is(":visible")||(isCloseTrigger||(zgssearch.gswebsite.isVideoResultObtained=!1),_jQueryGS("#zgs20_gsWebsiteIframe").attr("src",_jQueryGS("#zgs20_gsWebsiteIframe").attr("src"))))},zgssearch.attachDoubleClickPopUpEvent=function(){_jQueryGS(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){zgssearch.popupaction=!0}),_jQueryGS(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(parElem){parElem=_jQueryGS(parElem.target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==parElem.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1)})},zgssearch.pcGSElemSize=function(){var scallout,calloutEle;zgssearch.isPreviewOpenedInComponent&&(_jQueryGS("#zgs20_pcSearch").css("height",_jQueryGS("#zgs20_pcSearch").parent().height()+"px"),_jQueryGS("#zgs20_pcSearch").css("width",_jQueryGS("#zgs20_pcSearch").parent().width()+"px"),calloutEle=zgssearch.pc.containerMap[_jQueryGS("#zgs20_pcSearch").parent()[0].id].service,scallout=zgssearch.mappedServiceList[calloutEle].callout,calloutEle=_jQueryGS("#zgs20_pcSearch > .zgs19_gsServiceCalloutHolder")[0],zgssearch[scallout].setServiceEleSize("","",calloutEle))},zgssearch.pcViewport&&zgssearch.hasOwnProperty("gscomponent")&&zgssearch.pcViewport.removeEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.pcClickEvent=function(event){try{var target=event.target,target_element=_jQueryGS(target),action=target_element.attr("gs"),service=target_element.attr("service");switch(action){case"calloutActionOptions":zgssearch.actionListCallbackHandler(target,event);break;case"ctitle":case"clink":case"streamsPage":case"streamsmorecomment":case"streamsptpmorecomment":case"streamsmoretimeline":zgssearch.stopEvent(event),zgssearch.clickActionForCalloutTitle(target,event);break;case"showprivatetopostcomments":zgssearch.gsstreams.showPrivateToPostComments(target_element);break;case"hideprivatetopostcomments":zgssearch.gsstreams.hidePrivateToPostComments(target_element);break;case"showprivatecomments":zgssearch.gsstreams.showPrivateComments(target_element);break;case"hideprivatecomments":zgssearch.gsstreams.hidePrivateComments(target_element);break;case"streams_bm_link":case"gsBMLinkImg":var bm_link=target_element.attr("bm_link");zgssearch.openInNewTab(bm_link);break;case"attachtitle":var scallout=zgssearch.mappedServiceList[service].callout;(service==zgssearch.GSConstant.ASANA?zgssearch.projectMgmtCalloutObj:zgssearch[scallout]).downloadAttachment(target);break;case"contactsurl":var url=target_element.attr("url"),compType=zgssearch.getComponentType();compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp?zgssearch[compType].previewHandler(service,url):(service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),zgssearch.hideZiaForSameDomain(service),zgssearch.openInNewTab(url)),zgssearch.stopEvent(event);break;case"ext_img_text":zgssearch.gsmails.loadExtImg();break;default:if(!zgssearch.eventHandled)if("A"==target.nodeName){var ahref=target_element.attr("href");if(0==ahref.indexOf("mailto:"))return zgssearch.startComposeMail(target,"href"),void zgssearch.stopEvent(event);if(0==ahref.indexOf("http")){var comp=zgssearch.getComponentType();return comp&&zgssearch[comp].isPreviewHandlerEnabledInSuiteApp?zgssearch[comp].previewHandler(service,ahref):zgssearch.openInNewTab(ahref),void zgssearch.stopEvent(event)}}}}catch(ex){zgssearch.throwClientError("Error in preview click event.",ex)}},zgssearch.pcViewport&&zgssearch.hasOwnProperty("gscomponent")&&zgssearch.pcViewport.addEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.actionListCallbackHandler=function(target,event){zgssearch.commonSearchActions=zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions,zgssearch.gsaction.currSearchType=zgssearch.commonSearchActions.createActionType(target);var resObj=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{},service=target.getAttribute("service"),value=_jQueryGS(target).attr("value"),curRe=zgssearch.getCurrentSelectedElem();switch(zgssearch.setGSTagElems(curRe),value){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"reply":case"replyall":case"fwdi":var accountId=resObj.account_id,zuid=resObj.message_id;zgssearch.gsmails.mailReplyActionHandler(accountId,zuid,value,target);break;case"read":zgssearch.readMailstatusCalloutActions(service,curRe,resObj,target);break;case"unread":zgssearch.unreadMailstatusCalloutActions(service,curRe,resObj,target);break;case"watch":case"unwatch":zgssearch.gsstreams.toggleWatchStatus(curRe,resObj,value,"",target);break;case"continue":zgssearch.continueForCalloutAction(service,resObj,target,event);break;case"pcontinue":zgssearch.chatAction(target,"chat",event,resObj);break;case"download":zgssearch.downloadForCalloutAction(service,resObj,target);break;case"sendMail":zgssearch.startComposeMail(target,"email");break;case"audio":case"video":zuid=resObj.zuid||"";zgssearch.getSearchType()===GSConstant.CALENDAR&&(zuid=zgssearch.eventHostZUID),zgssearch.startAudioVideoCall(zuid,value);break;case"copyLink":zgssearch.copyUrl(target,event,resObj);break;case"pdf":zgssearch.pdfMode=!0,"undefined"!=typeof pdfjsDistBuildPdf?zgssearch.gsconnector.loadPDF(target):(menuEl=zgssearch.network.getFingerPrintFilePath("js/pdf.js",!0),zgssearch.network.loadJSFile(menuEl,zgssearch.gsconnector.loadPDF));var vtext=zgssearch.getI18NMsg("gs.search.callout.iframeViewer");_jQueryGS(target).attr("value","iframe").text(vtext);break;case"iframe":zgssearch.pdfMode=!1;var menuEl=zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder")||zgssearch.getTargetElem("zgs20_gsConnectorCallout");zgssearch.setGSTagElems(menuEl),zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,zgssearch.gsaction.currSearchType.getCurrentResponseObj());vtext=zgssearch.getI18NMsg("gs.search.callout.pdfViewer");_jQueryGS(target).attr("value","pdf").text(vtext);break;case"edit":zgssearch.gscrm.EditRecord(service);break;case"embedPreview":zgssearch.gssavedsearches.displaySavedSearchDialog("",zgssearch.getI18NMsg("gs.preview_card.save_preview_title"),"embedPreview");break;case"addToWD":zgssearch.openInWD(service,resObj,target)}},zgssearch.clickActionForCalloutTitle=function(compType,event){var url=_jQueryGS(compType).parents(".zgs19_gsCCPrevCont");if(zgssearch.isPreviewOpenedInComponent&&zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)zgssearch.pccomponent.onOpen();else if(0<url.length)zgssearch.stopEvent(event);else{zgssearch.commonSearchActions=zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions,zgssearch.gsaction.currSearchType=zgssearch.commonSearchActions.createActionType(compType);var resObj=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{},service=_jQueryGS(compType).attr("service"),url=zgssearch.fetchCalloutUrl(service,resObj,compType);if(service==GSConstant.CHAT)zgssearch.chatAction(compType,"continue",event,resObj);else{if(service==GSConstant.MAILS){if(window.hasOwnProperty("zmList")&&zmList.hasOwnProperty("getMailData")||zgssearch.isGSOpenedInWorkplaceApp)try{var accountId=resObj.account_id,messageId=resObj.message_id;return zgssearch.isActionHandlerEnabledInSuiteApp&&!zgssearch.isPreviewOpenedInComponent?void zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmList.getMailData",[{from:"zia",accId:accountId,msgId:messageId,opentype:2,type:"lt",src:"external"}]):(zmList.getMailData({from:"zia",accId:accountId,msgId:messageId,opentype:2,type:"lt",src:"external"}),void zgssearch.toggleGlobalsearch())}catch(ex){zgssearch.throwClientError("Error in getting Mail data.",ex)}}else if(service==GSConstant.CLIQ){if(zgssearch.isCliqDomain||zgssearch.isGSOpenedInWorkplaceApp)return void zgssearch.openChat(compType,"continue",event,resObj)}else if(service==GSConstant.CALENDAR){if(zgssearch.isGSOpenedInWorkplaceApp){var subServiceName="";switch(resObj.sId){case"4":subServiceName="Mail";break;case"9":subServiceName="Desk"}compType=zgssearch.getComponentType();return compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp&&zgssearch[compType].previewHandler(GSConstant.CALENDAR,url,subServiceName,{eventId:resObj.eId,calId:resObj.cId}),void zgssearch.stopEvent(event)}}else if(service==GSConstant.WORKDRIVE){var component=zgssearch.getComponentType();if(component&&zgssearch[component].isPreviewHandlerEnabledInSuiteApp)return zgssearch[component].previewHandler(service,url),void zgssearch.stopEvent(event)}url&&((component=zgssearch.getComponentType())&&zgssearch[component].isPreviewHandlerEnabledInSuiteApp?zgssearch[component].previewHandler(service,url):(zgssearch.isPreviewOpenedInComponent||zgssearch.hideZiaForSameDomain(service),zgssearch.openInNewTab(url)),zgssearch.stopEvent(event))}}},zgssearch.openInNewTab=function(url){var aElem;url&&((aElem=document.createElement("a")).class="zgs19_gsDisplayNone",aElem.id="zgs20_gsOpenInNewTabLink",aElem.href=url,aElem.target="_blank",aElem.rel="noopener noreferrer",document.body.appendChild(aElem),aElem.click(),_jQueryGS("#zgs20_gsOpenInNewTabLink").remove())},zgssearch.fetchCalloutUrl=function(service,resObj,target){var accId=resObj.account_id||resObj.accId||"";return accId=accId||(target?(new zgssearch.dashboardSearchActions).createActionType(target).getCurrAccId():zgssearch.getResultAccountId()),zgssearch.fetchCalloutUrlByAccId(service,resObj,accId)},zgssearch.fetchCalloutUrlByAccId=function(service,resObj,accId){var url="";switch(service){case GSConstant.MAILS:resObj&&(shared=resObj.account_id,fileType=resObj.message_id,url=GSConstant.GS_MAIL_URL+"/zm/popMail.do?accId="+shared+"&msgId="+fileType);break;case GSConstant.STREAMS:resObj&&(authorZUID=resObj.gId||"",fileName=resObj.id||"",serviceURL=resObj.entityType||"",url=GSConstant.GS_MAIL_URL+"/zm/#stream/tab/"+authorZUID+"/"+fileName+"/"+serviceURL+"/viewGroupEntity");break;case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:resObj&&(url=resObj.url);break;case GSConstant.DOCUMENTS:var docId=resObj.docid,shared=resObj.shared,fileType=resObj.doc_type,authorZUID=resObj.service,fileName=""+resObj.is_resource_id,serviceURL=zgssearch.getServiceName(authorZUID);"true"==fileName?("show"===authorZUID||"writer"===authorZUID?url="/"+authorZUID+"/open/"+docId:"explorer"===authorZUID?url="folder"===fileType?"/"+fileType+"/"+docId:"/file/"+docId:"sheet"===authorZUID&&(url="/"+authorZUID+"/ropen.do?rid="+docId),serviceURL=zgssearch.getServiceName("explorer")):"writer"===authorZUID?url="/index.do?docId="+docId:"show"===authorZUID?url="/Edit.do?P_ID="+docId:"sheet"===authorZUID?url="/open.do?docid="+docId:"explorer"===authorZUID&&(fileName=resObj.doc_name,authorZUID=resObj.zuid,url=zgssearch.isSupportedOpenFormat(fileType)?"false"==shared?"/viewuploadeddoc.do?docId="+docId+"&ftype="+fileType+"&filename="+fileName+"&view=view":"/viewshareduploadeddoc.do?docId="+docId+"&ftype="+fileType+"&filename="+fileName+"&authorId="+authorZUID:"folder"===fileType?"/"+fileType+"/"+docId:"/file/"+docId),url=serviceURL+url;break;case GSConstant.WORKDRIVE:docId=resObj.dId;url="true"===resObj.isF?GSConstant.GS_WORKDRIVE_URL+"/folder/"+docId:GSConstant.GS_WORKDRIVE_URL+"/file/"+docId;break;case GSConstant.PEOPLE:url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.pkid||"");break;case GSConstant.CLIQ:url=GSConstant.GS_CLIQ_URL+"/chats/"+(resObj.cid||"");break;case GSConstant.SUPPORT:url=zgssearch.gssupport.openSupportResult(resObj,accId);break;case GSConstant.CONNECT:url=resObj.url;break;case GSConstant.WIKI:url=zgssearch.gswiki.openWikiResult(resObj,!1);break;case GSConstant.WEBSITE:url=zgssearch.gswebsite.openWebsiteResult(resObj);break;case GSConstant.CRM:url=zgssearch.crmRecordOpen(resObj,accId);break;case GSConstant.REPORTS:url=zgssearch.gsreports.openReportsResult(resObj);break;case GSConstant.CREATOR:url=zgssearch.gscreator.openCreatorResult(resObj);break;case GSConstant.ORGRESOURCES:url=zgssearch.gsconnector.openConnectorResult(resObj);break;case GSConstant.BOOKS:case GSConstant.INVOICE:url=zgssearch.gsbooks.openBooksResult(service,accId,resObj);break;case GSConstant.CAMPAIGNS:url=zgssearch.gscampaign.openCampaignsResult(resObj,accId);break;case GSConstant.BOX:resObj&&(url=resObj.url||"");break;case GSConstant.SLACK:url=resObj.link||"";break;case GSConstant.O365MAIL:url=resObj.webLink||"";break;case GSConstant.ONEDRIVE:resObj&&(url=resObj.webUrl||"");break;case GSConstant.SALESFORCE:url=resObj["Open Url"];break;case GSConstant.CALENDAR:url=zgssearch.gscalendar.openCalendarResult(resObj);break;case GSConstant.NOTEBOOK:url=zgssearch.gsnotebook.getNotebookResultURL(resObj);break;case GSConstant.ASANA:url=zgssearch.projectMgmtCalloutObj.getCalloutResponse().task_info.open_link;break;case GSConstant.BIGIN:url=zgssearch.gscrm.openBiginResult(resObj,accId);break;case GSConstant.EVERNOTE:resObj&&(url=resObj.openUrl||"");break;case GSConstant.PROJECTS:resObj&&(url=resObj.url||"")}return url},zgssearch.startComposeMail=function(target,iframeSrc){var emailId=_jQueryGS(target).attr(iframeSrc),iframeSrc=zgssearch.getServiceList("serviceList")||[];zgssearch.isArrayContain(GSConstant.MAILS,iframeSrc)?(0==emailId.indexOf("mailto:")&&(emailId=emailId.substr("mailto:".length)),zgssearch.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmUtil.compose",[{TO:emailId}]):(iframeSrc=GSConstant.GS_MAIL_URL+"/zm/comp.do?to="+emailId+"&"+zgssearch.originParam,zgssearch.gsmails.loadMailCalloutIframe(iframeSrc,target))):(0!=emailId.indexOf("mailto:")&&(emailId="mailto:"+emailId),zgssearch.openInNewTab(emailId))}}(zgssearch,window),function(zgssearch,window){zgssearch.pulseNetworkId={},zgssearch.pulseNetworkURL={};var _jQueryGS=window._jQueryGS;zgssearch.stopEvent=function(event){event&&(event.preventDefault(),event.stopPropagation())},zgssearch.dashboardSearchActions=function(){this.createActionType=function(tarElem){var actionType;return zgssearch.hasOwnProperty("gsdbUtils")&&zgssearch.gsdbUtils.isDashboardOpened()?(actionType=new zgssearch.dashboardActions).setCardFromCallout(tarElem):zgssearch.hasOwnProperty("gscardUtils")&&zgssearch.gscardUtils.isCardPageOpened()?(actionType=new zgssearch.cardPagePreviewActions).setCurrentCard():actionType=new zgssearch.searchActions,actionType}},zgssearch.getUserStatus=function(uzuid,cobj){var name="",tip="",status="",pname=zgssearch.isWMSChatPaused();return uzuid&&"-1"!==uzuid&&!pname&&(pname="big"==cobj?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(cobj=zgssearch.getWMSUserContacts()).hasOwnProperty(uzuid)&&(0==(status=cobj[uzuid].STATUS)?(name=pname+" zgs19_gsWMSOffline",tip=zgssearch.getI18NMsg("gs.search.iam.offline")):1==status?(name=pname+" zgs19_gsWMSOnline",tip=zgssearch.getI18NMsg("gs.search.iam.online")):2==status?(name=pname+" zgs19_gsWMSInvisible",tip=zgssearch.getI18NMsg("gs.search.iam.invisible")):3==status?(name=pname+" zgs19_gsWMSBusy",tip=zgssearch.getI18NMsg("gs.search.iam.busy")):4==status&&(name=pname+" zgs19_gsWMSIdle",tip=zgssearch.getI18NMsg("gs.search.iam.idle")))),{name:name,tip:tip,status:status}},zgssearch.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},zgssearch.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),caLen=ca.length,i=0;i<caLen;i++){var c=ca[i].trim();if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""},zgssearch.renderPhoto=function(id,photoURL,addClass,errorClass,targetEle,errorDiv){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){fail=function(ele,tarElem,tarPar,errorDiv){tarPar?zgssearch.handlePhotoRender(tarElem,ele,zgssearch.gsspacer,tarPar):errorDiv?(tarPar=_jQueryGS(tarElem).parent()[0],_jQueryGS(tarElem).remove(),_jQueryGS(tarPar).prepend(errorDiv)):zgssearch.renderCalloutNoUserPhoto(ele.getAttribute("gs"),ele.getAttribute("group")),zgssearch.removeEle(ele)};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){zgssearch.handlePhotoRender(targetEle,this,this.src,addClass),zgssearch.removeEle(this)},error:function(){fail(this,targetEle,errorClass,errorDiv)}},!0):this.fail(serviceImgDummy,targetEle,errorClass)})},zgssearch.handlePhotoRender=function(targetEle,imgEle,src,classStr){targetEle&&null!=targetEle?_jQueryGS(targetEle).attr("src",src).attr("class",classStr):(imgEle=zgssearch.getTargetElem(imgEle.getAttribute("gs")))&&_jQueryGS(imgEle).attr("src",src).attr("class",classStr)},zgssearch.hasAudioSupport=function(){return!(!zgssearch.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("voice")},zgssearch.hasVideoSupport=function(){return!(!zgssearch.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("video")},zgssearch.iterResultObjData=function(cliqTitle,titleObj,metaData,resultsArr){cliqTitle===zgssearch.GSConstant.CONNECT&&(zgssearch.pulseNetworkId[titleObj]=metaData.network_id||metaData.networkId,zgssearch.pulseNetworkURL[titleObj]=metaData.network_url||metaData.networkURL),cliqTitle===zgssearch.GSConstant.CLIQ&&(metaData.title&&"No Title"!=metaData.title||(titleObj=zgssearch.chidVsMeta||{},!(cliqTitle=metaData.cid||"")&&resultsArr&&(cliqTitle=resultsArr[0].cid),cliqTitle=(titleObj.hasOwnProperty(cliqTitle)?titleObj[cliqTitle]:{}).title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),metaData.title=zgssearch.replaceHTMLEntity(cliqTitle)||""))},zgssearch.getThumbPhotoURL=function(id){return zgssearch.GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+id+zgssearch.nps},zgssearch.getConnectPartitionElem=function(tooltip,className){var parName="",parZuid="",currentUserZuid=zgssearch.GSConstant.cuz||null,apostrophe="",wallTxt="",parZuid=tooltip.hasOwnProperty("pname")?(parName=zgssearch.replaceHTMLEntity(tooltip.pname),tooltip.pzuid||""):(parName=tooltip.author||"",tooltip.zuid||""),tooltip=parName;return""!=parZuid&&"-1"!=parZuid&&(currentUserZuid==parZuid?tooltip=parName=zgssearch.getI18NMsg("gs.search.service_connect.mywall"):(tooltip+="'s "+zgssearch.getI18NMsg("gs.search.service_connect.wall"),apostrophe=zgssearch.hasOwnProperty("gscomponent")&&"en"===zgssearch.gscomponent.gslanguage||zgssearch.hasOwnProperty("pccomponent")&&"en"===zgssearch.pccomponent.gslanguage?_jQueryGS("<span>",{class:className}).html("&#39;s"):"",wallTxt=_jQueryGS("<span>",{gstitle:tooltip}).text(zgssearch.getI18NMsg("gs.search.service_connect.wall")))),[_jQueryGS("<span>",{gstitle:tooltip}).text(parName),apostrophe,wallTxt,tooltip]},zgssearch.getDocResTT=function(servImg){return zgssearch.isSetTT||(zgssearch.isSetTT=!0,zgssearch.docsImgObj={zgs19_explorer:zgssearch.getI18NMsg("gs.search.result.document.explorer"),zgs19_writer:zgssearch.getI18NMsg("common.writer"),zgs19_sheet:zgssearch.getI18NMsg("common.sheet"),zgs19_show:zgssearch.getI18NMsg("common.show"),zgs19_undefinedtype:zgssearch.getI18NMsg("common.undefined_docstype"),zgs19_pdf:zgssearch.getI18NMsg("common.pdf"),zgs19_video:zgssearch.getI18NMsg("common.video"),zgs19_image:zgssearch.getI18NMsg("common.image"),zgs19_html:zgssearch.getI18NMsg("common.html"),zgs19_music:zgssearch.getI18NMsg("common.music"),zgs19_zip:zgssearch.getI18NMsg("common.zip"),zgs19_folder:zgssearch.getI18NMsg("gs.search.result.document.folder"),zgs19_wiki:zgssearch.getI18NMsg("gs.search.result.document.wiki"),zgs19_word:zgssearch.getI18NMsg("gs.search.result.document.word"),zgs19_power:zgssearch.getI18NMsg("gs.search.result.document.powerpoint"),zgs19_xl:zgssearch.getI18NMsg("gs.search.result.document.xl"),zgs19_txt:zgssearch.getI18NMsg("gs.search.result.document.txt")}),zgssearch.docsImgObj[servImg]||""},zgssearch.getCalendarServiceName=function(serviceId){switch(serviceId){case"4":return zgssearch.getI18NMsg("gs.search.service_mails");case"8":return zgssearch.getI18NMsg("gs.search.service_crm");case"9":return zgssearch.getI18NMsg("gs.search.service_desk");case"31":return zgssearch.getI18NMsg("gs.search.service_bigin")}},zgssearch.isQueryValid=function(query){return 0<(query?query.trim():"").length},zgssearch.endsWith=function(str,delim){return str.match(delim+"$")==delim},zgssearch.updateSpecificAccountDetails=function(service_name,accId,metaData){service_name!==zgssearch.GSConstant.CAMPAIGNS||_jQueryGS.isEmptyObject(metaData)||(zgssearch.campaigns_version[metaData.modId]=metaData.version),service_name===zgssearch.GSConstant.PROJECTS&&metaData&&(zgssearch.gsprojects.portalTimezone[accId]=metaData.timezone,zgssearch.gsprojects.portalTzOffset[accId]=metaData.timezone_offset,zgssearch.gsprojects.portalTzOffsetStr[accId]=metaData.formatted_timezone_offset)},zgssearch.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},zgssearch.loadResNoPhotoImg=function(userIcon){var imgEle=zgssearch.getTargetElem(userIcon);imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&(userIcon="true"==_jQueryGS(imgEle.gsUserPhoto).attr("group")?"zgs19_gsChatGroupIcon":"zgs19_gsResNoUserPhoto",_jQueryGS(imgEle.gsUserPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons "+userIcon)))},zgssearch.isPreviewCard=function(calloutObj){return calloutObj.cardCalloutType&&"preview"==calloutObj.cardCalloutType},zgssearch.loadCalloutNoPhotoImg=function(imgEle){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader").removeClass("zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},zgssearch.hexToRgb=function(rgb){rgb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(rgb);return rgb?{r:parseInt(rgb[1],16),g:parseInt(rgb[2],16),b:parseInt(rgb[3],16)}:null},zgssearch.rgbaToRgb=function(rgbArr){rgbArr=rgbArr.slice(rgbArr.indexOf("(")+1,rgbArr.indexOf(")")).split(", ")[0].split(",");return rgbArr?{r:rgbArr[0],g:rgbArr[1],b:rgbArr[2]}:null}}(zgssearch,window),function(zgssearch,window){var gsaction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsaction=(gsaction=void 0,(gsaction=zgssearch.gsaction||{}).calloutEditFieldsAction=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype"),actions=new zgssearch.dashboardSearchActions;switch(gsaction.currSearchType=actions.createActionType(tarElem),datatype){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":gsaction.renderEditFieldsUI(tarElem,datatype);break;case"dueDateChange":zgssearch.loadDatePicker(zgssearch.handleDueDatePickerElem.bind(null,datatype));break;case"statusChange":zgssearch.gssupportaction.renderStatusOptionUI(tarElem);break;case"closeEditFields":zgssearch.hideEditFieldsList(),zgssearch.gsaction.currSearchType={};break;case"changeEditFields":zgssearch.currEditFieldselecelem&&gsaction.clickActionForEditList(zgssearch.currEditFieldselecelem)}},gsaction.getEditFieldsHolder=function(datatype,title,notify,mode,cancel){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsHolder",class:"zgs19_gsEditFieldsHolder zgs19_gsBoxShadowPopup zgs19_gsDisplayNone",gs:"editFieldsList",datatype:datatype}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"editFieldsHeader"}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocusOut"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons"})).append(_jQueryGS("<input>",{id:"zgs20_gsEditFieldsQrybox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:title})))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsNotify",class:"zgs19_gsEditFieldsNotify zgs19_gsModuleFilterWidgetHeader zgs19_gsOverflow"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsCheck zgs19_gsCurPointer",type:"checkbox"})).append(_jQueryGS("<span>",{gstitle:notify}).text(notify))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:mode,value:mode,gs:"CalloutEditFields",datatype:"changeEditFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:cancel,value:cancel,gs:"CalloutEditFields",datatype:"closeEditFields"})))},gsaction.getEditFieldsChild=function(id,datatype){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsChild"+id,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:datatype}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell3"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsRadio",type:"radio"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildName"+id,istip:!0,class:"zgs19_gsAutoSuggChildName"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildEmail"+id})))))},gsaction.displayEditFieldsUI=function(tarElem,theight){zgssearch.isEditFieldsDisplay=!0,_jQueryGS("#zgs20_gsEditFieldsHolder").show(),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollTop(0),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollLeft(0),_jQueryGS(tarElem).addClass("zgs19_gsboxholder zgs19_gsboxholderbot");var ttop=theight||320,tleft=tarElem.getBoundingClientRect();tleft.width>ttop&&(ttop=tleft.width-2),_jQueryGS("#zgs20_gsEditFieldsHolder").css("width",ttop),_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",240),_jQueryGS("#zgs20_gsEditFieldsFooter").css("border-bottom","1px solid #dadada");theight=_jQueryGS(tarElem).height()+4,tleft=gsaction.currSearchType.getCalloutParent(tarElem),ttop=zgssearch.findPosY(tarElem,tleft)-40,tleft=zgssearch.findPosX(tarElem,tleft);_jQueryGS("#zgs20_gsEditFieldsHolder").css("top",ttop+theight),_jQueryGS("#zgs20_gsEditFieldsHolder").css("left",tleft)},gsaction.clickActionForEditList=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype");switch(datatype){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":gsaction.clickEditFieldsUI(tarElem,datatype)}},gsaction.updateEditFieldsHeight=function(calloutHeader){var maxHeight=gsaction.currSearchType.getCalloutParent(calloutHeader),calloutHt=_jQueryGS(maxHeight).outerHeight(),calloutHeader=gsaction.currSearchType.getTargetElem(".zgs19_gsCalloutHeader"),maxHeight=0,maxHeight=calloutHt-_jQueryGS(calloutHeader).outerHeight()-_jQueryGS("#zgs20_gsEditFieldsHolder").position().top-51-50-(maxHeight="none"!=_jQueryGS("#zgs20_gsEditFieldsNotify").css("display")?35:maxHeight)-20;_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",maxHeight)},gsaction.renderEditFieldsUI=function(tarElem,type){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var editFieldsHolder=gsaction.currSearchType.getTargetElem("#zgs20_gsEditFieldsHolder"),chanOwnerBText=_jQueryGS(editFieldsHolder).css("display");if(null==chanOwnerBText&&"none"==chanOwnerBText||_jQueryGS(editFieldsHolder).attr("datatype")!=type&&zgssearch.hideEditFieldsList(),null==(chanOwnerBText=_jQueryGS(editFieldsHolder).css("display"))||"none"===chanOwnerBText){zgssearch.hideEditFieldsList();var parent,resObj,portalId,uniqueIds=[],ownerList={},argbject={},isKeyExists=!1,curOwnerId="",notify_display="",chanOwnerSText="",chanOwnerBText="";"crmOwnerChange"==type||"biginOwnerChange"==type?(notify_display="block",parent=gsaction.currSearchType.getTargetElem("#zgs20_gsCrmImpInnerContent"),chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.change"),chanOwnerSText=zgssearch.getI18NMsg("gs.search.callout.changeowner"),curOwnerId=gsaction.currSearchType.getCurrentCRMOwner()||"",resObj=gsaction.currSearchType.getServiceName(),portalId=gsaction.currSearchType.getCurrAccId(),isKeyExists=zgssearch[resObj+"OrgInfo"].isUserExists(portalId),ownerList=zgssearch[resObj+"OrgInfo"].getUsersInMod(portalId),argbject={type:type,tarElem:tarElem}):"deskOwnerChange"==type&&(notify_display="none",parent=gsaction.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.assign"),chanOwnerSText=zgssearch.getI18NMsg("gs.search.callout.searchagent"),curOwnerId=zgssearch.gssupport.assigneeId||"",resObj=gsaction.currSearchType.getCurrentResultObj(),portalId=gsaction.currSearchType.getCurrAccId(),cancelText=zgssearch.gssupportaction.getSupportUnAssObj(),notifyText=zgssearch.gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),isKeyExists=zgssearch.gssupportaction.isSupportDeptAgentExists(portalId,resObj.DEP_ID),argbject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:type,tarElem:tarElem},ownerList=_jQueryGS.extend({},cancelText,notifyText));var cancelText=zgssearch.getI18NMsg("common.cancel"),notifyText=zgssearch.getI18NMsg("gs.search.callout.crm.notify_owner"),editFieldsHolder=gsaction.getEditFieldsHolder(type,chanOwnerSText,notifyText,chanOwnerBText,cancelText);if(_jQueryGS(parent).append(editFieldsHolder),isKeyExists){for(var id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),gsaction.renderEditFieldsChild(id,ownerObj,type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",notify_display),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","block"),uniqueIds.length<1&&(_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(zgssearch.getI18NMsg("gs.bigin.no_users"))),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","none"),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","none")),gsaction.displayEditFieldsUI(tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")),zgssearch.gsdbUtils.isDashboardOpened()&&gsaction.updateEditFieldsHeight(tarElem)}else"deskOwnerChange"!=type&&"crmOwnerChange"!=type&&"biginOwnerChange"!=type||(gsaction.addLoaderForEditFields(argbject),gsaction.displayEditFieldsUI(tarElem))}else zgssearch.hideEditFieldsList()},gsaction.renderEditFieldsChild=function(nameFragment,photoURL,nobj,eobj){var index=zgssearch.gsautocomplete.getSuggestIndex(),emailFragment=gsaction.getEditFieldsChild(index,nobj);_jQueryGS(emailFragment).attr("index",index),_jQueryGS("#zgs20_gsEditFieldsFooter").append(emailFragment);var oid=zgssearch.replaceHTMLEntity(nameFragment),name=zgssearch.replaceHTMLEntity(photoURL.full_name),email=zgssearch.replaceHTMLEntity(photoURL.email),nobj=zgssearch.gsautocomplete.gethighlighttext(name," "+eobj,!1),emailFragment={class:"zgs19_gshighlight"},email=email&&"null"!=email.toLowerCase()?email:"",nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,emailFragment);zgssearch.getTargetElem("zgs20_gsEditFieldsChildName"+index).appendChild(nameFragment);eobj=0==nobj.isMatched?zgssearch.gsautocomplete.gethighlighttext(email," "+eobj,!0):{prefix:email},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,emailFragment);zgssearch.getTargetElem("zgs20_gsEditFieldsChildEmail"+index).appendChild(emailFragment),_jQueryGS("#zgs20_gsEditFieldsChildName"+index).attr("gstitle",name),_jQueryGS("#zgs20_gsEditFieldsChildEmail"+index).attr("gstitle",email),_jQueryGS("#zgs20_gsEditFieldsChild"+index).attr("oid",oid);photoURL=photoURL.zuid;photoURL&&"-1"!==photoURL?(photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.updateUserPhoto("zgs20_gsEditFieldsChild"+index,photoURL)):zgssearch.loadResNoPhotoImg("zgs20_gsEditFieldsChild"+index),zgssearch.addEventForEditFieldsQueryBox()},gsaction.clickEditFieldsUI=function(modName,type){var notify,action,portalId,attrObj,resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),params="",curOwnerId="",serviceName=zgssearch.gsaction.currSearchType.getServiceName(),oid=_jQueryGS(modName).attr("oid"),oname=_jQueryGS(modName).find(".zgs19_gsAutoSuggChildName").attr("gstitle");"crmOwnerChange"==type||"biginOwnerChange"==type?(curOwnerId=zgssearch.gsaction.currSearchType.getCurrentCRMOwner(),notify=_jQueryGS("#zgs20_gsEditFieldsHolder").find(".zgs19_gsEditFieldsCheck").prop("checked")||!1,action="biginOwnerChange"===type?"updateBiginRecords":"updateCRMRecords",portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),modName=serviceName==zgssearch.GSConstant.CRM?"crmMod":serviceName==zgssearch.GSConstant.BIGIN?"module":"",params="action="+action+"&entityId="+resObj.id+"&"+modName+"="+resObj.mod+"&ownerID="+encodeURIComponent(oid)+"&notify="+notify+"&orgId="+portalId):"deskOwnerChange"==type&&(curOwnerId=zgssearch.gssupport.assigneeId||"",portalId=zgssearch.gsaction.currSearchType.getCurrAccId()||resObj.accId,params="action=updateDeskAssignee&id="+resObj.doc_id+"&portalId="+portalId+"&assigneeId="+encodeURIComponent(oid)),oid!=curOwnerId?(zgssearch.hideEditFieldsList(),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,attrObj={id:oid,name:oname,type:type,serviceName:serviceName},function(ncount,status,nscallout){zgssearch.hideSearchPageLoader();var calloutObj,nresObj=zgssearch.jsonParse(ncount),response=nresObj&&nresObj.response||"";"SUCCESS"==response?(calloutObj=nscallout.args||{},ncount="",nresObj="gs.search.callout.crm.success.update",GSConstant.SUPPORT==calloutObj.serviceName&&("Unassigned"==calloutObj.id?nresObj="gs.search.callout.desk.success.unassign_update":(nresObj="gs.search.callout.desk.success.update",ncount=" "+attrObj.name)),nscallout=zgssearch.getI18NMsg(nresObj)+ncount,zgssearch.showbannertip({ty:1,msg:nscallout}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[calloutObj.serviceName].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,updateRecord:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("CANNOT_PERFORM_ACTION"!=response&&"INVALID_DATA"!=response?"gs.search.callout.crm.errorresp2":"gs.search.callout.crm.errorresp1")})})):zgssearch.hideEditFieldsList()},gsaction.searchForEditFields=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn");var orgId,service,flag,cur_time,query=(query=zgssearch.getValue("zgs20_gsEditFieldsQrybox")).trim(),idCount=0,ownerList={},deskObject={},resObj="",portalId="",curOwnerId="",datatype=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");if("crmOwnerChange"==datatype||"biginOwnerChange"==datatype?(orgId=zgssearch.gsaction.currSearchType.getCurrAccId(),service=zgssearch.getCalloutSearchType(),ownerList=zgssearch[service+"OrgInfo"].getUsersInMod(orgId),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:""):"deskOwnerChange"==datatype?(resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),curOwnerId=zgssearch.gssupport.assigneeId||"",portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),cur_time=zgssearch.gssupportaction.getSupportUnAssObj(),deskObject=zgssearch.gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},cur_time,deskObject)):"statusChange"==datatype&&(resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),ownerList=zgssearch.gssupportaction.getSupportStatusObj(portalId,resObj.DEP_ID)),zgssearch.isQueryValid(query)){var dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&");for(id in ownerList){ownerObj=ownerList[id];if(curOwnerId!=id){var name="",email="";"statusChange"==datatype?name=ownerObj.name:(name=zgssearch.replaceHTMLEntity(ownerObj.full_name),email=zgssearch.replaceHTMLEntity(ownerObj.email));var emailReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");if(-1<name.search(emailReg)?"statusChange"==datatype?zgssearch.gssupportaction.renderStatusOptionChild(ownerObj,datatype):gsaction.renderEditFieldsChild(id,ownerObj,datatype,query):"crmOwnerChange"!=datatype&&"deskOwnerChange"!=datatype||(emailReg=new RegExp(dn,"i"),-1<email.search(emailReg)&&gsaction.renderEditFieldsChild(id,ownerObj,datatype,query)),10<=(idCount=_jQueryGS("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}}}else for(var id in ownerList){var ownerObj=ownerList[id];if("statusChange"==datatype?zgssearch.gssupportaction.renderStatusOptionChild(ownerObj,datatype):gsaction.renderEditFieldsChild(id,ownerObj,datatype,""),10<=(idCount=_jQueryGS("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}"deskOwnerChange"!=datatype&&"crmOwnerChange"!=datatype&&"biginOwnerChange"!=datatype||(flag=idCount<1?"none":"block",_jQueryGS("#zgs20_gsEditFieldsBottom").css("display",flag),"crmOwnerChange"!=datatype&&"biginOwnerChange"!=datatype||_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",flag)),0==idCount&&"deskOwnerChange"==datatype&&(Object.keys(deskObject).length||0)>=zgssearch.gssupportaction.defDeskContactsCount&&(flag=(cur_time=zgssearch.gsusercontacts.queueserver).flag||!1,deskObject=cur_time.expiry_time||0,cur_time=(new Date).getTime(),(!flag||15e3<cur_time-deskObject)&&(deskObject="&portalId="+portalId+"&deptId="+resObj.DEP_ID,zgssearch.gssupportaction.isDeskSearchReqCached(query,deskObject)||(deskObject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:datatype,query:query,extraParams:deskObject},gsaction.addLoaderForEditFields(deskObject))))},gsaction.addLoaderForEditFields=function(argObj){var datatype,orgId,service=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(service),_jQueryGS("#zgs20_gsEditFieldsBottom").hide(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.isEditFieldsLoaderUI=!0,zgssearch.isEditFieldsLoader||(zgssearch.isEditFieldsLoader=!0,"crmOwnerChange"==(datatype=argObj.type||"")||"biginOwnerChange"==datatype?(orgId=gsaction.currSearchType.getCurrAccId(),service=zgssearch.gsaction.currSearchType.getServiceName(),zgssearch[service+"OrgInfo"].fetchUsersInfo(argObj,orgId)):"deskOwnerChange"==datatype&&zgssearch.gssupportaction.fetchSupportAgentInfo(argObj))},gsaction.handleEnterAction=function(){var target=zgssearch.currEditFieldselecelem;"statusChange"==_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype")&&zgssearch.gssupportaction.clickActionForStatus(target)},gsaction)}(zgssearch,window),zgssearch.servicesWithNoEmptyResponse=[zgssearch.GSConstant.BOX],zgssearch.commonTemplateConstants={author:"author_name",name:"doc_name",time:"time"},zgssearch.iframeUrl,zgssearch.FileMgmtFactory=function(){this.createFileMgmtService=function(serviceInfo){var fileServiceInstance;switch(serviceInfo.service){case zgssearch.GSConstant.DOCUMENTS:fileServiceInstance=new Docs;break;case zgssearch.GSConstant.DROPBOX:fileServiceInstance=new DropBox;break;case zgssearch.GSConstant.BOX:fileServiceInstance=new Box;break;case zgssearch.GSConstant.GOOGLEDRIVE:fileServiceInstance=new Gdrive;break;case zgssearch.GSConstant.ONEDRIVE:fileServiceInstance=new Onedrive}return fileServiceInstance.service=serviceInfo.service,fileServiceInstance.accId=serviceInfo.accountId||"",fileServiceInstance.offset=-1<serviceInfo.offset?serviceInfo.offset:"",fileServiceInstance.parentId=serviceInfo.parentId||"",fileServiceInstance.setResponseObj=function(responseObj){this.responseObj=responseObj},fileServiceInstance.fileObj={},fileServiceInstance.calloutObj={},fileServiceInstance.previewObj={},fileServiceInstance.parentElem=serviceInfo.parentElem||"",fileServiceInstance.cardObj=serviceInfo.cardObj||"",fileServiceInstance.getAccId=function(){return this.accId},fileServiceInstance.getService=function(){return this.service},fileServiceInstance.getOffsetValue=function(){return this.offset},fileServiceInstance.getFileObj=function(){return this.fileObj},fileServiceInstance.getParentId=function(){return this.parentId},fileServiceInstance.getResponseObj=function(){return this.responseObj},fileServiceInstance.getPreviewObj=function(){return this.previewObj},fileServiceInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},fileServiceInstance.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsDocsCallout"},fileServiceInstance.setPreviewParentId=function(previewId){this.previewId=previewId},fileServiceInstance.getPreviewParentId=function(){return this.previewId},fileServiceInstance.setCommonTemplateValues=function(){this.fileObj.accId=this.getAccId(),this.fileObj.serviceName=this.getService(),this.fileObj.type=this.cardObj?this.cardObj.type:"Search"},fileServiceInstance.renderResults=function(){var responseObj=this.getResponseObj();this.setCommonTemplateValues(),this.fileObj.results=[],this.fileObj.results=this.formatResults(responseObj),this.appendResults()},fileServiceInstance.setCommonResultProperties=function(resultObj){var offset=this.getOffsetValue(),tempFileObj={};tempFileObj.index=offset,tempFileObj.shared=resultObj.shared_type||"",tempFileObj.serviceImg=resultObj.servImg||"",tempFileObj.serviceImgTitle=zgssearch.getDocResTT(resultObj.servImg),tempFileObj.footer_tip=zgssearch.getI18NMsg("common.author"),tempFileObj.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";var accId=this.getAccId(),currentDivId=this.getService();tempFileObj.doc_link=zgssearch.fetchCalloutUrlByAccId(currentDivId,resultObj,accId);var sVal=resultObj.shared?3===resultObj.shared_type?1:0:-1;0!=(sVal=resultObj.shared?3===resultObj.shared_type?1:resultObj.sharedByMe?-1:0:-1)&&1!=sVal||(tempFileObj.isShared=!0,tempFileObj.sharedIcon=zgssearch.docsShared[sVal].icon,tempFileObj.sharedTitle=zgssearch.docsShared[sVal].title);currentDivId="zgs20_gs"+currentDivId+"Results_"+offset;return this.cardObj?currentDivId="zgs20_"+this.cardObj.cardId+"_"+offset:zgssearch.multiPageEnabled&&(currentDivId="zgs20_gs"+accId+"Results_"+offset),tempFileObj.id=currentDivId,tempFileObj},fileServiceInstance.appendResults=function(){var templateFunc,parentDivElem,fileObj,load_instance=this.getService();zgssearch.isHandlebarLoaded()?(parentDivElem=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[parentDivElem],fileObj=this.getParentId(),parentDivElem=this.parentElem||_jQueryGS("#"+fileObj),fileObj=this.getFileObj(),1<this.getOffsetValue()?parentDivElem.append(templateFunc(fileObj)):parentDivElem.html(templateFunc(fileObj))):(null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),this.appendResults())},fileServiceInstance.commonCalloutParams=function(resObj){return{serviceName:this.getService(),cId:resObj.CONNECTOR_ID||zgssearch.getResultAccountId()||"",pkid:resObj.doc_id||resObj.id||"",extn:resObj.extn||"",type:resObj.rtype||"",fileName:resObj.name||zgssearch.FILE,mType:resObj.mtype||resObj.mimeType||""}},fileServiceInstance.setCommonCalloutProperties=function(resObj,curCalloutObj){var currEle=zgssearch.getCurrentSelectedElem()||{},service=this.getService();this.calloutObj.service=this.getService(),this.calloutObj.fileUrl=zgssearch.fetchCalloutUrl(service,resObj),this.calloutObj.postedBy=this.getPostedByInfo(resObj),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||"",this.calloutObj.userPhotoObj=this.constructAuthorPhotoObj(resObj),this.calloutObj.loadericonId="zgs20_gsdocsprevLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader",this.calloutObj.curCalloutObj=curCalloutObj,this.calloutObj.calloutId=curCalloutObj?curCalloutObj.calloutId:"zgs20_gsDocsCallout",this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsDocsPreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},fileServiceInstance.constructCalloutResponse=function(response,resObj,parentDiv){var curCalloutObj=parentDiv.searchObj;this.setCommonCalloutProperties(resObj,curCalloutObj),this.setServiceSpecificCalloutInfo(resObj),this.calloutObj.ownerTitle=this.calloutObj[zgssearch.commonTemplateConstants.author];parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";this.calloutObj.userPhotoObj.hasOwnProperty("class")||(this.calloutObj.userPhotoObj.isGroup?(this.calloutObj.userPhotoObj.isSpan=!0,this.calloutObj.userPhotoObj.class="zgs18_gsGroupIcon "):this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"),this.renderCalloutView(response,resObj,parentDiv,curCalloutObj)},fileServiceInstance.renderCalloutView=function(response,resObj,currService,curCalloutObj){var menuEl=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),menuEl=search_handlebars.templates[menuEl];_jQueryGS(currService).html(menuEl(this.calloutObj));currService=this.calloutObj.userPhotoObj;currService&&zgssearch.renderPhoto(currService.id,currService.url,currService.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null);menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),this.calloutObj.curCalloutObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.minpreview).css("display","none"),this.isFileDownloadable(resObj)||_jQueryGS(menuEl.docsdownload).css("display","none"),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),this.setCalloutEleSize(),zgssearch.isExtension&&zgssearch.thirdPartyCookieDisabled&&"documents"===curCalloutObj.service?(_jQueryGS(menuEl.previewHolder).show(),_jQueryGS("#zgs20_gsdocsprevLoader").remove(),currService={gs:"documentsApp",service:GSConstant.DOCUMENTS,previewHolder:"docspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.documents.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(this.renderCalloutPreview(resObj,response),this.addCalloutActionList(resObj,curCalloutObj))},fileServiceInstance.getPostedByInfo=function(resObj){var service=this.getService(),createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),sharedBy=zgssearch.getI18NMsg("common.shared_by"),ownedBy=zgssearch.getI18NMsg("common.owned_by"),path=zgssearch.getI18NMsg("common.path");return resObj.shared||resObj.stm?service==zgssearch.GSConstant.ONEDRIVE&&resObj.sharedByMe?createdBy:sharedBy:resObj.path?path:service==zgssearch.GSConstant.ONEDRIVE?createdBy:ownedBy},fileServiceInstance.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height());contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},fileServiceInstance.constructAuthorPhotoObj=function(sname){var userPhotoObj={},zuid=zgssearch.getCurCalloutCount();userPhotoObj.id="zgs20_gsDocsCalloutUserImg"+zuid,userPhotoObj.url=zgssearch.gsspacer,userPhotoObj.isGroup=!1,userPhotoObj.isSpan=!1;zuid=sname.zuid,sname=zgssearch.getUserStatus(zuid);return this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder","-1"!==zuid&&void 0!==zuid&&(sname=sname.name||"",userPhotoObj.class="zgs19_gsCalloutUserImg",userPhotoObj.url=zgssearch.getThumbPhotoURL(zuid),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+sname),userPhotoObj},fileServiceInstance.renderCalloutPreview=function(resObj,response){var previewType,previewObject,paramsObj=this.getService(),parentId=this.getPreviewParentId(),preview=new zgssearch.ZSPreview;!response&&-1<zgssearch.servicesWithNoEmptyResponse.indexOf(paramsObj)?((previewObject=preview.createPreviewObj(previewType)).setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.hideLoader(),previewObject.setCardObj(this.cardObj),paramsObj={txt:zgssearch.getI18NMsg("gs.search.result.preview.status.callout.errortext")},previewObject.constructErrorDOMContent(paramsObj)):(previewType=this.getPreviewType(resObj,response)||resObj.doc_type||"",previewObject=preview.createPreviewObj(previewType),zgssearch.iframeUrl&&(previewObject.setIframeUrl(zgssearch.iframeUrl),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),previewObject.setIframeId("callout_iframe_"+(new Date).getTime())),previewObject.setCardObj(this.cardObj),previewObject.setPreviewHolder("docspreviewHolder"),previewObject.setCalloutHolder(this.getCalloutHolder()),previewObject.setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.renderPreview(),zgssearch.calloutVisitRequest())},fileServiceInstance.addCalloutActionList=function(resObj){var service=this.getService(),menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{addToWD:"Add to Workdrive"}],i=0;i<alist.length;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key||"addToWD"==key){var docType=(docType=resObj.doc_type||resObj.rtype||"")||resObj.mimeType?docType:zgssearch.FOLDER,downloadURL=zgssearch.GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||docType===zgssearch.FOLDER||service==zgssearch.GSConstant.BOX&&(resObj.hasOwnProperty("is_download")||"boxnote"==resObj.extn)||resObj.hasOwnProperty("is_down")&&!resObj.is_down)continue}("addToWD"!=key||service!==zgssearch.GSConstant.DOCUMENTS&&zgssearch.addToWDEnabled())&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service}).text(dectext))}}},fileServiceInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},fileServiceInstance.downloadDocument=function(resObj,resourceId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(resourceId),paramObj={},downloadUrl="",service=actionType.getServiceName(),enabledCloudApps=zgssearch.getEnabledCloudApps();service===zgssearch.GSConstant.DOCUMENTS?(resourceId=resObj.docid,downloadUrl=zgssearch.httpstxt+"://"+GSConstant.downloadServer+"/v1/docs/download/"+resourceId):-1<enabledCloudApps.indexOf(service)&&(service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.service=service,downloadUrl=zgssearch.connectors.constructZSYNCDownloadURL(paramObj,resObj)),zgssearch.network.download_file(downloadUrl)},fileServiceInstance.addToWD=function(service,resObj,paramObj,folderId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(paramObj),paramObj={};service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.service=service,paramObj.folderId=folderId,zgssearch.connectors.addFileToWD(paramObj,resObj)},fileServiceInstance.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},fileServiceInstance.getPreviewType=function(resObj,resp){var previewType,type,rle,service=this.getService();return resObj.hasOwnProperty("is_preview")&&!resObj.is_preview?resObj.hasOwnProperty("extn")&&resObj.extn===zgssearch.ZIP||"application/zip"==resObj.mimeType?previewType=zgssearch.ZIP:service==zgssearch.GSConstant.ONEDRIVE?previewType=10==resObj.cSize?zgssearch.FILE:zgssearch.FOLDER:(type=resObj.rtype||"",rle=resObj.rle||!1,type!==zgssearch.FOLDER&&!rle||(previewType=type===zgssearch.FOLDER?zgssearch.FOLDER:zgssearch.FILE)):(service==zgssearch.GSConstant.DOCUMENTS&&resObj.doc_type!=zgssearch.FOLDER?zgssearch.iframeUrl=this.getDocsPreviewURL(resObj):(resp=resp.response,zgssearch.iframeUrl=resp&&resp.url?resp.url:""),zgssearch.iframeUrl&&(previewType=zgssearch.IFRAME)),previewType},fileServiceInstance.isFileDownloadable=function(resObj){var service=this.getService(),isDownloadable=!0;if((resObj.doc_type||resObj.rtype)==zgssearch.FOLDER)isDownloadable=!1;else switch(service){case zgssearch.GSConstant.BOX:!resObj.hasOwnProperty("is_download")&&"boxnote"!=resObj.extn||(isDownloadable=!1);break;case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:resObj.hasOwnProperty("is_down")&&!resObj.is_down&&(isDownloadable=!1);break;case zgssearch.GSConstant.ONEDRIVE:service!=zgssearch.GSConstant.ONEDRIVE||resObj.mimeType||(isDownloadable=!1)}return isDownloadable},fileServiceInstance}};Box=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getBoxPreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_id="+paramsObj.pkid+"&extn="+paramsObj.extn+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time}},DropBox=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(footerTip){var currentObj=self.setCommonResultProperties(footerTip);currentObj[zgssearch.commonTemplateConstants.author]=footerTip.path,currentObj[zgssearch.commonTemplateConstants.name]=footerTip.name,currentObj[zgssearch.commonTemplateConstants.time]=footerTip.time;footerTip=(footerTip=zgssearch.getI18NMsg("common.path")).charAt(0).toUpperCase()+footerTip.slice(1);currentObj.footerTip=footerTip,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDDropboxPreviewUrl&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.path,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.rtype&&(resObj.rtype!=zgssearch.FOLDER?this.getDropboxFileOwner(resObj,this.calloutObj):(this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+resObj.servImg+" zgs19_gsMg13px",this.calloutObj.userPhotoObj.isSpan=!0))},this.getDropboxFileOwner=function(responseObj,calloutObj){var pkid=responseObj.id,params=responseObj.CONNECTOR_ID,urlObj=zgssearch.getAppIdForCloudApps(params),params="action=getFileMembers&pkid="+pkid+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+params+"&app_id="+urlObj,urlObj={url:"/zgssearch/exconnector/getCalloutData",async:!1,type:"GET"};urlObj.data=params,urlObj.dataType="text",urlObj.success=function(toBeShownCount){var editors,editorArr,ownerCount,ownerDetails,fileDetails,toBeShownCount=JSON.parse(toBeShownCount);toBeShownCount.response&&((toBeShownCount=toBeShownCount.response).owner?(0<(editors=(editorArr=toBeShownCount.owner).owner_arr).length&&(fileDetails=editors),editorArr.is_multi&&(calloutObj.userPhotoObj.isGroup=!0),calloutObj.postedBy=zgssearch.I18N.getValue("gs.callout.owned.by")):(toBeShownCount.editor||toBeShownCount.viewer)&&(toBeShownCount.editor&&(0<(editorArr=(editors=toBeShownCount.editor).editor_arr).length&&(fileDetails=editorArr),editors.is_multi&&(calloutObj.userPhotoObj.isGroup=!0)),toBeShownCount.viewer&&(0<(ownerCount=(ownerDetails=toBeShownCount.viewer).viewer_arr).length&&(fileDetails?Array.prototype.push.apply(fileDetails,ownerCount):fileDetails=ownerCount),ownerDetails.is_multi&&(calloutObj.userPhotoObj.isGroup=!0))),fileDetails?(calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.result.document.callout.sharedwith"),(toBeShownCount=1)==zgssearch.gscomponent.UIType&&(toBeShownCount=3),fileDetails.length>toBeShownCount&&(ownerDetails=1==(ownerCount=fileDetails.length-toBeShownCount)?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):zgssearch.getI18NMsg("gs.search.result.mail.menu.others"),calloutObj.ownerCountTitle="+"+ownerCount+" "+ownerDetails,ownerDetails=fileDetails.splice(toBeShownCount,fileDetails.length),fileDetails=fileDetails.splice(0,toBeShownCount),calloutObj.multiOwnerTitle=calloutObj.postedBy,calloutObj.multiOwnerList=ownerDetails),fileDetails=fileDetails.join(", ")):(responseObj.path?fileDetails=responseObj.path:(fileDetails=responseObj.time,calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.sevice_docs_lastModifiedTime")),calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+responseObj.servImg+" zgs19_gsFileIcon"),calloutObj[zgssearch.commonTemplateConstants.author]=fileDetails)},zgssearch.network.uri(urlObj)}},Gdrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.stm&&(currentObj.sharedIcon=zgssearch.docsShared[0].icon,currentObj.sharedTitle=zgssearch.docsShared[0].title,currentObj.isShared=!0),resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),mimeType=encodeURIComponent(paramsObj.mType),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDGDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&mime_type="+mimeType+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,this.calloutObj.userPhotoObj.url=resObj.photo||"",this.calloutObj.userPhotoObj.class="zgs19_gsCalloutUserImg"}},Onedrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),driveId=zsoid.driveId||"",zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getOneDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&id="+paramsObj.pkid+"&mimeType="+paramsObj.mType+"&name="+encodeURIComponent(paramsObj.fileName)+"&driveId="+driveId+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj.cursorClass="zgs19_gsCurPointer"}},Docs=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.author,currentObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,resultArr.push(currentObj),self.offset++}),resultArr},this.callOutParams=function(paramsObj){paramsObj=this.commonCalloutParams(paramsObj);return"searchType="+paramsObj.serviceName+"&docId="+paramsObj.pkid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.author,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.getDocsPreviewURL=function(resObj){var servImg=resObj.servImg,resourceId=resObj.docid;switch(servImg=zgssearch.isPreviewOpenedInComponent?"zgs19_"+resObj.service:servImg){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return zgssearch.GSConstant.GS_DOCS_URL+"/writer/preview/"+resourceId;case"zgs19_xl":case"zgs19_sheet":return zgssearch.GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+resourceId+"&top=no";case"zgs19_power":case"zgs19_show":return zgssearch.GSConstant.GS_DOCS_URL+"/show/preview/"+resourceId+"?notopbar=true";default:return zgssearch.GSConstant.GS_DOCS_URL+"/orgembed/"+resourceId}}};!function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.callOutURL="/zgssearch/gsCallOutData",zgssearch.connectorCallOutURL="/zgssearch/exconnector/getCalloutData",zgssearch.clickPositionURL="/zgssearch/gsClickPosition",zgssearch.attachmentURL="/zgssearch/gsAttachments",zgssearch.curCalloutCount=zgssearch.curCalloutCount||0,zgssearch.getCurrentResponseObj=zgssearch.getCurrentResponseObj||{},zgssearch.httpReqForCallout=new Array,zgssearch.regNull=new RegExp("^null$","i"),zgssearch.isMaxCalloutOpen=!1,zgssearch.calloutSearchType="",zgssearch.pdfMode=!1,zgssearch.searchCalloutObj=zgssearch.searchCalloutObj||{},zgssearch.xmlhttpCalloutReq=zgssearch.xmlhttpCalloutReq||"",zgssearch.convertToKBMB=function(sizeinbytes){var sizeinkb=Math.round(sizeinbytes/1024),sizeinmb=Math.round(sizeinkb/1024);return 0<sizeinmb?sizeinmb+" MB":0<sizeinkb?sizeinkb+" KB":sizeinbytes+" Bytes"},zgssearch.moveToViewPort=function(curResPage,viewport_top){var eletop=viewport_top[0].offsetTop,pageHeight=curResPage.height(),viewport_top=curResPage.scrollTop();viewport_top<eletop&&eletop<viewport_top+pageHeight||curResPage.scrollTop(eletop-pageHeight/2)},zgssearch.calloutLoaderIcon=function(curCalloutObj){var loadericon=curCalloutObj.type,calloutLoader=!loadericon||loadericon!==zgssearch.dbCrdCalloutType&&loadericon!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":curCalloutObj.calloutId+"_Loader";_jQueryGS("#zgs20_gscoutLoadHolder").remove();loadericon=zgssearch.getFourDotLoader("zgs20_gsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader");_jQueryGS(curCalloutObj.parentElem).find("#"+calloutLoader).length<=0&&_jQueryGS(curCalloutObj.parentElem).append(_jQueryGS("<div>",{id:calloutLoader,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone zgs19_gsZIndex101"}).append(loadericon))},zgssearch.calloutErrorPage=function(curCalloutObj,msg){var errorPageID=curCalloutObj.type,errorPageID=!errorPageID||errorPageID!==zgssearch.dbCrdCalloutType&&errorPageID!==zgssearch.crdPagecalloutType?"zgs20_gsCalloutErrorPage":curCalloutObj.calloutId+"_ErrorPage";_jQueryGS("#zgs20_gsCalloutErrorPage").remove(),_jQueryGS(curCalloutObj.parentElem).append(_jQueryGS("<div>",{id:errorPageID,class:"zgs19_gsCalloutErrorMsg"}).text(msg))},zgssearch.showCalloutLoader=function(calloutLoader){var calloutType=calloutLoader?calloutLoader.type:"",calloutLoader=!calloutType||calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":calloutLoader.calloutId+"_Loader";_jQueryGS("#"+calloutLoader).css("display","block")},zgssearch.hideCalloutLoader=function(calloutLoader){var calloutType=(calloutLoader=calloutLoader||zgssearch.searchCalloutObj).type,calloutLoader=!calloutType||calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":calloutLoader.calloutId+"_Loader";_jQueryGS("#"+calloutLoader).css("display","none")},zgssearch.hideCalloutHolder=function(){_jQueryGS(".zgs19_gsServiceCalloutHolder").css("display","none"),_jQueryGS("#zgs20_gsCalloutErrorPage").css("display","none")},zgssearch.getCurCalloutCount=function(){return zgssearch.curCalloutCount=zgssearch.curCalloutCount<500?zgssearch.curCalloutCount+1:1,zgssearch.curCalloutCount},zgssearch.getResultAccountId=function(){return zgssearch.getCurSelectedEleAttr("acc_id")},zgssearch.getCurrentResObj=function(){if(module_name=zgssearch.getCurrentSelectedElem()){var accId=(module_name=_jQueryGS(module_name)).attr("acc_id"),index=module_name.attr("index"),service=module_name.attr("service"),module_name=service===zgssearch.GSConstant.CAMPAIGNS?module_name.attr("acc_id"):module_name.attr("module_name")||module_name.attr("workspace_id");return zgssearch.getResultObject(service,index,accId,module_name)}return{}},zgssearch.loadCallout=function(tarElem){var cardElem;zgssearch.gsdbUtils.isDashboardOpened()?(cardElem=zgssearch.getParentNode(tarElem,"cardResults"))&&zgssearch.gscardsresult.loadCalloutforCard(cardElem):zgssearch.gscardUtils.isCardPageOpened()?(cardElem=zgssearch.getParentNode(tarElem,"cardPageResults"))&&zgssearch.gscards.loadCalloutforCard(cardElem):(tarElem=zgssearch.getParentNode(tarElem,"searchResultTable"))&&tarElem!==zgssearch.curSelectedEle&&(zgssearch.handleCalloutForMobileView(),zgssearch.highlightRes(tarElem.id,""))},zgssearch.getCalloutData=function(elem,resObj,curCalloutObj){var isImmediate=!(!curCalloutObj||!curCalloutObj.hasOwnProperty("cardCalloutType")||"preview"!=curCalloutObj.cardCalloutType);zgssearch.Utils.debounce(function(){var service=_jQueryGS(elem).attr("service")||resObj.serviceName,count=zgssearch.getCurCalloutCount(),scallout=zgssearch.mappedServiceList[service].callout,calloutType=curCalloutObj?curCalloutObj.type:"search";"search"===calloutType?(_jQueryGS("#zgs20_gsDocsPreviewHolder").empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),zgssearch.hideCalloutHolder()):calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType||!zgssearch.hasOwnProperty("cardObjForCurrentSelectedElem")||(zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId]={resultObj:resObj,calloutRespObj:""}),curCalloutObj.service=service,zgssearch.setCalloutSearchType(service),zgssearch.handleServiceOptionsForCallout();var fileMgmt,fileMgmtInfo,argParams={searchObj:curCalloutObj,curCalloutCount:count},curSelectedEle=zgssearch.getCurrentSelectedElem();switch(service){case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.CONNECT:case GSConstant.CRM:case GSConstant.WIKI:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.CAMPAIGNS:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.PEOPLE:case GSConstant.BIGIN:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.CREATOR:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),resObj.hasOwnProperty("isE")&&"false"==resObj.isE?zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams):zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.SLACK:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),resObj.hasOwnProperty("conid")||"2"!=resObj.result_type?zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.REPORTS:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:case GSConstant.WORKDRIVE:case GSConstant.NOTEBOOK:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch[scallout].calloutResponse(resObj,curSelectedEle,argParams);break;case GSConstant.DOCUMENTS:case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.ONEDRIVE:resObj.hasOwnProperty("is_preview")&&0==resObj.is_preview||service==GSConstant.DOCUMENTS?(fileMgmt=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=service,argParams.searchObj.cardId&&(fileMgmtInfo.cardObj=argParams.searchObj),fileMgmt.createFileMgmtService(fileMgmtInfo).constructCalloutResponse({},resObj,argParams)):(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams));break;case GSConstant.SALESFORCE:case GSConstant.ASANA:case GSConstant.EVERNOTE:zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.WEBSITE:var projMgmtFactory=resObj.aId;zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),projMgmtFactory&&(zgssearch.isIE||zgssearch.isExtension||window.hasOwnProperty("zmList")||"search"!==curCalloutObj.type)?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.SUPPORT:var service_info=resObj.module_id;zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),1==service_info||2==service_info?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.CHAT:zgssearch.hasWMSTranscript?(zgssearch[scallout].createCalloutTemplate(count),zgssearch[scallout].calloutResponse({},resObj,curSelectedEle)):(zgssearch[scallout].createCalloutTemplate(count),zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count));break;case GSConstant.CLIQ:zgssearch.gscliq.clearChatPreview(),zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.ORGRESOURCES:!resObj.hasOwnProperty("cpt")||"5"!==resObj.cpt&&"8"!==resObj.cpt?zgssearch[scallout].createCalloutTemplate(count,curCalloutObj):"5"!==resObj.cpt&&"8"!==resObj.cpt||zgssearch.getConTemp("zgs20_gsConnectorCallout",count,curCalloutObj),"2"===resObj.cpt?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.PROJECTS:projMgmtFactory=new zgssearch.ZSProjectMgmtFactory,service_info={};service_info.service_name=service,curCalloutObj.cardId&&(service_info.cardObj=curCalloutObj),service_info.acc_id=resObj.accId||zgssearch.getResultAccountId(),service_info.results=resObj,zgssearch.projectMgmtCalloutObj=projMgmtFactory.createProjectMgmtInstance(service_info),zgssearch.projectMgmtCalloutObj.calloutResponse()}},300,"calloutCallsHandler",isImmediate)},zgssearch.getCurSelectedEleAttr=function(attr){var curSelectedEle=zgssearch.getCurrentSelectedElem();return _jQueryGS(curSelectedEle).attr(attr)||""},zgssearch.handleBeforeSentCase=function(curCalloutObj){zgssearch.calloutLoaderIcon(curCalloutObj),zgssearch.showCalloutLoader(curCalloutObj)},zgssearch.calloutAjaxHandler=function(scallout,resObj,count,argparams){var isImmediate=!(!argparams.hasOwnProperty("searchObj")||"preview"!=argparams.searchObj.cardCalloutType);zgssearch.Utils.debounce(function(){zgssearch.curCalloutCount==count&&zgssearch.calloutAjaxRequest(scallout,resObj,count,argparams)},300,"calloutReq",isImmediate)},zgssearch.calloutVisitRequest=function(){var cPos,isAllPage,cSer,rPos,sPos=zgssearch.getCurrentSelectedElem();sPos&&(cPos=_jQueryGS(".zgs19_gsSearchResultTable").index(sPos)+1,isAllPage=zgssearch.getSearchType()===GSConstant.ALL,cSer=zgssearch.getCurSelectedEleAttr("service"),rPos=parseInt(zgssearch.getCurSelectedEleAttr("index"))+1,sPos=_jQueryGS("#zgs20_gsServicePanelList"+cSer),sPos=_jQueryGS(".zgs19_gsServiceMenu").index(sPos)+1,zgssearch.uri(zgssearch.POST,zgssearch.clickPositionURL,"cpos="+cPos+"&iap="+isAllPage+"&cser="+cSer+"&rpos="+rPos+"&spos="+sPos,{},function(){}))},zgssearch.calloutAjaxRequest=function(scallout,resObj,argparam,cargparam){var crm,params,fileMgmt,fileMgmtInfo,fileMgmtService,notesTemplateFactory,temp1Obj,coutUrl=zgssearch.getCalloutSearchType();coutUrl===zgssearch.GSConstant.SALESFORCE?((notesTemplateFactory={}).service_name=coutUrl,notesTemplateFactory.acc_id=zgssearch.getResultAccountId(),cargparam.searchObj.cardId&&(notesTemplateFactory.cardObj=cargparam.searchObj),fileMgmtInfo=new zgssearch.ZSCRMFactory,params=(crm=fileMgmtInfo.createCRM(notesTemplateFactory)).calloutParams()):-1<zgssearch.SERVICES_STORAGE.indexOf(coutUrl)?(fileMgmt=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=coutUrl,cargparam.searchObj.cardId&&(fileMgmtInfo.cardObj=cargparam.searchObj),params=(fileMgmtService=fileMgmt.createFileMgmtService(fileMgmtInfo)).calloutParams(resObj)):-1<zgssearch.SERVICES_PROJECT.indexOf(coutUrl)?(temp1Obj=new zgssearch.ZSProjectMgmtFactory,(notesTemplateFactory={}).service_name=coutUrl,cargparam.searchObj.cardId&&(temp1Obj.cardObj=cargparam.searchObj),notesTemplateFactory.acc_id=zgssearch.getResultAccountId(),zgssearch.projectMgmtCalloutObj=temp1Obj.createProjectMgmtInstance(notesTemplateFactory),params=zgssearch.projectMgmtCalloutObj.calloutParams(resObj),temp1Obj=zgssearch.getFourDotLoader("zgs20_gsProjectsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader"),_jQueryGS("#zgs20_gsSearchResultRight").empty().append(temp1Obj)):params=-1<zgssearch.SERVICES_NOTES.indexOf(coutUrl)?(notesTemplateFactory=new zgssearch.notesTemplateFactory,(temp1Obj={}).service=coutUrl,temp1Obj.accountId=zgssearch.getResultAccountId(),cargparam.searchObj.cardId&&(temp1Obj.cardObj=cargparam.searchObj),zgssearch.notesTemplateInstance=notesTemplateFactory.createCurServiceInstance(temp1Obj),zgssearch.notesTemplateInstance.callOutParams(resObj)):zgssearch[scallout].calloutParams(resObj,cargparam);argparam=cargparam||{curCalloutCount:argparam},coutUrl=-1<zgssearch.getEnabledCloudApps().indexOf(coutUrl)?zgssearch.connectorCallOutURL:zgssearch.callOutURL;zgssearch.isPreviewOpenedInComponent&&(zgssearch.ZSNetwork.abortOngoingCalloutCalls(),argparam.isCalloutReq=!0),zgssearch.uri(zgssearch.GET,coutUrl,params,argparam,function(response,status,curSelectedEle){var calloutObj=curSelectedEle.args||{},argCurCalloutCount=calloutObj.curCalloutCount,orgCurCalloutCount=zgssearch.curCalloutCount,curSelectedEle=calloutObj.searchObj||{};!curSelectedEle&&_jQueryGS.isEmptyObject(curSelectedEle)&&(type=zgssearch.getSearchCalloutObj(searchType),calloutObj.searchObj=type);var searchType=curSelectedEle.hasOwnProperty("service")?curSelectedEle.service:zgssearch.getCalloutSearchType(),type=curSelectedEle.hasOwnProperty("type")?curSelectedEle.type:"search",curSelectedEle=curSelectedEle.hasOwnProperty("curSelectedEle")?curSelectedEle.curSelectedEle:zgssearch.getCurrentSelectedElem();orgCurCalloutCount!=argCurCalloutCount&&type!==zgssearch.dbCrdCalloutType&&type!==zgssearch.crdPagecalloutType||("error"!=status||calloutObj.updateRecord?(response=zgssearch.jsonParse(response),zgssearch.getCurrentResponseObj=response,searchType===zgssearch.GSConstant.SALESFORCE?(crm.cardObj=calloutObj.searchObj,crm.setCurrentResObj(),crm.calloutResponse(response,calloutObj)):-1<zgssearch.SERVICES_STORAGE.indexOf(searchType)?fileMgmtService.constructCalloutResponse(response,resObj,calloutObj):searchType===zgssearch.GSConstant.PEOPLE?zgssearch[scallout].calloutResponse(response,curSelectedEle,calloutObj):-1<zgssearch.SERVICES_PROJECT.indexOf(searchType)?(zgssearch.projectMgmtCalloutObj.setCalloutResponse(response.response),zgssearch.projectMgmtCalloutObj.calloutResponse(calloutObj)):-1<zgssearch.SERVICES_NOTES.indexOf(searchType)?zgssearch.notesTemplateInstance.constructCalloutResponse(response,resObj,calloutObj):zgssearch[scallout].calloutResponse(response,resObj,curSelectedEle,calloutObj)):"error"==status&&(calloutObj=calloutObj.searchObj,zgssearch.hideCalloutLoader(calloutObj),(-1<zgssearch.SERVICES_STORAGE.indexOf(searchType)?fileMgmtService:-1<zgssearch.SERVICES_NOTES.indexOf(searchType)?zgssearch.notesTemplateInstance:zgssearch[scallout]).calloutErrorMsg("ERROR",calloutObj)))})},zgssearch.renderCalloutUserPhoto=function(id,photoURL,isGroup){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){handleCalloutUserPhotoError=function(ele){zgssearch.renderCalloutNoUserPhoto(ele.getAttribute("gs"),ele.getAttribute("group")),zgssearch.removeEle(ele)};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id,group:isGroup})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsFetchImgLoader zgs19_gsResultsUniIcons zgs19_gsFetchImgLoaderMar zgs19_gsCalloutNoUserImg").addClass("zgs19_gsCalloutUserImg")),zgssearch.removeEle(this)},error:function(){handleCalloutUserPhotoError(this)}},!0):this.handleCalloutUserPhotoError(serviceImgDummy)})},zgssearch.renderBigCalloutUserPhoto=function(id,photoURL){try{var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id,src:photoURL})[0];_jQueryGS(serviceImgDummy).off().on({load:function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader").addClass("zgs19_gsDocsCalloutImgNew")),zgssearch.removeEle(this)},error:function(){var imgEle=this.getAttribute("gs"),imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew")),zgssearch.removeEle(this)}},!0)}catch(ex){zgssearch.throwClientError("Unable to load callout photo.",ex)}},zgssearch.renderCalloutNoUserPhoto=function(imgEle,isGroup){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(imgEle.setAttribute("src",zgssearch.gsspacer),"true"==isGroup?_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon zgs19_gsCalloutGroupMarg"):_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},zgssearch.getFileImageClass=function(extension){extension=extension.replace(/^.*\./,"");return"ai"==extension||"jpg"==extension||"bmp"==extension||"png"==extension||"gif"==extension||"psd"==extension||"jpeg"==extension||"ttf"==extension||"svg"==extension?"image":"3g2"==extension||"3gp"==extension||"3gpp"==extension||"avi"==extension||"flv"==extension||"m4v"==extension||"mkv"==extension||"mov"==extension||"mp4"==extension||"mpeg"==extension||"mpg"==extension||"ogv"==extension||"vob"==extension||"webm"==extension||"webmv"==extension||"wmv"==extension||"vcf"==extension||"vlc"==extension||"fla"==extension||"swf"==extension?"video":"m4a"==extension||"mp3"==extension||"oga"==extension||"ogg"==extension||"wav"==extension||"webma"==extension?"music":"doc"==extension||"docm"==extension||"docx"==extension||"dot"==extension||"dotm"==extension||"dotx"==extension||"ds"==extension||"sxw"==extension||"odt"==extension||"rtf"==extension||"tex"==extension?"word":"csv"==extension||"ods"==extension||"sxc"==extension||"tsv"==extension||"xls"==extension||"xlsm"==extension||"xlsx"==extension?"xl":"odp"==extension||"pps"==extension||"ppsx"==extension||"ppt"==extension||"pptx"==extension||"sxi"==extension?"power":"pdf"==extension?"pdf":"html"==extension||"htm"==extension||"xml"==extension||"jsp"==extension||"jspf"==extension||"php"==extension||"js"==extension||"css"==extension||"sql"==extension?"html":"zip"==extension?"zip":"txt"==extension?"txt":"undefinedtype"},zgssearch.removeIDAndClassAttr=function(ele,service){GSConstant.MAILS!=service&&_jQueryGS(ele).children().each(function(){this.removeAttribute("id"),this.removeAttribute("class"),zgssearch.removeIDAndClassAttr(this)})},zgssearch.preventTableStyles=function(ele){_jQueryGS(ele).find("table").each(function(){var tableCSS={},teborderspace=_jQueryGS(this).attr("border");"none"==_jQueryGS(this).css("border-style")&&(tableCSS["border-color"]="gray",tableCSS["border-style"]="solid",tableCSS["border-width"]=(teborderspace||0)+"px");var tebcellspace=_jQueryGS(this).attr("cellspacing"),teborderspace=_jQueryGS(this).css("border-spacing");(teborderspace=tebcellspace||teborderspace&&"0px"!=teborderspace&&"0px 0px"!=teborderspace?"0px"==teborderspace||"0px 0px"==teborderspace?tebcellspace+"px":teborderspace:"2px")&&(tableCSS["border-spacing"]=teborderspace),_jQueryGS(this).css(tableCSS),_jQueryGS(this).find("tbody, th, tr, td").each(function(){"none"==_jQueryGS(this).css("border-style")&&_jQueryGS(this).css(tableCSS)});var tecellpadding=_jQueryGS(this).attr("cellpadding"),pattrList=["padding-top","padding-right","padding-bottom","padding-left"];_jQueryGS(this).find("td").each(function(){for(var plistLen=pattrList.length,i=0;i<plistLen;i++){var pattrItem=pattrList[i],tepadding=_jQueryGS(this).css(pattrItem),tepadding=tecellpadding||tepadding&&"0px"!=tepadding&&"0px 0px"!=tepadding?"0px"==tepadding||"0px 0px"==tepadding?tecellpadding+"px":tepadding:"2px";_jQueryGS(this).css(pattrItem,tepadding)}})});var attrList=["valign","bgcolor","align"],attrMap=["vertical-align","background-color","margin"];_jQueryGS(ele).find("table, tbody, th, tr, td").each(function(){for(var alistLen=attrList.length,i=0;i<alistLen;i++){var attrItem=attrList[i],elemAttr=_jQueryGS(this).attr(attrItem);elemAttr&&("align"==attrItem&&(elemAttr="left"==elemAttr?"auto 0":"center"==elemAttr?"0 auto":"0 0 0 auto"),_jQueryGS(this).css(attrMap[i],elemAttr))}})},zgssearch.preventStylesFromParentDomain=function(ele,service){zgssearch.removeIDAndClassAttr(ele,service),zgssearch.updateCalloutTooltip(ele)},zgssearch.getURLHostName=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.hostname},zgssearch.getURLOrginName=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.origin},zgssearch.getURLWithoutProtocol=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.href.replace("http://","")},zgssearch.getURLPathName=function(url){var path=document.createElement("a");path.href=url;path=path.pathname;return"/"===path.charAt(0)?path.substring(1,path.length):path},zgssearch.updateCalloutTooltip=function(id){_jQueryGS(id).find("*[title]").each(function(){var titleAttr=_jQueryGS(this).attr("title");titleAttr&&(_jQueryGS(this).attr("gstitle",titleAttr),_jQueryGS(this).removeAttr("title"))})},zgssearch.renderContactsEmailId=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100 zgs19_gsCalloutFieldsMultiline"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",istip:!0,gstitle:value}).text(value)))))},zgssearch.renderContactsInfo=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:value}).text(value)))))},zgssearch.renderActionableElems=function(menuEl,target,label,value,name,gsAttr){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsLinkElem zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsLinkColour zgs19_gsfl",gs:gsAttr,gstitle:name,value:value}).text(name)))))},zgssearch.renderURL=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:value,target:"_blank",href:value,rel:"noopener noreferrer"}).text(value)))))},zgssearch.renderInstantORWebInfo=function(menuEl,target,openURL,operHolder,value){value&&""!==value&&(_jQueryGS(menuEl.lineicon).show(),operHolder=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(operHolder))),"url"===openURL?((openURL=value[0]).indexOf(zgssearch.httptxt+"://")<0&&openURL.indexOf(zgssearch.httpstxt+"://")<0&&(openURL=zgssearch.httptxt+"://"+openURL),operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",href:openURL,url:openURL,istip:!0,gstitle:value[0]}).text(value[0])))):operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow zgs19_gsfl",gstitle:value[0]}).text(value[0]))),_jQueryGS(target).append(operHolder))},zgssearch.closeIconCallout=function(){_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),_jQueryGS("#zgs20_gsSearchResultMiddle").css({width:"100%",display:"block"}),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.curSelectedEle=""},zgssearch.minCalloutPreview=function(service){zgssearch.minCalloutPreviewChange();var menuEl=zgssearch.mappedServiceList[service].callout,menuEl=(menuEl=service===zgssearch.GSConstant.SALESFORCE?"gscrm":menuEl)?zgssearch[menuEl].getCalloutHolder():"";menuEl||(service==zgssearch.GSConstant.ASANA?menuEl=zgssearch.projectMgmtCalloutObj.getCalloutHolder():service==zgssearch.GSConstant.EVERNOTE?menuEl=zgssearch.notesTemplateInstance.getCalloutHolder():service==zgssearch.GSConstant.PROJECTS&&(menuEl=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance({service_name:service}).getCalloutHolder()));menuEl=zgssearch.getTargetElem(menuEl);menuEl&&(zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"))},zgssearch.openCalloutPreview=function(service,menuEl,resObj){var gspdf,calloutObj={searchObj:zgssearch.searchCalloutObj};GSConstant.DOCUMENTS==service?zgssearch.gsdocs.renderDocsPreview(menuEl,resObj,service):GSConstant.WORKDRIVE==service?zgssearch.gsworkdrive.renderWorkDrivePreview(menuEl,resObj):GSConstant.ORGRESOURCES==service?"3"==resObj.cpt?zgssearch.gsconnector.renderLinkDetails(menuEl,resObj):zgssearch.pdfMode?("undefined"!=typeof pdfjsDistBuildPdf?zgssearch.gsconnector.loadPDF():(gspdf=zgssearch.network.getFingerPrintFilePath("js/pdf.js",!0),zgssearch.network.loadJSFile(gspdf,zgssearch.gsconnector.loadPDF)),zgssearch.pdfMode=!0):(zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,calloutObj),zgssearch.pdfMode=!1):GSConstant.BOOKS!=service&&GSConstant.INVOICE!=service||zgssearch.gsbooks.setBooksCalloutEleSize(menuEl)},zgssearch.callbackForMinAndMaxPrev=function(service){var menuEl=zgssearch.mappedServiceList[service].callout,menuEl=zgssearch[menuEl].getCalloutHolder(),menuEl=zgssearch.getTargetElem(menuEl);GSConstant.BOOKS!=service&&GSConstant.INVOICE!=service||zgssearch.gsbooks.setBooksCalloutEleSize(menuEl)},zgssearch.setScrollTopLeft=function(ele){_jQueryGS(ele).scrollTop(0),_jQueryGS(ele).scrollLeft(0)},zgssearch.getNewTabTip=function(serviceObj){var tipMsg=zgssearch.getI18NMsg("gs.search.callout.open_tab"),mlist=zgssearch.getMappedServiceList();return mlist.hasOwnProperty(serviceObj)&&(serviceObj=mlist[serviceObj]||{},tipMsg=zgssearch.getI18NMsg("gs.search.link.openin")+" "+serviceObj.displayName+" "+zgssearch.getI18NMsg("gs.search.link.app")),tipMsg},zgssearch.addMenuContent=function(photo,resObj,service,chidObj,response){var zuid=resObj.zuid,isGroupMail=resObj.isGrp,searchName="",emailId="",dispName="",chatWithUserObj="",emailAction="",targetEmailId="",finalZuid=-1,targetText=_jQueryGS(photo).text(),action=_jQueryGS(photo).attr("gs"),imgId="zgs20_gsChatWithUser";switch(service){case GSConstant.PEOPLE:targetEmailId=resObj.mailid,dispName=targetText;break;case GSConstant.PERSONALCONTACTS:targetEmailId=resObj.email,dispName=resObj.full_name;break;case GSConstant.MAILS:"receiver"===action?(targetEmailId=zgssearch.gsmails.toAddr,zuid=zgssearch.gsmails.toZuid,dispName=zgssearch.gsmails.toName,isGroupMail=zgssearch.gsmails.isGroup):"sender"===action&&(dispName=resObj.sender,targetEmailId=resObj.from_address);break;case GSConstant.CLIQ:dispName=resObj.title,targetEmailId=chidObj.oem,zuid=chidObj.owner;break;case GSConstant.CONNECT:case GSConstant.DOCUMENTS:dispName=resObj.author,targetEmailId=resObj.em;break;case GSConstant.SUPPORT:dispName=resObj.CONTACTNAME,targetEmailId=resObj.EMAIL||zgssearch.gssupport.email,zuid=zgssearch.gssupport.zuid,isGroupMail=zgssearch.gssupport.isGroup,"3"===resObj.module_id&&(targetEmailId=resObj.EMAIL,zuid=resObj.zuid,isGroupMail=resObj.isGrp);break;case GSConstant.WIKI:dispName=resObj.dN,targetEmailId=resObj.em;break;case GSConstant.REPORTS:zuid=resObj.mZUID,"Me"===(targetEmailId=resObj.mBy)?(dispName=zgssearch.GSConstant.cun,targetEmailId=zgssearch.GSConstant.cue,zuid=zgssearch.GSConstant.cuz):dispName=resObj.auth;break;case GSConstant.CREATOR:dispName=resObj.auth,targetEmailId=resObj.em;break;case GSConstant.BOOKS:"contacts"===resObj.modules?(dispName=targetText,targetEmailId=resObj.email):"recurring_invoices"===resObj.modules&&(dispName=targetText,targetEmailId=zgssearch.gsbooks.email,zuid=zgssearch.gsbooks.zuid,isGroupMail=zgssearch.gsbooks.isGroup);break;case GSConstant.INVOICE:"contacts"===resObj.modules?(dispName=targetText,targetEmailId=resObj.email):"recurring_invoices"===resObj.modules&&(dispName=targetText,targetEmailId=zgssearch.gsbooks.Email,zuid=zgssearch.gsbooks.zuid);break;case GSConstant.CAMPAIGNS:var ty=zgssearch.getResultAccountId();"2"===ty?(dispName=resObj.title,targetEmailId=resObj.c_mail):"3"===ty&&(dispName=resObj.oNam,targetEmailId=resObj.em);break;case GSConstant.WORKDRIVE:dispName=resObj.author,targetEmailId=resObj.em;break;case GSConstant.ORGRESOURCES:ty=resObj.cpt||"";ty&&"5"==ty&&(dispName=resObj.cnt||"",targetEmailId=resObj.emid||"");break;case GSConstant.NOTEBOOK:dispName=zgssearch.GSConstant.cun,targetEmailId=zgssearch.GSConstant.cue,zuid=zgssearch.GSConstant.cuz;break;case GSConstant.ASANA:response&&(targetEmailId=response.email)}var finalDispName=""!==dispName&&dispName?dispName:targetText;""!==targetEmailId&&targetEmailId&&"null"!==targetEmailId?(emailId=targetEmailId,service!=GSConstant.ASANA&&(emailAction=_jQueryGS("<div>",{id:"zgs20_gssendmail",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_sendMail_"+service,gs:"contextMenuAction",action:"sendMail",email:emailId}).text(zgssearch.getI18NMsg("gs.search.callout.send_mail_action")))):(emailId=finalDispName,service==GSConstant.ASANA&&(emailId=zgssearch.getFourDotLoader("zgs20_gsAsanaStoryAuthorLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18"))),!zuid||-1==zuid||""===zuid||isGroupMail&&"false"!=isGroupMail?searchName=emailId:(zuid!=zgssearch.GSConstant.cuz&&(chatWithUserObj=_jQueryGS("<div>",{id:"zgs20_gsChatAction",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_chatWithUser_"+service,gs:"contextMenuAction",action:"chatWithUser",chatid:zuid}).text(zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"))),searchName=finalDispName,finalZuid=zuid);photo="";service!=GSConstant.ASANA&&(photo=_jQueryGS("<div>",{id:"zgs20_gsMenuSearchFor",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_searchUser_"+service,gs:"contextMenuAction",action:"searchUser",query:searchName,value:finalZuid,eId:emailId}).text(zgssearch.getI18NMsg("gs.search.service_search_for")+" ").append(_jQueryGS("<span>").text('"'+searchName+'"')));photo=_jQueryGS("<div>",{id:"zgs20_gsMenuPopUp",class:"zgs19_gsMenuPopUp zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsPhotoHolder"}).append(_jQueryGS("<img>",{id:imgId,class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"userPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSenderDetails"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderName"}).append(_jQueryGS("<span>",{gs:"cmusername"}).text(finalDispName))).append(_jQueryGS("<div>",{class:"zgs19_gsSenderEmail"}).append(_jQueryGS("<span>",{id:"zgs20_gsSenderMailAddress",gs:"cmmailaddress"}).text(emailId)))))).append(_jQueryGS("<div>",{class:"zgs19_gsSeparator"})).append(emailAction).append(chatWithUserObj).append(photo);_jQueryGS("#zgs20_gsSearchResultRight").append(photo),service===GSConstant.PEOPLE?(photo=resObj.photo)?(-1!=photo.indexOf("/file?")?photo+=zgssearch.nps:photo=photo.replace("/api/viewEmployeePhoto?","/viewPhoto?"),zgssearch.renderCalloutUserPhoto(imgId,photo)):zgssearch.renderCalloutNoUserPhoto(imgId):-1!==zuid&&"-1"!==zuid&&void 0!==zuid?zgssearch.renderCalloutUserPhoto(imgId,zgssearch.getThumbPhotoURL(zuid)):service==zgssearch.GSConstant.ASANA?(_jQueryGS("#zgs20_gsMenuPopUp").addClass("zgs19_gsAsanaAuthorPopUp zgs19_gsLf30Px"),response&&response.photo_url?zgssearch.renderCalloutUserPhoto(imgId,response.photo_url):zgssearch.renderCalloutNoUserPhoto(imgId)):zgssearch.renderCalloutNoUserPhoto(imgId)},zgssearch.checkIsInputNumber=function(event){var ch=String.fromCharCode(event.which);/[0-9]/.test(ch)||event.preventDefault()},zgssearch.convertDurationText=function(mins){var hours=mins/zgssearch.HOURS_IN_MILLIS,mins=(mins-=(hours=Math.floor(hours))*zgssearch.HOURS_IN_MILLIS)/zgssearch.MINUTE_IN_MILLIS;return[hours,mins=Math.floor(mins)]},zgssearch.replSplChars=function(val){return val=(val=(val=val.replace(/\\/g,"\\\\")).replace(/"/g,'\\"')).replace(/\n/g,"\\n")},zgssearch.getSearchCalloutObj=function(curCalloutObj){curCalloutObj={type:"search",parentElem:"#zgs20_gsSearchResultRight",calloutId:curCalloutObj?zgssearch.mappedServiceList[curCalloutObj].id:"",iconDisplay:!0};return zgssearch.searchCalloutObj=curCalloutObj}}(zgssearch,window);GSConstant=zgssearch.getGSConstantObj()||{};function ZSHandlebarsResource(){this.load=function(){zgssearch.isHandlebarLoaded()||(zgssearch.HandlebarLoaded=!0,zgssearch.GSConstant.handlebarsUrl=zgssearch.network.getFingerPrintFilePath("js/handlebars.js",!0),zgssearch.network.loadJSFile(zgssearch.GSConstant.handlebarsUrl,this.handleBarsNoConflict))},this.handleBarsNoConflict=function(){window.search_handlebars=Handlebars.noConflict()}}function ZSSlackResource(){this.load=function(){var css_static_path;void 0===zgssearch.slackformat&&(css_static_path=zgssearch.network.getFingerPrintFilePath("css/gsemoji.css",!0),zgssearch.network.loadCSSFile(css_static_path,function(){var js_static_path=zgssearch.network.getFingerPrintFilePath("js/slack.js",!0);zgssearch.network.loadJSFile(js_static_path)}))}}zgssearch.ZSPreview=function(){this.createPreviewObj=function(previewType){var previewInstance;switch(previewType){case zgssearch.IFRAME:previewInstance=new zgssearch.ZSIframe;break;case zgssearch.ZIP:previewInstance=new zgssearch.ZSZip;break;case zgssearch.FILE:case zgssearch.FOLDER:default:previewInstance=new zgssearch.ZSPreviewUnavailable}return previewInstance.setParentId=function(parentId){this.parentId=parentId},previewInstance.setPreviewType=function(previewType){this.previewType=previewType},previewInstance.setPreviewHolder=function(previewHolder){this.previewHolder=previewHolder},previewInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},previewInstance.setIframeUrl=function(iframeUrl){this.iframeUrl=iframeUrl},previewInstance.setLoaderIconId=function(loaderIconId){this.loaderIconId=loaderIconId},previewInstance.setIframeClassName=function(iframeClass){this.iframeClass=iframeClass},previewInstance.setIframeAttr=function(iframeProp){this.iframeProp=iframeProp},previewInstance.setIframeId=function(iframeId){this.iframeId=iframeId},previewInstance.getIframeUrl=function(){return this.iframeUrl},previewInstance.getParentId=function(){return this.parentId},previewInstance.getPreviewType=function(){return this.previewType},previewInstance.getParamsObj=function(){return this.paramsObj},previewInstance.getCalloutHolder=function(){return this.calloutHolder},previewInstance.getPreviewHolder=function(){return this.previewHolder},previewInstance.getLoaderIconId=function(){return this.loaderIconId},previewInstance.getIframeClassName=function(){return this.iframeClass},previewInstance.getIframeAttr=function(){return this.iframeProp},previewInstance.getIframeId=function(){return this.iframeId},previewInstance.setCardObj=function(cardObj){this.cardObj=cardObj},previewInstance.getCurrentResObj=function(){var type="",cardId="",cardObj=this.cardObj;return cardObj&&(cardId=cardObj.cardId,type=cardObj.type),zgssearch.Utils.getResultObjectofType(type,cardId)},previewInstance.constructParamsObj=function(text,btnText){this.paramsObj={service:zgssearch.getCurSelectedEleAttr("service")||GSConstant.ORGRESOURCES,txt:text||zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),btnTxt:btnText||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")}},previewInstance.hideLoader=function(){var loader_elem=this.getLoaderIconId(),loader_elem=document.getElementById(loader_elem);loader_elem&&void 0!==loader_elem&&(zgssearch.isIE?_jQueryGS(loader_elem).css("display","none"):loader_elem.remove())},previewInstance.renderErrorMsg=function(paramsObj){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),resObj=this.getCurrentResObj(),paramsObj=paramsObj||this.getParamsObj();this.hideLoader(),this.constructErrorDOMContent(paramsObj),zgssearch.setGSTagElems(menuEl),resObj.url||resObj.webUrl||resObj.openUrl||_jQueryGS(menuEl.connPage).css("display","none")},previewInstance.constructErrorDOMContent=function(paramsObj){var parentId=this.getParentId(),connectorPrev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(paramsObj.txt));paramsObj.btnTxt&&(_jQueryGS("#"+parentId).addClass("zgs19_gsDocsPreviewHolderBtn"),connectorPrev.append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"connPage",service:paramsObj.service}).append(_jQueryGS("<div>",{class:"zgs19_gsMgRt5Px"}).text(paramsObj.btnTxt)).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsMxWid200Px"})))),_jQueryGS("#"+parentId).html(connectorPrev)},previewInstance.setPreviewType(previewType),previewInstance.isiframe_loading_completed=!1,previewInstance}},zgssearch.ZSIframe=function(){var self=this;this.renderPreview=function(){var iframeEle;this.getIframeUrl()?(iframeEle=this.constructDOMContent(),zgssearch.isIE?setTimeout(function(){self.handleIframeOnLoad()},15e3):(_jQueryGS(iframeEle).on({load:function(){self.handleIframeOnLoad()},error:function(){self.handlePreviewUnavailability()}}),setTimeout(function(){self.isiframe_loading_completed||self.handlePreviewUnavailability()},3e4))):this.previewErrorInfo()},this.constructDOMContent=function(){var iframeProp=this.getIframeAttr()||{};iframeProp.id=this.getIframeId()||"",iframeProp.frameBorder=0,iframeProp.style||(iframeProp.style={}),iframeProp.className=this.getIframeClassName(),iframeProp.allowfullscreen=!0,iframeProp.src=this.getIframeUrl();var iframe_elem=document.createElement("iframe");if(iframeProp)for(var prop in iframeProp)if(iframeProp.hasOwnProperty(prop))if("style"!=prop)iframe_elem[prop]=iframeProp[prop];else for(var style in iframeProp[prop])iframe_elem[prop][style]=iframeProp[prop][style];var parentId=this.getParentId();return _jQueryGS("#"+parentId).html(iframe_elem),iframe_elem},this.handleIframeOnLoad=function(){this.hideLoader();var iframe_elem=_jQueryGS("#"+this.getParentId());iframe_elem.css("display","block"),iframe_elem.find("iframe").removeClass("zgs19_gsVisbHdn");iframe_elem=document.getElementById(this.getIframeId());iframe_elem&&(iframe_elem.contentDocument||iframe_elem.contentWindow)&&(this.isiframe_loading_completed=!0)},this.previewErrorInfo=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());this.hideLoader();var prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr");_jQueryGS(menuEl[this.getPreviewHolder()]).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden")},this.handlePreviewUnavailability=function(){var btnTxt,text=document.getElementById(this.getIframeId());null!=text&&(btnTxt=zgssearch.getCurSelectedEleAttr("service"),text=zgssearch.I18N.getValue("gs.common.error"),btnTxt=zgssearch.mappedServiceList[btnTxt].displayName,btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[btnTxt]),this.constructParamsObj(text,btnTxt),this.renderErrorMsg(this.getParamsObj()))}},zgssearch.ZSZip=function(){this.renderPreview=function(){this.hideLoader();var previewHolder=zgssearch.getTargetElem(this.getCalloutHolder()),previewHolder=_jQueryGS(previewHolder[this.getPreviewHolder()]);this.constructDOMContent(previewHolder)},this.constructDOMContent=function(previewHolder){var resObj=this.getCurrentResObj(),renType=zgssearch.getCurSelectedEleAttr("service"),url=_jQueryGS(previewHolder).attr("id");"zgs20_gsDocsPreviewHolder"==url&&_jQueryGS("#"+url).addClass("zgs19_gsDocsPreviewHolderBtn");url=resObj.url||resObj.webUrl,renType=_jQueryGS("<div>",{id:"zip_file_preview",gs:"zipType",class:"zgs19_gstac zgs19_gsHgt300Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsZipCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.name)).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",target:"_blank",rel:"noopener noreferrer",href:url}).append(zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[renType].displayName]))).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeDownload",gs:"docsdownload",target:"_blank",rel:"noopener noreferrer",service:renType}).append(zgssearch.I18N.getValue("gs.search.result.document.download"))));previewHolder.html(renType),this.cardObj&&_jQueryGS("#zip_file_preview").css("padding-top","65px")}},zgssearch.ZSPreviewUnavailable=function(){this.renderPreview=function(){this.constructErrorParams(),this.renderErrorMsg()},this.constructErrorParams=function(){var text,btnTxt=this.getPreviewType();btnTxt==zgssearch.FILE?text=zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize"):btnTxt==zgssearch.FOLDER&&(text=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"));btnTxt=zgssearch.getCurSelectedEleAttr("service"),btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[btnTxt].displayName]);this.constructParamsObj(text,btnTxt)}},function(zgssearch,window){var gsmails,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsmails=(gsmails=void 0,(gsmails=zgssearch.gsmails||{}).ext_img=gsmails.ext_img||{},gsmails.actionList=[{open:"common.open"},{reply:"common.reply"},{replyall:"gs.search.result.mail.replyall"},{fwdi:"common.forward"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsmails.calloutHolder="",gsmails.setCalloutHolder=function(calloutHolder){gsmails.calloutHolder=calloutHolder},gsmails.getCalloutHolder=function(){return gsmails.calloutHolder},gsmails.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&msgId="+resObj.message_id+"&accId="+resObj.account_id+"&accType="+resObj.accType},gsmails.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,replyTitle,extimgtip,extimgtext,mcallout,calloutId=curCalloutObj.calloutId,shrinkedtext=_jQueryGS("#"+calloutId).length;gsmails.setCalloutHolder(calloutId),shrinkedtext<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),replyTitle=zgssearch.getI18NMsg("common.reply"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.MAILS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.MAILS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.MAILS),service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutReplyAction",class:"zgs18_gsCalloutReplyAction zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"reply",gstitle:replyTitle,service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.MAILS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutFooter",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:GSConstant.MAILS,gstitle:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsmails.setMailCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsmails.calloutResponse=function(response,resObj,ignoreReplyActions,titleElem){var curCalloutObj=titleElem.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);if(response&&menuEl){zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ignoreReplyActions);var staObj=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.MAILS,resObj));var tolabel=(tolabel=resObj.subject||response.subject||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",titleElem=_jQueryGS(menuEl.ctitle);titleElem.text(tolabel).attr("gstitle",tolabel),titleElem.removeClass("zgs19_gsFtWeightBold"),ignoreReplyActions&&(totalCount=_jQueryGS(ignoreReplyActions.resultTitle).attr("gslabel")||"",titleElem.attr("gslabel",totalCount));tolabel=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var totalCount="zgs20_gsMailsCalloutUserImg"+staObj;_jQueryGS(menuEl.authorPhoto).attr("id",totalCount);staObj=zgssearch.getUserStatus(tolabel);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==tolabel&&void 0!==tolabel?(toValue=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+toValue),toValue=zgssearch.getThumbPhotoURL(tolabel),zgssearch.renderCalloutUserPhoto(totalCount,toValue)):zgssearch.renderCalloutNoUserPhoto(totalCount);var tolabel=resObj.display_time||"",toValue=response.sentTime||tolabel,totalCount=zgssearch.getI18NMsg("common.from",!0);_jQueryGS(menuEl.slabel).empty().text(totalCount).attr("gstitle",totalCount),_jQueryGS(menuEl.sender).empty().text(response.from).attr("gstitle",response.from),_jQueryGS(menuEl.date).empty().text(tolabel).attr("gstitle",toValue).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.sorttime"));totalCount=resObj.folder_name||"",tolabel=gsmails.fillToAddress(response.to,response.cc,response.bcc),toValue=gsmails.splitEmailId(tolabel?tolabel.value:""),tolabel=tolabel?tolabel.label:"";_jQueryGS(menuEl.rlabel).empty().text(tolabel).attr("gstitle",tolabel),_jQueryGS(menuEl.receiver).empty().text(toValue).attr("gstitle",toValue),_jQueryGS(menuEl.rfolder).empty().text(totalCount).attr("gstitle",totalCount).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.folder")),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%");totalCount=gsmails.getTotalEmailAccountCount(response.to,response.cc,response.bcc)-1;if(0<totalCount&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),totalCount=gsmails.getTotalEmailCount(totalCount),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:totalCount}).text(totalCount)).show(),gsmails.loadToOthersList(menuEl,response.to,response.cc,response.bcc)),gsmails.toAddr=response.toAddr,gsmails.toZuid=response.toZuid,gsmails.toName=response.toName,gsmails.isGroup=response.isGrp,_jQueryGS(menuEl.content).empty().append(response.content),gsmails.loadImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content,GSConstant.MAILS),gsmails.ext_img={},_jQueryGS(menuEl.ext_img).hide(),response.hasOwnProperty("ext_img")&&(_jQueryGS(menuEl.ext_img).show(),gsmails.ext_img=response.ext_img),_jQueryGS(menuEl.shrinked).hide(),"true"==response.shrinked&&_jQueryGS(menuEl.shrinked).show(),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),"1"===resObj.has_attachment||response.hasOwnProperty("attach_info")&&0<response.attach_info.length){var dataArr=response.attach_info||[],len=dataArr.length;if(0<len){var isPreviewCard=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:isPreviewCard}).text(isPreviewCard)));for(var i=0;i<len;i++){var val=dataArr[i],fileName=zgssearch.replaceHTMLEntity(val.n),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.MAILS,aId:val.i,gs:"attachtitle",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.s)))))}_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}}isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);curCalloutObj.iconDisplay&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),titleElem.attr("servImg",resObj.servImg),titleElem.attr("isBold",resObj.isBold),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show(),"true"===resObj.isBold&&gsmails.toggleMailStatus(ignoreReplyActions,resObj,"markAsRead",curCalloutObj)),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0);ignoreReplyActions=!1;_jQueryGS("#zgs20_gsCalloutReplyAction").show(),"DRAFTS"!==response.message_type&&"TEMPLATES"!==response.message_type||zgssearch.isPreviewOpenedInComponent||(ignoreReplyActions=!0,_jQueryGS("#zgs20_gsCalloutReplyAction").hide()),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&gsmails.addCalloutActionList(menuEl,ignoreReplyActions,resObj,curCalloutObj),gsmails.setMailCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()}else gsmails.calloutErrorMsg("",curCalloutObj)},gsmails.addCalloutActionList=function(menuEl,ignoreReplyActions,resObj,curCalloutObj){_jQueryGS(menuEl.calloutActionHolder).css("display","block");var folName=resObj.folder_name||"",actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsmails.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)ignoreReplyActions&&"open"!==key&&"copyLink"!==key||"Sent"==folName&&"unread"==key||"embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||(dectext=zgssearch.isPreviewCard(curCalloutObj),"unread"==key&&dectext||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.MAILS}).text(dectext))))}},gsmails.toggleMailStatus=function(curRe,resObj,oper,calloutObj,target){var msgId,accountId,accType,markAsMailParam;(curRe||zgssearch.isPreviewOpenedInComponent)&&(msgId=resObj.message_id,accountId=resObj.account_id,accType=resObj.accType,markAsMailParam=resObj.semailId,markAsMailParam="action=markAsReadUnread&msgId="+msgId+"&accId="+accountId+"&accType="+accType+"&emailid="+encodeURIComponent(markAsMailParam)+"&oper="+oper,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,markAsMailParam,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,msgId:msgId,calloutObj:calloutObj,target:target},function(data,status,argObj){argObj=argObj.args||{};gsmails.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutObj,argObj.target)}))},gsmails.responseFromServicesAction=function(mailStatus,curRe,type,oper,curresObj,target){var titleElem,statusServImg,toBeRemoveCls,toBeChangeCls,isBold,vtext;!mailStatus||"null"===mailStatus||"SUCCESS"==((statusServImg=zgssearch.jsonParse(mailStatus))&&statusServImg.response||"")&&(toBeChangeCls="",toBeChangeCls=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):(toBeRemoveCls=curresObj.calloutId,zgssearch.getTargetElem(toBeRemoveCls)),zgssearch.setGSTagElems(toBeChangeCls),isBold=(isBold=(titleElem=_jQueryGS(toBeChangeCls.ctitle)).attr("servImg"))?parseInt(isBold):"",statusServImg=(mailStatus=zgssearch.getMailImageStatus(isBold)).servImg,type.servImg=statusServImg,toBeRemoveCls=mailStatus.image,toBeChangeCls=mailStatus.toBeImage,isBold=mailStatus.toBeTitle,_jQueryGS(curRe.resultMenuItem).attr("gstitle",isBold),isBold="","markAsRead"===oper?(isBold="false",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),titleElem.removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),_jQueryGS(target).attr("value","unread").attr("gstitle",vtext).text(vtext)),zgssearch.isPreviewOpenedInComponent&&curresObj.hasOwnProperty("callbackFn")&&curresObj.callbackFn&&curresObj.callbackFn()):"markAsUnread"===oper&&(isBold="true",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),titleElem.removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(target).attr("value","read").attr("gstitle",vtext).text(vtext))),titleElem.attr("servImg",statusServImg),titleElem.attr("isBold",isBold),type.isBold=isBold,type=curresObj.hasOwnProperty("type")?curresObj.type:"search",(curresObj=zgssearch.Utils.getResultObjectofType(type,curresObj.cardId)).isBold=isBold,curresObj.servImg=mailStatus.statusServImg)},gsmails.downloadAttachment=function(elem){var downloadURL=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),messageId=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:"";messageId||((accountId=(new zgssearch.dashboardSearchActions).createActionType(elem)).getCurrAccId(),messageId=accountId.getCurrentResultObj());var accType=messageId.accType,accountId=messageId.account_id,messageId=messageId.message_id,downloadURL="searchType="+_jQueryGS(elem).attr("service")+"&msgId="+messageId+"&atIndex="+atIndex+"&accId="+accountId+"&accType="+accType+"&atName="+encodeURIComponent(downloadURL),downloadURL=zgssearch.attachmentURL+"?"+downloadURL;zgssearch.network.download_file(downloadURL)},gsmails.fillToAddress=function(to,cc,bcc){to=gsmails.getFirstEmailId(to);if(null!==to)return{label:zgssearch.getI18NMsg("common.to",!0),value:to};cc=gsmails.getFirstEmailId(cc);if(null!==cc)return{label:zgssearch.getI18NMsg("gs.search.result.mail.cc"),value:cc};bcc=gsmails.getFirstEmailId(bcc);return null===bcc?{label:"",value:""}:{label:zgssearch.getI18NMsg("gs.search.result.mail.bcc"),value:bcc}},gsmails.getFirstEmailId=function(emailIds){return null==emailIds||""===emailIds?null:emailIds.split(",")[0]},gsmails.splitEmailId=function(value){var lastQuote=document.createElement("div");lastQuote.innerHTML=value;var email="";return email=""!==(value=lastQuote.textContent)?(-1!==(lastQuote=(value=value.trim()).lastIndexOf("<"))?email=value.substring(lastQuote+1,value.length):value).trim().replace("<","").replace(">","").trim():email},gsmails.getTotalEmailAccountCount=function(to,cc,bcc){to=gsmails.getArrayOfElements(to),cc=gsmails.getArrayOfElements(cc),bcc=gsmails.getArrayOfElements(bcc);return to.length+cc.length+bcc.length},gsmails.getArrayOfElements=function(emails){if(null==emails||""===emails)return[];emails=emails.split(",");return 0<emails.length?emails:[]},gsmails.getTotalEmailCount=function(count){var countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.others");return"+"+count+" "+(countMsg=1===count?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):countMsg)},gsmails.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},gsmails.displayCallout=function(){zgssearch.hideCalloutLoader(),_jQueryGS("#"+gsmails.getCalloutHolder()).show()},gsmails.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsmails.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gsmails.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsmails.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsmails.renderToOthersList=function(emailIds,label){if(emailIds){var emailList=emailIds.split(",");if(0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),elistLen=emailList.length,i=0;i<elistLen;i++){var comma=i+1===emailList.length?"":",",splitEmail=gsmails.splitEmailId(emailList[i]);emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:splitEmail}).text(splitEmail+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}}},gsmails.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsmails.mailReplyActionHandler=function(accountId,msgId,mailMode,target){var iframeSrc="/zm/comp.do?accId="+accountId+"&msgId="+msgId+"&originalMode="+mailMode+"&"+zgssearch.originParam;zgssearch.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmUtil.invokeComposer",[{from:"zia",accId:accountId,msgId:msgId,mode:mailMode,type:"t"}]):(iframeSrc=GSConstant.GS_MAIL_URL+iframeSrc,gsmails.loadMailCalloutIframe(iframeSrc,target))},gsmails.loadMailCalloutIframe=function(url,mailActHolder){var mailActionFrame;zgssearch.isExtension?zgssearch.openInNewTab(url):(mailActionFrame=zgssearch.searchCalloutObj,zgssearch.handleBeforeSentCase(mailActionFrame),mailActionFrame=zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened()?_jQueryGS(mailActHolder).closest(".zgs19_gsServiceCalloutHolder"):"#zgs20_gsSearchResultRight",((mailActHolder=_jQueryGS(mailActionFrame).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==mailActionFrame)&&(mailActHolder=_jQueryGS("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==mailActionFrame&&_jQueryGS(mailActionFrame).find(".zgs19_gsMailActionHolder").remove(),_jQueryGS(mailActionFrame).append(mailActHolder)),(mailActionFrame=document.createElement("iframe")).id="zgs20_gsMailActionFrame",mailActionFrame.className="zgs19_gsMailActionFrame",mailActionFrame.src=url,mailActionFrame.onload=function(){setTimeout(function(){zgssearch.hideCalloutLoader()},500)},mailActHolder.empty().append(mailActionFrame).show())},gsmails.loadExtImg=function(){for(var oextimg=gsmails.ext_img||{},exurl=oextimg.externalURL||[],exlink=oextimg.externalLink||[],i=0,j=0;i<exurl.length&&j<exlink.length;i++,j++){var esrc=exurl[i],eid=exlink[i];_jQueryGS("#"+gsmails.getCalloutHolder()).find("#"+eid).attr("src",esrc)}_jQueryGS("#zgs20_gsMailCalloutExtImg").hide()},gsmails.loadImagesWithDomain=function(id){var hostName=GSConstant.GS_MAIL_URL;_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0==oldImgSrc.indexOf("/mail/ImageDisplay?")&&_jQueryGS(this).attr("src",hostName+oldImgSrc)})},gsmails.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem(gsmails.getCalloutHolder());zgssearch.setGSTagElems(menuEl),gsmails.setMailCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsmails.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{message_id:resObj.message_id,account_id:resObj.account_id,accType:resObj.accType}},gsmails)}(zgssearch,window),function(zgssearch,window){var gsstreams,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsstreams=(gsstreams=void 0,(gsstreams=zgssearch.gsstreams||{}).ext_img=gsstreams.ext_img||{},gsstreams.actionList=[{open:"common.open"},{watch:"gs.search.sevice_streams_watch"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsstreams.calloutHolder="",gsstreams.setCalloutHolder=function(calloutHolder){gsstreams.calloutHolder=calloutHolder},gsstreams.getCalloutHolder=function(){return gsstreams.calloutHolder},gsstreams.getCalloutHolder=function(){return gsstreams.calloutHolder},gsstreams.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&actionType="+("true"===resObj.isOwner?"viewSelfData":"viewGroupEntity")+"&entityId="+resObj.id+"&groupId="+resObj.gId+"&entityType="+resObj.entityType},gsstreams.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,calloutId=curCalloutObj.calloutId,mcallout=_jQueryGS("#"+calloutId).length;gsstreams.setCalloutHolder(calloutId),mcallout<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.STREAMS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.STREAMS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.STREAMS),service:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:mcallout,gs:"minpreview",service:GSConstant.STREAMS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid20Per zgs19_gsCurPointer"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel1 zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"haslabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"entityTitle",gslabel:zgssearch.getI18NMsg("gs.search.filter.entity_type"),istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon"})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo"}).append(_jQueryGS("<div>",{gs:"content"}))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineInfo zgs19_timelineHeaderNaviShow zgs19_gsDisplayNone",gs:"timelineHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsCalloutActionHeader zgs19_gsCurPointer zgs19_timeline zgs19_gsInine",gs:"timeline"}).text(zgssearch.getI18NMsg("gs.search.sevice_streams_timeline")).append(_jQueryGS("<span>",{class:"zgs18_gsTimelineDDIcon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsDisplayNone ",gs:"timelinecontent"})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsCalloutActionHeader zgs19_gsCurPointer",service:GSConstant.STREAMS,gs:"streamsmoretimeline"}).text(zgssearch.getI18NMsg("gs.search.sevice_viewall_streams_timeline")))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutUserLabel zgs19_gsMSCalloutUserLabel"}).text(zgssearch.getI18NMsg("gs.search.sevice_streams_comments"))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"ptpcommentcontent"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"commentcontent"})).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutActionHeaderSC zgs19_gsCurPointer",service:GSConstant.STREAMS,gs:"streamsmorecomment"}).text(zgssearch.getI18NMsg("gs.search.sevice_viewall_streams_comments"))))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"streamBtnCont"}).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"streamsPage",service:GSConstant.STREAMS}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsstreams.setStreamsCalloutEleSize=function(menuEl){var headerHeight,contentHeight;menuEl&&(headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"))},gsstreams.calloutResponse=function(commentArray,resObj,curRe,summary){var staObj,from,entityTypeTitle,canshowgrp,entityType,link,ptpCommentArray,ptpcontainerId,totalCount,isPreviewCard,curCalloutObj=summary.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);commentArray&&menuEl?(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),ptpcontainerId=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.STREAMS,resObj)),entityType=resObj.entityType||commentArray.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityType],ptpCommentArray=(ptpCommentArray=resObj.title||commentArray.title||"")||entityTypeTitle.notitle,_jQueryGS(menuEl.ctitle).text(ptpCommentArray).attr("gstitle",ptpCommentArray),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold"),curRe&&(staObj=_jQueryGS(curRe.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",staObj)),canshowgrp=resObj.zuid,_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),summary="zgs20_gsMailsCalloutUserImg"+ptpcontainerId,_jQueryGS(menuEl.authorPhoto).attr("id",summary),staObj=zgssearch.getUserStatus(canshowgrp),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==canshowgrp&&void 0!==canshowgrp?(from=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+from),from=zgssearch.getThumbPhotoURL(canshowgrp),zgssearch.renderCalloutUserPhoto(summary,from)):zgssearch.renderCalloutNoUserPhoto(summary),canshowgrp=resObj.time||commentArray.time||"",from=resObj.name||commentArray.name||"",summary=entityTypeTitle.hasText+" ",entityTypeTitle=entityTypeTitle.title,_jQueryGS(menuEl.sender).empty().text(from).attr("gstitle",from),_jQueryGS(menuEl.haslabel).empty().text(summary).attr("gstitle",summary),_jQueryGS(menuEl.entityTitle).empty().text(entityTypeTitle).attr("gstitle",entityTypeTitle),_jQueryGS(menuEl.date).empty().text(canshowgrp).attr("gstitle",canshowgrp).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.sorttime")),_jQueryGS(menuEl.content).empty(),commentArray&&null!=commentArray?(canshowgrp=(summary=resObj.gN||commentArray.gN||"")?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",_jQueryGS(menuEl.rlabel).empty(),_jQueryGS(menuEl.receiver).empty(),_jQueryGS(menuEl.toaddress).removeClass("zgs19_gsDisplayBlock").removeClass("zgs19_gsDisplayNone").addClass(canshowgrp),summary&&(link=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),_jQueryGS(menuEl.rlabel).text(link).attr("gstitle",link),_jQueryGS(menuEl.receiver).text(summary).attr("gstitle",summary)),_jQueryGS(menuEl.rfolder).empty().text(entityTypeTitle).attr("gstitle",entityTypeTitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.entity_type")),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%"),0<(link=gsstreams.getTotalEmailAccountCount(commentArray.to,commentArray.cc,commentArray.bcc)-1)&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),totalCount=gsstreams.getTotalEmailCount(link),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:totalCount}).text(totalCount)).show(),gsstreams.loadToOthersList(menuEl,commentArray.to,commentArray.cc,commentArray.bcc)),gsstreams.toAddr=commentArray.toAddr,gsstreams.toZuid=commentArray.toZuid,gsstreams.toName=commentArray.toName,gsstreams.isGroup=commentArray.isGrp,_jQueryGS(menuEl).find(".zgs19_gsMailCalloutFooter").children().css("display","none"),_jQueryGS(menuEl.calloutFooter).css("display","block"),summary=commentArray.summary,entityType=resObj.entityType||"",_jQueryGS(menuEl.content).css("background-color","unset"),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").removeClass("zgs19_gsFilterRevert"),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").css("display","block"),"10"===entityType&&commentArray.hasOwnProperty("linkData")?(link=(isPreviewCard=commentArray.linkData).link||"",isPreviewCard=isPreviewCard.linkImg||"",gsstreams.obtainBookmarkTemplate(menuEl,link,isPreviewCard,summary,ptpCommentArray)):"4"===entityType&&commentArray.hasOwnProperty("eventData")?gsstreams.obtainEventDetails(menuEl,commentArray.eventData):("2"===entityType&&(_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsFilterRevert"),commentArray.hasOwnProperty("colorHex")&&_jQueryGS(menuEl.content).css("background-color",commentArray.colorHex)),_jQueryGS(menuEl.content).append(summary),gsstreams.loadImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content,GSConstant.STREAMS)),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),isPreviewCard=commentArray.privateToPostCtotal||0,ptpCommentArray=commentArray.privateToPost||[],_jQueryGS(menuEl.ptpcommentcontent).empty(),gsstreams.privateToPostCommentArr={},0<isPreviewCard&&0<ptpCommentArray.length&&(ptpcontainerId="zgs19_ptp"+ptpcontainerId,_jQueryGS(menuEl.ptpcommentcontent).append(_jQueryGS("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:ptpcontainerId,gs:"showprivatetopostcomments",gstitle:zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink"))).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsPdLt50Px zgs19_gsDisplayNone",id:ptpcontainerId})),gsstreams.privateToPostCommentArr[ptpcontainerId]=commentArray.privateToPost),totalCount=commentArray.ctotal||0,commentArray=commentArray.cmnt||[],_jQueryGS(menuEl.commentcontent).empty(),gsstreams.privateCommentArr={},0<totalCount&&0<commentArray.length?(_jQueryGS(menuEl.commentcontent).css("display","block"),gsstreams.renderStreamsCommentDetails(menuEl,commentArray)):_jQueryGS(menuEl.commentcontent).css("display","none"),0<totalCount||0<isPreviewCard?_jQueryGS(menuEl.commentHolder).css("display","block"):_jQueryGS(menuEl.commentHolder).css("display","none"),zgssearch.gsstreams.obtainedTimeline=!1,zgssearch.gsstreams.isTimelinesShown=!1,_jQueryGS(menuEl.timelinecontent).empty(),_jQueryGS(_jQueryGS(menuEl.timelineHolder).children(".zgs19_timeline")[0]).attr("gs","timeline"),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),curCalloutObj.iconDisplay&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show(),"true"===resObj.isB&&gsstreams.toggleStreamsStatus(curRe,resObj,"markAsRead",curCalloutObj.calloutId)),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&gsstreams.addCalloutActionList(menuEl,resObj,curCalloutObj),0===commentArray.length&&""==summary.trim()&&"10"!==entityType&&gsstreams.obtainOpenBtn(menuEl,entityTypeTitle)):gsstreams.obtainOpenBtn(menuEl,entityTypeTitle),gsstreams.setStreamsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):gsstreams.calloutErrorMsg("",curCalloutObj)},gsstreams.obtainOpenBtn=function(menuEl,openTxt){_jQueryGS(menuEl.calloutFooter).css("display","none");openTxt=zgssearch.getI18NMsg("common.open_this")+" "+openTxt;_jQueryGS(menuEl.streamsPage).empty().text(openTxt),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").css("display","none"),_jQueryGS(menuEl.streamBtnCont).css("display","block"),zgssearch.setGSTagElems(menuEl),gsstreams.setPreviewBtnPosition(menuEl)},gsstreams.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-(_jQueryGS(menuEl.streamBtnCont).height()+20))/2;_jQueryGS(menuEl.streamBtnCont).css("margin",actualCenterPosition+"px auto")},gsstreams.obtainBookmarkTemplate=function(menuEl,link,linkImg,summary,mctitle){gsstreams.bookmarkTemplate||(gsstreams.bookmarkTemplate=_jQueryGS("<template>",{id:"zgs20_streams_bookmark"}).append(_jQueryGS("<div>",{class:"zgs19_gsBookmarkOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"gsBMLinkImg"})).append(_jQueryGS("<div>",{class:"zgs19_gsBMSummary"}).append(_jQueryGS("<div>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsCurPointer zgs19_gsOverflow",gstitle:"",bm_link:"",gs:"streams_bm_link"}).text(mctitle))).append(_jQueryGS("<div>",{class:"zgs19_gsBMLinkSumm",gs:"summary"})))),_jQueryGS("#zgs20_globalsearch").append(gsstreams.bookmarkTemplate),_jQueryGS("#zgs20_streams_bookmark").css("display","none"));var template_content=gsstreams.bookmarkTemplate[0].querySelector(".zgs19_gsBookmarkOuter"),template_content=_jQueryGS(document.importNode(template_content,!0));zgssearch.setGSTagElems(template_content),_jQueryGS(menuEl.content).append(template_content),_jQueryGS(template_content.streams_bm_link).attr("gstitle",link),_jQueryGS(template_content.streams_bm_link).attr("bm_link",link),_jQueryGS(template_content.streams_bm_link).text(mctitle),""!==linkImg&&(_jQueryGS(template_content.gsBMLinkImg)[0].style.backgroundImage='url("'+linkImg+'")',_jQueryGS(template_content.gsBMLinkImg).removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsBMLinkImg"),_jQueryGS(template_content.gsBMLinkImg).attr("bm_link",link)),_jQueryGS(template_content.summary).append(summary),_jQueryGS("#zgs20_streams_bookmark").css("display","none")},gsstreams.addCalloutActionList=function(menuEl,resObj,curCalloutObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var isWatching=resObj.w,alist=gsstreams.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("watch"==key){if(zgssearch.isPreviewCard(curCalloutObj))continue;var dectext="true"===isWatching?zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch"):zgssearch.getI18NMsg("gs.search.sevice_streams_watch"),key="true"===isWatching?"unwatch":"watch",entityTypeTitle=resObj.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityTypeTitle].title;dectext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle}"embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.STREAMS}).text(dectext))}}},gsstreams.toggleWatchStatus=function(curRe,resObj,oper,calloutId,target){var accountId,groupId,entityId,entityType;curRe&&(accountId=resObj.account_id,groupId=resObj.gId,entityId=resObj.id,entityType=resObj.entityType,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=watchstatus&groupId="+groupId+"&entityId="+entityId+"&entityType="+entityType+"&actionType="+oper,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,calloutId:calloutId,target:target},function(data,status,argObj){argObj=argObj.args||{};gsstreams.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutId,argObj.target)}))},gsstreams.toggleStreamsStatus=function(curRe,resObj,oper,calloutId,target){var accountId,groupId,entityId,entityType;curRe&&(accountId=resObj.account_id,groupId=resObj.gId,entityId=resObj.id,entityType=resObj.entityType,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=streamsMarkAsRead&groupId="+groupId+"&entityId="+entityId+"&entityType="+entityType+"&actionType="+oper,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,calloutId:calloutId,target:target},function(data,status,argObj){argObj=argObj.args||{};gsstreams.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutId,argObj.target)}))},gsstreams.responseFromServicesAction=function(menuEl,curRe,resObj,oper,entityTypeTitle,target){var vtext;!menuEl||"null"===menuEl||"SUCCESS"==((menuEl=zgssearch.jsonParse(menuEl))&&menuEl.response||"")&&(menuEl="",menuEl=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):zgssearch.getTargetElem(entityTypeTitle),zgssearch.setGSTagElems(menuEl),entityTypeTitle=resObj.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityTypeTitle].title,"markAsRead"===oper?(resObj.isB="false",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal")):"watch"===oper?target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch"),vtext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle,_jQueryGS(target).attr("value","unwatch").attr("gstitle",vtext).text(vtext),zgssearch.showbannertip({ty:1,msg:vtext}),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.sevice_streams_watch_status")})):"unwatch"===oper&&target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_streams_watch"),vtext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle,_jQueryGS(target).attr("value","watch").attr("gstitle",vtext).text(vtext),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch_status")})))},gsstreams.obtainEventDetails=function(menuEl,eventData){},gsstreams.downloadAttachment=function(elem){var downloadURL=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),messageId=zgssearch.getCurrentResObj(),accountId=messageId.account_id,messageId=messageId.id,downloadURL="searchType="+_jQueryGS(elem).attr("service")+"&msgId="+messageId+"&atIndex="+atIndex+"&accId="+accountId+"&accType=1&atName="+encodeURIComponent(downloadURL),downloadURL=zgssearch.attachmentURL+"?"+downloadURL;zgssearch.network.download_file(downloadURL)},gsstreams.fillToAddress=function(to,cc,bcc){to=gsstreams.getFirstEmailId(to);if(null!==to)return{label:zgssearch.getI18NMsg("common.to",!0),value:to};cc=gsstreams.getFirstEmailId(cc);if(null!==cc)return{label:zgssearch.getI18NMsg("gs.search.result.mail.cc"),value:cc};bcc=gsstreams.getFirstEmailId(bcc);return null===bcc?{label:"",value:""}:{label:zgssearch.getI18NMsg("gs.search.result.mail.bcc"),value:bcc}},gsstreams.getFirstEmailId=function(emailIds){return null==emailIds||""===emailIds?null:emailIds.split(",")[0]},gsstreams.splitEmailId=function(value){var lastQuote=document.createElement("div");lastQuote.innerHTML=value;var email="";return email=""!==(value=lastQuote.textContent)?(-1!==(lastQuote=(value=value.trim()).lastIndexOf("<"))?email=value.substring(lastQuote+1,value.length):value).trim().replace("<","").replace(">","").trim():email},gsstreams.getTotalEmailAccountCount=function(to,cc,bcc){to=gsstreams.getArrayOfElements(to),cc=gsstreams.getArrayOfElements(cc),bcc=gsstreams.getArrayOfElements(bcc);return to.length+cc.length+bcc.length},gsstreams.getArrayOfElements=function(emails){if(null==emails||""===emails)return[];emails=emails.split(",");return 0<emails.length?emails:[]},gsstreams.getTotalEmailCount=function(count){var countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.others");return"+"+count+" "+(countMsg=1===count?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):countMsg)},gsstreams.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},gsstreams.displayCallout=function(){zgssearch.hideCalloutLoader(),_jQueryGS("#"+gsstreams.getCalloutHolder()).show()},gsstreams.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsstreams.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gsstreams.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsstreams.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsstreams.renderToOthersList=function(emailIds,label){if(emailIds){var emailList=emailIds.split(",");if(0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),elistLen=emailList.length,i=0;i<elistLen;i++){var comma=i+1===emailList.length?"":",",splitEmail=gsstreams.splitEmailId(emailList[i]);emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:splitEmail}).text(splitEmail+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}}},gsstreams.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsstreams.loadMailCalloutIframe=function(url,mailActHolder){var mailActionFrame;zgssearch.isExtension?zgssearch.openInNewTab(url):(mailActionFrame=zgssearch.searchCalloutObj,zgssearch.handleBeforeSentCase(mailActionFrame),mailActionFrame=zgssearch.gsdbhome.isDashboardOpened?_jQueryGS(mailActHolder).closest(".zgs19_gsServiceCalloutHolder"):"#zgs20_gsSearchResultRight",((mailActHolder=_jQueryGS(mailActionFrame).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==mailActionFrame)&&(mailActHolder=_jQueryGS("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==mailActionFrame&&_jQueryGS(mailActionFrame).find(".zgs19_gsMailActionHolder").remove(),_jQueryGS(mailActionFrame).append(mailActHolder)),(mailActionFrame=document.createElement("iframe")).id="zgs20_gsMailActionFrame",mailActionFrame.className="zgs19_gsMailActionFrame",mailActionFrame.src=url,mailActionFrame.onload=function(){setTimeout(function(){zgssearch.hideCalloutLoader()},500)},mailActHolder.empty().append(mailActionFrame).show())},gsstreams.loadImagesWithDomain=function(id){var hostName=GSConstant.GS_MAIL_URL;_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&(0!=oldImgSrc.indexOf("/mail/ImageDisplay?")&&0!=oldImgSrc.indexOf("/zm/FileDownload?")||_jQueryGS(this).attr("src",hostName+oldImgSrc))})},gsstreams.renderAttachment=function(holder,cattach,comment){for(var i=0;i<cattach.length;i++){var val=cattach[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(holder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsLinkElem",service:GSConstant.STREAMS,aId:val.fileId,gs:"attachtitle",comment:comment,gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(val.size))))}},gsstreams.toggleTimeline=function(curRe){curRe=curRe.parentElement,zgssearch.setGSTagElems(curRe),zgssearch.gsstreams.isTimelinesShown?(zgssearch.gsstreams.isTimelinesShown=!1,_jQueryGS(curRe.timelinecontent).hide(),_jQueryGS(curRe).removeClass("zgs19_timelineHeaderNaviHide").addClass("zgs19_timelineHeaderNaviShow")):(zgssearch.gsstreams.isTimelinesShown=!0,_jQueryGS(curRe.timelinecontent).show(),_jQueryGS(curRe).removeClass("zgs19_timelineHeaderNaviShow").addClass("zgs19_timelineHeaderNaviHide"))},gsstreams.renderStreamsCommentDetails=function(menuEl,commentArray){for(var calloutCount=_jQueryGS(menuEl).attr("ccount"),commentArrayLen=commentArray.length,c=0;c<commentArrayLen;c++){var repliedToTxt,youTxt,continuechat=commentArray[c],commentId="zgs20_gsStreamsComment"+c+calloutCount,commentContentId="zgs20_gsStreamsCommentContent"+c+calloutCount,chatid="zgs20_gsStreamsCommentAttachmentHolder"+c+calloutCount,cphotoURL=continuechat.by||"",sName=continuechat.name||"",chatTitle=GSConstant.cuz||"",ownerZuidOrName=chatTitle==cphotoURL?zgssearch.getI18NMsg("common.me"):ownerZuidOrName,commentOuterId=continuechat.replyToZuid||"";sName=commentOuterId?(privateCommentLink=continuechat.replyToDisplayName||"",repliedToTxt=zgssearch.getI18NMsg("common.replied_to"),youTxt=zgssearch.getI18NMsg("common.you"),privatecommentOuterId=zgssearch.getI18NMsg("common.your"),(chatTitle==cphotoURL?youTxt:sName)+" "+repliedToTxt+" "+(chatTitle==commentOuterId?privatecommentOuterId:privateCommentLink+"'s ")+" "+zgssearch.getI18NMsg("common.comment")):chatTitle==cphotoURL?zgssearch.getI18NMsg("common.me"):sName;var attachments="";if(continuechat.hasOwnProperty("attachments"))for(var attachmentsData=continuechat.attachments,attachmentsLen=attachmentsData.length,privateCls=attachmentsLen+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments"),attachments=_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:privateCls}).text(privateCls)),i=0;i<attachmentsLen;i++){var val=attachmentsData[i],fileName=zgssearch.replaceHTMLEntity(val.n),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(attachments).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink1",service:GSConstant.STREAMS,aId:val.i,gs:"attachtitle1",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.s)))))}var commentOuterId=commentId+"Holder",privatecommentOuterId=commentId+"_private",privateCommentLink="",chatTitle="",privateCls="zgs19_gsMxWid80Per";continuechat.hasOwnProperty("private")&&(gsstreams.privateCommentArr[privatecommentOuterId]=continuechat.private,privateCommentLink=_jQueryGS("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:privatecommentOuterId,gs:"showprivatecomments",gstitle:zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),chatTitle=_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsDisplayNone",id:privatecommentOuterId}),privateCls="zgs19_gsMxWid76Per"),_jQueryGS(menuEl.commentcontent).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentHolder",id:commentOuterId}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:commentId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl "+privateCls,gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(continuechat.time)).append(privateCommentLink)).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:commentContentId}).append(continuechat.text)).append(attachments).append(_jQueryGS("<div>",{id:commentId+"_chat",class:"zgs19_gsConnChatHolder"})).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:chatid}).append(attachments))).append(chatTitle).append(_jQueryGS("<div>",{class:"zgs19_gsHRLine90Per"})))),gsstreams.loadImagesWithDomain("#"+commentContentId),continuechat.hasOwnProperty("chatletTitle")&&(chatid=continuechat.chid,chatTitle=continuechat.chatletTitle,continuechat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),_jQueryGS("#"+commentId+"_chat").append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow",gstitle:chatTitle}).text(chatTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:chatid}).text(continuechat))),zgssearch.preventStylesFromParentDomain("#"+commentContentId);cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(commentId+"Holder",cphotoURL)}},gsstreams.hidePrivateToPostComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","showprivatetopostcomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS("#"+eleId).css("display","none")},gsstreams.showPrivateToPostComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","hideprivatetopostcomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var pComments=gsstreams.privateToPostCommentArr[eleId],pCommentsLen=pComments.length;if(0==_jQueryGS("#"+eleId).children().length)for(var i=0;i<pCommentsLen;i++){var cObj=pComments[i],txt=GSConstant.cuz||"",cphotoURL=cObj.i,sName=txt==cphotoURL?zgssearch.getI18NMsg("common.me"):cObj.n,privateimgId=eleId+"_Img",hrline=pCommentsLen-1===i?"":_jQueryGS("<div>",{class:"zgs19_gsHRLine"}),txt=zgssearch.gssecurity.textDecoder(cObj.txt);_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsPrivateComment",id:eleId+i+"privateHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:privateimgId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.pct))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(txt))).append(hrline)));cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(eleId+i+"privateHolder",cphotoURL)}_jQueryGS("#"+eleId).css("display","block")},gsstreams.hidePrivateComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","showprivatecomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS("#"+eleId).css("display","none")},gsstreams.showPrivateComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","hideprivatecomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var pComments=gsstreams.privateCommentArr[eleId],pCommentsLen=pComments.length;if(0==_jQueryGS("#"+eleId).children().length){_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsHRDottodLine"}));for(var i=0;i<pCommentsLen;i++){var cObj=pComments[i],txt=GSConstant.cuz||"",cphotoURL=cObj.i,sName=txt==cphotoURL?zgssearch.getI18NMsg("common.me"):cObj.n,privateimgId=eleId+"_Img",hrline=pCommentsLen-1===i?"":_jQueryGS("<div>",{class:"zgs19_gsHRLine"}),txt=zgssearch.gssecurity.textDecoder(cObj.txt);_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsPrivateComment",id:eleId+i+"privateHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:privateimgId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.pct))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(txt))))).append(hrline);cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(eleId+i+"privateHolder",cphotoURL)}}_jQueryGS("#"+eleId).css("display","block")},gsstreams.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem(gsstreams.getCalloutHolder());zgssearch.setGSTagElems(menuEl),gsstreams.setStreamsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsstreams.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{id:resObj.id,gId:resObj.gId,actionType:"true"===resObj.isOwner?"viewSelfData":"viewGroupEntity",entityType:resObj.entityType}},gsstreams)}(zgssearch,window),function(zgssearch,window){var gscrm,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gscrm=(gscrm=void 0,(gscrm=zgssearch.gscrm||{}).actionList=[{open:"common.open"},{edit:"common.edit"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gscrm.crmImpFieldsData=gscrm.crmImpFieldsData||{},gscrm.crmOwnerData={},gscrm.calloutParams=function(orgId){var entityId=orgId.id,module=orgId.mod,service=orgId.serviceName||zgssearch.getCurSelectedEleAttr("service"),modName=service==zgssearch.GSConstant.CRM?"crmMod":service==zgssearch.GSConstant.BIGIN?"module":"",orgId=orgId.accId||zgssearch.getResultAccountId();return"searchType="+service+"&entityId="+entityId+"&"+modName+"="+gscrm.getCrmModuleQueryName(module)+"&orgId="+orgId},gscrm.getCalloutHolder=function(){return"zgs20_gsCRMCallout"},gscrm.getCrmModuleQueryName=function(module){var modvsQueryObj=zgssearch.getCalloutSearchType(),modvsQueryObj=zgssearch.getFilterInfo(modvsQueryObj,"modules","current");return modvsQueryObj.hasOwnProperty(module)?modvsQueryObj[module]:module},gscrm.createCalloutTemplate=function(count,curCalloutObj){var crmcallout=zgssearch.getCalloutSearchType(),calloutId=curCalloutObj.calloutId,dcLength=_jQueryGS("#"+calloutId).length,prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),Edit=zgssearch.getI18NMsg("common.edit");dcLength<=0&&(crmcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:crmcallout,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(crmcallout),service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CRM})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"edit",gstitle:Edit,service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:crmcallout}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsCrmImpInnerContent",class:"zgs19_gsCalloutIconInfo",gs:"impData"})).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent zgs19_gsCalloutPopUp",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayBlock",gs:"lineicon"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutCRMRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsfl",gs:"crmcontent"}))))),_jQueryGS(curCalloutObj.parentElem).append(crmcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gscrm.setCrmCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.impData).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px")},gscrm.calloutResponse=function(response,resObj,labelAttr,argObj){var module,error=resObj.serviceName||zgssearch.getCalloutSearchType(),curCalloutObj=argObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId),isPreviewCard=resObj.accId||zgssearch.getResultAccountId();zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(labelAttr),argObj=argObj||{},error!=zgssearch.GSConstant.BIGIN&&argObj.updateRecord&&!response&&(gscrm.crmImpFieldsData.Owner=argObj.owner,gscrm.crmImpFieldsData.editable=!1,response=gscrm.crmImpFieldsData),_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).hide(),response?(module=resObj.mod,isPreviewCard=zgssearch[error+"MandName"][isPreviewCard][error+"_"+module],labelAttr=_jQueryGS(labelAttr.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",labelAttr),gscrm.generateCallOut(module,resObj,response,curCalloutObj,error),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(error,resObj)),isPreviewCard=resObj[isPreviewCard],"Events"==module&&(isPreviewCard=resObj.Event_Title),isPreviewCard=zgssearch.checkUndefined(isPreviewCard),_jQueryGS(menuEl.ctitle).empty().text(isPreviewCard).attr("gstitle",isPreviewCard),_jQueryGS(menuEl.actionPipe).show(),_jQueryGS(menuEl.actionlist).show(),_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),"Notes"===module&&(_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.actionlist).hide()),(isPreviewCard=zgssearch.isPreviewCard(curCalloutObj))||(zgssearch.isMaxCalloutOpen?_jQueryGS(menuEl.minpreview).show():curCalloutObj.iconDisplay&&_jQueryGS(menuEl.maxpreview).show()),error!=_jQueryGS(menuEl.ctitle).attr("service")&&_jQueryGS(menuEl).find("*").attr("service",error),_jQueryGS(menuEl.calloutActionOptions).css("display","none"),_jQueryGS(menuEl).find(".zgs19_gsCalloutCRMEditIcon").css("display","none"),"Notes"!==module&&response.editable&&(_jQueryGS(menuEl.calloutActionOptions).css("display","block"),_jQueryGS(menuEl).find(".zgs19_gsCalloutCRMEditIcon").css("display","block")),(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0),"Notes"!==module&&gscrm.addCalloutActionList(menuEl,response.editable,error),gscrm.setCrmCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):(error="",argObj.updateRecord&&(_jQueryGS(menuEl).css("display","none"),error="ownerUpdate"),gscrm.calloutErrorMsg(error,curCalloutObj))},gscrm.generateCallOut=function(module,resObj,ajaxData,curCalloutObj,service){var finalData={},mandDispName=curCalloutObj.calloutId,menuEl=zgssearch.getTargetElem(mandDispName);zgssearch.setGSTagElems(menuEl);mandDispName=resObj.accId||zgssearch.getResultAccountId();if("null"!==resObj&&null!==resObj){mandDispName=zgssearch[service+"DispObj"][mandDispName][service+"_"+module][zgssearch[service+"MandName"][mandDispName][service+"_"+module]];if(void 0!==ajaxData&&"null"!==ajaxData&&null!==ajaxData){var key,ajaxData=zgssearch.jsonParse(ajaxData),extraFieldsData=ajaxData.extraFields,dataTypeFields=ajaxData.dt;for(key in(gscrm.crmImpFieldsData=ajaxData).hasOwnProperty("impFields")&&(curCalloutObj.type===zgssearch.dbCrdCalloutType||curCalloutObj.type===zgssearch.crdPagecalloutType?gscrm.crmOwnerData[curCalloutObj.cardId]=ajaxData.Owner&&ajaxData.Owner||{}:gscrm.crmOwnerData=ajaxData.Owner&&ajaxData.Owner||{},gscrm.crmApiNamesData=ajaxData.apiNames&&ajaxData.apiNames||{},gscrm.renderImportantFieldDetails(zgssearch.minPrevPane,menuEl,curCalloutObj)),extraFieldsData.hasOwnProperty(mandDispName)&&delete extraFieldsData[mandDispName],extraFieldsData)finalData[key]=extraFieldsData[key]}}_jQueryGS(menuEl.crmcontent).empty();var dispKey,crmDetails=_jQueryGS(menuEl.crmcontent);for(dispKey in finalData){var internalData=finalData[dispKey];""!==internalData&&(internalData=gscrm.renderCrmModuleDetails(module,dispKey,internalData,dataTypeFields,resObj,service),crmDetails=crmDetails.append(internalData))}},gscrm.addCalloutActionList=function(menuEl,isEditable,service){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscrm.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)"edit"==key&&!isEditable||("embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service}).text(dectext))))}},gscrm.renderCrmModuleDetails=function(module,title,value,dt,resObj,service){var relatedURL,valueFieldObj="";return valueFieldObj="email"===dt[title]?_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",gstitle:value,istip:!0}).text(value):"Notes"===module&&title===gscrm.crmImpFieldsData.related_to?(service===zgssearch.GSConstant.BIGIN?relatedURL=zgssearch.gscrm.openBiginResult(resObj):service===zgssearch.GSConstant.CRM&&(relatedURL=zgssearch.crmRecordOpen(resObj)),_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:relatedURL,target:"_blank",gstitle:value,istip:!0}).text(value)):_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsfl zgs19_gsMxWid90Per",gstitle:value,istip:!0}).text(value),_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMRecordInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(valueFieldObj))},gscrm.getCRMApiType=function(title,curCalloutObj){var gsAttr="",module=(curCalloutObj.type==zgssearch.dbCrdCalloutType||curCalloutObj.type==zgssearch.crdPagecalloutType?zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId].resultObj:zgssearch.getCurrentResObj()).mod,apiObj=gscrm.crmApiNamesData;return gsAttr="Notes"!=module&&"Owner"==apiObj[title]&&gscrm.crmImpFieldsData.editable?curCalloutObj.service+"OwnerChange":gsAttr},gscrm.isOwnerField=function(title){return"Owner"==gscrm.crmApiNamesData[title]},gscrm.getCRMEditableField=function(gsAttr,title,value){var gsAttrChild="";return"crmOwnerChange"!=gsAttr&&"biginOwnerChange"!=gsAttr||(gsAttrChild=_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine"})),_jQueryGS("<div>",{class:"zgs19_gsEditFieldsNameHolder zgs19_gsEditFieldsUline zgs19_gsCalloutDocsAuthor zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",field:title,gs:"CalloutEditFields",datatype:gsAttr}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsMxWid95Per zgs19_gsInLine",gstitle:value}).text(value)).append(gsAttrChild)},gscrm.renderImportantFieldChild=function(titleEle,value,hrefValue,curCalloutObj){var gsattr,valueFieldObj="",valueFieldObj=""===value?_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",gstitle:value}).html("&mdash;"):(gsattr=gscrm.getCRMApiType(titleEle,curCalloutObj),value=gscrm.isOwnerField(titleEle)?(curCalloutObj.type===zgssearch.dbCrdCalloutType||curCalloutObj.type===zgssearch.crdPagecalloutType?gscrm.crmOwnerData[curCalloutObj.cardId]:gscrm.crmOwnerData).name:value,gsattr?gscrm.getCRMEditableField(gsattr,titleEle,value):"email"===hrefValue[titleEle]?_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",gstitle:value,istip:!0}).text(value)):"website"===hrefValue[titleEle]?(hrefValue=value,/^(?:f|ht)tps?\:\/\//.test(value)||(hrefValue="https://"+value),_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{class:"zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:hrefValue,target:"_blank",gstitle:value,istip:!0}).text(value))):_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl",gstitle:value,istip:!0}).text(value))),titleEle=_jQueryGS("<span>",{istip:!0,gstitle:titleEle}).text(titleEle);return _jQueryGS("<div>",{class:"zgs19_gsCrmParent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrmLabel zgs19_gsOverflow zgs19_gsfl"}).append(titleEle)).append(valueFieldObj)},gscrm.renderImportantFieldDetails=function(lvalueper,lnameper,curCalloutObj){zgssearch.setGSTagElems(lnameper);var bZOSLabelNameWidth=gscrm.crmImpFieldsData,impFieldsData=bZOSLabelNameWidth.impFields,dataTypeFields=bZOSLabelNameWidth.dt,bZOSLabelNameWidth=25*_jQueryGS(".zgs19_gsSearchResultRight").width()/100,labelNameWidth=0!==gscomponent.UIType?bZOSLabelNameWidth:125,bZOScrmTitleWidth=0!==gscomponent.UIType?bZOSLabelNameWidth:150;_jQueryGS(lnameper.impData).empty();var labelName,crmImpDetails=_jQueryGS(lnameper.impData);for(labelName in impFieldsData){var crmTitleWidth=impFieldsData[labelName],crmTitleWidth=gscrm.renderImportantFieldChild(labelName,crmTitleWidth,dataTypeFields,curCalloutObj);gscrm.isOwnerField(labelName)?crmImpDetails.prepend(crmTitleWidth):crmImpDetails.append(crmTitleWidth);crmTitleWidth=zgssearch.getWidthOfText(labelName,bZOScrmTitleWidth),labelNameWidth=labelNameWidth<crmTitleWidth?crmTitleWidth:labelNameWidth}lnameper=100*labelNameWidth/lvalueper+"%",lvalueper=100*(lvalueper-labelNameWidth-30)/lvalueper+"%";_jQueryGS(crmImpDetails).find(".zgs19_gsCrmLabel").css("width",lnameper),_jQueryGS(crmImpDetails).find(".zgs19_gsCrmValue").css("max-width",lvalueper),_jQueryGS(crmImpDetails).find(".zgs19_gsEditFieldsNameHolder").css("max-width",lvalueper)},gscrm.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?"gs.search.error.generic_error_messege":"ownerUpdate"===msg?"gs.search.result.bigin.status.recordupdate.errortext":"gs.search.result."+curCalloutObj.service+".status.callout.errortext",msg=zgssearch.getI18NMsg(msg),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscrm.EditRecord=function(moduleforURL){var entityId,domain_name;moduleforURL===zgssearch.GSConstant.BIGIN?gscrm.EditBiginRecord():moduleforURL===zgssearch.GSConstant.CRM&&(moduleforURL=(entityId=zgssearch.gsaction.currSearchType&&!_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)?zgssearch.gsaction.currSearchType.getCurrentResultObj():(domain_name=zgssearch.getCurSelectedEleAttr("index"),moduleforURL=zgssearch.getCurSelectedEleAttr("service"),zgssearch.getResultObject(moduleforURL,domain_name))).mod,moduleforURL=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules")[domain_name=zgssearch.gsaction.currSearchType.getCurrAccId()][moduleforURL+"_url"],entityId=entityId.id,domain_name=zgssearch.crmOrgInfo.getDomain(domain_name),zgssearch.openInNewTab(GSConstant.GS_CRM_URL+"/crm/"+domain_name+"/EditEntity.do?module="+moduleforURL+"&id="+entityId))},gscrm.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsCRMCallout");zgssearch.setGSTagElems(menuEl),gscrm.setCrmCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscrm.openBiginResult=function(moduleforURL,orgId){var module=moduleforURL.mod,entityId=moduleforURL.id,moduleforURL=zgssearch.getFilterInfo(GSConstant.BIGIN,"modules","data");if("Notes"===module){var mod,relatedRec=zgssearch.gscrm.crmImpFieldsData.related_record;for(mod in relatedRec)entityId=relatedRec[mod],module=mod}if(!(orgId=orgId||zgssearch.getResultAccountId()))return null;moduleforURL=moduleforURL[orgId][module].toLowerCase();return GSConstant.GS_BIGIN_URL+"/"+GSConstant.BIGIN+"/Home#/"+moduleforURL+"/"+entityId+"?orgId="+orgId},gscrm.EditBiginRecord=function(){var service=zgssearch.GSConstant.BIGIN;entityId=zgssearch.gsaction.currSearchType&&!_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)?zgssearch.gsaction.currSearchType.getCurrentResultObj():(moduleforURL=zgssearch.getCurSelectedEleAttr("index"),zgssearch.getResultObject(service,moduleforURL));var orgId=zgssearch.gsaction.currSearchType.getCurrAccId(),moduleforURL=entityId.mod,moduleforURL=zgssearch.getFilterInfo(service,"modules","data")[orgId][moduleforURL].toLowerCase(),entityId=entityId.id;zgssearch.openInNewTab(GSConstant.GS_BIGIN_URL+"/"+service+"/Home#/"+moduleforURL+"/"+entityId+"?orgId="+orgId+"&recordaction=edit")},gscrm)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.pc={},zgssearch.getCalloutForResult=function(detailObj){var comp={};return comp.metaDetailObj=detailObj,zgssearch.pc.containerMap=zgssearch.pc.containerMap||{},comp.constructPreviewComponent=function(){var service=this.metaDetailObj.serviceName,accId=zgssearch.mappedServiceList[service].id;zgssearch.isPreviewOpenedInComponent&&(curCalloutObj="zgs20_pcSearch",zgssearch.pcResObj=this.metaDetailObj,_jQueryGS("#"+this.metaDetailObj.parent),_jQueryGS("#"+curCalloutObj).length<=0&&_jQueryGS("#"+this.metaDetailObj.parent).append(_jQueryGS("<div>",{id:curCalloutObj,class:"zgs19_pcglobalsearch"})));var curCalloutObj={type:this.metaDetailObj.calloutPgtype||"search",parentElem:zgssearch.isPreviewOpenedInComponent?curCalloutObj:this.metaDetailObj.parent||this.metaDetailObj.parentElem,calloutId:this.metaDetailObj.calloutId||this.metaDetailObj.parent+"_"+accId,iconDisplay:null==this.metaDetailObj.iconDisplay||this.metaDetailObj.iconDisplay,cardId:this.metaDetailObj.cardId||"",cardCalloutType:this.metaDetailObj.cardCalloutType||"",callbackFn:this.metaDetailObj.callbackFn||""};zgssearch.pc.containerMap[this.metaDetailObj.parent]={service:service};accId=curCalloutObj.parentElem;"object"!=typeof curCalloutObj.parentElem&&accId.split("#").length<=1&&(curCalloutObj.parentElem="#"+accId),this.metaDetailObj.hasOwnProperty("height")&&_jQueryGS(curCalloutObj.parentElem).css("height",this.metaDetailObj.height),this.metaDetailObj.hasOwnProperty("width")&&_jQueryGS(curCalloutObj.parentElem).css("width",this.metaDetailObj.width),zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent&&zgssearch.isPreviewOpenedInComponent&&(zgssearch.pcResObj.calloutId=curCalloutObj.calloutId,zgssearch.pcViewport=("object"!=typeof curCalloutObj.parentElem?_jQueryGS(curCalloutObj.parentElem):curCalloutObj.parentElem)[0],this.bindClickEvent());accId=this.metaDetailObj.accId;zgssearch.iterResultObjData(service,accId,this.metaDetailObj),zgssearch.isPreviewOpenedInComponent?zgssearch.loadServiceComponent(service):zgssearch.preLoadComponentForServices(),_jQueryGS(curCalloutObj.parentElem).css("display","block"),zgssearch.getCalloutData("",this.metaDetailObj,curCalloutObj)},comp.bindClickEvent=function(){zgssearch.pcViewport.removeEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.pcViewport.addEventListener("click",zgssearch.pcClickEvent,!0)},comp}}(zgssearch,window),zgssearch.res_services=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.SLACK,zgssearch.GSConstant.DOCUMENTS,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.PROJECTS],zgssearch.isHandlebarLoaded=function(){return!("undefined"==typeof search_handlebars||!(!zgssearch.isBuildChanged||zgssearch.GSConstant.handlebarsUrl&&zgssearch.includes(zgssearch.GSConstant.BUILD_DATE,zgssearch.GSConstant.handlebarsUrl)))},zgssearch.ResourceFactory=function(){var resource;this.createInstance=function(service_name,isConfigure){if(isConfigure=isConfigure||!1,!zgssearch.isPreviewOpenedInComponent){var serviceList=(zgssearch.isDashboardEnabled?zgssearch.getConstAllServList():zgssearch.getServiceList("serviceList"))||[];if(!zgssearch.isArrayContain(service_name,serviceList)&&!isConfigure)return null}switch(service_name){case zgssearch.GSConstant.SALESFORCE:resource=new ZSHandlebarsResource;break;case zgssearch.GSConstant.SLACK:resource=new ZSSlackResource;break;case zgssearch.GSConstant.DOCUMENTS:case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:case zgssearch.GSConstant.BOX:case zgssearch.GSConstant.ONEDRIVE:resource=new ZSHandlebarsResource;break;case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.PROJECTS:case zgssearch.GSConstant.EVERNOTE:resource=new ZSHandlebarsResource}return resource}},function(zgssearch,window){var gsconnect,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnect=(gsconnect=void 0,(gsconnect=zgssearch.gsconnect||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsconnect.getCalloutHolder=function(){return"zgs20_gsConnectCallout"},gsconnect.calloutParams=function(resObj){var accId=resObj.accId||zgssearch.getResultAccountId(),ctype="FORUMS"==resObj.type?resObj.type:"FEEDS";return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&streamId="+resObj.id+"&networkId="+zgssearch.pulseNetworkId[accId]+"&ctype="+ctype},gsconnect.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),ccallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.CONNECT,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CONNECT,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CONNECT),service:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:ccallout,gs:"minpreview",service:GSConstant.CONNECT}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid75Px"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsCalMW165xof100"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid90Px"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"streamsFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid25Px",gs:"receiverin"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid310Px",gs:"receiver"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid110Px"}).append(_jQueryGS("<span>",{gs:"rfolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"blogsFooter"}))))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectCalloutFooter",class:"zgs19_gsCalloutFooter zgs19_gsConnectCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtHolder",gs:"eventHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutEvtDescInfo",gs:"descHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectPollOption zgs19_gsOverflow",gs:"pollOptions"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectSharedPost zgs19_gsOverflow",gs:"sharedPostHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDiv",gs:"LinkHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectLinkImageDiv",id:"zgs20_gsConnectLinkImageDiv"})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkTitleDiv"}).append(_jQueryGS("<a>",{id:"zgs20_gsConnectLinkTitle",class:"zgs19_gsConnectLinkTitle zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDescDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap zgs19_gsfl",gs:"zgs20_gsConnectLinkDesc"}))))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsconnect.setConnectCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsconnect.calloutResponse=function(commentArray,resObj,zuid,isPreviewCard){var staObj,postedBy,eventStartTime,eDate,eMonth,timeElem,locElem,statusClass,statusText,descrp,sContent,attachArray,acount,cCount,curCalloutObj=isPreviewCard.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);commentArray&&!zgssearch.regNull.test(commentArray)&&menuEl?(commentArray.hasOwnProperty("content")?(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(zuid),staObj=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CONNECT,resObj)),sContent=zgssearch.replaceHTMLEntity(resObj.title)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),_jQueryGS(menuEl.ctitle).empty().text(sContent).attr("gstitle",sContent),zuid&&(postedBy=_jQueryGS(zuid.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",postedBy)),zuid=resObj.zuid,_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),postedBy="zgs20_gsConnectCalloutUserImg"+staObj,_jQueryGS(menuEl.authorPhoto).attr("id",postedBy),staObj=zgssearch.getUserStatus(zuid),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid?(eventStartTime=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+eventStartTime),eventStartTime=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderCalloutUserPhoto(postedBy,eventStartTime)):zgssearch.renderCalloutNoUserPhoto(postedBy),eventStartTime=resObj.time||"",postedBy="SHARED"==resObj.type?zgssearch.getI18NMsg("common.shared_by"):zgssearch.getI18NMsg("gs.search.service_connect.callout.postedBy"),_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("gstitle",postedBy),_jQueryGS(menuEl.sender).empty().text(resObj.author).attr("gstitle",resObj.author),_jQueryGS(menuEl.date).empty().text(eventStartTime).attr("gstitle",eventStartTime).attr("gslabel",zgssearch.getI18NMsg("gs.search.service_connect.datePos")),_jQueryGS(menuEl.receiver).empty(),_jQueryGS(menuEl.receiverin).css("display","none"),_jQueryGS(menuEl.streamsFooter).css("display","none"),_jQueryGS(menuEl.blogsFooter).css("display","none"),"FORUMS"==resObj.type?(_jQueryGS(menuEl.blogsFooter).css("display","block"),commentArray.hasOwnProperty("categories")&&gsconnect.renderBlogCategoriesDetails(menuEl.blogsFooter,commentArray.categories)):(_jQueryGS(menuEl.streamsFooter).css("display","block"),_jQueryGS(menuEl.receiverin).css("display","block"),eDate=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"),eMonth=_jQueryGS(eDate[0])[0],timeElem=_jQueryGS(eDate[1])[0],locElem=_jQueryGS(eDate[2])[0],_jQueryGS(menuEl.receiver).append(eMonth,timeElem,locElem)),_jQueryGS(menuEl.descHolder).css("display","none").empty(),_jQueryGS(menuEl.eventHolder).css("display","none").empty(),_jQueryGS(menuEl.contentHolder).css("display","none").empty(),"EVENT"==resObj.type?(_jQueryGS(menuEl.eventHolder).css("display","block"),eDate=(eventStartTime=resObj.eventStartTime).substr(0,eventStartTime.indexOf(" ")),eMonth=eventStartTime.substr(eventStartTime.indexOf(" ")+1),timeElem="",commentArray.hasOwnProperty("est")&&(descrp=zgssearch.getI18NMsg("common.to",!0),statusClass=zgssearch.getI18NMsg("gs.search.service_connect.timer"),timeElem=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsEventIcon zgs19_gsfl",gstitle:statusClass,istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",gstitle:commentArray.est}).text(commentArray.est)),commentArray.hasOwnProperty("eet")&&timeElem.append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtLabel zgs19_gsOverflow zgs19_gsfl",gstitle:descrp}).text(descrp)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",gstitle:commentArray.eet}).text(commentArray.eet))),(locElem="")!=(statusClass=commentArray.location||"")&&(statusText=zgssearch.getI18NMsg("common.location"),locElem=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsConnectEvtlocIcon zgs19_gsfl",gstitle:statusText,istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtlocValue zgs19_gsOverflow zgs19_gsfl",gstitle:statusClass}).text(statusClass))),descrp="",statusText=!!commentArray.isStarted,statusClass=!!commentArray.isExpired,(statusText||statusClass)&&(statusClass=statusText?"zgs19_gsConnectEvtStarted":"zgs19_gsConnectEvtExpired",statusText=statusText?zgssearch.getI18NMsg("gs.search.service_connect.callout.eventStarted"):zgssearch.getI18NMsg("gs.search.service_connect.callout.eventOver"),descrp=_jQueryGS("<div>",{class:"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtStatus zgs19_gsOverflow zgs19_gsfl "+statusClass,gstitle:statusText}).text(statusText))),_jQueryGS(menuEl.eventHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtLeftNew zgs19_gsfl",gstitle:eventStartTime}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtDate zgs19_gsBorderBox zgs19_gsOverflow"}).text(eDate)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtMonth zgs19_gsBorderBox zgs19_gsOverflow"}).text(eMonth))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtRight zgs19_gsfl"}).append(timeElem).append(locElem).append(descrp)),commentArray.hasOwnProperty("desc")&&(_jQueryGS(menuEl.descHolder).css("display","block"),descrp=zgssearch.getI18NMsg("common.description"),_jQueryGS(menuEl.descHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectEvtDescLabel",gstitle:descrp}).text(descrp)).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo"}).append(commentArray.desc)))):(_jQueryGS(menuEl.contentHolder).css("display","block"),sContent=commentArray.content||sContent,_jQueryGS(menuEl.contentHolder).append(sContent)),zgssearch.preventStylesFromParentDomain(menuEl.contentHolder),isPreviewCard.domainAdded||gsconnect.addDomainForUsersAndGroups(menuEl.contentHolder,resObj),_jQueryGS(menuEl.pollOptions).css("display","none"),_jQueryGS(menuEl.pollOptions).empty(),_jQueryGS(menuEl.sharedPostHolder).css("display","none"),_jQueryGS(menuEl.sharedPostHolder).empty(),"POLL"==resObj.type?(attachArray=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewPollOptions"),_jQueryGS(menuEl.pollOptions).append(_jQueryGS("<a>",{gs:"contactsurl",href:resObj.url,url:resObj.url,gstitle:attachArray}).text(attachArray)),_jQueryGS(menuEl.pollOptions).css("display","block")):"SHARED"==resObj.type&&(cCount=commentArray.sharedStream,gsconnect.renderSharedPostDetails(menuEl,cCount,isPreviewCard,resObj),_jQueryGS(menuEl.sharedPostHolder).css("display","block")),_jQueryGS(menuEl.LinkHolder).css("display","none"),commentArray.hasOwnProperty("link")&&(acount=commentArray.link,gsconnect.renderLinkDetails(menuEl,acount,resObj)),_jQueryGS(menuEl.moveToAttachArea).css("display","none"),_jQueryGS(menuEl.attachHolder).css("display","none"),_jQueryGS(menuEl.attachHolder).empty(),attachArray=commentArray.attachments||[],cCount=commentArray.images||[],0<(acount=attachArray.length+cCount.length)&&(acount=acount+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments"),_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:acount}).text(acount))),gsconnect.renderAttachment(menuEl.attachHolder,attachArray,""),gsconnect.renderAttachment(menuEl.attachHolder,cCount,""),_jQueryGS(menuEl.moveToAttachArea).css("display","block"),_jQueryGS(menuEl.attachHolder).css("display","block")),_jQueryGS(menuEl.commentHolder).css("display","none"),_jQueryGS(menuEl.commentHolder).empty(),cCount=commentArray.ccount||0,commentArray=commentArray.comment||[],0<cCount&&0<commentArray.length&&gsconnect.renderRecentCommentDetails(menuEl,resObj,commentArray,cCount,isPreviewCard),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),curCalloutObj.iconDisplay&&!isPreviewCard&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.actionPipe).css("display","block")),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)},0),gsconnect.addCalloutActionList(menuEl)):gsconnect.calloutErrorMsg("",curCalloutObj),gsconnect.setConnectCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):gsconnect.calloutErrorMsg("",curCalloutObj)},gsconnect.renderSharedPostDetails=function(menuEl,sharedObj,argObj,resObj){var sharedURL=zgssearch.getConnectPartitionElem(sharedObj,"zgs19_gsConnResApost"),authorName=_jQueryGS(sharedURL[0])[0],apostrophe=_jQueryGS(sharedURL[1])[0],wallTxt=_jQueryGS(sharedURL[2])[0],viewSharedPost=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewSharedPost"),hasPosted=zgssearch.getI18NMsg("gs.search.service_connect.callout.hasPosted")+" "+zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),csUserTag="",aTagHref=sharedObj.zuid||"",accId=resObj.accId||zgssearch.getResultAccountId(),sharedURL=zgssearch.pulseNetworkURL[accId]+"/stream/"+sharedObj.id;csUserTag=aTagHref&&"-1"!=aTagHref?(aTagHref=zgssearch.pulseNetworkURL[accId]+"/profile/"+aTagHref,_jQueryGS("<a>",{class:"zgs19_gsConnectCommentTitle",href:aTagHref,gs:"contactsurl",url:aTagHref,gstitle:sharedObj.author,istip:!0}).text(sharedObj.author)):_jQueryGS("<span>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsfl",gstitle:sharedObj.author,istip:!0}).text(sharedObj.author),_jQueryGS(menuEl.sharedPostHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnctSharedOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnctSharedHeader"}).append(csUserTag).append(_jQueryGS("<span>",{gstitle:hasPosted}).text(" "+hasPosted+" ")).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutUserValue"}).append(authorName).append(apostrophe).append(wallTxt))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectSharedContent",class:"zgs19_gsConnectSharedContent zgs19_gsOverflowWrap"}).append(sharedObj.content)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectSharedOption zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gstitle:viewSharedPost,gs:"contactsurl",href:sharedURL,url:sharedURL}).text(viewSharedPost)))),zgssearch.preventStylesFromParentDomain("#zgs20_gsConnectSharedContent"),argObj.domainAdded||gsconnect.addDomainForUsersAndGroups("#zgs20_gsConnectSharedContent",resObj)},gsconnect.renderLinkDetails=function(menuEl,linkImg,resObj){var linkDesc=linkImg.desc||"",downloadURL=linkImg.linkurl||"",linkInfoId=linkImg.linkInfoId||"",linkImg=linkImg.title?zgssearch.replaceHTMLEntity(linkImg.title):"";_jQueryGS(menuEl.zgs20_gsConnectLinkDesc).empty().append(linkDesc),_jQueryGS("#zgs20_gsConnectLinkTitle").attr("href",downloadURL),_jQueryGS("#zgs20_gsConnectLinkTitle").attr("url",downloadURL),_jQueryGS("#zgs20_gsConnectLinkTitle").empty().text(linkImg).attr("gstitle",linkImg),_jQueryGS(menuEl.zgs20_gsConnectLinkImageDiv).empty().append(_jQueryGS("<img>",{id:"zgs20_gsConnectLinkImage_"+linkInfoId,class:"zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_gsCurPointer zgs19_gsfl",src:zgssearch.gsspacer,url:downloadURL,gs:"contactsurl"})),linkInfoId?(linkImg=resObj.accId||zgssearch.getResultAccountId(),downloadURL=zgssearch.getURLHostName(zgssearch.pulseNetworkURL[linkImg]),linkImg=zgssearch.httpstxt+"://"+downloadURL+"/pulse/getLinkFile.do?streamId="+resObj.id+"&scopeID="+zgssearch.pulseNetworkId[linkImg]+"&timestamp="+linkInfoId,linkImg=_jQueryGS("#zgs20_gsConnectLinkImage_"+linkInfoId).attr("src",linkImg).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_gsConnectLinkImgSrc").addClass("zgs19_gsConnectLinkImgPhoto"),_jQueryGS(linkImg).off().on("error",function(){_jQueryGS("#zgs20_gsConnectLinkImage_"+linkInfoId).attr("src",zgssearch.gsspacer).addClass("zgs19_gsConnectLinkImgPhoto zgs19_gsConnectLinkImgSrc").removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader")})):_jQueryGS("#zgs20_gsConnectLinkImage_"+linkInfoId).attr("src",zgssearch.gsspacer).addClass("zgs19_gsConnectLinkImgPhoto zgs19_gsConnectLinkImgSrc").removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader"),_jQueryGS(menuEl.LinkHolder).css("display","block")},gsconnect.generateConnectCalloutImage=function(isLoaded){"use strict";return function(){var imageEle=zgssearch.getTargetElem(this.getAttribute("gs"));imageEle&&(_jQueryGS(imageEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_gsConnectLinkImgSrc").addClass("zgs19_gsConnectLinkImgPhoto"),isLoaded?imageEle.src=this.src:(imageEle.src=zgssearch.gsspacer,_jQueryGS(imageEle).addClass("zgs19_gsConnectLinkImgSrc")),zgssearch.removeEle(this))}},gsconnect.loadConnectimage=function(menuEl,serviceImgDummy,id){serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id,src:serviceImgDummy})[0];_jQueryGS(menuEl).append(serviceImgDummy),_jQueryGS(serviceImgDummy).off().on({load:function(){gsconnect.generateConnectCalloutImage(!0)},error:function(){gsconnect.generateConnectCalloutImage(!1)}},!0)},gsconnect.renderRecentCommentDetails=function(menuEl,resObj,commentArray,ccherf,argObj){var viewAllCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.recentComments");"FORUMS"==resObj.type&&(viewAllCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.Comments")),_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:viewAllCommentsTitle}).text(viewAllCommentsTitle)));for(var calloutCount=_jQueryGS(menuEl).attr("ccount"),c=0;c<commentArray.length;c++){var chatid,chatTitle,cObj=commentArray[c],attachArray="zgs20_gsConnectComment"+c+calloutCount,commentContentId="zgs20_gsConnectCommentContent"+c+calloutCount,attachId="zgs20_gsConnectCommentAttachmentHolder"+c+calloutCount,continuechat="",imageArray=cObj.zuid||"";continuechat=imageArray&&"-1"!=imageArray?(chatid=resObj.accId||zgssearch.getResultAccountId(),chatTitle=zgssearch.pulseNetworkURL[chatid]+"/profile/"+imageArray,_jQueryGS("<a>",{class:"zgs19_gsConnectCommentTitle zgs19_gsOverflow",href:chatTitle,gs:"contactsurl",url:chatTitle,gstitle:cObj.name,istip:!0}).text(cObj.name)):_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl",gstitle:cObj.name,istip:!0}).text(cObj.name),_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentHolder",id:attachArray+"Holder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:attachArray,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(continuechat).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.time)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:commentContentId}).append(cObj.content)).append(_jQueryGS("<div>",{id:attachArray+"_chat",class:"zgs19_gsConnChatHolder"})).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:attachId})))),cObj.hasOwnProperty("chatletTitle")&&(chatid=cObj.chid,chatTitle=cObj.chatletTitle,continuechat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),_jQueryGS("#"+attachArray+"_chat").append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow",gstitle:chatTitle}).text(chatTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:chatid}).text(continuechat))),zgssearch.preventStylesFromParentDomain("#"+commentContentId),argObj.domainAdded||gsconnect.addDomainForUsersAndGroups("#"+commentContentId,resObj);imageArray=zgssearch.getThumbPhotoURL(imageArray);zgssearch.updateUserPhoto(attachArray+"Holder",imageArray);attachArray=cObj.attachments||[],imageArray=cObj.images||[];gsconnect.renderAttachment("#"+attachId,attachArray),gsconnect.renderAttachment("#"+attachId,imageArray)}viewAllCommentsTitle=resObj.url||"";viewAllCommentsTitle&&3<ccherf&&(ccherf=viewAllCommentsTitle+"/"+cObj.id,viewAllCommentsTitle=zgssearch.getI18NMsg("gs.search.service_connect.callout.viewAllComments"),_jQueryGS(menuEl.commentHolder).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentMore zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{href:ccherf,gs:"contactsurl",url:ccherf,gstitle:viewAllCommentsTitle}).text(viewAllCommentsTitle)))),_jQueryGS(menuEl.commentHolder).css("display","block")},gsconnect.renderAttachment=function(holder,cattach){for(var i=0;i<cattach.length;i++){var val=cattach[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(holder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsLinkElem",service:GSConstant.CONNECT,aId:val.fileId,gs:"attachtitle",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(val.size))))}},gsconnect.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsConnectCalloutFooter","zgs20_gsConnectCalloutAttachInfo")},gsconnect.downloadAttachment=function(fileId){var downloadURL=(new zgssearch.dashboardSearchActions).createActionType(fileId).getCurrAccId();zgssearch.isPreviewOpenedInComponent&&!downloadURL&&(downloadURL=zgssearch.pcResObj.accId);fileId=_jQueryGS(fileId).attr("aId"),downloadURL=zgssearch.GSConstant.ud_download_server_url+"?x-service=CNT&event-id="+fileId+'&x-cli-msg={"scopeID":"'+zgssearch.pulseNetworkId[downloadURL]+'","size":"full","isComment":"true"}';zgssearch.network.download_file(downloadURL)},gsconnect.addDomainForUsersAndGroups=function(id,resObj){var accId=resObj.accId||zgssearch.getResultAccountId(),downloadURL=zgssearch.httpstxt+"://"+zgssearch.getURLHostName(zgssearch.pulseNetworkURL[accId]);_jQueryGS(id).find("img").each(function(){var oldTagSrc=_jQueryGS(this).attr("src")?_jQueryGS(this).attr("src"):"";""!=oldTagSrc&&0===oldTagSrc.indexOf("/")&&_jQueryGS(this).attr("src",downloadURL+oldTagSrc)}),_jQueryGS(id).find("a").each(function(){var oldTagHref=_jQueryGS(this).attr("href")?_jQueryGS(this).attr("href"):"";""!=oldTagHref&&(0!==oldTagHref.indexOf("#")&&0!==oldTagHref.indexOf("/")||(oldTagHref=0===oldTagHref.indexOf("#")?(oldTagHref=oldTagHref.substring(1,oldTagHref.length),zgssearch.pulseNetworkURL[accId]+"/"+oldTagHref):(oldTagHref=oldTagHref.substring(1,oldTagHref.length),downloadURL+"/"+oldTagHref)),_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("href",oldTagHref),_jQueryGS(this).attr("rel","noopener noreferrer"))}),_jQueryGS(id).find("div[style]").each(function(){_jQueryGS(this).each(function(){var aTag;this.style.hasOwnProperty("background-image")&&(aTag=(aTag=this.style.backgroundImage).substring('url("/'.length-1,aTag.length),aTag=GSConstant.GS_CONNECT_URL+aTag.substring(0,aTag.length-2),aTag=_jQueryGS("<img>",{src:aTag}),_jQueryGS(aTag).removeAttr("onclick"),_jQueryGS(this).removeAttr("style").append(aTag))})})},gsconnect.renderBlogCategoriesDetails=function(holder,categoriesArr){_jQueryGS(holder).empty(),_jQueryGS(holder).find("#zgs20_gsBlogCategoryList").remove();for(var rcount,lenArr=categoriesArr.length,cwidth=1==lenArr?"90%":2==lenArr?"45%":3<=lenArr?"20%":"",i=0;i<lenArr&&i<3;i++){var cbgColor,cid,linkDiv=categoriesArr[i];linkDiv.hasOwnProperty("name")&&(cbgColor=linkDiv.bgColor,cid=linkDiv.id,linkDiv=linkDiv.name,linkDiv=(linkDiv=zgssearch.replaceHTMLEntity(linkDiv)).toUpperCase(),linkDiv=_jQueryGS("<a>",{class:"zgs19_gsBlogCategory zgs19_gsOverflow zgs19_gsfl",cid:cid,gstitle:linkDiv,istip:!0}).text(linkDiv),_jQueryGS(holder).append(linkDiv),linkDiv.css({color:"#"+cbgColor,"border-color":"#"+cbgColor,"max-width":cwidth}))}3<lenArr&&(rcount=lenArr-3,_jQueryGS(holder).append(_jQueryGS("<div>",{id:"zgs20_gsBlogCategoryMore",class:"zgs19_gsMoreBlogCategory zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsfl",gs:"moreBlogCategory"}).text("+"+rcount+" more")),_jQueryGS(holder).append(_jQueryGS("<div>",{id:"zgs20_gsBlogCategoryList",class:"zgs19_gsBlogCategoryList zgs19_gsDisplayNone",gs:"blogCategoryList"})),gsconnect.renderMoreBlogCategoryList(holder,lenArr,categoriesArr))},gsconnect.renderMoreBlogCategoryList=function(holder,lenArr,categoriesArr){for(var i=3;i<lenArr;i++){var cbgColor,cid,eachClass=categoriesArr[i];eachClass.hasOwnProperty("name")&&(cbgColor=eachClass.bgColor,cid=eachClass.id,eachClass=eachClass.name,eachClass=(eachClass=zgssearch.replaceHTMLEntity(eachClass)).toUpperCase(),eachClass=_jQueryGS("<div>",{class:"zgs19_gsBlogCategoryListchNew zgs19_gsBorderBox zgs19_gsOverflow",cid:cid}).append(_jQueryGS("<span>",{gstitle:eachClass,istip:!0}).text(eachClass)),_jQueryGS(holder).find("#zgs20_gsBlogCategoryList").append(eachClass),eachClass.css("color","#"+cbgColor))}},gsconnect.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsconnect.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)"embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CONNECT}).text(dectext)))}},gsconnect.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.service_connect.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsconnect.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsConnectCallout");zgssearch.setGSTagElems(menuEl),gsconnect.setConnectCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsconnect)}(zgssearch,window),function(zgssearch,window){var gscontacts,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gscontacts=(gscontacts=void 0,(gscontacts=zgssearch.gscontacts||{}).user_availability=gscontacts.user_availability||{throshold:"120000",limit:500,zuidList:[],userObj:{}},gscontacts.actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink",embedPreview:"gs.search.callout.savePreviewCard"}],gscontacts.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&erecno="+resObj.pkid},gscontacts.createCalloutTemplate=function(count,curCalloutObj){zgssearch.getConTemp("",count,curCalloutObj)},gscontacts.setContactsCalloutEleSize=function(menuEl){var CalloutWidth=_jQueryGS(menuEl.header).height(),imgWidth=_jQueryGS(menuEl.iconHeight).height(),id=menuEl.getAttribute("id"),CalloutWidth=_jQueryGS("#"+id).height()-(CalloutWidth+imgWidth);zgssearch.isMobViewport()&&(CalloutWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",CalloutWidth+"px");imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS(menuEl).width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gscontacts.calloutResponse=function(resObj,curRe,ctitle){var composeMail,isMoreInfo,mobileLabel,emailLabel,zuid,peruser,imgId,img_elem,photoURL,isValidEmailId,cstatus,name,searchType=resObj.serviceName||resObj.service||_jQueryGS(curRe).attr("service")||"",curCalloutObj=ctitle.searchObj,rname=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(rname),zgssearch.setGSTagElems(curRe),_jQueryGS(rname.actionlist).attr("gsa",searchType),searchType!==GSConstant.PEOPLE?(_jQueryGS(rname.lineicon).hide(),_jQueryGS(rname.actionlist).hide(),_jQueryGS(rname.contactsDesgInfo).hide(),_jQueryGS(rname.contactsCalloutData).empty(),composeMail="",isMoreInfo=!1,mobileLabel=zgssearch.getI18NMsg("common.mobile"),isValidEmailId=zgssearch.getI18NMsg("common.phone"),emailLabel=zgssearch.getI18NMsg("common.email"),_jQueryGS(rname.ctitle).attr("service",searchType),_jQueryGS(rname.ctitle).removeClass("zgs19_gsCalloutTitleLink"),zuid=resObj.zuid,peruser="",imgId=(img_elem=zgssearch.getUserStatus(zuid,"big")).name,img_elem.status,cstatus=GSConstant.cuz,ctitle="zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl "+imgId,_jQueryGS(rname.calloutIconHolder).attr("class",ctitle),(img_elem=_jQueryGS(rname).find(".zgs19_gswmschat")).css("display","none"),img_elem.attr("chatid",zuid),imgId="zgs20_gsContactsCalloutUserImg"+_jQueryGS(rname).attr("ccount"),_jQueryGS(rname.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:imgId,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer})),_jQueryGS(rname.clink).css("display","none"),ctitle=resObj.full_name||"",_jQueryGS(rname.ctitle).empty().text(ctitle).attr("gstitle",ctitle),_jQueryGS(rname.ctitle).removeAttr("href"),"personal"===resObj.type?(photoURL=resObj.photo+"?API=true",img_elem=_jQueryGS("#"+imgId),zgssearch.network.imageRenderer.renderImage(photoURL,{img_elem:img_elem,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):"-1"!==zuid&&void 0!==zuid?(photoURL=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderBigCalloutUserPhoto(imgId,photoURL)):_jQueryGS("#"+imgId).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"),_jQueryGS(rname.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:ctitle,istip:!0}).text(ctitle))),composeMail=resObj.email||"",zgssearch.renderContactsEmailId(rname,rname.contactsCalloutData,emailLabel,composeMail),zgssearch.renderContactsInfo(rname,rname.contactsCalloutData,mobileLabel,resObj.mobile||""),zgssearch.renderContactsInfo(rname,rname.contactsCalloutData,isValidEmailId,resObj.phone||""),"true"===resObj.mDet&&(isMoreInfo=!0),gscontacts.contactsMoreInfo(resObj)&&(isMoreInfo=!0),(isValidEmailId="null"!=composeMail&&""!=composeMail&&null!=composeMail)&&zuid!=cstatus&&(cstatus=parseInt(resObj.status),"-1"==zuid?_jQueryGS(-11==cstatus?rname.gswmspendzoho:rname.gswmsinvitezoho).show():0<=cstatus?(peruser=zuid,_jQueryGS(rname.gswmschat).show(),zgssearch.hasAudioSupport()&&_jQueryGS(rname.gswmsaudio).show(),zgssearch.hasVideoSupport()&&_jQueryGS(rname.gswmsvideo).show()):-1==cstatus||-3==cstatus?_jQueryGS(rname.gswmspend).show():-2!=cstatus&&-4!=cstatus&&-10!=cstatus||_jQueryGS(rname.gswmsinvite).show()),gscontacts.addCalloutActionList(rname,searchType,composeMail,peruser),isValidEmailId&&(_jQueryGS(rname.sendMail).css("display","block"),_jQueryGS(rname.sendMail).attr("email",composeMail)),isMoreInfo&&(name=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more"),_jQueryGS(rname.contactsCalloutData).append(_jQueryGS("<div>",{id:"zgs20_gsContactsMoreOption",class:"zgs19_gsContactsMoreOption",gs:"contactsMoreHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsContactsMoreOptionElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfr",service:searchType,gs:"contactsMore"}).text(name))),1===gscomponent.UIType&&_jQueryGS("[gs=contactsMore]").click()),name=zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||name)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(rname).css("display","block")),_jQueryGS(rname.contPartHolder).scrollTop(0),_jQueryGS(rname.contPartHolder).scrollLeft(0),gscontacts.setContactsCalloutEleSize(rname),zgssearch.calloutVisitRequest()):resObj&&!_jQueryGS.isEmptyObject(resObj)?(name=(name=(name=resObj.empFname||"")+" "+resObj.empLname||"").trim(),rname=(rname=(resObj.reportFname||"")+" "+(resObj.reportLname||"")).trim(),resObj.name=zgssearch.replaceHTMLEntity(name),resObj.rname=zgssearch.replaceHTMLEntity(rname),zgssearch.renderRes(resObj,curRe,curCalloutObj,{name:"name",email:"mailid",deptname:"deptname",desgname:"desgname",mobile:"mobile",empid:"empid",extn:"extn",location:"location",rName:"rname",phone:"phone",zuid:"zuid",mDet:"mDet",status:"status",deptmail:"deptmail",photo:"photo",reportingto:"reportingto"})):gscontacts.calloutErrorMsg("",curCalloutObj)},gscontacts.addCalloutActionList=function(menuEl,service,composeMail,peruser){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscontacts.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"open"==key&&GSConstant.PEOPLE!=service||"copyLink"==key&&GSConstant.PEOPLE!=service||"sendMail"==key&&!composeMail||"pcontinue"==key&&!peruser||("audio"!=key&&"video"!=key||peruser&&zgssearch.hasAudioSupport()&&zgssearch.hasVideoSupport())&&((!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||(_jQueryGS(menuEl.actionlist).css("display","block"),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,email:composeMail,chatid:peruser,service:service}).text(dectext))))}}},gscontacts.contactsMoreInfo=function(emailTo){var isMoreInfo=!1,webUrlMapEval=emailTo.web_url,emailsIdArr=emailTo.email_ids,instMesMapEval=emailTo.instant_ids,emailTo=emailTo.email||"";return emailsIdArr&&(emailsIdArr=zgssearch.jsonParse(emailsIdArr),gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&(isMoreInfo=!0)),instMesMapEval&&"{}"!==instMesMapEval&&(instMesMapEval=zgssearch.jsonParse(instMesMapEval),gscontacts.objContainsInstMsg(instMesMapEval)&&(isMoreInfo=!0)),webUrlMapEval&&"{}"!==webUrlMapEval&&(webUrlMapEval=zgssearch.jsonParse(webUrlMapEval),gscontacts.objContainsWebUrl(webUrlMapEval)&&(isMoreInfo=!0)),isMoreInfo},gscontacts.objContainsEmailIds=function(emailsIdArr,index){index=emailsIdArr.indexOf(index);return-1<index&&emailsIdArr.splice(index,1),!!(emailsIdArr&&0<emailsIdArr.length)},gscontacts.objContainsInstMsg=function(Other){var Google=!!Other.Google,Yahoo=!!Other.Yahoo,Skype=!!Other.Skype,AOL=!!Other.AOL,Msn=!!Other.Msn,ICQ=!!Other.ICQ,Jabber=!!Other.Jabber,Other=!!Other.Other||!!Other[""];return Google||Yahoo||Skype||AOL||Msn||ICQ||Jabber||Other},gscontacts.objContainsWebUrl=function(Others){var BlogURL=!!Others["Blog URL"],AmazonURL=!!Others["Amazon URL"],CompanyWebAddress=!!Others["Company Web Address"],DeliciousURL=!!Others["Delicious URL"],LinkedInURL=!!Others["LinkedIn URL"],PersonalWebAddress=!!Others["Personal Web Address"],FlickrURL=!!Others["Flickr URL"],Others=!!Others.Others||!!Others[""];return BlogURL||AmazonURL||CompanyWebAddress||DeliciousURL||LinkedInURL||PersonalWebAddress||FlickrURL||Others},gscontacts.getContactsMoreInfo=function(curObj,menuEl){var contactType=curObj.type,params=curObj.contact_id,menuEl=(new zgssearch.dashboardSearchActions).createActionType(menuEl).getSearchDBCalloutObj(),menuEl=zgssearch.getTargetElem(menuEl.calloutId);zgssearch.setGSTagElems(menuEl);params="action=fetchContactDetails&contactType="+contactType+"&contactId="+params;_jQueryGS(menuEl.contactsMoreHolder).empty().append(_jQueryGS("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsContactsMoreFetchImg zgs19_gsfr"})),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,{curObj:curObj,menuEl:menuEl},function(homeAddr,status,menuEl){var workAddr=menuEl.args||{},menuEl=workAddr.menuEl;_jQueryGS(menuEl.contactsMoreHolder).remove(),gscontacts.contactsMoreInfo(workAddr.curObj)&&gscontacts.renderMoreInfo(menuEl,workAddr.curObj),homeAddr&&(""!==(homeAddr=(workAddr=zgssearch.jsonParse(homeAddr)).homeAddr||"")&&gscontacts.renderEmailORAddrInfo(menuEl,"address",homeAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.home_address")),""!==(workAddr=workAddr.workAddr||"")&&gscontacts.renderEmailORAddrInfo(menuEl,"address",workAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.work_address")))})},gscontacts.renderMoreInfo=function(menuEl,emailTo){var webUrlMapEval=emailTo.web_url,emailsIdArr=emailTo.email_ids,instMesMapEval=emailTo.instant_ids,emailTo=emailTo.email||"";_jQueryGS(menuEl.lineicon).show(),emailsIdArr&&(emailsIdArr=zgssearch.jsonParse(emailsIdArr),gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&gscontacts.renderEmailORAddrInfo(menuEl,"email",emailsIdArr,zgssearch.getI18NMsg("common.secondary_email"))),instMesMapEval&&"{}"!==instMesMapEval&&(instMesMapEval=zgssearch.jsonParse(instMesMapEval),gscontacts.objContainsInstMsg(instMesMapEval)&&gscontacts.renderInstantMsgInfo(menuEl,instMesMapEval)),webUrlMapEval&&"{}"!==webUrlMapEval&&(webUrlMapEval=zgssearch.jsonParse(webUrlMapEval),gscontacts.objContainsWebUrl(webUrlMapEval)&&gscontacts.renderWebUrlInfo(menuEl,webUrlMapEval))},gscontacts.renderEmailORAddrInfo=function(menuEl,oper,list,text){if(0<list.length){for(var emailAddr=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(text))),listLen=list.length,i=0;i<listLen;i++){var elem=list[i],comma=i+1===list.length?"":",";"address"===oper?emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:elem,istip:!0}).text(elem+comma)))):"email"===oper&&emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+elem,target:"_blank",gstitle:elem,istip:!0}).text(elem+comma)))}_jQueryGS(menuEl.lineicon).show(),_jQueryGS(menuEl.contactsCalloutData).append(emailAddr)}},gscontacts.renderInstantMsgInfo=function(menuEl,others){var google=others.Google||"",yahoo=others.Yahoo||"",skype=others.Skype||"",aol=others.AOL||"",msn=others.Msn||"",icq=others.ICQ||"",jabber=others.Jabber||"",others=others.Other||others[""]||"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.google"),google),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.yahoo"),yahoo),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.skype"),skype),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.aol"),aol),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.msn"),msn),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.icq"),icq),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.jabber"),jabber),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other"),others)},gscontacts.renderWebUrlInfo=function(menuEl,deliciousURL){var PersonalURL=deliciousURL["Personal Web Address"]||"",CompanyURL=deliciousURL["Company Web Address"]||"",blogURL=deliciousURL["Blog URL"]||"",linkedInURL=deliciousURL["LinkedIn URL"]||"",facebookURL=deliciousURL.FACEBOOK_web||"",twitterURL=deliciousURL.TWITTER_web||"",amazonURL=deliciousURL["Amazon URL"]||"",flickrURL=deliciousURL["Flickr URL"]||"",deliciousURL=deliciousURL["Delicious URL"]||"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.personal_webaddress"),PersonalURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.company_webaddress"),CompanyURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.blogurl"),blogURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.linkedinurl"),linkedInURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.FacebookURL"),facebookURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.TwitterURL"),twitterURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.amazonurl"),amazonURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.flickrurl"),flickrURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.deliciousurl"),deliciousURL)},gscontacts.fetchUserAvailability=function(pzuid){pzuid=pzuid.zuid||"";pzuid&&(gscontacts.isUserStatusCached(pzuid)||zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchUserAvailability&zuid="+pzuid,{argZuid:pzuid},function(data,status,xhr){try{var argZuid=(xhr.args||{}).argZuid,response=zgssearch.jsonParse(data);response.hasOwnProperty("isUserAvailable")&&(gscontacts.user_availability.zuidList.push(argZuid),gscontacts.user_availability.userObj[argZuid]={response:response,time:(new Date).getTime()},gscontacts.renderUserAvailability(argZuid,response))}catch(ex){zgssearch.throwClientError("Error while fetch user availability",ex)}}))},gscontacts.isUserStatusCached=function(index){var fetchedTime=gscontacts.user_availability||{},userStatusObj=fetchedTime.userObj||{},zuidList=fetchedTime.zuidList||[],throshold=fetchedTime.throshold;if(fetchedTime.limit<=Object.keys(userStatusObj).length&&(delete userStatusObj[zuidList[0]],zuidList.splice(0,1)),userStatusObj.hasOwnProperty(index)){var userInfo=userStatusObj[index],fetchedTime=userInfo.time;if((new Date).getTime()-fetchedTime<throshold)return gscontacts.renderUserAvailability(index,userInfo.response),!0;delete userStatusObj[index];index=zuidList.indexOf(index);-1!==index&&zuidList.splice(index,1)}return!1},gscontacts.renderUserAvailability=function(argZuid,className){var textValue;(zgssearch.getCurrentResObj().zuid||"")==argZuid&&className.hasOwnProperty("isUserAvailable")&&(className=(textValue=className.isUserAvailable)?"zgs19_gsPeopleStatusIn":"zgs19_gsPeopleStatusOut",textValue=zgssearch.getI18NMsg(textValue?"gs.search.service_people.status.in":"gs.search.service_people.status.out"),_jQueryGS("#zgs20_gsPeopleStatus_"+argZuid).removeClass("zgs19_gsDisplayNone").addClass(className+" zgs19_gsOverflow").text(textValue))},gscontacts.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsContactsCallout");zgssearch.setGSTagElems(menuEl),gscontacts.setContactsCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscontacts.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.contact.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscontacts)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.contactTemp=(zgssearch.getConTemp=function(id,count,curCalloutObj){var composeMailTitle,inviteZoho,inviteChat,invitedChat,continueChat,audioCall,gstitval,cliq_channel_str,desk_send_mail,connect_group_str,ccallout,calloutId=curCalloutObj.calloutId;"search"===curCalloutObj.type&&_jQueryGS("#zgs20_gsConnectorCallout").remove(),_jQueryGS("#"+calloutId).length<=0&&(composeMailTitle=zgssearch.getI18NMsg("gs.search.sevice_mail_sendMail"),inviteZoho=zgssearch.getI18NMsg("gs.search.result.chat.callout.inviteZoho"),inviteChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.inviteChat"),invitedChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.pendingChat"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"),audioCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.audiochat"),ccallout=zgssearch.getI18NMsg("gs.search.result.chat.callout.videochat"),gstitval=zgssearch.getI18NMsg("gs.search.callout.open_tab"),cliq_channel_str=zgssearch.getI18NMsg("gs.connector.open.cliq.channel"),desk_send_mail=zgssearch.getI18NMsg("gs.connector.desk.send.mail"),connect_group_str=zgssearch.getI18NMsg("gs.connector.open.connect.group"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:gstitval,istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsDisplayNone zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsContactsCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsContactsCalloutIconHeight",gs:"iconHeight"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl zgs19_gsContactsCalloutMetaInfoMargin",gs:"contactsMetaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsDesgInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsPdLt6Px",gs:"contactsActionInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:composeMailTitle})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"cliqchannel",gstitle:cliq_channel_str})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsDeskIcon zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"deskmail",gstitle:desk_send_mail})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"connectgroup",gstitle:connect_group_str})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsinvitezoho zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsinvitezoho",gstitle:inviteZoho})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gspendingZoho zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmspendzoho",gstitle:invitedChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsinviteChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsinvite",gstitle:inviteChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gspendingChat zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmspend",gstitle:invitedChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:audioCall})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:ccallout}))))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent zgs19_gsCalloutPopUp zgs19_gsWP100",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},void(zgssearch.renderRes=function(resObj,suppmail,calloutObj,repName){var peruser="",searchType=resObj.serviceName||resObj.service||_jQueryGS(suppmail).attr("service"),menuEl=zgssearch.getTargetElem(calloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(suppmail),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl).find(".zgs19_gswmschat").css("display","none"),_jQueryGS(menuEl.contactsDesgInfo).css("display","none"),_jQueryGS(menuEl.contactsCalloutData).empty();var extnLabel=resObj[repName.name]||"";_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),_jQueryGS(menuEl.ctitle).empty().text(extnLabel).attr("gstitle",extnLabel),searchType==GSConstant.PEOPLE?(_jQueryGS(menuEl.clink).attr("service",searchType),_jQueryGS(menuEl.clink).css("display","block"),_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.PEOPLE,resObj))):(_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsCalloutTitleLink"),_jQueryGS(menuEl.clink).css("display","none"),_jQueryGS(menuEl.ctitle).removeAttr("href"));var zuid=resObj.zuid||"";_jQueryGS(menuEl).find(".zgs19_gswmschat").attr("chatid",zuid);var emailLabel="zgs20_gsContactsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount");"8"===resObj.cpt?_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<span>",{id:emailLabel})):_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:emailLabel,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer}));var reportingLabel=resObj[repName.photo]||"";"8"===resObj.cpt?_jQueryGS("#"+emailLabel).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptIconStyle zgs19_gsGRDeptIcon"):reportingLabel?(reportingLabel=-1!==reportingLabel.indexOf("/file?")?reportingLabel+zgssearch.nps:reportingLabel.replace("/api/viewEmployeePhoto?","/viewPhoto?"),not_available_title=_jQueryGS("#"+emailLabel),zgssearch.network.imageRenderer.renderImage(reportingLabel,{img_elem:not_available_title,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):_jQueryGS("#"+emailLabel).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew");var addressLabel=resObj[repName.deptname]||"",empidLabel=resObj[repName.desgname]||"",mplabel=empidLabel?"":"zgs19_gsMgLf10Px",locationLabel="",temailLabel="";empidLabel&&addressLabel&&(temailLabel=_jQueryGS("<span>",{class:"zgs19_gsContactsPipeElem zgs19_gsOverflow zgs19_gsfl"}).text("|")),(empidLabel||addressLabel)&&_jQueryGS(menuEl.contactsDesgInfo).css("display","block"),addressLabel&&(locationLabel=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl zgs19_gsMgTop4Px "+mplabel}));var telPhNoLabel="",descLabel="",descLabel=resObj.hasOwnProperty("cpt")?"zgs19_gsContactsDesgElem":(telPhNoLabel="peopledept","zgs19_gsLinkElem zgs19_gsContactsTeamElem");_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:extnLabel,istip:!0}).text(extnLabel))).append(_jQueryGS("<div>",{id:"zgs20_gsPeopleStatus_"+zuid,gsa:"peopleStatus",class:"zgs19_gsContactsStatusElem zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone"})),"8"===resObj.cpt?("none"!==(erecno=resObj.deptmail||"")&&""!==erecno.trim()||(erecno=zgssearch.getI18NMsg("common.not_available")),_jQueryGS(menuEl.contactsDesgInfo).empty().append(_jQueryGS("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf10Px "+descLabel,gs:"dept_email",gslabel:"email",gstitle:erecno,istip:!0}).text(erecno))):_jQueryGS(menuEl.contactsDesgInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsDesgElem zgs19_gsOverflow zgs19_gsfl",gsa:"peopleDesignation",gstitle:empidLabel,istip:!0}).text(empidLabel)).append(temailLabel).append(locationLabel).append(_jQueryGS("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf5Px "+descLabel,gs:telPhNoLabel,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:addressLabel,istip:!0}).text(addressLabel));var extn=resObj[repName.extn]||"",pempid=resObj[repName.empid]||"",composeMail=resObj[repName.email]||"";"8"===resObj.cpt&&(composeMail=resObj.deptmail||"");var location=resObj[repName.location]||"",erecno=resObj[repName.deptmail]||"",mpvalue=resObj[repName.mobile]||"",summValue=(summValue=resObj[repName.summ]||"")&&zgssearch.gssecurity.textDecoder(summValue),suppmail=resObj.suppmail||"",reportingLabel=zgssearch.getI18NMsg("common.mobile"),not_available_title=zgssearch.getI18NMsg("common.phone"),emailLabel=zgssearch.getI18NMsg("common.email"),mplabel=resObj[repName.mobile]?reportingLabel:not_available_title,extnLabel=zgssearch.getI18NMsg("gs.search.service_people.extn"),empidLabel=zgssearch.getI18NMsg("gs.search.service_people.empid"),temailLabel=zgssearch.getI18NMsg("gs.search.service_people.teamemail"),locationLabel=zgssearch.getI18NMsg("gs.search.service_people.seatinglocation"),descLabel=zgssearch.getI18NMsg("common.description"),telPhNoLabel=zgssearch.getI18NMsg("gs.search.service_connector.telphno"),addressLabel=zgssearch.getI18NMsg("common.address"),reportingLabel=zgssearch.getI18NMsg("gs.search.service_people.reportingto"),not_available_title=zgssearch.getI18NMsg("common.not_available");"8"!==resObj.cpt||zgssearch.Utils.isValidDepartmentInfo(composeMail)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,emailLabel,composeMail):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.team.email"),not_available_title),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,extnLabel,extn),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,mplabel,mpvalue),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,empidLabel,pempid),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,locationLabel,location),zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,temailLabel,erecno);erecno=resObj[repName.reportingto]||{};_jQueryGS.isEmptyObject(erecno)||(repName=erecno.hasOwnProperty("empLName")?erecno.empLName:"",repName=erecno.empName+" "+repName,erecno=erecno.erecNo,zgssearch.renderActionableElems(menuEl,menuEl.contactsCalloutData,reportingLabel,erecno,repName,"people_reportingto")),"8"!==resObj.cpt&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,descLabel,summValue),searchType===GSConstant.ORGRESOURCES&&(resObj.hasOwnProperty("ctno")&&resObj.ctno&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,telPhNoLabel,resObj.ctno),resObj.hasOwnProperty("cloc")&&resObj.cloc&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,addressLabel,resObj.cloc)),"8"===resObj.cpt&&(cliq_channel=(cliq_channel=resObj.cliqchannel||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(cliq_channel)?zgssearch.renderURL(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.cliq.channel"),cliq_channel):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.cliq.channel"),cliq_channel),isValidEmailId=(isValidEmailId=resObj.suppmail||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(isValidEmailId)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.email"),isValidEmailId):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.email"),isValidEmailId),status=resObj.avayaextn||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.extn"),status),issameorg=(issameorg=resObj.connectgrp||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(issameorg)?zgssearch.renderURL(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.connect.group"),issameorg):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.connect.group"),issameorg),isValidEmailId=resObj.jobdesc||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.job.desc"),isValidEmailId),status=resObj.otherres||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.other.data"),status),issameorg=resObj.summ||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("common.description"),issameorg));var cliq_channel,zuid=resObj.zuid,peruser="",isValidEmailId=zgssearch.getUserStatus(zuid,"big"),status=(isValidEmailId.name,isValidEmailId.status),issameorg=GSConstant.cuz,isValidEmailId="null"!==composeMail&&""!==composeMail&&null!=composeMail&&"-"!==composeMail&&"none"!==composeMail;isValidEmailId&&zuid!=issameorg&&searchType==GSConstant.PEOPLE&&(issameorg=resObj.issameorg||"",!isNaN(status)&&zuid&&"-1"!=zuid&&(status=parseInt(status),"true"==issameorg||0<=status?(peruser=zuid,_jQueryGS(menuEl.gswmschat).show(),zgssearch.hasAudioSupport()&&_jQueryGS(menuEl.gswmsaudio).show(),zgssearch.hasVideoSupport()&&_jQueryGS(menuEl.gswmsvideo).show()):-1==status||-3==status?_jQueryGS(menuEl.gswmspend).show():-2!=status&&-4!=status&&-10!=status||_jQueryGS(menuEl.gswmsinvite).show())),zgssearch.gscontacts.addCalloutActionList(menuEl,searchType,composeMail,peruser),isValidEmailId&&(_jQueryGS(menuEl.sendMail).css("display","block"),_jQueryGS(menuEl.sendMail).attr("email",composeMail)),"8"===resObj.cpt&&(_jQueryGS(menuEl.contactsDesgInfo).css("display","block"),isPreviewCard="none",zgssearch.Utils.isValidDepartmentInfo(composeMail)&&(_jQueryGS(menuEl.sendMail).attr("email",composeMail),isPreviewCard="block"),_jQueryGS(menuEl.sendMail).css("display",isPreviewCard),isPreviewCard="none",cliq_channel=resObj.cliqchannel||"",zgssearch.Utils.isValidDepartmentInfo(cliq_channel)&&(_jQueryGS(menuEl.cliqchannel).attr("cliq_channel_url",cliq_channel),isPreviewCard="block"),_jQueryGS(menuEl.cliqchannel).css("display",isPreviewCard),isPreviewCard="none",suppmail=resObj.suppmail||"",zgssearch.Utils.isValidDepartmentInfo(suppmail)&&(_jQueryGS(menuEl.deskmail).attr("email",suppmail),isPreviewCard="block"),_jQueryGS(menuEl.deskmail).css("display",isPreviewCard));var isPreviewCard=zgssearch.isPreviewCard(calloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(calloutObj),_jQueryGS(menuEl).css("display","block")),searchType===GSConstant.PEOPLE&&zgssearch.gscontacts.fetchUserAvailability(resObj),setTimeout(function(){_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0)},0),(zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&!zgssearch.pccomponent.isActionsEnabled)&&_jQueryGS(menuEl.contactsActionInfo).css("display","none"),zgssearch.gscontacts.setContactsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()}))}(zgssearch,window),function(zgssearch,window){var gssupport,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupport=(gssupport=void 0,(gssupport=zgssearch.gssupport||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gssupport.email="",gssupport.zuid="",gssupport.getCalloutHolder=function(){return"zgs20_gsSupportCallout"},gssupport.calloutParams=function(resObj,urlParam){var docId=resObj.doc_id,module=resObj.module_id,urlParam="searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&id="+docId+"&module="+module+"&portalId="+(resObj.accId||(urlParam&&(urlParam.updateRecord||urlParam.updateDueDate)?zgssearch.gsaction.currSearchType.getCurrAccId():zgssearch.getResultAccountId()));return resObj.hasOwnProperty("ATTACHMENT_NAMES")&&(urlParam+="&hasAttach=true"),urlParam},gssupport.openSupportResult=function(portalObj,portalName){var docId=portalObj.module_id,moduleName=gssupport.getUrlModuleName(docId),docId=portalObj.doc_id,portalObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"accounts","data"),portalName=portalObj.hasOwnProperty(portalName)?portalObj[portalName]:"";return GSConstant.GS_SUPPORT_URL+"/support/"+encodeURIComponent(portalName)+"/ShowHomePage.do#"+moduleName+"/dv/"+docId},gssupport.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),ccallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.SUPPORT,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.SUPPORT,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.SUPPORT),service:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:ccallout,gs:"minpreview",service:GSConstant.SUPPORT}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer1"}).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid50Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid50Per",gs:"CalloutEditFields"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"receiverTxt",istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine",gs:"CalloutEditFields_icon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDiskStatusNew zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per",gs:"rfolderHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsDeskStatusIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<span>",{gs:"rfolder",istip:!0})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"ticket_third_row"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid18Per"}).append(_jQueryGS("<span>",{gs:"duelabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketDueDate",class:"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsEditFieldsUline zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid45Per",datatype:"dueDateChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"duevalue"})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketDuedate_icon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid15Per"}).append(_jQueryGS("<span>",{gs:"statuslabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketStatus",class:"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsfl zgs19_gs_CRMw22",datatype:"statusChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsTicketStatusTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid80Per",gs:"statusvalue",istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketStatus_icon"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsDeskCalloutFooter",class:"zgs19_gsCalloutFooterHolder zgs19_gsCalloutPopUp zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(_jQueryGS("<div>",{id:"zgs20_gsDeskCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsSupportCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsSupportCalloutIconHeight",gs:"metaInfo2"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder zgs19_gsSupportCalloutcontPartHolder zgs19_gsSupportCalloutFooter zgs19_gsCalloutPopUp",gs:"supportcalloutFooter2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"supportCalloutData"})))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gssupport.setSupportCalloutEleSize=function(menuEl){var footerAttr=_jQueryGS(menuEl.footer1).is(":visible")?"supportcalloutFooter1":"supportcalloutFooter2",headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.footer1).is(":visible")?_jQueryGS(menuEl.metaInfo1).height():_jQueryGS(menuEl.metaInfo2).height()+(_jQueryGS(menuEl[footerAttr]).outerHeight(!0)-_jQueryGS(menuEl[footerAttr]).height()),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl[footerAttr]).css("height",contentHeight+"px")},gssupport.calloutResponse=function(street,lzip,description,zip){var curCalloutObj=zip.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(description);var lcountry=lzip.module_id;street=street||{},!(zip=zip||{}).updateRecord||street&&!street.hasOwnProperty("error")||(gssupport.calloutRespData.assigneeId="Unassigned"==zip.owner.id?"null":zip.owner.id,street=gssupport.calloutRespData),gssupport.calloutRespData=street;var lstate,lstreet=_jQueryGS(menuEl).attr("ccount");if(_jQueryGS(menuEl.ctitle).attr("href",lzip.webUrl),description&&(dueLabel=_jQueryGS(description.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",dueLabel)),_jQueryGS(menuEl.clink).css("display","block"),_jQueryGS(menuEl.footer1).css("display","none"),_jQueryGS(menuEl.footer2).css("display","none"),_jQueryGS(menuEl.attachHolder).css("display","none"),_jQueryGS(menuEl.attachHolder).empty(),_jQueryGS(menuEl.moveToAttachArea).css("display","none"),_jQueryGS(menuEl.CalloutEditFields_icon).addClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype",""),_jQueryGS(menuEl.CalloutEditFields).removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS("#zgs20_gsTicketStatus").attr("datatype",""),_jQueryGS("#zgs20_gsTicketStatus").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketStatus_icon).removeClass("zgs19_gsModuleFilterElemIcon"),"1"==lcountry||"2"==lcountry)if(street)if(street.hasOwnProperty("result")){_jQueryGS(menuEl.footer1).css("display","block"),_jQueryGS(menuEl.rfolderHolder).css("display","block"),_jQueryGS(menuEl.ticket_third_row).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","block"),_jQueryGS(menuEl.contentHolder).empty(),_jQueryGS(menuEl.metaInfo1).css("minHeight",70),_jQueryGS(menuEl.metaInfo1).css("maxHeight",95);var forum="",city=street.result;gssupport.email=city.Email||"",gssupport.zuid=city.zuid||"",gssupport.isGroup=city.isGrp;var dueLabel,key_dueDate,postedBy,lcity=city.Status||"";if("1"===lcountry?(forum=(lzip.CUSTOMCASENUMBER||lzip.CASENUMBER)+" - "+lzip.support_title,_jQueryGS(menuEl.ctitle).empty().text(forum).attr("gstitle",forum),postedBy=zgssearch.getI18NMsg("common.from",!0),key_dueDate=city.Email&&"null"!=city.Email?city.Email:lzip.CONTACTNAME,_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("gstitle",postedBy),_jQueryGS(menuEl.sender).empty().text(key_dueDate).attr("gstitle",key_dueDate),_jQueryGS(menuEl.date).empty().text(lzip.display_time).attr("gstitle",lzip.display_time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),description=city["Case Owner"],dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.assignto"),key_dueDate=zgssearch.getI18NMsg("gs.search.result.support.callout.Notassigned"),key_dueDate="null"==street.assigneeId?key_dueDate:description,_jQueryGS(menuEl.rlabel).empty().text(dueLabel).attr("gstitle",dueLabel),_jQueryGS(menuEl.receiverTxt).empty().text(key_dueDate).attr("gstitle",key_dueDate),_jQueryGS(menuEl.rfolder).empty().text(lcity).attr("gstitle",lcity),dueLabel=description="",_jQueryGS(menuEl.rfolderHolder).css("display","none"),_jQueryGS(menuEl.ticket_third_row).css("display","block"),"Closed"==(street.statusType||"")?(dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.closedtime"),description=street.disp_closeTime||"",_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").attr("datatype",""),_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).removeClass("zgs19_gsModuleFilterElemIcon")):(_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").attr("datatype","dueDateChange"),_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).addClass("zgs19_gsModuleFilterElemIcon"),dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.duedate"),description=(description=street.disp_dueDate||"")&&"null"!=description?description:zgssearch.getI18NMsg("gs.search.result.support.callout.noduedate"),key_dueDate=street.key_dueDate||"",zgssearch.curDatePickerObj={service:GSConstant.SUPPORT,key:"date",soid:"duedate",fromdate:key_dueDate&&"null"!=key_dueDate?key_dueDate:void 0}),_jQueryGS(menuEl.duelabel).empty().text(dueLabel).attr("gstitle",dueLabel),_jQueryGS(menuEl.duevalue).empty().text(description).attr("gstitle",description),_jQueryGS(menuEl.statuslabel).empty().text("status").attr("gstitle","status"),_jQueryGS(menuEl.statusvalue).empty().text(lcity).attr("gstitle",lcity),(description=city.Description||"")&&"null"!=description&&(_jQueryGS(menuEl.contentHolder).append(description),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder)),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&(gssupport.addChangeOwnerOption(menuEl,street,lzip),zgssearch.loadDatePicker(zgssearch.addDeskDueDatePickerOption),gssupport.addChangeStatusOption(menuEl,lzip),gssupport.addEventForDeskArrow(menuEl))):(forum=lzip.support_title||"",_jQueryGS(menuEl.ctitle).empty().text(forum).attr("gstitle",forum),forum=city["Created By"]||"-",postedBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0),_jQueryGS(menuEl.slabel).empty().text(postedBy).attr("gstitle",postedBy),_jQueryGS(menuEl.sender).empty().text(forum).attr("gstitle",forum),_jQueryGS(menuEl.date).empty().text(lzip.display_time).attr("gstitle",lzip.display_time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),state=lzip.TOPIC_NAME||"",forum=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),_jQueryGS(menuEl.rlabel).empty().text(forum).attr("gstitle",forum),_jQueryGS(menuEl.receiverTxt).empty().text(state).attr("gstitle",state),_jQueryGS(menuEl.rfolder).empty().text(lcity).attr("gstitle",lcity),"null"!==city.Answer&&(_jQueryGS(menuEl.contentHolder).append(city.Answer),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder))),street.hasOwnProperty("attach")){var attachArr=street.attach||[],threadId=street.threadId||"",len=attachArr.length;if(0<len){var country=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:country}).text(country)));for(var i=0;i<len;i++){var val=attachArr[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.SUPPORT,downloadUrl:val.downloadUrl||"",tId:threadId,aId:val.id||val.resourceId,gs:"attachtitle",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.size)))))}_jQueryGS(menuEl.moveToAttachArea).css("display","block"),_jQueryGS(menuEl.attachHolder).css("display","block")}}curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.actionPipe).css("display","block"));var state={},lcity=curCalloutObj.hasOwnProperty("type")?curCalloutObj.type:"search";zip.updateRecord||zip.updateDueDate?state=zgssearch.gsaction.currSearchType.getCurrentResultObj():zgssearch.hasOwnProperty("pccomponent")?state=lzip:lcity!==zgssearch.dbCrdCalloutType&&lcity!==zgssearch.crdPagecalloutType&&(state=zgssearch.Utils.getResultObjectofType(lcity,curCalloutObj.cardId)),state.doc_id!=lzip.doc_id&&lcity!==zgssearch.dbCrdCalloutType&&lcity!==zgssearch.crdPagecalloutType||(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.supportcalloutFooter1).scrollTop(0),_jQueryGS(menuEl.supportcalloutFooter1).scrollLeft(0),gssupport.addCalloutActionList(menuEl)}else gssupport.calloutErrorMsg("",curCalloutObj);else gssupport.calloutErrorMsg("",curCalloutObj);else"3"!=lcountry&&"4"!=lcountry||(_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none"),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.supportCalloutData).empty(),_jQueryGS(menuEl.footer2).css("display","block"),city=lzip.support_title||"",_jQueryGS(menuEl.ctitle).empty().text(city).attr("gstitle",city),street="3"==lcountry?"zgs19_gsSuppContactsPhotoNew":"zgs19_gsSuppAccountPhotoNew",_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:"zgs20_gsSupportCalloutUserImg"+lstreet,class:"zgs19_gsResultsUniIcons "+street,src:zgssearch.gsspacer})),"3"==lcountry?_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0,gstitle:city}).text(city))):_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl",gstitle:city}).text(city)),country=zgssearch.getI18NMsg("common.mobile"),zip=zgssearch.getI18NMsg("common.phone"),state=zgssearch.getI18NMsg("common.email"),lcity=zgssearch.getI18NMsg("gs.search.result.support.callout.weburl"),zgssearch.renderContactsEmailId(menuEl,menuEl.supportCalloutData,state,lzip.EMAIL||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,country,lzip.MOBILE||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,zip,lzip.PHONE||""),(lstreet=lzip.WEBSITE||"")&&((lstate=[]).push(lstreet),zgssearch.renderInstantORWebInfo(menuEl,menuEl.supportCalloutData,"url",lcity,lstate)),zip=country=state=city=street="","3"===lcountry&&(street=lzip.MAILINGSTREET,city=lzip.MAILINGCITY,state=lzip.MAILINGSTATE,country=lzip.MAILINGCOUNTRY,zip=lzip.MAILINGZIP),"4"===lcountry&&(street=lzip.BILLINGSTREET,city=lzip.BILLINGCITY,state=lzip.BILLINGSTATE,country=lzip.BILLINGCOUNTRY,zip=lzip.BILLINGZIP),lstreet=zgssearch.getI18NMsg("gs.search.result.support.callout.street"),lcity=zgssearch.getI18NMsg("gs.search.result.support.callout.city"),lstate=zgssearch.getI18NMsg("gs.search.result.support.callout.state"),lcountry=zgssearch.getI18NMsg("gs.search.result.support.callout.country"),lzip=zgssearch.getI18NMsg("common.zip"),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstreet,street),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcity,city),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstate,state),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcountry,country),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lzip,zip),zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.supportCalloutData).scrollTop(0),_jQueryGS(menuEl.supportCalloutData).scrollLeft(0),gssupport.addCalloutActionList(menuEl));gssupport.setSupportCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gssupport.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gssupport.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.SUPPORT}).text(dectext))}}},gssupport.addChangeStatusOption=function(menuEl,unusedModData){var portalId=zgssearch.getResultAccountId()||unusedModData.accId,unusedModData=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");unusedModData.hasOwnProperty(portalId)&&1==(unusedModData[portalId]["1_et"]||!1)&&(_jQueryGS("#zgs20_gsTicketStatus").attr("datatype","statusChange"),_jQueryGS("#zgs20_gsTicketStatus").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketStatus_icon).addClass("zgs19_gsModuleFilterElemIcon"))},gssupport.addChangeOwnerOption=function(menuEl,coflag,ucoflag){var assigneeId=coflag.assigneeId||"null",coflag=zgssearch.getResultAccountId()||ucoflag.accId,ucoflag=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");ucoflag.hasOwnProperty(coflag)&&(coflag=(ucoflag=ucoflag[coflag])["1_co"]||!1,ucoflag=ucoflag["1_uco"]||!1,1!=coflag&&(1!=ucoflag||null!=assigneeId&&"null"!=assigneeId)||(gssupport.assigneeId=assigneeId||"",_jQueryGS(menuEl.CalloutEditFields_icon).removeClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype","deskOwnerChange"),_jQueryGS(menuEl.CalloutEditFields).addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer")))},gssupport.addEventForDeskArrow=function(menuEl){_jQueryGS(menuEl.ticketAction).off().on({mousemove:function(){_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var soid=_jQueryGS(this).attr("datatype"),datatype=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");zgssearch.isDatePickerDisplay&&(datatype=_jQueryGS("#zgs20_gsDateTimePickerElem").attr("datatype")),(zgssearch.isEditFieldsDisplay||zgssearch.isDatePickerDisplay)&&soid==datatype||_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}})},gssupport.isAgentsExists=function(){var portalId=zgssearch.getResultAccountId(),ownerList=zgssearch.getFilterInfo(GSConstant.SUPPORT,"departments","current"),ownerList=zgssearch.gssupportaction.getSupportContactsObj(portalId,ownerList);return 0<Object.keys(ownerList).length},gssupport.getUrlModuleName=function(moduleId){switch(moduleId){case"1":return"Cases";case"2":return"Solutions";case"3":return"Contacts";case"4":return"Accounts"}},gssupport.getModuleName=function(moduleId,portalObj){var modulesObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","data");if(modulesObj.hasOwnProperty(portalObj)){portalObj=modulesObj[portalObj];if(portalObj.hasOwnProperty(moduleId))return portalObj[moduleId]}return""},gssupport.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsSupportCalloutFooter","zgs20_gsSupportCalloutAttachInfo")},gssupport.downloadAttachment=function(elem){var atIndex,threadId,docId,portalId,params,downloadURL=_jQueryGS(elem).attr("downloadUrl");downloadURL||(params=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),threadId=_jQueryGS(elem).attr("tId"),docId=zgssearch.getCurrentResObj().doc_id,portalId=zgssearch.getResultAccountId(),params="searchType="+_jQueryGS(elem).attr("service")+"&id="+docId+"&portalId="+portalId+"&threadId="+threadId+"&attachId="+atIndex+"&atName="+encodeURIComponent(params),downloadURL=zgssearch.attachmentURL+"?"+params),zgssearch.network.download_file(downloadURL)},gssupport.loadDeskImagesWithDomain=function(id){_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&(-1!=oldImgSrc.indexOf("/ImageDisplayZSupportAPI?")?(oldImgSrc=oldImgSrc.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"),_jQueryGS(this).attr("src",oldImgSrc)):-1!=oldImgSrc.indexOf("/supportapi")&&_jQueryGS(this).attr("src",zgssearch.GSConstant.GS_SUPPORT_URL+oldImgSrc))}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=_jQueryGS(this).attr("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+GSConstant.GS_SUPPORT_URL+extra+oldImgSrc)),_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("rel","noopener noreferrer"))})},gssupport.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.support.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gssupport.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsSupportCallout");zgssearch.setGSTagElems(menuEl),gssupport.setSupportCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gssupport)}(zgssearch,window),function(zgssearch,window){var gsbooks,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsbooks=(gsbooks=void 0,(gsbooks=zgssearch.gsbooks||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsbooks.email="",gsbooks.zuid="",gsbooks.isGroup="",gsbooks.getCalloutHolder=function(){return"zgs20_gsBooksCallout"},gsbooks.calloutParams=function(resObj){var modules=resObj.modules,orgId=resObj.accId||zgssearch.getResultAccountId();return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&id="+resObj.id+"&module="+modules+"&orgId="+orgId},gsbooks.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink zgs19_gsCFS",gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCFS zgs19_gsCurPointer zgs19_gsfl",gs:"clink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview"})).append(_jQueryGS("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:mcallout,gs:"minpreview"}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",istip:!0,gs:"cname"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{istip:!0,gs:"cemailId"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutFooter zgs19_gsBorderBox zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutStatusMap zgs19_gsBorderBox",gs:"statusMap"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutContentInfo zgs19_gsBorderBox",gs:"content"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutMoreInfo zgs19_gsBorderBox",gs:"moreInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutComments zgs19_gsBorderBox",gs:"comments"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsbooks.setBooksCalloutEleSize=function(menuEl){var topLeftPos=0;"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(topLeftPos=_jQueryGS(menuEl.metaInfo).height());var conMargin=_jQueryGS(menuEl.header).height(),conMargin=_jQueryGS(menuEl).height()-(conMargin+topLeftPos);zgssearch.isMobViewport()&&(conMargin-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",conMargin+"px");topLeftPos=5,conMargin="0px";_jQueryGS(menuEl.content).css({margin:"10px"}),_jQueryGS(menuEl.content).hasClass("zgs19_gsBooksCalloutContentPrev")&&820<=_jQueryGS(menuEl.content).outerWidth()&&(_jQueryGS(menuEl.content).css({margin:"35px auto"}),topLeftPos=-5,conMargin=_jQueryGS(menuEl.content).css("margin")),_jQueryGS(menuEl.statusMap).css({top:topLeftPos,left:topLeftPos,margin:conMargin})},gsbooks.calloutResponse=function(respObj,invamtLab,cnameFText,shipAddrLab){var curCalloutObj=shipAddrLab.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(cnameFText);var moduleData=respObj||{},wModules=invamtLab.modules||"",currencycodeLab=Object.keys(moduleData).length,service=invamtLab.serviceName||_jQueryGS(cnameFText).attr("service");if(_jQueryGS(menuEl.actionlist).attr("gsa",service),0<currencycodeLab){_jQueryGS(menuEl.metaInfo).hide(),_jQueryGS(menuEl.content).empty(),_jQueryGS(menuEl.statusMap).hide(),_jQueryGS(menuEl.moreInfo).empty().hide(),_jQueryGS(menuEl.content).removeClass("zgs19_gsBooksCalloutContentPrev");var ContactPersonObj=invamtLab.accId||_jQueryGS(cnameFText).attr("acc_id");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrlByAccId(service,invamtLab,ContactPersonObj));var wTitle=invamtLab.name||respObj.name||respObj.custName||respObj.rName||"";if(_jQueryGS(menuEl.ctitle).text(wTitle).attr("gstitle",wTitle),_jQueryGS(menuEl.clink).attr("gstitle",zgssearch.getNewTabTip(service)),_jQueryGS(menuEl).find(".zgs19_gsCFS").attr("service",service),cnameFText&&(cnameLText=_jQueryGS(cnameFText.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",cnameLText)),gsbooks.email=moduleData.email||"",gsbooks.zuid=moduleData.zuid||"",gsbooks.isGroup=moduleData.isGrp,"contacts"==wModules||"recurring_invoices"==wModules){var cnameLText,cnameText="",cemailText="",unusedCreditLab="",currencyCode="",websiteLab="",shipAddrLab="--",currencycodeLab="--",discAmtText="--";"contacts"==wModules?(cnameFText=(ContactPersonObj=gsbooks.getPrimaryContactPerson(moduleData)).first_name||"",cnameLText=ContactPersonObj.last_name||"",cemailText=ContactPersonObj.email||"",cnameText=cnameFText.trim()+" "+cnameLText.trim(),unusedCreditLab=zgssearch.getI18NMsg("gs.search.service_books.unusedCredit"),currencyCode=zgssearch.getI18NMsg("gs.search.service_books.outstanding"),websiteLab=zgssearch.getI18NMsg("gs.search.service_books.paymentdue"),shipAddrLab=moduleData.credits||"--",currencycodeLab=moduleData.outstanding||"--",discAmtText=moduleData.payTerms||"--"):"recurring_invoices"==wModules&&(cnameText=invamtLab.cname||respObj.cname||"",unusedCreditLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceamount"),currencyCode=zgssearch.getI18NMsg("gs.search.service_books.nextinvoicedate"),websiteLab=zgssearch.getI18NMsg("gs.search.service_books.recurringperiod"),shipAddrLab=moduleData.total||"--",currencycodeLab=moduleData.nextInvoice||"--",discAmtText=moduleData.frequency||"--"),cnameText=zgssearch.isQueryValid(cnameText)?cnameText:wTitle,_jQueryGS(menuEl.cname).empty().attr("gstitle",cnameText).text(cnameText),_jQueryGS(menuEl.cemailId).empty().attr("gstitle",cemailText).text(cemailText),_jQueryGS(menuEl.metaInfo).show(),_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_111 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(unusedCreditLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(shipAddrLab))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBooks_text_overdue_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencyCode)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencycodeLab))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(websiteLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(discAmtText)))));shipAddrLab=moduleData.billAddr||{},currencyCode=shipAddrLab.attention?shipAddrLab.attention+" ":"";currencyCode+=shipAddrLab.address?shipAddrLab.address+", ":"",currencyCode+=shipAddrLab.street2?shipAddrLab.street2+" ":"",currencyCode+=shipAddrLab.city?shipAddrLab.city+", ":"",currencyCode+=shipAddrLab.state?shipAddrLab.state+" ":"",currencyCode+=shipAddrLab.country?shipAddrLab.country+" ":"",currencyCode+=shipAddrLab.zip?"- "+shipAddrLab.zip:"";currencycodeLab=moduleData.shipAddr||{},websiteLab=currencycodeLab.attention?currencycodeLab.attention+" ":"";websiteLab+=currencycodeLab.address?currencycodeLab.address+", ":"",websiteLab+=currencycodeLab.street2?currencycodeLab.street2+" ":"",websiteLab+=currencycodeLab.city?currencycodeLab.city+", ":"",websiteLab+=currencycodeLab.state?currencycodeLab.state+" ":"",websiteLab+=currencycodeLab.country?currencycodeLab.country+" ":"",websiteLab+=currencycodeLab.zip?"- "+currencycodeLab.zip:"";currencyCode=currencyCode||zgssearch.getI18NMsg("gs.search.service_books.nobilladdr"),websiteLab=websiteLab||zgssearch.getI18NMsg("gs.search.service_books.noshipaddr"),shipAddrLab=zgssearch.getI18NMsg("gs.search.service_books.billaddr"),currencycodeLab=zgssearch.getI18NMsg("gs.search.service_books.shipaddr");if(_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_222 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text(shipAddrLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(currencyCode))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text(currencycodeLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(websiteLab))))),"contacts"==wModules){var contPerArr=moduleData.contPerson||[],primContactID=moduleData.priContId||"",contPerArrLen=contPerArr.length||0;_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_333 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text("Contact Persons")).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox",id:"zgs20_gsBooksContPerHolder"})))));for(var isContactsAvail=!1,i=0;i<contPerArrLen;i++){var scemail,scfname,scname=contPerArr[i];primContactID!=(scname.contact_person_id||"")&&(isContactsAvail=!0,scemail=scname.email||"",scfname=scname.first_name||"",scname=scname.last_name||"",scname=scfname.trim()+" "+scname.trim(),_jQueryGS("#zgs20_gsBooksContPerHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks_col333_row_1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(scname)).append(_jQueryGS("<a>",{class:"zgs19_gsBooks_col333_row_2 zgs19_gsBorderBox zgs19_gsOverflow",rel:"noopener noreferrer",href:"mailto:"+scemail,target:"_blank",istip:!0,gstitle:scemail}).text(scemail))))}isContactsAvail||(pay_HeaderTempl=zgssearch.getI18NMsg("gs.search.service_books.nocontact"),_jQueryGS("#zgs20_gsBooksContPerHolder").text(pay_HeaderTempl));var subtotalLab=moduleData.notes||"-",adjAmtText=moduleData.website||"-",currencyCode=moduleData.currCode||"-",totalLab=moduleData.langCode||"-",discLab=zgssearch.getI18NMsg("gs.search.service_books.otherdetails"),currencycodeLab=zgssearch.getI18NMsg("gs.search.service_books.currency"),websiteLab=zgssearch.getI18NMsg("common.website"),creditsAmtText=zgssearch.getI18NMsg("gs.search.service_books.language"),pay_HeaderTempl=zgssearch.getI18NMsg("common.notes");_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(discLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencycodeLab)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencyCode))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(websiteLab)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(adjAmtText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(creditsAmtText)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(totalLab))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(pay_HeaderTempl)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(subtotalLab)))}else"recurring_invoices"==wModules&&(adjAmtLab=moduleData.startDate||"-",paymentMadeText=moduleData.childInvoice||"-",totalText=(totalText=moduleData.endDate||"")||zgssearch.getI18NMsg("gs.search.service_books.neverexpries"),discLab=zgssearch.getI18NMsg("gs.search.service_books.otherdetails"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.startdate"),creditsAmtLab=zgssearch.getI18NMsg("common.enddate"),discPerText=zgssearch.getI18NMsg("gs.search.service_books.payterm"),subTotalText=zgssearch.getI18NMsg("gs.search.service_books.manualInv"),_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(discLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(paymentLab)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(adjAmtLab+":"))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(creditsAmtLab+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(totalText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(discPerText+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(discAmtText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(subTotalText+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(paymentMadeText))))}else if("invoices"==wModules||"estimates"==wModules||"creditnotes"==wModules){var pay_BodyTemplChild8=_jQueryGS("<div>",{class:"zgs19_gsInvParentTempl zgs19_gsBorderBox"}),pay_BodyTemplChild5=_jQueryGS("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),pay_BodyTemplChild6=_jQueryGS("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),pay_BodyTemplChild7=_jQueryGS("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),pay_BodyTempl=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild1 zgs19_gsBorderBox",width:"100%"}),pay_FooterTempl=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild2 zgs19_gsBorderBox",width:"100%"}),pay_BodyTemplChild1=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild3 zgs19_gsBorderBox",width:"100%",cellpadding:"0",cellspacing:"0",border:"0"}),pay_BodyTemplChild3=_jQueryGS("<div>",{class:"zgs19_gsInvTemplChild4 zgs19_gsBorderBox"}),pay_BodyTemplChild4=_jQueryGS("<div>",{class:"zgs19_gsInvTemplChild5 zgs19_gsBorderBox zgs19_gsDisplayNone"}),adjAmtText="",creditsAmtText="",pay_ParentTempl="",payAmtText="";"invoices"==wModules?(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.invoice"),payAmtText=zgssearch.getI18NMsg("gs.search.service_books.balancedue"),creditsAmtText=moduleData.invoiceNo||"",pay_ParentTempl=moduleData.balance||""):"estimates"==wModules?(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.estimate"),creditsAmtText=moduleData.estimateNo||""):"creditnotes"==wModules&&(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.creditnote"),payAmtText=zgssearch.getI18NMsg("gs.search.service_books.creditremain"),creditsAmtText=moduleData.creditnoteNo||"",pay_ParentTempl=moduleData.balance||"");totalLab="",creditsAmtText=creditsAmtText?"# "+creditsAmtText:"";pay_ParentTempl&&(totalLab=_jQueryGS("<div>",{class:"zgs19_gsInvT1R1_DueAmt zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_DueAmtLab zgs19_gsBorderBox"}).text(payAmtText)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_DueAmtVal zgs19_gsBorderBox"}).text(pay_ParentTempl))),pay_BodyTempl.append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L1 zgs19_gsBorderBox"})).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R1 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_InvLabel zgs19_gsBorderBox"}).text(adjAmtText)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_InvId zgs19_gsBorderBox"}).text(creditsAmtText)).append(totalLab))));var templCh2Ro2Arr=[];"invoices"==wModules?(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.invoicedate")+" :",value:moduleData.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.term")+" :",value:moduleData.payTerm}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.duedate")+" :",value:moduleData.dueDate})):"estimates"==wModules?(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.estimatedate")+" :",value:moduleData.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.expirydate")+" :",value:moduleData.expiry}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.ref")+"# :",value:moduleData.refNo}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.lookup")+" :",value:gsbooks.getLookUpValue(moduleData,"lookup")})):"creditnotes"==wModules&&(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.creditdate")+" :",value:moduleData.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.ref")+"# :",value:moduleData.refNo}));for(var templCh2Ro2Elem=_jQueryGS("<tbody>"),templCh2Ro2Len=templCh2Ro2Arr.length,j=0;j<templCh2Ro2Len;j++){var templCh2Ro2Obj=templCh2Ro2Arr[j];templCh2Ro2Obj.value&&templCh2Ro2Elem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2_td1"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R2_span"}).text(templCh2Ro2Obj.key))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2_td2"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R2_span"}).text(templCh2Ro2Obj.value))))}var templCh2Ro2Elem=_jQueryGS("<table>",{class:"zgs19_gsInvT1R2_table",width:"100%"}).append(templCh2Ro2Elem),subtotalLab=moduleData.custName||"",invdateLab=zgssearch.getI18NMsg("gs.search.service_books.billto");pay_FooterTempl.append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L2 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBorderBox"}).append(_jQueryGS("<label>",{class:"zgs19_gsInvT1L2_BillLab zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1L2_CusName zgs19_gsBorderBox"}).text(subtotalLab)))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2 zgs19_gsBorderBox"}).append(templCh2Ro2Elem))));for(var itemsDetailsElem=_jQueryGS("<tbody>"),lineItemsArr=moduleData.lineItems||[],lineItemsLen=lineItemsArr.length,i=0;i<lineItemsLen;i++){var item_total_formatted=lineItemsArr[i],item_name=item_total_formatted.name||"",item_desc=item_total_formatted.description||"",item_quantity=item_total_formatted.quantity||"",item_rate_formatted=item_total_formatted.rate_formatted||"",item_total_formatted=item_total_formatted.item_total_formatted||"";itemsDetailsElem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td6 zgs19_gsBorderBox"}).text(i+1)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td7 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap"}).text(item_name)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap"}).text(item_desc))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td8 zgs19_gsBorderBox"}).text(item_quantity)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td9 zgs19_gsBorderBox"}).text(item_rate_formatted)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td10 zgs19_gsBorderBox"}).text(item_total_formatted)))}var discLab=zgssearch.getI18NMsg("gs.search.service_books.items"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.qty"),adjAmtLab=zgssearch.getI18NMsg("gs.search.service_books.rate"),creditsAmtLab=zgssearch.getI18NMsg("gs.search.service_books.amount");pay_BodyTemplChild1.append(_jQueryGS("<thead>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td1 zgs19_gsBorderBox"}).text("#")).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td2 zgs19_gsBorderBox"}).text(discLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td3 zgs19_gsBorderBox"}).text(paymentLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td4 zgs19_gsBorderBox"}).text(adjAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td5 zgs19_gsBorderBox"}).text(creditsAmtLab)))).append(itemsDetailsElem);var taxesArr=moduleData.taxes||[],totalText=moduleData.total||"",discPerText=moduleData.discPer||"",discAmtText=moduleData.discAmt||"",subTotalText=moduleData.subTotal||"",paymentMadeText=moduleData.paymentMade||"",adjAmtText=moduleData.adjAmt||"",creditsAmtText=moduleData.creditsAmt||"",tbodyDiv=_jQueryGS("<tbody>"),totalLab=zgssearch.getI18NMsg("gs.search.service_books.total"),subtotalLab=zgssearch.getI18NMsg("gs.search.service_books.subtotal"),discLab=zgssearch.getI18NMsg("gs.search.service_books.discount"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.paymentmade"),adjAmtLab=zgssearch.getI18NMsg("gs.search.service_books.adjAmt"),creditsAmtLab=zgssearch.getI18NMsg("gs.search.service_books.creditsAmt");subTotalText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(subtotalLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(subTotalText))),discAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(discLab+" ("+discPerText+")")).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+discAmtText))),adjAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(adjAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(adjAmtText)));var taLen=taxesArr.length||0;if(0<taLen)for(var ti=0;ti<taLen;ti++){var taObj=taxesArr[ti];taObj.tax_name&&taObj.tax_amount_formatted&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(taObj.tax_name)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(taObj.tax_amount_formatted)))}totalText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(totalLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(totalText))),paymentMadeText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(paymentLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+paymentMadeText))),creditsAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(creditsAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+creditsAmtText))),pay_ParentTempl&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(payAmtText)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(pay_ParentTempl))),pay_BodyTemplChild3.append(_jQueryGS("<div>",{class:"zgs19_gsInvT1L4 zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsInvT1R4 zgs19_gsBorderBox"}).append(_jQueryGS("<table>",{class:"zgs19_gsInvT1R4_table zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(tbodyDiv))).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"})),moduleData.notes&&(pay_HeaderTempl=zgssearch.getI18NMsg("common.notes"),_jQueryGS(pay_BodyTemplChild4).removeClass("zgs19_gsDisplayNone"),pay_BodyTemplChild4.append(_jQueryGS("<label>",{class:"zgs19_gsInvT1L5 zgs19_gsBorderBox"}).text(pay_HeaderTempl)).append(_jQueryGS("<p>",{class:"zgs19_gsInvTR5 zgs19_gsBorderBox"}).text(moduleData.notes))),pay_BodyTemplChild6.append(pay_BodyTempl).append(pay_FooterTempl).append(pay_BodyTemplChild1).append(pay_BodyTemplChild3).append(pay_BodyTemplChild4),pay_BodyTemplChild8.append(pay_BodyTemplChild5).append(pay_BodyTemplChild6).append(pay_BodyTemplChild7),_jQueryGS(menuEl.content).append(pay_BodyTemplChild8),_jQueryGS(menuEl.content).addClass("zgs19_gsBooksCalloutContentPrev"),_jQueryGS(menuEl.content).show();payAmtText=moduleData.status||invamtLab.status||"";payAmtText&&(invnoLab=gsbooks.getBooksPrevStatus(payAmtText),_jQueryGS(menuEl.statusMap).empty().show(),_jQueryGS(menuEl.statusMap).append(_jQueryGS("<div>",{class:"zgs19_gsBorderBox zgs19_gsBooksCalloutStatus_"+invnoLab}).text(payAmtText)))}else if("customerpayments"==wModules){var pay_ParentTempl=_jQueryGS("<div>",{class:"zgs19_gsPayParentTempl zgs19_gsBorderBox"}),pay_HeaderTempl=_jQueryGS("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),pay_BodyTempl=_jQueryGS("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),pay_FooterTempl=_jQueryGS("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),pay_BodyTemplChild1=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild1 zgs19_gsBorderBox"}),pay_BodyTemplChild2=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild2 zgs19_gsBorderBox"}),pay_BodyTemplChild3=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild3 zgs19_gsBorderBox"}),pay_BodyTemplChild4=_jQueryGS("<div>",{class:"zgs19_gsClearBoth"}),pay_BodyTemplChild5=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild5 zgs19_gsBorderBox"}),pay_BodyTemplChild6=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild6 zgs19_gsBorderBox"}),pay_BodyTemplChild7=_jQueryGS("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}),pay_BodyTemplChild8=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild8 zgs19_gsBorderBox"}),invamtLab=zgssearch.getI18NMsg("gs.search.service_books.payrecript"),invnoLab=zgssearch.getI18NMsg("gs.search.service_books.amtreceived"),invdateLab=zgssearch.getI18NMsg("gs.search.service_books.billto");pay_BodyTemplChild1.append(_jQueryGS("<span>",{class:"zgs19_gsPayT1_header"}).text(invamtLab));var payTempl2Arr=[];payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.paymentdate"),value:moduleData.date}),payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.refno"),value:moduleData.refNo}),payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.paymentmode"),value:moduleData.payMode});for(var payTempl2Len=payTempl2Arr.length,k=0;k<payTempl2Len;k++){var Templ2Obj=payTempl2Arr[k];Templ2Obj.value&&pay_BodyTemplChild2.append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div1 zgs19_gsBorderBox"}).text(Templ2Obj.key)).append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div2 zgs19_gsBorderBox"}).text(Templ2Obj.value)).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"})))}payAmtText=moduleData.amount||"-";pay_BodyTemplChild3.append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R3_key zgs19_gsBorderBox"}).text(invnoLab)).append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R3_value zgs19_gsBorderBox"}).text(payAmtText)).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"}));invamtLab=moduleData.custName||"-";pay_BodyTemplChild5.append(_jQueryGS("<table>",{class:"zgs19_gsWid100Per"}).append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>").append(_jQueryGS("<div>").append(_jQueryGS("<p>",{class:"zgs19_gsPayT1R5_key zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R5_value zgs19_gsBorderBox"}).text(invamtLab)))))));var paylineItemsArr=moduleData.invoices||[],paylineItemsLen=paylineItemsArr.length;if(0<paylineItemsLen){for(var payItemsDetailsElem=_jQueryGS("<tbody>"),x=0;x<paylineItemsLen;x++){var pay_amount_applied=paylineItemsArr[x],pay_item_invoice=pay_amount_applied.invoice_number||"",pay_item_date=pay_amount_applied.date_formatted||"",pay_item_total=pay_amount_applied.total_formatted||"",pay_amount_applied=pay_amount_applied.amount_applied_formatted||"";payItemsDetailsElem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_invoice)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_date)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_total)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_amount_applied)))}var invnoLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceno"),invdateLab=zgssearch.getI18NMsg("gs.search.service_books.invoicedate"),invamtLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceamount"),overpayLab=zgssearch.getI18NMsg("gs.search.service_books.paymentamt");pay_BodyTemplChild8.append(_jQueryGS("<h4>",{class:"zgs19_gsInvT8_hr zgs19_gsBorderBox"}).text("Payment for")).append(_jQueryGS("<table>",{class:"zgs19_gsInvT8_label zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(_jQueryGS("<thead>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td1 zgs19_gsBorderBox"}).text(invnoLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td2 zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td3 zgs19_gsBorderBox"}).text(invamtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td4 zgs19_gsBorderBox"}).text(overpayLab)))).append(payItemsDetailsElem))}else{overpayLab=zgssearch.getI18NMsg("gs.search.service_books.overpayment");pay_BodyTemplChild8.append(_jQueryGS("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<table>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox"}).append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>").append(_jQueryGS("<div>",{class:"zgs19_gsPayT9R1 zgs19_gsBorderBox"}).text(overpayLab)).append(_jQueryGS("<div>",{class:"zgs19_gsPayT9R2 zgs19_gsBorderBox"}).text(payAmtText))))))))}pay_BodyTempl.append(pay_BodyTemplChild1).append(pay_BodyTemplChild2).append(pay_BodyTemplChild3).append(pay_BodyTemplChild4).append(pay_BodyTemplChild5).append(pay_BodyTemplChild6).append(pay_BodyTemplChild7).append(pay_BodyTemplChild8),pay_ParentTempl.append(pay_HeaderTempl).append(pay_BodyTempl).append(pay_FooterTempl),_jQueryGS(menuEl.content).append(pay_ParentTempl),_jQueryGS(menuEl.content).addClass("zgs19_gsBooksCalloutContentPrev"),_jQueryGS(menuEl.content).show()}_jQueryGS(menuEl.comments).empty().hide();var commentsArr=moduleData.comments||[],commentsLen=commentsArr.length||0;if(0<commentsLen){for(var commentsHolder=_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Header zgs19_gsBorderBox",id:"zgs20_gsBooksCommentsHolder"}),i=0;i<commentsLen;i++){var transaction_type=commentsArr[i],operation_type=transaction_type.commented_by||"",description=transaction_type.description||"",date_formatted=transaction_type.date_formatted||"",fullContent=zgssearch.getI18NMsg("gs.search.service_books.by"),fullContent=description.trim()+" "+fullContent+" "+operation_type;"customerpayments"==wModules&&(description=zgssearch.getI18NMsg("gs.search.service_books.paymentreceived"));operation_type=transaction_type.operation_type||"",transaction_type=transaction_type.transaction_type||"";transaction_type&&operation_type&&(description=transaction_type.trim()+" "+operation_type.trim()),commentsHolder.append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs18_gsBooksComments_Pa1 zgs18_gsCalloutUniIcons zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch1 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksComments_Ch1R1 zgs19_gsBorderBox"}).text(date_formatted))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch2 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksComments_Ch2R1 zgs19_gsBorderBox"}))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R1 zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(description)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R3 zgs19_gsBorderBox"}).text(fullContent)))))}var isPreviewCard=zgssearch.getI18NMsg("gs.search.service_books.commentshistory");"customerpayments"==wModules?isPreviewCard=zgssearch.getI18NMsg("gs.search.service_books.paymenthistory"):"recurring_invoices"==wModules&&(isPreviewCard=zgssearch.getI18NMsg("gs.search.service_books.childinvoices")),_jQueryGS(menuEl.comments).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(isPreviewCard)).append(commentsHolder)),_jQueryGS(menuEl.comments).show()}curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.actionPipe).css("display","block"));isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)}else gsbooks.calloutErrorMsg("",curCalloutObj);gsbooks.addCalloutActionList(menuEl,service),gsbooks.setBooksCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gsbooks.getPrimaryContactPerson=function(moduleData){for(var primContactID=moduleData.priContId||"",primContactArr=moduleData.contPerson||[],primContactLen=primContactArr.length,i=0;i<primContactLen;i++){var contactObj=primContactArr[i]||{};if(primContactID==(contactObj.contact_person_id||""))return contactObj}return{}},gsbooks.getLookUpValue=function(moduleData,type){for(var lookupArr=moduleData.customFields||[],lookupLen=lookupArr.length,i=0;i<lookupLen;i++){var lookupObj=lookupArr[i]||{};if(type==(lookupObj.data_type||""))return lookupObj.value_formatted}},gsbooks.getBooksPrevStatus=function(status){var staVal=status.toLowerCase();switch(staVal){case"open":case"accepted":case"success":case"overdue":case"draft":case"error":case"void":case"pending":case"approved":case"paid":return staVal;default:return"default"}},gsbooks.openBooksResult=function(service,accId,resObj){var url="",mod="",id=resObj.id,bmodules=resObj.modules||"",mod="estimates"==bmodules?"quotes":"customerpayments"==bmodules?"paymentsreceived":"recurring_invoices"==bmodules?"recurringinvoices":"contacts"===bmodules&&"vendor"===resObj.contact_type?"vendors":bmodules;return url=id&&mod?(service==GSConstant.BOOKS?GSConstant.GS_BOOKS_URL:GSConstant.GS_INVOICE_URL)+"/switch?organization_id="+accId+"&redirect_url=/app#/"+mod+"/"+id:url},gsbooks.addCalloutActionList=function(menuEl,service){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsbooks.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)"embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service}).text(dectext)))}},gsbooks.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.books.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsbooks.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsBooksCallout");zgssearch.setGSTagElems(menuEl),gsbooks.setBooksCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsbooks.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{modules:resObj.modules,accId:resObj.accId||zgssearch.getResultAccountId(),id:resObj.id}},gsbooks)}(zgssearch,window),function(zgssearch,window){var gscalendar,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendar=(gscalendar=void 0,(gscalendar=zgssearch.gscalendar||{}).actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink"}],gscalendar.startTimeMillis=0,gscalendar.endTimeMillis=0,gscalendar.currentTimeMillis=0,gscalendar.todayInMills=0,gscalendar.attendeesListObj={},zgssearch.eventHostZUID=zgssearch.eventHostZUID||"",gscalendar.supportedDispField=["Duration","Description","Your_Role","Url","Category","Status","Ticket_Subject","Priority"],gscalendar.getCalloutHolder=function(){return"zgs20_gsCalendarCallout"},gscalendar.calloutParams=function(resObj){var serviceId=resObj.sId,requestUrl="searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&sId="+serviceId+"&eventId="+resObj.eId;switch(serviceId){case"4":requestUrl+="&calendarId="+resObj.cId;break;case"9":requestUrl+="&account_id="+resObj.zsoid;break;case"8":case"31":requestUrl+="&account_id="+resObj.orgId}return requestUrl},gscalendar.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(gscalendar.composeMailTitle=zgssearch.getI18NMsg("gs.search.sevice_mail_sendMail"),gscalendar.continueChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"),gscalendar.audioCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.audiochat"),gscalendar.videoCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.videochat"),prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),ccallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CALENDAR,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getI18NMsg("gs.search.callout.open_tab"),service:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<span>",{id:"zgs20_gsCalendarEdit",class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"calendarActions",actionType:"editEvent",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:ccallout,gs:"minpreview",service:GSConstant.CALENDAR}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsCalendarCalloutIconHeight zgs19_gsHgt160Px",gs:"iconHeight"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsEventDurationCalcInfo",gs:"eventStatus"}).append(_jQueryGS("<span>",{class:"zgs19_gsEventDurMsgTxt zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsDurationInfo",gs:"calculateDuration"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalendarCalloutMetaInfo zgs19_gsfl",gs:"calendarMetaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf10Px"}).append(_jQueryGS("<span>",{id:"zgs20_gsStartDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventStartDate"})).append(_jQueryGS("<span>",{id:"zgs20_gsStartTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventStartTime"})).append(_jQueryGS("<span>",{class:"zgs19_gsHyphenTxt",gs:"hyphenTxt"}).text("-")).append(_jQueryGS("<span>",{id:"zgs20_endDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventEndDate"})).append(_jQueryGS("<span>",{id:"zgs20_endTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventEndTime"}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf10Px"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventHostByTxt",class:"zgs19_eventHostByTxt zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_books.by"))).append(_jQueryGS("<span>",{id:"zgs20_gsHostTxt",class:"zgs19_gsEventHostTxt zgs19_gsOverflow zgs19_gsfl",gs:"eventHostInfo"})).append(_jQueryGS("<span>",{class:"zgs19_gsInTxt zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0))).append(_jQueryGS("<span>",{id:"zgs20_gsEventServiceTxt",class:"zgs19_gsEventServiceTxt  zgs19_gsOverflow zgs19_gsfl",gs:"eventService"}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsPdLt6Px",gs:"contactsActionInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:gscalendar.composeMailTitle})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:gscalendar.continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:gscalendar.audioCall})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:gscalendar.videoCall}))))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutCalendarRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsfl",gs:"eventDetails"})))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),zgssearch.getTargetElem(calloutId).setAttribute("ccount",count)},gscalendar.setCalendarCalloutEleSize=function(menuEl){var CalloutWidth=_jQueryGS(menuEl.header).height(),imgWidth=_jQueryGS(menuEl.iconHeight).height(),CalloutWidth=_jQueryGS(menuEl).height()-(CalloutWidth+imgWidth);CalloutWidth-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(CalloutWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",CalloutWidth+"px");imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS("#zgs20_gsSearchResultRight").width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gscalendar.calloutResponse=function(response,editIconElem,inTxt,status){var curCalloutObj=status.searchObj;curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType||(zuid=curCalloutObj.cardId,zgssearch.cardObjForCurrentSelectedElem[zuid]||(zgssearch.cardObjForCurrentSelectedElem[zuid]={}),zgssearch.cardObjForCurrentSelectedElem[zuid].calloutRespObj=response);var zuid,isValidEmailId,iconDisplay,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(inTxt),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl.attendeeStatus).remove(),_jQueryGS(menuEl.calculateDuration).empty(),response?(status=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CALENDAR,editIconElem)),_jQueryGS(menuEl.actionlist).css("display","block"),zuid=response.Title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("common.eventtitle")),_jQueryGS(menuEl.ctitle).empty().text(zuid).attr("gstitle",zuid),inTxt="zgs20_gsCalendarCalloutUserImg"+status,_jQueryGS(menuEl.calloutIconHolder).html("").append(_jQueryGS("<img>",{id:inTxt,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer})),zuid=response.zuid||"",""!==(zgssearch.eventHostZUID=zuid)&&"-1"!==zuid?(isValidEmailId=zgssearch.getThumbPhotoURL(zuid),iconDisplay=_jQueryGS("#"+inTxt),zgssearch.network.imageRenderer.renderImage(isValidEmailId,{img_elem:iconDisplay,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):_jQueryGS("#"+inTxt).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"),clearInterval(zgssearch.calendarInterval),gscalendar.startTimeMillis=response.STM||"",gscalendar.endTimeMillis=response.ETM||"",gscalendar.currentTimeMillis=response.CTM||"",gscalendar.todayInMills=response.TTM||"",gscalendar.colorElem=_jQueryGS(menuEl.eventStatus),gscalendar.statusElem=_jQueryGS(menuEl.calculateDuration),gscalendar.eventStatusCheck(),status=response.SDT||"",isValidEmailId=response.EDT||"",iconDisplay=response.timezone||"",inTxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),status=gscalendar.getEventDateValues(status,isValidEmailId),zgssearch.getTargetElem("zgs20_gsStartDateTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.service_books.startdate")),(isValidEmailId=_jQueryGS(menuEl.eventStartDate)).attr("gstitle",status[0]+" "+inTxt+" "+iconDisplay),isValidEmailId.text(status[0]),isValidEmailId=_jQueryGS(menuEl.eventStartTime),""!=status[1]&&(zgssearch.getTargetElem("zgs20_gsStartTimeTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.startTime")),isValidEmailId.attr("gstitle",status[1]+" "+inTxt+" "+iconDisplay)),isValidEmailId.text(status[1]),isValidEmailId=_jQueryGS(menuEl.eventEndDate),""!=status[2]&&(zgssearch.getTargetElem("zgs20_endDateTxt").setAttribute("gslabel",zgssearch.getI18NMsg("common.enddate")),isValidEmailId.attr("gstitle",status[2]+" "+inTxt+" "+iconDisplay)),isValidEmailId.text(status[2]),isValidEmailId=_jQueryGS(menuEl.eventEndTime),""!=status[3]&&(zgssearch.getTargetElem("zgs20_endTimeTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.endTime")),isValidEmailId.attr("gstitle",status[3]+" "+inTxt+" "+iconDisplay)),isValidEmailId.text(status[3]),response.allDay&&""==status[2]?_jQueryGS(".zgs19_gsHyphenTxt").text(""):_jQueryGS(".zgs19_gsHyphenTxt").text("-"),iconDisplay=response.Host||response.Host_Email||"",(isValidEmailId=_jQueryGS(menuEl.eventHostInfo)).attr("gslabel",zgssearch.getI18NMsg("gs.search.calendar.results.host")),isValidEmailId.attr("gstitle",iconDisplay),isValidEmailId.text(iconDisplay),status=menuEl.eventService,isValidEmailId=zgssearch.getCalendarServiceName(editIconElem.sId),status.setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.eventFrom")),status.setAttribute("gstitle",isValidEmailId),status.innerHTML=isValidEmailId,_jQueryGS(menuEl).find(".zgs19_gscalcwmschat").attr("chatid",zuid),iconDisplay=response.Host_Email||"",editIconElem="",status=zgssearch.getUserStatus(zuid,"big").status,gscalendar.curloggeduser=GSConstant.cuz,isValidEmailId="null"!==iconDisplay&&""!==iconDisplay&&null!=iconDisplay&&"-"!==iconDisplay&&"none"!==iconDisplay,_jQueryGS(menuEl.sendMail).css("display","none"),_jQueryGS(menuEl.gswmschat).css("display","none"),_jQueryGS(menuEl.gswmsaudio).css("display","none"),_jQueryGS(menuEl.gswmsvideo).css("display","none"),isValidEmailId&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.sendMail).css("display","block"),_jQueryGS(menuEl.sendMail).attr("email",iconDisplay),zuid&&"-1"!=zuid&&zuid!=gscalendar.curloggeduser&&(status=parseInt(status),(response.issameorg||""||0<=status)&&(editIconElem=zuid,_jQueryGS(menuEl.gswmschat).css("display","block"),zgssearch.hasAudioSupport()&&_jQueryGS(menuEl.gswmsaudio).css("display","block"),zgssearch.hasVideoSupport()&&_jQueryGS(menuEl.gswmsvideo).css("display","block")))),gscalendar.addCalloutActionList(menuEl,iconDisplay,editIconElem,zuid),iconDisplay=curCalloutObj.iconDisplay,(editIconElem=_jQueryGS(menuEl).find("#zgs20_gsCalendarEdit")).css("display","none"),!!response.hasOwnProperty("hasEditPermission")&&response.hasEditPermission?editIconElem.css("display","block"):iconDisplay||_jQueryGS(menuEl.actionPipe).css("display","none"),response.hasOwnProperty("userStatus")&&!zgssearch.isPreviewOpenedInComponent?gscalendar.renderUserStatus(menuEl,zuid,response.userStatus.status):_jQueryGS(menuEl.iconHeight).removeClass("zgs19_gsHgt160Px"),iconDisplay&&(_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.maxpreview).css("display","block")),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gscalendar.generateCallOut(menuEl,response),0<_jQueryGS(menuEl).find(".zgs19_gsCalloutDocsLabel").length?_jQueryGS(menuEl.lineicon).css("display","block"):_jQueryGS(menuEl.lineicon).css("display","none"),gscalendar.setCalendarCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):gscalendar.calloutErrorMsg("",curCalloutObj)},gscalendar.renderUserStatus=function(menuEl,zuid,status){_jQueryGS(menuEl.iconHeight).addClass("zgs19_gsHgt160Px");var yesStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusAccepted zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"yes",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.yes"),text:zgssearch.getI18NMsg("gs.search.calendar.callout.yes")}),noStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusRejected zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"no",gstitle:zgssearch.getI18NMsg("common.no"),text:zgssearch.getI18NMsg("common.no")}),maybeStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusMaybe zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"maybe",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.maybe"),text:zgssearch.getI18NMsg("gs.search.calendar.callout.maybe")}),attendeeStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsCalcMetaChild zgs19_gsMgLf10Px",gs:"attendeeStatus"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatusMsg zgs19_gsOverflow",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg")}).text(zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg"))).append(yesStatusDiv).append(noStatusDiv).append(maybeStatusDiv);switch(_jQueryGS(menuEl.calendarMetaInfo).append(attendeeStatusDiv),gscalendar.currentTimeMillis>=gscalendar.startTimeMillis&&_jQueryGS(attendeeStatusDiv).addClass("zgs19_gsHideEleme"),status){case 0:yesStatusDiv.removeAttr("gs"),yesStatusDiv.addClass("zgs19_gsSatusUpdateAccepted");break;case 1:noStatusDiv.removeAttr("gs"),noStatusDiv.addClass("zgs19_gsSatusUpdateRejected");break;case 2:maybeStatusDiv.removeAttr("gs"),maybeStatusDiv.addClass("zgs19_gsSatusUpdateMaybe")}},gscalendar.eventStatusCheck=function(){var duration=gscalendar.startTimeMillis-gscalendar.currentTimeMillis,removeClasses="",addClass="";gscalendar.todayInMills<=gscalendar.startTimeMillis&&gscalendar.startTimeMillis<gscalendar.todayInMills+zgssearch.DAY_IN_MILLIS&&gscalendar.calcDurationTime(duration),gscalendar.endTimeMillis-zgssearch.SECOND_IN_MILLIS<=gscalendar.currentTimeMillis?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor",addClass="zgs19_gsCompletedBgColor",gscalendar.statusElem.empty().addClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.completed")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.completed"))):gscalendar.startTimeMillis<=gscalendar.currentTimeMillis&&gscalendar.currentTimeMillis<gscalendar.endTimeMillis?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsTodayBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.started")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.started"))):gscalendar.todayInMills+zgssearch.DAY_IN_MILLIS<=gscalendar.startTimeMillis&&gscalendar.startTimeMillis<gscalendar.todayInMills+2*zgssearch.DAY_IN_MILLIS?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsTomorrowBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.filter.tomorrow")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.filter.tomorrow"))):gscalendar.todayInMills+2*zgssearch.DAY_IN_MILLIS<=gscalendar.startTimeMillis&&(removeClasses="zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsUpcomingBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.upcoming")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.upcoming"))),gscalendar.colorElem.removeClass(removeClasses).addClass(addClass)},gscalendar.calcDurationTime=function(duration){gscalendar.displayTimeTxt(duration),zgssearch.calendarInterval=setInterval(function(){gscalendar.currentTimeMillis<gscalendar.endTimeMillis&&(clearInterval(zgssearch.calendarInterval),gscalendar.eventStatusCheck()),gscalendar.currentTimeMillis+=zgssearch.SECOND_IN_MILLIS},zgssearch.SECOND_IN_MILLIS)},gscalendar.displayTimeTxt=function(duration){var displayTxt="",secs=(duration%=zgssearch.DAY_IN_MILLIS)%zgssearch.HOURS_IN_MILLIS,mins=(duration-secs)/zgssearch.HOURS_IN_MILLIS;0<mins&&(displayTxt+=String(mins).padStart(2,"0")+":");mins=((duration=secs)-(secs=duration%zgssearch.MINUTE_IN_MILLIS))/zgssearch.MINUTE_IN_MILLIS;0<=mins&&(displayTxt+=String(mins).padStart(2,"0")+":");secs=((duration=secs)-(secs=duration%zgssearch.SECOND_IN_MILLIS))/zgssearch.SECOND_IN_MILLIS;0<=secs&&(displayTxt+=String(secs).padStart(2,"0")),gscalendar.colorElem.removeClass("zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor").addClass("zgs19_gsTodayBgColor"),gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(displayTxt)},gscalendar.generateCallOut=function(menuEl,response){_jQueryGS(menuEl.eventDetails).empty();var cardId,dispKey,calendarDetails=_jQueryGS(menuEl.eventDetails);for(dispKey in response.hasOwnProperty("Attendees")&&(gscalendar.previousAttendeesId="",gscalendar.isFisrtTime=!1,gscalendar.isPopUpAlreadyGenerated={},_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").remove(),_jQueryGS(".zgs19_gsAttendeeMenuPopUp").remove(),zgssearch.gsdbUtils.isDashboardOpened()?(cardId=_jQueryGS(menuEl).closest(".zgs19_gsCard").attr("cardId"),gscalendar.attendeesListObj[cardId]=response.Attendees):gscalendar.attendeesListObj=response.Attendees,gscalendar.statusMsg=[zgssearch.getI18NMsg("gs.search.calendar.callout.yes"),zgssearch.getI18NMsg("common.no"),zgssearch.getI18NMsg("gs.search.calendar.callout.maybe"),zgssearch.getI18NMsg("gs.search.calendar.callout.notResponding")],gscalendar.statusCode=["zgs18_gsInvitationAccepted","zgs18_gsInvitationCancelled","zgs18_gsInvitationMaybe","zgs18_gsInvitationNotResponsed"],calendarDetails=calendarDetails.append(gscalendar.addAttendeesList(cardId))),response.hasOwnProperty("Location")&&(calendarDetails=calendarDetails.append(gscalendar.renderCalendarModuleDetails("Location",response.Location))),response){var internalData=response[dispKey];""!==internalData&&"Host_Email"==dispKey||"Last_Modified_By"==dispKey||"Contact_Email"==dispKey?(dispKey=dispKey.replace(/_/g," "),zgssearch.renderContactsEmailId(menuEl,calendarDetails,dispKey,internalData)):""!==internalData&&zgssearch.includes(dispKey,gscalendar.supportedDispField)&&(internalData=gscalendar.renderCalendarModuleDetails(dispKey,internalData),calendarDetails=calendarDetails.append(internalData))}},gscalendar.renderCalendarModuleDetails=function(title,value){return title=title.replace(/_/g," "),_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gs_CRMw90 zgs19_gsfl",istip:!0}).text(value)))},gscalendar.addAttendeesList=function(countDiv){var attendeeListObj=countDiv?gscalendar.attendeesListObj[countDiv]:gscalendar.attendeesListObj,countDiv=attendeeListObj.length,attendeeDiv=_jQueryGS("<div>",{class:"zgs19_gsWidth100"});if(zgssearch.isPreviewOpenedInComponent)attendeeDiv=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gs_CRMw90 zgs19_gsfl"}).text(countDiv);else{for(var attendeeObj,n=5<countDiv?5:countDiv,i=0;i<n;i++)attendeeObj=attendeeListObj[i],attendeeDiv=attendeeDiv.append(gscalendar.renderAttendeesImg(i,attendeeObj,!1));5<countDiv&&(countDiv="+"+(countDiv-=5),countDiv=_jQueryGS("<div>",{id:"zgs20_gsAttendeesList",class:"zgs19_gsAttendeesCount zgs19_attendeesBG zgs19_gsfl",gs:"attendeesListPopup"}).text(countDiv),attendeeDiv=attendeeDiv.append(countDiv))}return _jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("gs.search.calendar.callout.attendees"))).append(attendeeDiv)},gscalendar.renderAttendeesImg=function(i,attendeeObj,isPopUp){var iconHolder=_jQueryGS("<img>",{id:i,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer});attendeeObj.hasOwnProperty("grpName")&&(iconHolder=_jQueryGS("<span>",{id:i,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader"}));var imgDiv=_jQueryGS("<div>").append(iconHolder);_jQueryGS(imgDiv).attr("gslabel",zgssearch.getI18NMsg("common.status"));var status,photoURL,labelName="",labelValue="";return attendeeObj.hasOwnProperty("grpName")?(labelName=zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),labelValue=attendeeObj.grpName,_jQueryGS(imgDiv).attr("class","zgs19_gsGroupOfAttendees zgs19_gsfl"),iconHolder.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon")):(photoURL=attendeeObj.zuid||"",status=attendeeObj.status,_jQueryGS(imgDiv).attr("class",gscalendar.statusCode[status]+" zgs19_gsfl"),_jQueryGS(imgDiv).attr("gstitle",gscalendar.statusMsg[status]),""!==photoURL&&"-1"!==photoURL?(labelName=zgssearch.getI18NMsg("gs.search.service_people.name"),labelValue=attendeeObj.name,photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",iconHolder)):(labelName=zgssearch.getI18NMsg("gs.search.calendar.callout.mailId"),labelValue=attendeeObj.email,iconHolder.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons"))),i<5&&!isPopUp&&(_jQueryGS(imgDiv).addClass("zgs19_gsAttendeePopup"),_jQueryGS(iconHolder).attr("gs","attendeeMenuPopUp"),_jQueryGS(iconHolder).attr("gslabel",labelName),_jQueryGS(iconHolder).attr("gstitle",labelValue)),imgDiv},gscalendar.attendeeMenuActionsPopUp=function(target){var id=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=id.createActionType(target),gscalendar.currSearchType.currCard?gscalendar.attendeeMenuActionsForCard(target):(id=target.getAttribute("id"),zgssearch.isAttendeeMenuPopUp&&gscalendar.previousAttendeesId==id?(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","none"),zgssearch.isAttendeeMenuPopUp=!1,gscalendar.previousAttendeesId=""):(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+gscalendar.previousAttendeesId).css("display","none"),gscalendar.isPopUpAlreadyGenerated[id]||gscalendar.renderAttendeeMenu(target,id),_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","block"),gscalendar.previousAttendeesId=id,zgssearch.isAttendeeMenuPopUp=!0))},gscalendar.attendeeMenuActionsForCard=function(target){var id=target.getAttribute("id");gscalendar.previousAttendeesId!=id||gscalendar.previousAttendeeActionCard!=gscalendar.currSearchType.getCurrentCardId()?(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),!_jQueryGS.isEmptyObject(gscalendar.isPopUpAlreadyGenerated)&&gscalendar.isPopUpAlreadyGenerated[gscalendar.currSearchType.getCurrentCardId()]&&gscalendar.isPopUpAlreadyGenerated[gscalendar.currSearchType.getCurrentCardId()][id]?(_jQueryGS(gscalendar.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+id).css("display","block"),gscalendar.setAttendeeMenuPos(target,id)):gscalendar.renderAttendeeMenu(target,id),gscalendar.previousAttendeesId=id,gscalendar.previousAttendeeActionCard=gscalendar.currSearchType.getCurrentCardId(),zgssearch.isAttendeeMenuPopUp=!0):(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","none"),gscalendar.previousAttendeesId="",zgssearch.isAttendeeMenuPopUp=!1)},gscalendar.renderAttendeeMenu=function(target,id){var cardId,menu=_jQueryGS("<div>",{id:"zgs20_gsAttendeeMenuPopUp"+id,class:"zgs19_gsAttendeeMenuPopUp zgs19_gsDisplayNone"});gscalendar.currSearchType.currCard?(cardId=gscalendar.currSearchType.getCurrentCardId(),parent=gscalendar.attendeesListObj[cardId][id],_jQueryGS(gscalendar.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+id),gscalendar.isPopUpAlreadyGenerated[cardId]||(gscalendar.isPopUpAlreadyGenerated[cardId]={}),gscalendar.isPopUpAlreadyGenerated[cardId][id]=!0):(parent=gscalendar.attendeesListObj[id],_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id)),gscalendar.addMoreAttendeeDetails(menu,id,parent);var parent=gscalendar.currSearchType.getCalloutParent();_jQueryGS(parent).append(menu),gscalendar.setAttendeeMenuPos(target,id),gscalendar.isPopUpAlreadyGenerated[id]=!0},gscalendar.setAttendeeMenuPos=function(target,menuEle){var srrPos=gscalendar.currSearchType.getCalloutParent(),leftPos=target.offsetParent.offsetLeft-31,topPos=_jQueryGS(target).height(),srrPos=_jQueryGS(srrPos).get(0).getBoundingClientRect(),topPos=_jQueryGS(target).get(0).getBoundingClientRect().top-srrPos.top+topPos+10,menuEle=gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeeMenuPopUp"+menuEle);_jQueryGS(menuEle).css({left:leftPos,top:topPos})},gscalendar.attendeesListMenuActionsPopUp=function(target){var parEle=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=parEle.createActionType(target),!zgssearch.isAttendeesListOpened||zgssearch.gsdbUtils.isDashboardOpened()?(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),parEle=gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp"),(gscalendar.isFisrtTime||!zgssearch.gsdbUtils.isDashboardOpened())&&parEle&&"none"===_jQueryGS(parEle).css("display")||gscalendar.renderAttendeesList(target),gscalendar.setAttendeesListPos(target),_jQueryGS(parEle).css("display","block"),zgssearch.isAttendeesListOpened=!0):(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1,gscalendar.previousAttendeesId="")},gscalendar.renderAttendeesList=function(calloutPar){var menu=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=menu.createActionType(calloutPar);for(var attendeeList=gscalendar.currSearchType.currCard?gscalendar.attendeesListObj[gscalendar.currSearchType.getCurrentCardId()]:gscalendar.attendeesListObj,menu=_jQueryGS("<div>",{id:"zgs20_gsAttendeesListMenuPopUp",class:"zgs19_gsAttendeesListMenuPopUp zgs19_gsDisplayNone"}),listDiv=_jQueryGS("<div>",{class:"zgs19_gssAttendeesList"}),alistLen=attendeeList.length,i=5;i<alistLen;i++)gscalendar.addMoreAttendeeDetails(listDiv,i,attendeeList[i]);menu.append(listDiv);calloutPar=gscalendar.currSearchType.getCalloutParent();_jQueryGS(calloutPar).append(menu),zgssearch.jqueryMouseEvent(),_jQueryGS(gscalendar.currSearchType.getTargetElem(".zgs19_gsAttendeeActionsHover")).addClass("zgs19_gsVisbHdn"),gscalendar.isFisrtTime=!0},gscalendar.setAttendeesListPos=function(target){var leftPos=_jQueryGS(target).closest(".zgs19_gsAttendeesCount").width(),pos=_jQueryGS(target).position(),srrPos=gscalendar.currSearchType.getCalloutParent(),topPos=_jQueryGS(gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp")).outerWidth(),leftPos=pos.left+leftPos/2+16-topPos/2,topPos=_jQueryGS(target).height(),srrPos=_jQueryGS(srrPos).get(0).getBoundingClientRect(),topPos=_jQueryGS(target).get(0).getBoundingClientRect().top-srrPos.top+topPos+10;_jQueryGS(gscalendar.currSearchType.getTargetElem(".zgs19_gsAttendeesListMenuPopUp")).css({left:leftPos,top:topPos})},gscalendar.addMoreAttendeeDetails=function(menu,i,attendeeObj){var finalDispName=attendeeObj.name||attendeeObj.email||attendeeObj.grpName,parentClsName="zgs19_gsAteendeeInfo",groupDivName="",nameDiv="zgs19_gsAttendeeDetails",LabelName=zgssearch.getI18NMsg("gs.search.service_people.name"),attendeesDiv="zgs19_gsAttendeeActionsHover";(i=parseInt(i))<5&&(nameDiv="zgs19_gsAttendeesInfoOuter",attendeesDiv=parentClsName=""),attendeeObj.grpName&&(LabelName=zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),groupDivName=" zgs19_gsGroupName");attendeesDiv=_jQueryGS("<div>",{id:i,class:"zgs19_gsSenderAbout zgs19_gsfl "+parentClsName}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesPhoto"}).append(gscalendar.renderAttendeesImg(i,attendeeObj,!0))).append(_jQueryGS("<div>",{class:nameDiv+groupDivName}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesName zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"cmusername",gslabel:LabelName,gstitle:finalDispName}).text(finalDispName))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsAttendeeActions zgs19_gsfl "+attendeesDiv,gs:"attendeesActionInfo"}))));gscalendar.enableAttendeesWmsService(attendeesDiv,attendeeObj),menu.append(attendeesDiv)},gscalendar.enableAttendeesWmsService=function(status,attendeeObj){var zuid=attendeeObj.zuid||"",attendeeMail=attendeeObj.email,actionDiv=_jQueryGS(status).find(".zgs19_gsAttendeeActions"),status=zgssearch.getUserStatus(zuid,"big").status;"null"!==attendeeMail&&""!==attendeeMail&&null!=attendeeMail&&"-"!==attendeeMail&&"none"!==attendeeMail&&(actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsfl",gs:"sendMail",email:attendeeMail,gstitle:gscalendar.composeMailTitle})),zuid!=gscalendar.curloggeduser&&zuid&&"-1"!=zuid&&(status=parseInt(status),(attendeeObj.issameorg||""||0<=status)&&(actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfl",gs:"gswmschat",chatid:zuid,gstitle:gscalendar.continueChat})),zgssearch.hasAudioSupport()&&actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsaudio",zuid:zuid,gstitle:gscalendar.audioCall})),zgssearch.hasVideoSupport()&&actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsvideo",zuid:zuid,gstitle:gscalendar.videoCall})))))},gscalendar.addCalloutActionList=function(menuEl,composeMail,peruser,zuid){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscalendar.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)"sendMail"==key&&!composeMail||"sendMail"==key&&zuid==GSConstant.cuz||"pcontinue"==key&&!peruser||!("audio"!=key&&"video"!=key||peruser&&zgssearch.hasAudioSupport()&&zgssearch.hasVideoSupport())||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,email:composeMail,chatid:peruser,service:GSConstant.CALENDAR}).text(dectext)))}},gscalendar.openCalendarResult=function(resObj){switch(resObj.sId||""){case"4":return resObj.eventUrl||"";case"8":return GSConstant.GS_CRM_URL+"/"+GSConstant.CRM+"/"+resObj.domain_name+"/EntityInfo.do?module=Events&id="+resObj.eId;case"9":return GSConstant.GS_SUPPORT_URL+"/"+GSConstant.SUPPORT+"/"+encodeURIComponent(resObj.spn)+"/ShowHomePage.do#Events/dv/"+resObj.eId;case"31":return GSConstant.GS_BIGIN_URL+"/"+GSConstant.BIGIN+"/Home#/events/"+resObj.eId+"?orgId="+resObj.orgId}},gscalendar.getEventDateValues=function(startDateAndTime,endDateAndTime){startDateAndTime=startDateAndTime.split("-"),endDateAndTime=endDateAndTime.split("-");return gscalendar.checkStartAndEndDatesAreSame(startDateAndTime[0],endDateAndTime[0])&&(endDateAndTime[0]=""),startDateAndTime[1]=null==startDateAndTime[1]?"":startDateAndTime[1],endDateAndTime[1]=null==endDateAndTime[1]?"":endDateAndTime[1],[startDateAndTime[0],startDateAndTime[1],endDateAndTime[0],endDateAndTime[1]]},gscalendar.checkStartAndEndDatesAreSame=function(startDate,endDate){return startDate===endDate},gscalendar.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.service_calednar.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscalendar.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCalendarCallout");zgssearch.setGSTagElems(menuEl),gscalendar.setCalendarCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscalendar)}(zgssearch,window),function(zgssearch,window){var gscliq,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscliq=(gscliq=void 0,(gscliq=zgssearch.gscliq||{}).catchedPreview=gscliq.catchedPreview||[],gscliq.actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gscliq.getCalloutHolder=function(){return"zgs20_gsCliqCallout"},gscliq.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,continueChat,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),dcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsw100h100",gs:"cliqTranscript"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CLIQ,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CLIQ),service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gstitle:continueChat,gs:"continuechat",service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:dcallout,gs:"minpreview",service:GSConstant.CLIQ}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsZIndex0",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsCalloutPopUp zgs19_gsBorderBox",gs:"calloutFooter"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"cliqIEContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg",gs:"cliqPageTxt"}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")))).append(_jQueryGS("<div>",{class:"zgs19_gsChatPreview zgs19_gsBorderBox zgs19_gsDisplayNone",id:"zgs20_gsChatPreview",gs:"cliqPreview"})),_jQueryGS(curCalloutObj.parentElem).append(dcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gscliq.setCliqCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),cheight=_jQueryGS(menuEl).height(),contentHeight=cheight-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),zgssearch.hasWMSTranscript&&(_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),_jQueryGS(menuEl.cliqPreview).css("height",cheight-headerHeight+"px"))},gscliq.calloutResponse=function(response,resObj,ctype,photoURL){var group_id,channeltype,sname,currService,calloutCount,curCalloutObj=photoURL.searchObj,isPreviewCard=photoURL.searchObj.type,pcount=curCalloutObj.calloutId,menuEl=zgssearch.getTargetElem(pcount);menuEl&&(gscliq.registerCliqPreviewTemplate(menuEl,resObj),zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ctype),_jQueryGS("#zgs20_gsChatPreview").hide(),_jQueryGS("#zgs20_gsCqC2Outer").remove(),_jQueryGS(menuEl).find(".zgs18_gsContinueChat").removeClass("zgs19_gsHideEleme"),zgssearch.isIE?(_jQueryGS(menuEl.cliqIEContent).css("display","block"),_jQueryGS(menuEl.cliqTranscript).css("display","none")):(_jQueryGS(menuEl.cliqIEContent).css("display","none"),_jQueryGS(menuEl.cliqTranscript).css("display","block"),photoURL=resObj.title||"",_jQueryGS(menuEl.owner).empty().text(photoURL).attr("gstitle",photoURL).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.title")),_jQueryGS(menuEl.ctitle).empty().text(photoURL).attr("gstitle",photoURL).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CLIQ,resObj)),ctype&&(channeltype=_jQueryGS(ctype.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",channeltype)),pcount=resObj.dT||"-",_jQueryGS(menuEl.date).empty().text(pcount).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.lastReplied")),photoURL=resObj.cid||"",pcount=(channeltype=(ctype=zgssearch.chidVsMeta||{}).hasOwnProperty(photoURL)?ctype[photoURL]:"").pcount||"",_jQueryGS(menuEl.partCount).empty(),pcount&&2<pcount&&(group_id=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),_jQueryGS(menuEl.partCount).text(group_id).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"))),ctype=resObj.ctt||"",photoURL=channeltype.owner||"",group_id=channeltype.groupid||"",channeltype=resObj.clt||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).removeClass("zgs19_gsUserBackground"),2<pcount||group_id||channeltype||"8"==ctype||"9"==ctype?(sname="zgs19_gsChatGroupIcon","8"==ctype?"1"==channeltype?sname="zgs19_gsCliqOCI":"2"==channeltype?sname="zgs19_gsCliqTCI":"3"==channeltype?sname="zgs19_gsCliqPCI":"4"==channeltype&&(sname="zgs19_gsCliqECI"):"9"==ctype&&(sname="zgs19_gsCliqBCI"),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsResultsUniIcons zgs19_gsCqCOImg "+sname)):photoURL&&"-1"!==photoURL?(currService="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",currService),sname=zgssearch.getUserStatus(photoURL).name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderCalloutUserPhoto(currService,photoURL),_jQueryGS(menuEl.owner).addClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).addClass("zgs19_gsUserBackground")):(currService="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",currService),zgssearch.loadCalloutNoPhotoImg(currService)),gscliq.setCliqCalloutEleSize(menuEl),_jQueryGS(menuEl.calloutFooter).empty().show(),zgssearch.isExtension?(_jQueryGS(menuEl).show(),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter"),currService={gs:"cliqApp",service:GSConstant.CLIQ,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.cliq.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(gscliq.checkForRenderTranscript(resObj,menuEl),zgssearch.hasOwnProperty("gscomponent")&&1==zgssearch.gscomponent.UIType&&zgssearch.GSConstant.isContinueChatEnabled&&(isPreviewCard==zgssearch.dbCrdCalloutType&&zgssearch.gsdbUtils.isDashboardOpened()&&zgssearch.gscardinDb.isCardMaximised||"search"==isPreviewCard||isPreviewCard===zgssearch.crdPagecalloutType)&&gscliq.addContinueHTMLElem(menuEl.calloutFooter)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide())),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),calloutCount=_jQueryGS(menuEl).attr("ccount"),zgssearch.curCalloutCount==calloutCount&&setTimeout(function(){_jQueryGS("#zgs20_gsCqC2").css("margin-top","0px")},500),gscliq.addCalloutActionList(menuEl),zgssearch.calloutVisitRequest(),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),_jQueryGS(menuEl.calloutFooter).scrollTop(_jQueryGS(menuEl.calloutFooter)[0].scrollHeight))},gscliq.clearChatPreview=function(menuEl){zgssearch.gscliq.clearPreviewList(),_jQueryGS(menuEl).find("#zgs20_gsChatPreview").empty().hide()},gscliq.checkForRenderTranscript=function(resObj,menuEl){var intervalStartTime,wmsLoader;zgssearch.hasWMSTranscript?gscliq.renderCliqTranscript(resObj,menuEl):(intervalStartTime=(new Date).getTime(),wmsLoader=setInterval(function(){var currService;gscliq.updateWMSTranscript(),3e4<(new Date).getTime()-intervalStartTime?(clearInterval(wmsLoader),_jQueryGS(menuEl).show(),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter"),currService={gs:"cliqApp",service:GSConstant.CLIQ,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.cliq.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):zgssearch.hasWMSTranscript&&(clearInterval(wmsLoader),gscliq.renderCliqTranscript(resObj,menuEl))},500))},gscliq.updateWMSTranscript=function(){zgssearch.hasWMSTranscript||(zgssearch.hasWebMessanger="undefined"!=typeof WebMessanger,zgssearch.hasWMSTranscript=zgssearch.hasWebMessanger&&void 0!==WebMessanger.renderTranscript)},gscliq.renderCliqTranscript=function(resObj,menuEl){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsCliqBtnOuter").addClass("zgs19_gsWMSCalloutFooter");var sZUID=resObj.sid||"",cmtime=resObj.msg||resObj.fn||resObj.fc?resObj.mT:"";WebMessanger.renderTranscript(menuEl.calloutFooter,resObj.cid,cmtime,sZUID)},gscliq.getContinueHTMLElem=function(){var continueChat=zgssearch.getI18NMsg("gs.search.filter.cliq.continue");return _jQueryGS("<div>",{id:"zgs20_gsCqC2Outer",class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox",gs:"continuechat",service:GSConstant.CLIQ}).text(continueChat))},gscliq.addContinueHTMLElem=function(calloutFooterElem){var continueElem=gscliq.getContinueHTMLElem();_jQueryGS(calloutFooterElem).append(continueElem)},gscliq.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscliq.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CLIQ}).text(dectext)))}},gscliq.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsCliqCallout");zgssearch.setGSTagElems(menuEl),gscliq.setCliqCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscliq.setPreviewList=function(chatId){zgssearch.isArrayContain(chatId,gscliq.catchedPreview)||gscliq.catchedPreview.push(chatId)},gscliq.getPreviewList=function(){return gscliq.catchedPreview||[]},gscliq.clearPreviewList=function(){if("undefined"!=typeof WmsUIImpl)try{for(var cplist=gscliq.getPreviewList();0<cplist.length;){var chatId=cplist.pop();WmsUIImpl.closeChatWindow(chatId)}}catch(ex){zgssearch.throwClientError("Unable to close chat from WMS which is opened via Zia search. ",ex)}gscliq.catchedPreview=[]},gscliq.registerCliqPreviewTemplate=function(menuEl,resObj){var hasWmsUIImpl="undefined"!=typeof WmsUIImpl;zgssearch.GSConstant.isContinueChatEnabled&&hasWmsUIImpl&&(WmsUIImpl.getChatWindowContainer=function(chatid,ctype,channeluid,channelservicecode,channelsoid){var service=zgssearch.getCurSelectedEleAttr("service"),tempCatchedPreview=gscliq.getPreviewList();if(GSConstant.CLIQ==service&&resObj&&resObj.cid==chatid&&zgssearch.isArrayContain(chatid,tempCatchedPreview))return menuEl.getElementsByClassName("zgs19_gsChatPreview")[0]},WmsUIImpl.handleChatWindowClose=function(ctype,chid,channeluid){var service=zgssearch.getCurSelectedEleAttr("service"),tempCatchedPreview=gscliq.getPreviewList();GSConstant.CLIQ==service&&resObj&&resObj.cid==chid&&zgssearch.isArrayContain(chid,tempCatchedPreview)&&(zgssearch.gscliq.clearChatPreview(menuEl),(zgssearch.gsdbUtils.isDashboardOpened()?_jQueryGS(menuEl.MobDisableFields):_jQueryGS(menuEl).find(".zgs18_gsContinueChat")).removeClass("zgs19_gsHideEleme"))},WmsUIImpl.getChatWindowOptions=function(chatid,ctype,channeluid,channelservicecode,channelsoid,entityid){var tempCatchedPreview=gscliq.getPreviewList();if(resObj&&resObj.cid==chatid&&zgssearch.isArrayContain(chatid,tempCatchedPreview))return{minimize:"disable"}})},gscliq)}(zgssearch,window),function(zgssearch,window){var gsworkdrive,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsworkdrive=(gsworkdrive=void 0,(gsworkdrive=zgssearch.gsworkdrive||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gsworkdrive.getCalloutHolder=function(){return"zgs20_gsWorkDriveCallout"},gsworkdrive.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,downtxt,gstitval,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),downtxt=zgssearch.getI18NMsg("gs.search.result.document.download"),gstitval=zgssearch.getI18NMsg("gs.search.callout.open_tab"),dcallout=zgssearch.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WORKDRIVE,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:gstitval,service:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr",gstitle:downtxt,gs:"workdrivedownload"})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WORKDRIVE}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsworkdrive.setWorkDriveCalloutEleSize=function(menuEl){var headerHeight=0<_jQueryGS(menuEl.header).length?40:0,calloutFooterWidth=0<_jQueryGS(menuEl.metaInfo).length?70:0,calloutFooterWidth=_jQueryGS(menuEl).height()-(headerHeight+calloutFooterWidth)-40;zgssearch.isMobViewport()&&(calloutFooterWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",calloutFooterWidth+"px");calloutFooterWidth=_jQueryGS(menuEl).width();zgssearch.hasOwnProperty("gscomponent")&&1===zgssearch.gscomponent.UIType&&(calloutFooterWidth-=40),_jQueryGS(menuEl.calloutFooter).css("width",calloutFooterWidth+"px")},gsworkdrive.calloutResponse=function(resObj,photoURL,iconDisplay){var sname,currService=!(!zgssearch.isExtension||!zgssearch.thirdPartyCookieDisabled),curCalloutObj=iconDisplay.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);menuEl&&(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(photoURL),sname=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WORKDRIVE,resObj)),iconDisplay=resObj.dN||"",_jQueryGS(menuEl.ctitle).empty().text(iconDisplay).attr("gstitle",iconDisplay),photoURL=resObj.zuid,_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),iconDisplay="zgs20_gsDocsCalloutUserImg"+sname,_jQueryGS(menuEl.authorPhoto).attr("id",iconDisplay),sname=zgssearch.getUserStatus(photoURL),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==photoURL&&void 0!==photoURL?(sname=sname.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderCalloutUserPhoto(iconDisplay,photoURL)):zgssearch.renderCalloutNoUserPhoto(iconDisplay),iconDisplay=resObj.shared?zgssearch.getI18NMsg("common.shared_by"):zgssearch.getI18NMsg("common.owned_by"),_jQueryGS(menuEl.startedBy).empty().text(iconDisplay).attr("gstitle",iconDisplay),_jQueryGS(menuEl.owner).empty().text(resObj.auth).attr("gstitle",resObj.auth),_jQueryGS(menuEl.date).empty().text(resObj.time).attr("gstitle",resObj.time),_jQueryGS(menuEl.workdrivedownload).hide(),currService||gsworkdrive.renderWorkDrivePreview(menuEl,resObj),iconDisplay=curCalloutObj.iconDisplay,"true"!==resObj.isF?(_jQueryGS(menuEl.workdrivedownload).show(),_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.documentName"))):(_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.folderName")),iconDisplay||_jQueryGS(menuEl.actionPipe).hide()),iconDisplay&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsworkdrive.addCalloutActionList(menuEl,resObj),currService&&(_jQueryGS(menuEl.docspreviewHolder).empty().show(),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible"),currService={gs:"workDriveApp",service:GSConstant.WORKDRIVE,previewHolder:"docspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.workdrive.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)))},gsworkdrive.addCalloutActionList=function(menuEl,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsworkdrive.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key){var docType=resObj.isF,downloadURL=GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||"true"===docType)continue}"embedPreview"==key&&(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WORKDRIVE}).text(dectext))}}},gsworkdrive.openWorkDriveResult=function(previewTheme){var url=zgssearch.GSConstant.GS_WORKDRIVE_URL+"/preview/"+previewTheme.dId,zsTheme=zgssearch.GSConstant.hasOwnProperty("SUPPORTED_THEME")?zgssearch.getTheme():"";url+="?theme=";previewTheme="white";try{("zsNavyMode"===zsTheme||"zsNightMode"===zsTheme||void 0!==localStorage&&1==localStorage.isNightModeEnabled)&&(previewTheme="grey")}catch(ex){}return(url+=previewTheme)+"&"+zgssearch.originParam},gsworkdrive.downloadWorkDriveDocument=function(downloadURL){downloadURL=downloadURL.dURL;zgssearch.network.download_file(downloadURL)},gsworkdrive.renderWorkDrivePreview=function(menuEl,workdriveprev){gsworkdrive.setWorkDriveCalloutEleSize(menuEl);var documentUrl=gsworkdrive.openWorkDriveResult(workdriveprev);_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden");var prevfoldererr,workdriveprev="";zgssearch.isIE?workdriveprev=_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg",gstitle:prevfoldererr}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")):documentUrl&&"null"!==documentUrl?(_jQueryGS(menuEl.loadericon).show(),_jQueryGS(menuEl.docspreviewHolder).empty(),(workdriveprev=document.createElement("iframe")).src=documentUrl,workdriveprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",workdriveprev.setAttribute("frameborder","0"),workdriveprev.setAttribute("allowfullscreen","true"),workdriveprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.loadericon).hide()},500)}):(prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),_jQueryGS(menuEl.calloutLoader).hide(),workdriveprev=_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr),_jQueryGS(menuEl.docspreviewHolder).append(workdriveprev),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")),_jQueryGS(menuEl.docspreviewHolder).append(workdriveprev),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")},gsworkdrive.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWorkDriveCallout");zgssearch.setGSTagElems(menuEl),gsworkdrive.setWorkDriveCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsworkdrive.getPreviewCard=function(respObj){gsworkdrive.constructPreviewForCrd(respObj);var menuEl=zgssearch.getTargetElem(respObj.calloutId);zgssearch.setGSTagElems(menuEl),gsworkdrive.renderWorkDrivePreview(menuEl,respObj)},gsworkdrive.constructPreviewForCrd=function(respObj){var calloutDiv;_jQueryGS("#"+respObj.calloutId).length<=0&&(calloutDiv=zgssearch.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),calloutDiv=_jQueryGS("<div>",{id:respObj.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(calloutDiv).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),_jQueryGS(respObj.parentElem).append(calloutDiv))},gsworkdrive)}(zgssearch,window),function(zgssearch,window){var gswebsite,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswebsite=(gswebsite=void 0,(gswebsite=zgssearch.gswebsite||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",embedPreview:"gs.search.callout.savePreviewCard"}],gswebsite.appInitKBContainerId="zgs20_gsASAPKBContent",gswebsite.isVideoResultObtained=!1,gswebsite.getCalloutHolder=function(){return"zgs20_gsWebsiteCallout"},gswebsite.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&aId="+resObj.aId+"&portalId="+(resObj.accId||GSConstant.pId)},gswebsite.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,wcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),wcallout=zgssearch.getFourDotLoader("zgs20_gsWebsitePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),wcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WEBSITE,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WEBSITE}))))).append(_jQueryGS("<div>",{class:"zgs19_gsNoMetaCalloutFooter",id:"zgs20_gsWebsitepreviewHolder",gs:"content"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsWebsitePreviewLoader"}).append(wcallout)).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsw100h100",id:gswebsite.appInitKBContainerId})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsVerticalScroll zgs19_gsKBContent",id:"zgs20_gsKBContent"})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsBtnContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"websitePageTxt"}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"websitePage",service:GSConstant.WEBSITE}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")))))),_jQueryGS(curCalloutObj.parentElem).append(wcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS(calloutId).attr("ccount",count)},gswebsite.openKBArticle=function(aId,menuEl){gswebsite.ZohoHCAsap.kbArticles.view({articleId:aId}),_jQueryGS("#"+gswebsite.appInitKBContainerId).css("display","block"),zgssearch.calloutVisitRequest(),gswebsite.hideContentLoader(menuEl)},gswebsite.renderKBArticle=function(aId,menuEl){var asap_url,instance;gswebsite.ZohoHCAsap?gswebsite.openKBArticle(aId,menuEl):(asap_url=zgssearch.httpstxt+"://"+GSConstant.ASAP_URL+"/portal/api/web/inapp/"+GSConstant.ASAP_SEARCH_INAPPID+"?orgId="+GSConstant.ASAP_ORGID,(instance=new asapAppInstanceCreator(asap_url,gswebsite.appInitKBContainerId,function(){gswebsite.ZohoHCAsap=instance.getAsapClientApis(),gswebsite.isASAPLoaded=!0,gswebsite.openKBArticle(aId,menuEl)})).init(gswebsite.appInitKBContainerId))},gswebsite.isASAPLoaded=!1,gswebsite.loadASAPComponent=function(aId,menuEl){var gsASAPJS;gswebsite.isASAPLoaded?gswebsite.renderKBArticle(aId,menuEl):(gsASAPJS=zgssearch.network.getFingerPrintFilePath("js/helpASAP.js",!0),zgssearch.network.loadJSFile(gsASAPJS,gswebsite.renderKBArticle.bind(this,aId,menuEl)))},gswebsite.showContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsWebsitePreviewLoader").css("display","block")},gswebsite.hideContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsWebsitePreviewLoader").css("display","none")},gswebsite.getKBContent=function(actualContent,menuEl){!(actualContent=actualContent||{})||""!==(actualContent=actualContent.answer||"")&&(gswebsite.loadCssAndObtainContent(actualContent,menuEl),gswebsite.loadDeskImagesWithDomain(menuEl),_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").css("display","block"),gswebsite.hideContentLoader(menuEl),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent")))},gswebsite.calloutResponse=function(response,resObj,wUrl,ctitle){var curCalloutObj=ctitle.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(wUrl);ctitle=resObj.t||"";_jQueryGS(menuEl.ctitle).html("").text(ctitle).attr("gstitle",ctitle),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WEBSITE,resObj)),wUrl&&(openIconTT=_jQueryGS(wUrl.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",openIconTT)),gswebsite.addCalloutActionList(menuEl);wUrl=zgssearch.isPreviewCard(curCalloutObj);!curCalloutObj.iconDisplay&&wUrl||(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").children().css("display","none"),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||wUrl)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gswebsite.showContentLoader(menuEl);var openIconTT=!1,wUrl=resObj.aId||"";wUrl?zgssearch.isIE||zgssearch.isExtension||window.hasOwnProperty("zmList")||"search"!==curCalloutObj.type?gswebsite.getKBContent(response,menuEl):gswebsite.loadASAPComponent(wUrl,menuEl):0===resObj.cO?gswebsite.obtainPageOpenBtn(menuEl):(wUrl=zgssearch.httpstxt+"://"+(resObj.rD||GSConstant.rD)+resObj.p+"?zgs=1",_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").removeClass("zgs19_gsWebsiteVP"),resObj.vURL&&(openIconTT=!0,zgssearch.hasOwnProperty("pccomponent")||_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("isVideoRes",!0),wUrl=resObj.vURL,_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").addClass("zgs19_gsWebsiteVP")),gswebsite.renderWebsitePreview(wUrl,menuEl,curCalloutObj));openIconTT=openIconTT?zgssearch.getI18NMsg("gs.search.callout.open_video_tab"):zgssearch.getNewTabTip(GSConstant.WEBSITE);_jQueryGS(menuEl.clink).attr("gstitle",openIconTT)},gswebsite.loadCssAndObtainContent=function(actualContent,menuEl){var cssFilePath;zgssearch.isExtension||(cssFilePath=zgssearch.httpstxt+"://"+GSConstant.website_cssStaticServer+"/support/v1/css/zohohc-kb-article-theme.min.css",_jQueryGS('link[href="'+cssFilePath+'"]')[0]||zgssearch.network.loadCSSFile(cssFilePath)),_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").html("").append(actualContent)},gswebsite.loadDeskImagesWithDomain=function(menuEl){var imgList=_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").find("img"),imgListLen=imgList.length;if(0<imgListLen)for(var i=0;i<imgListLen;i++){var obj=imgList[i],oldImgSrc=_jQueryGS(obj).attr("src");oldImgSrc&&((oldImgSrc=-1!=oldImgSrc.indexOf("/ImageDisplayZSupportAPI?")?oldImgSrc.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"):oldImgSrc).startsWith("//")&&(oldImgSrc="https:"+oldImgSrc),_jQueryGS(obj).attr("src",oldImgSrc))}},gswebsite.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gswebsite.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WEBSITE}).text(dectext))}}},gswebsite.openWebsiteResult=function(resObj){return resObj.aId?GSConstant.kbD+resObj.p:resObj.vURL?zgssearch.httpstxt+"://"+resObj.p:zgssearch.httpstxt+"://"+GSConstant.oD+resObj.p},gswebsite.obtainPageOpenBtn=function(menuEl){_jQueryGS("#zgs20_gsBtnContent").css("display","block"),gswebsite.hideContentLoader(menuEl),zgssearch.setGSTagElems(menuEl),gswebsite.setPreviewBtnPosition(menuEl)},gswebsite.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.content).height()-(_jQueryGS(menuEl.websitePageTxt).height()+20))/2;_jQueryGS(menuEl.websitePageTxt).css("margin",actualCenterPosition+"px auto")},gswebsite.setVideoPreviewPosition=function(){var actualCenterPosition=(_jQueryGS("#zgs20_gsWebsitepreviewHolder").height()-(_jQueryGS("#zgs20_gsWebsiteIframe").outerHeight(!0)+20))/2;_jQueryGS("#zgs20_gsWebsiteIframe").css("margin-top",actualCenterPosition+"px")},gswebsite.renderWebsitePreview=function(url,menuEl,curCalloutObj){var curSelectedEle=zgssearch.getCurrentSelectedElem();gswebsite.currCalloutCount=curSelectedEle?curSelectedEle.id:"";try{_jQueryGS(menuEl).find("#zgs20_gsWebsiteIframe").remove(),_jQueryGS(menuEl).find("#zgs20_gsWebsiteVideoframe").remove();var websiteprev=document.createElement("iframe");websiteprev.src=url,websiteprev.id="zgs20_gsWebsiteIframe",websiteprev.gs="websiteCalloutData",websiteprev.setAttribute("frameborder","0"),websiteprev.setAttribute("allowfullscreen","true"),websiteprev.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"),gswebsite.isVideoResultObtained=!0,_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("isVideoRes")?(_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{id:"zgs20_gsWebsiteVideoframe",class:"zgs19_gsWebsiteVPOuter"})),_jQueryGS(menuEl).find("#zgs20_gsWebsiteVideoframe").append(websiteprev),gswebsite.setVideoPreviewPosition()):_jQueryGS(menuEl.content).append(websiteprev),websiteprev.onload=function(websiteprev){setTimeout(function(){var elem=(elem=zgssearch.getCurrentSelectedElem())?elem.id:"";(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gswebsite.currCalloutCount===elem||gswebsite.prevCrdCalloutId)&&(elem="",elem=zgssearch.gsdbUtils.isDashboardOpened()?websiteprev.target||websiteprev.path[0]:_jQueryGS(menuEl).find("#zgs20_gsWebsiteIframe"),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(elem),gswebsite.hideContentLoader(menuEl),_jQueryGS(elem).css("display","block"))},100,websiteprev)},websiteprev.onerror=function(){gswebsite.calloutErrorMsg("",curCalloutObj)}}catch(ex){zgssearch.throwClientError("Error while loading Website Page",ex),gswebsite.calloutErrorMsg("",curCalloutObj)}},gswebsite.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.website.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gswebsite.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWebsiteCallout");zgssearch.setGSTagElems(menuEl),gswebsite.setPreviewBtnPosition(menuEl),gswebsite.setVideoPreviewPosition(),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gswebsite)}(zgssearch,window),function(zgssearch,window){var gscreator,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscreator=(gscreator=void 0,(gscreator=zgssearch.gscreator||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink"}],gscreator.appsHeaderList={formList:"gs.search.result.creator.form",viewList:"gs.search.result.creator.view",pageList:"gs.search.result.creator.page"},gscreator.getCalloutHolder=function(){return"zgs20_gsCreatorCallout"},gscreator.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&appLinkName="+resObj.lN+"&appOwnerName="+encodeURIComponent(resObj.sN)},gscreator.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsCreatorPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CREATOR,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CREATOR),service:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.CREATOR}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCreatorCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsCreatorCalloutFooter",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",id:"zgs20_gsCreatorpreviewHolder",gs:"previewHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsDisableBtnContent",gs:"content"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"creatorPageTxt"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.result.creator.disabled_app_info")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn zgs19_gsWid200px",gs:"creatorApp",service:GSConstant.CREATOR}).text(zgssearch.getI18NMsg("gs.search.result.creator.open_in_app")))))))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS(calloutId).attr("ccount",count)},gscreator.setCreatorCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gscreator.calloutResponse=function(currService,resObj,startedBy,author){var curCalloutObj=author.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(startedBy);author=resObj.aN||"";_jQueryGS(menuEl.ctitle).empty().text(author).attr("gstitle",author),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CREATOR,resObj)),startedBy&&(staObj=_jQueryGS(startedBy.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",staObj));var author=resObj.zuid,startedBy="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),staObj=_jQueryGS(menuEl.authorPhoto);staObj.attr("src",zgssearch.gsspacer),staObj.attr("class","zgs19_gsFetchLoader"),staObj.attr("id",startedBy);staObj=zgssearch.getUserStatus(author);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==author&&void 0!==author?(time=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+time),time=zgssearch.getThumbPhotoURL(author),zgssearch.renderCalloutUserPhoto(startedBy,time)):zgssearch.renderCalloutNoUserPhoto(startedBy);var author=resObj.auth,time=void 0!==resObj.time?resObj.time:"",startedBy=1==resObj.cg?zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0):zgssearch.getI18NMsg("common.shared_by");_jQueryGS(menuEl.startedBy).empty().text(startedBy).attr("gstitle",startedBy),_jQueryGS(menuEl.owner).empty().text(author).attr("gstitle",author),_jQueryGS(menuEl.date).empty().text(time).attr("gstitle",time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),((zgssearch.hasOwnProperty("Utils")?zgssearch.Utils.getResultObjectofType(curCalloutObj.type,curCalloutObj.cardId):{}).aId===resObj.aId||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(_jQueryGS(menuEl.previewHolder).css("visibility","hidden"),zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gscreator.addCalloutActionList(menuEl),gscreator.setCreatorCalloutEleSize(menuEl),_jQueryGS(menuEl).find("#zgs20_gsCreatorpreviewHolder").children().css("display","none"),currService&&!_jQueryGS.isEmptyObject(currService)?(_jQueryGS(menuEl.previewHolder).removeClass("zgs19_gsCreatorpreviewHolder"),gscreator.renderCreatorPreview(currService,menuEl,curCalloutObj)):null==currService?(_jQueryGS(menuEl.previewHolder).show(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible"),currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"previewHolder",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.access_this_application")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(_jQueryGS(menuEl.previewHolder).addClass("zgs19_gsCreatorpreviewHolder"),gscreator.obtainDisablePageOpenBtn(menuEl))},gscreator.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscreator.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CREATOR}).text(dectext))}}},gscreator.openCreatorResult=function(resObj){var scopeName=resObj.sN,creatorAppURL=resObj.lN,creatorAppURL=GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+creatorAppURL;return resObj.aURL||creatorAppURL},gscreator.obtainDisablePageOpenBtn=function(menuEl){_jQueryGS("#zgs20_gsDisableBtnContent").css("display","block"),gscreator.setPreviewBtnPosition(menuEl)},gscreator.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=((_jQueryGS(menuEl.content).height()||0)-(_jQueryGS(menuEl.creatorPageTxt).height()+20))/2;_jQueryGS(menuEl.creatorPageTxt).css("margin",actualCenterPosition+"px auto"),_jQueryGS(menuEl.previewHolder).css("visibility","visible")},gscreator.getFormOrViewOpenUrl=function(componentName,scopeName){var embedtype="";switch(scopeName){case"formList":embedtype="form-embed";break;case"viewList":embedtype="view-embed";break;case"pageList":embedtype="page-embed"}var linkName=zgssearch.getCurrentResObj(),scopeName=linkName.sN,linkName=linkName.lN;return GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+linkName+"/"+embedtype+"/"+componentName+"?"+zgssearch.originParam},gscreator.renderCreatorPreview=function(currService,menuEl,curCalloutObj){if(currService&&"null"!==currService){var isDataObtained=!1,formsAndViews=zgssearch.jsonParse(currService);_jQueryGS("#zgs20_gsCreatorPrevLoader").show();var fwidth=_jQueryGS(menuEl.previewHolder).width()/2;zgssearch.removeEle(_jQueryGS("#zgs20_gsFormViewsFilterDataHolder")[0]),_jQueryGS(menuEl.previewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCreatorListHolder",id:"zgs20_gsFormViewsFilterDataHolder",gs:"creatorListHolder"}));var key,listData,headerVal,itemObj,selectedHeaderCls,textWidth=fwidth-22,gffo=zgssearch.gFilterData[zgssearch.getCalloutSearchType()],wffodata={},componentName="",componentKey="",formViewPresentsLen=Object.keys(formsAndViews).length;for(key in gscreator.appsHeaderList)formsAndViews.hasOwnProperty(key)&&(selectedHeaderCls=(listData=formsAndViews[key])[0][key.replace("List","")+"Count"],delete listData[0],0<selectedHeaderCls&&(isDataObtained=!0,headerVal=zgssearch.getI18NMsg(gscreator.appsHeaderList[key]),selectedHeaderCls=zgssearch.getCurrentResObj().aN+" "+headerVal,zgssearch.setFiltersDetails(wffodata={},"type",key),zgssearch.setFiltersDetails(wffodata,"data",listData),zgssearch.setFiltersDetails(wffodata,"title",selectedHeaderCls),zgssearch.setFiltersDetails(wffodata,"current",""),selectedHeaderCls="zgs19_gsModuleFilterSerNameSelect",""===componentName&&(1<formViewPresentsLen?(itemObj=listData[1],selectedHeaderCls="",zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+key):itemObj=listData[1],componentName=itemObj.componentname,componentKey=key,zgssearch.setFiltersDetails(wffodata,"current",componentName)),_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_"+key,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:key,gs:"mFilterWidget",service:zgssearch.getCalloutSearchType(),style:"max-width:"+fwidth+"px;"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+key,gsa:GSConstant.CREATOR+"_"+key,class:"zgs19_gsModuleFilterSerNameNew zgs19_tc2fa6ea zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+selectedHeaderCls,gstitle:headerVal,style:"max-width: "+textWidth+"px; "}).text(headerVal)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsModuleFilterElemIcon zgs19_gsVisibleHidden"}))),zgssearch.setFiltersDetails(gffo,key,wffodata)));zgssearch.setFilterObj(zgssearch.getCalloutSearchType(),gffo),zgssearch.addEventFormsViewsFilterElem(),_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),curCalloutObj&&!curCalloutObj.obtainAppOpenBtn&&isDataObtained?gscreator.loadCreatorFormView(componentName,componentKey,menuEl,curCalloutObj):(zgssearch.removeEle(_jQueryGS("#zgs20_gsFormViewsFilterDataHolder")[0]),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible"),currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"previewHolder",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.access_this_application")},zgssearch.obtainAppOpenBtn(menuEl,currService))}else gscreator.calloutErrorMsg("",curCalloutObj)},gscreator.loadCreatorFormView=function(componentType,url,previewHolder,curCalloutObj){if(_jQueryGS(previewHolder.calloutFooter).empty().show(),zgssearch.isExtension){var currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.open_in_app")};zgssearch.obtainAppOpenBtn(previewHolder,currService)}else{url=gscreator.getFormOrViewOpenUrl(componentType,url),previewHolder=_jQueryGS(previewHolder?previewHolder.previewHolder:"#zgs20_gsCreatorpreviewHolder");try{zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframe")[0]),zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframePrevLoader")[0]);var loadericon=zgssearch.getFourDotLoader("zgs20_gsCreatorIframePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader");previewHolder.append(loadericon),_jQueryGS("#zgs20_gsCreatorIframePrevLoader").css("padding-top",_jQueryGS("#zgs20_gsCreatorPrevLoader").css("padding-top"));var creatorprev=document.createElement("iframe");creatorprev.src=url,creatorprev.id="zgs20_gsCreatorIframe",creatorprev.className="zgs19_Border0px zgs19_gsWid100Per zgs19_gsVisibleHidden",creatorprev.setAttribute("frameborder","0"),creatorprev.setAttribute("allowfullscreen","true"),creatorprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS("#zgs20_gsCreatorIframePrevLoader").hide(),_jQueryGS("#zgs20_gsCreatorIframe").css("visibility","visible")},100)},previewHolder.append(creatorprev);var calloutParentHeight=_jQueryGS("#zgs20_gsCreatorCalloutFooter").height(),listViewHeight=_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").outerHeight(!0)||0,iframeHeight=calloutParentHeight-listViewHeight;_jQueryGS("#zgs20_gsCreatorIframe").css("top",listViewHeight),_jQueryGS("#zgs20_gsCreatorIframe").css("height",iframeHeight+"px"),_jQueryGS("#zgs20_gsCreatorPrevLoader").hide(),previewHolder.css("visibility","visible")}catch(ex){zgssearch.throwClientError("Error while loading Creator's Form data",ex),gscreator.calloutErrorMsg("",curCalloutObj)}}},gscreator.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("visibility","visible"),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.creator.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscreator.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCreatorCallout");zgssearch.setGSTagElems(menuEl),gscreator.setCreatorCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscreator)}(zgssearch,window),function(zgssearch,window){var gswiki,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswiki=(gswiki=void 0,(gswiki=zgssearch.gswiki||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{embedPreview:"gs.search.callout.savePreviewCard"}],gswiki.getCalloutHolder=function(){return"zgs20_gsWikiCallout"},gswiki.calloutParams=function(resObj){var docId=resObj.doc_id,wikiType=resObj.ty,wikiId=resObj.wId,categId=resObj.wcId;return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&docId="+docId+"&wikiId="+wikiId+"&wikiCatId="+categId+"&type="+wikiType},gswiki.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WIKI,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.WIKI),service:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"wikidownload"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WIKI}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gs:"rlabel",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver",istip:!0}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsWikiCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gswiki.setWikiCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gswiki.calloutResponse=function(isPreviewCard,resObj,createdBy,wAuthor){var curCalloutObj=wAuthor.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(createdBy);var sname=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WIKI,resObj)),createdBy&&(workspaceName=_jQueryGS(createdBy.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",workspaceName));var photoURL=resObj.zuid||"",wAuthor=resObj.dN||"",createdBy=resObj.title||"",workspaceName=resObj.dT||"";_jQueryGS(menuEl.ctitle).text(createdBy).attr("gstitle",createdBy),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");createdBy="zgs20_gsWikiCalloutUserImg"+sname;_jQueryGS(menuEl.authorPhoto).attr("id",createdBy),photoURL&&"-1"!==photoURL?(sname=zgssearch.getUserStatus(photoURL).name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderCalloutUserPhoto(createdBy,photoURL)):zgssearch.renderCalloutNoUserPhoto(createdBy);createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0);_jQueryGS(menuEl.slabel).empty().text(createdBy).attr("gstitle",createdBy),_jQueryGS(menuEl.sender).empty().text(wAuthor).attr("gstitle",wAuthor),_jQueryGS(menuEl.date).empty().text(workspaceName).attr("gstitle",workspaceName).attr("gslabel",zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")),_jQueryGS(menuEl.rlabel).css("display","none"),_jQueryGS(menuEl.receiver).css("display","none"),_jQueryGS(menuEl.content).empty(),null!=isPreviewCard&&isPreviewCard&&(isPreviewCard.hasOwnProperty("wsName")&&(workspaceName=isPreviewCard.wsName||"",_jQueryGS(menuEl.receiver).empty().text(workspaceName).attr("gstitle",workspaceName).attr("gslabel",zgssearch.getI18NMsg("gs.search.multi.database")),_jQueryGS(menuEl.rlabel).css("display","block"),_jQueryGS(menuEl.receiver).css("display","block")),0==resObj.ty&&isPreviewCard.hasOwnProperty("actualContent")&&(_jQueryGS(menuEl.content).append(isPreviewCard.actualContent),resObj.domainAdded||gswiki.checkWikiDataAndAddDomain(menuEl.content,resObj),zgssearch.preventStylesFromParentDomain(menuEl.content))),_jQueryGS(menuEl.wikidownload).css("display","none"),1==resObj.ty&&_jQueryGS(menuEl.wikidownload).css("display","block"),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block"));isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gswiki.addCalloutActionList(menuEl,resObj),gswiki.setWikiCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gswiki.addCalloutActionList=function(menuEl,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gswiki.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"download"===key&&1!=resObj.ty||(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WIKI}).text(dectext))}}},gswiki.downloadWikiDocument=function(downloadURL){downloadURL=gswiki.openWikiResult(downloadURL,!0);zgssearch.network.download_file(downloadURL)},gswiki.openWikiResult=function(wikiCateId,isdownload){var docId=wikiCateId.doc_id,wikiId=wikiCateId.wId,topicType=wikiCateId.ty,url=wikiCateId.pId,pageTitle=wikiCateId.title,wikiCateId=wikiCateId.wcId;if(void 0!==wikiId&&""!==wikiId&&"null"!==wikiId){url=GSConstant.GS_WIKI_URL+"/searchurl?docId="+docId+"&catId="+wikiCateId+"&wikiId="+wikiId+"&parentId="+url+"&type="+topicType;return isdownload||("1"==topicType&&(zgssearch.endsWith(pageTitle,".xls")||zgssearch.endsWith(pageTitle,".xlsx")||zgssearch.endsWith(pageTitle,".ods")||zgssearch.endsWith(pageTitle,".sxc")||zgssearch.endsWith(pageTitle,".doc")||zgssearch.endsWith(pageTitle,".docx")||zgssearch.endsWith(pageTitle,".sxw")||zgssearch.endsWith(pageTitle,".odt"))||zgssearch.endsWith(pageTitle,".rtf")||zgssearch.endsWith(pageTitle,".odp")||zgssearch.endsWith(pageTitle,".pps")||zgssearch.endsWith(pageTitle,".ppt"))&&(url+="&m=edit"),url}},gswiki.checkWikiDataAndAddDomain=function(id,resObj){var accId=resObj.accId||zgssearch.getResultAccountId(),wikiURL=gswiki.getTruncatedSchemaURL(),wikiName=resObj.wikiname||zgssearch.getFilterData(GSConstant.WIKI,"accounts","data",accId);_jQueryGS(id).find("img").each(function(){var oldImgSrc="";(oldImgSrc=this.getAttribute("src")&&""!=this.getAttribute("src")?this.getAttribute("src"):oldImgSrc)&&0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",zgssearch.httpstxt+"://"+wikiName+"."+wikiURL+oldImgSrc)}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=this.getAttribute("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&0!=oldImgSrc.indexOf("#")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+wikiName+"."+wikiURL+extra+oldImgSrc)),this.removeAttribute("onclick"),this.setAttribute("target","_blank"),this.setAttribute("rel","noopener noreferrer"))})},gswiki.getTruncatedSchemaURL=function(){var wikiURL=GSConstant.GS_WIKI_URL;if(wikiURL.indexOf(zgssearch.httpstxt+"://")<=0)return wikiURL=wikiURL.substring(wikiURL.indexOf(zgssearch.httpstxt+"://")+8,wikiURL.length)},gswiki.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.wiki.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gswiki.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWikiCallout");zgssearch.setGSTagElems(menuEl),gswiki.setWikiCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gswiki)}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsnotebook=function(gsnotebook){(gsnotebook=zgssearch.gsnotebook||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",embedPreview:"gs.search.callout.savePreviewCard"}];var gsnotebookresults=zgssearch.gsnotebookresults||{};return gsnotebook.getCalloutHolder=function(){return"zgs20_gsNoteBookCallout"},gsnotebook.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsNoteBookPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.NOTEBOOK,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.NOTEBOOK),service:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.NOTEBOOK}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"nbNField"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid25Px"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid310Px"}).append(_jQueryGS("<span>",{gs:"nbN"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsw100h100 zgs19_gsMetaCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsNoteBookPreviewHolder",gs:"previewHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsNotebookPreviewLoader",gs:"previewLoader"}).append(dcallout)).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsNotebookBtnContent",gs:"notebookBtnCont"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"notebookPageTxt"}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"notebookPage",service:GSConstant.NOTEBOOK}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")))))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"notebookIEContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg"}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")))),_jQueryGS(curCalloutObj.parentElem).append(dcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsnotebook.showContentLoader=function(menuEl){_jQueryGS(menuEl.previewLoader).css("display","block")},gsnotebook.hideContentLoader=function(menuEl){_jQueryGS(menuEl.previewLoader).css("display","none")},gsnotebook.calloutResponse=function(resObj,author,isPreviewCard){var startedBy,url,curCalloutObj=isPreviewCard.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(author),zgssearch.gsnotebookresults.unSupportedBrowser?(_jQueryGS("#zgs20_gsNoteBookCallout").children().css("display","none"),_jQueryGS(menuEl).css("display","block"),_jQueryGS(menuEl.notebookIEContent).css("display","block")):(gsnotebookresults.nbClient.process(resObj),isPreviewCard=gsnotebookresults.nbClient.getTitle()||resObj.name||zgssearch.getI18NMsg("gs.r.nb.untitled"),_jQueryGS(menuEl.ctitle).text(isPreviewCard).attr("gstitle",isPreviewCard),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.NOTEBOOK,resObj)),author&&(startedBy=_jQueryGS(author.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",startedBy)),isPreviewCard="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),(author=_jQueryGS(menuEl.authorPhoto)).attr("src",zgssearch.gsspacer),author.attr("class","zgs19_gsFetchLoader"),author.attr("id",isPreviewCard),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),startedBy=zgssearch.getThumbPhotoURL(zgssearch.GSConstant.cuz),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "),zgssearch.renderCalloutUserPhoto(isPreviewCard,startedBy),author=zgssearch.GSConstant.cun,isPreviewCard=gsnotebookresults.nbClient.getDate()||"",startedBy=zgssearch.getI18NMsg("common.owned_by"),_jQueryGS(menuEl.startedBy).html("").text(startedBy).attr("gstitle",startedBy),_jQueryGS(menuEl.owner).html("").text(author).attr("gstitle",author),_jQueryGS(menuEl.date).html("").text(isPreviewCard).attr("gslabel",zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")).attr("gstitle",isPreviewCard),gsnotebook.setPreviewBtnPosition(menuEl),gsnotebook.addCalloutActionList(menuEl),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl.previewHolder).children().css("display","none"),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gsnotebook.showContentLoader(menuEl),resObj.notecard_id?(url=resObj.nbN,_jQueryGS(menuEl.nbN).text(url).attr("gstitle",url),_jQueryGS(menuEl.nbNField).css("display","block")):_jQueryGS(menuEl.nbNField).css("display","none"),gsnotebookresults.nbClient.isNewTabLoad()?gsnotebook.obtainOpenBtn(menuEl):(url=gsnotebookresults.nbClient.getUrl(),gsnotebook.renderNoteBookPreview(url,menuEl,curCalloutObj)))},gsnotebook.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsnotebook.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);(!zgssearch.isSavedSearchEnabled||zgssearch.gsdbUtils.isDashboardOpened()||zgssearch.gscardUtils.isCardPageOpened())&&"embedPreview"==key||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.NOTEBOOK}).text(dectext))}}},gsnotebook.getNotebookResultURL=function(resObj){var noteCardId=resObj.notecard_id,notebookId=resObj.notebook_id,notebookAppURL=GSConstant.GS_NOTEBOOK_URL+"/app/index.html#/notebooks/"+notebookId+"/notecards";return noteCardId?notebookAppURL+"/"+noteCardId:notebookId?notebookAppURL:notebookAppURL+"/"+resObj.notebook_id+"/groupedcards?backToSegment=true"},gsnotebook.obtainOpenBtn=function(menuEl){_jQueryGS(menuEl.notebookBtnCont).css("display","block"),gsnotebook.hideContentLoader(menuEl),zgssearch.setGSTagElems(menuEl),gsnotebook.setPreviewBtnPosition(menuEl)},gsnotebook.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.previewHolder).height()-(_jQueryGS(menuEl.notebookPageTxt).height()+20))/2;_jQueryGS(menuEl.notebookPageTxt).css("margin",actualCenterPosition+"px auto")},gsnotebook.renderNoteBookPreview=function(url,menuEl,curCalloutObj){if(zgssearch.isExtension){_jQueryGS(menuEl.previewHolder).show(),gsnotebook.hideContentLoader(menuEl);var curSelectedEle={gs:"notebookApp",service:GSConstant.NOTEBOOK,previewHolder:"previewHolder",content:zgssearch.getI18NMsg("gs.search.result.notebook.callout.open_in_app")};zgssearch.obtainAppOpenBtn(menuEl,curSelectedEle)}else{curSelectedEle=zgssearch.getCurrentSelectedElem();gsnotebook.currCalloutCount=curSelectedEle.id;try{_jQueryGS(menuEl).find(".zgs19_gsNoteBookIframe").remove();var notebookprev=document.createElement("iframe");notebookprev.src=url;var previewId="zgs20_gsNbIframe_"+(curCalloutObj.hasOwnProperty("cardNum")?curCalloutObj.cardNum:"search");notebookprev.id=previewId,notebookprev.className="zgs19_gsNoteBookIframe zgs19_gsw100h100",notebookprev.gs="notebookCalloutData",notebookprev.setAttribute("frameborder","0"),notebookprev.setAttribute("allowfullscreen","true"),notebookprev.onload=function(){setTimeout(function(){var curSelectedEle=zgssearch.getCurrentSelectedElem();(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gsnotebook.currCalloutCount===curSelectedEle.id)&&(zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(_jQueryGS(previewId)),gsnotebook.hideContentLoader(menuEl),_jQueryGS(previewId).css("display","block"))},100)},notebookprev.onerror=function(){gsnotebook.calloutErrorMsg("",curCalloutObj)},_jQueryGS(menuEl.previewHolder).append(notebookprev)}catch(ex){zgssearch.throwClientError("Error while loading Notebook Page",ex),gsnotebook.calloutErrorMsg("",curCalloutObj)}}},gsnotebook.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.website.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsnotebook.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsNoteBookCallout");zgssearch.setGSTagElems(menuEl),gsnotebook.setPreviewBtnPosition(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsnotebook}(void 0)}(zgssearch,window),function(zgssearch,window){var gscampaign,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscampaign=(gscampaign=void 0,(gscampaign=zgssearch.gscampaign||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"}],gscampaign.getCalloutHolder=function(){return"zgs20_gsCampaignCallout"},gscampaign.calloutParams=function(resObj){var camMod=resObj.accId||zgssearch.getResultAccountId(),service=resObj.serviceName||zgssearch.getCurSelectedEleAttr("service");switch(camMod){case"1":var camTy=resObj.cty,camId=resObj.cky,mail=resObj.accId||zgssearch.getResultAccountId();return"searchType="+service+"&campaigntype="+camTy+"&campaignkey="+camId+"&module=Campaigns&version="+(zgssearch.campaigns_version[mail]||"");case"2":mail=resObj.c_mail;return"searchType="+service+"&emailid="+encodeURIComponent(mail)+"&module=Contacts";case"3":return"searchType="+service+"&listKey="+resObj.lKey+"&module=Lists"}return""},gscampaign.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,concallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),concallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),concallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CAMPAIGNS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CAMPAIGNS),service:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:concallout,gs:"minpreview",service:GSConstant.CAMPAIGNS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons",gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl  zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per",gs:"receiverLabel"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl",gs:"receiverin"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsCurPointer zgs19_gsMxWid75Per",gs:"receiver"})))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsOverflowHidden zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder",gs:"calloutContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsPdfAtDark zgs19_gsDisplayNone",gs:"campaignpreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(concallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS(calloutId).attr("ccount",count)},gscampaign.setCampaignsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-headerHeight-contentHeight;contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gscampaign.calloutResponse=function(response,resObj,camMod,hrefer){var curCalloutObj=hrefer.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);if(zgssearch.setGSTagElems(menuEl),response&&null!=response){var ctitle=resObj.title||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("gstitle",ctitle);var mSer=resObj.accId||_jQueryGS(camMod).attr("acc_id"),hrefer=zgssearch.fetchCalloutUrlByAccId(GSConstant.CAMPAIGNS,resObj,mSer);_jQueryGS(menuEl.ctitle).attr("href",hrefer),camMod&&(prevfoldererr=_jQueryGS(camMod.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",prevfoldererr));camMod=resObj.cct||resObj.ct||"";_jQueryGS(menuEl.date).empty().text(camMod).attr("gstitle",camMod),_jQueryGS(menuEl.receiverLabel).show(),_jQueryGS(menuEl.contactsCalloutData).empty(),_jQueryGS(menuEl.campaignpreviewHolder).empty(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsCalloutPopUp"),_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).removeClass("zgs19_gsUserBackground"),_jQueryGS(menuEl.receiver).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.receiver).removeClass("zgs19_gsUserBackground"),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden").addClass("zgs19_gsVerticalScroll");var prevfoldererr=resObj.cpr||"",camMod=mSer;if("1"==camMod){var docsprev,mSer=resObj.cst||"",statusTip=zgssearch.getI18NMsg("common.status");_jQueryGS(menuEl.receiver).empty().text(mSer).attr("gstitle",mSer),_jQueryGS(menuEl.receiverin).empty().text(statusTip.toLowerCase()).attr("gstitle",statusTip.toLowerCase()),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampIcon zgs19_gsCampaignsCOImg"),ctitle=response.ES||response.AES||response.BES||resObj.title||"",_jQueryGS(menuEl.owner).empty().text(ctitle).attr("gstitle",ctitle),prevfoldererr&&"null"!=prevfoldererr?((docsprev=document.createElement("iframe")).src=gscampaign.formatCampaignPrevURL(prevfoldererr),docsprev.setAttribute("frameborder","0"),docsprev.setAttribute("allowfullscreen","true"),docsprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",docsprev.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"),docsprev.onload=function(){setTimeout(function(){_jQueryGS(menuEl.campaignpreviewHolder).css("visibility","visible")},500)}):(_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsVerticalScroll"),prevfoldererr=zgssearch.getI18NMsg("gs.search.campaign.callout.nocontent"),_jQueryGS(menuEl.campaignpreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.campaignpreviewHolder).css("visibility","visible")),_jQueryGS(menuEl.calloutContentHolder).hide(),_jQueryGS(menuEl.campaignpreviewHolder).append(docsprev).show()}else{if(_jQueryGS(menuEl.calloutContentHolder).show(),_jQueryGS(menuEl.campaignpreviewHolder).hide(),_jQueryGS(menuEl.owner).empty().text(ctitle).attr("gstitle",ctitle),_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsCalloutPopUp"),"2"==camMod){var mSenderTip=resObj.c_mail||"";_jQueryGS(menuEl.receiverin).empty(),_jQueryGS(menuEl.receiverLabel).hide(),_jQueryGS(menuEl.receiver).empty().text(mSenderTip).attr("gstitle",mSenderTip),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampContIcon zgs19_gsCampaignsCOImg"),response.CE=response.CE&&"null"!=response.CE?response.CE:mSenderTip;var emailField=["CE","SE"],urlField=["WE","FH","LH","TH"],cmetaData={NO:"common.notes",CI:"gs.search.campaign.callout.city",ST:"gs.search.campaign.callout.state",PH:"common.phone",MO:"common.mobile",CO:"gs.search.campaign.callout.country",AD:"common.address",ZC:"gs.search.campaign.callout.zipcode",WE:"common.website",JT:"gs.search.campaign.callout.job",CN:"gs.search.campaign.callout.company",CE:"gs.search.campaign.callout.email",CS:"gs.search.campaign.callout.campaignscore",TH:"gs.search.campaign.callout.twitter",FH:"gs.search.campaign.callout.facebook",LH:"gs.search.campaign.callout.linkedin",SE:"common.secondary_email"};for(ckey in response)cmetaData.hasOwnProperty(ckey)&&response[ckey]&&"null"!=response[ckey]&&(cval=(cval=response[ckey]||"").replace(/\n|\r/g," "),clabel=zgssearch.getI18NMsg(cmetaData[ckey]),-1!=emailField.indexOf(ckey)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,clabel,cval):-1!=urlField.indexOf(ckey)?zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",clabel,cval.split()):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,clabel,cval));_jQueryGS(menuEl.owner).addClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).addClass("zgs19_gsUserBackground")}else if("3"==camMod){mSenderTip=resObj.oNam||"",statusTip=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0);_jQueryGS(menuEl.receiver).empty().text(mSenderTip).attr("gstitle",mSenderTip),_jQueryGS(menuEl.receiverin).empty().text(statusTip).attr("gstitle",statusTip),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampListIcon zgs19_gsCampaignsCOImg"),_jQueryGS(menuEl.receiver).addClass("zgs19_gsUserBackground zgs19_gsCurPointer");var ckey,cval,clabel,contactStats=response.CS||{};for(ckey in cmetaData={no_of_active:"common.contact",no_of_unsub:"gs.search.campaign.callout.unsubscribes",sent_count:"gs.search.service_campaigns",no_of_bounce:"gs.search.campaign.callout.bounces"})contactStats.hasOwnProperty(ckey)&&"null"!=contactStats[ckey]&&(cval=""+(contactStats[ckey]||"0"),clabel=zgssearch.getI18NMsg(cmetaData[ckey]),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,clabel,cval))}0<_jQueryGS(menuEl).find(".zgs19_gsCalloutDocsUserInfo").length?_jQueryGS(menuEl.lineicon).show():_jQueryGS(menuEl.lineicon).hide()}curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)}else gscampaign.calloutErrorMsg("",curCalloutObj);gscampaign.addCalloutActionList(menuEl),gscampaign.setCampaignsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gscampaign.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscampaign.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CAMPAIGNS}).text(dectext))}}},gscampaign.formatCampaignPrevURL=function(url){var urlHost,campaignHost;return-1<(url=0!=(url=0==url.indexOf(".")?url.substr(1):url).indexOf("http")?zgssearch.httpstxt+"://"+url:url).indexOf(".localzoho.")&&(urlHost=zgssearch.getURLHostName(url),campaignHost=zgssearch.getURLHostName(GSConstant.GS_CAMPAIGN_URL),url=url.replace(urlHost,campaignHost)),url+"&"+zgssearch.originParam},gscampaign.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.campaign.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscampaign.openCampaignsResult=function(resObj,accId){var url="";return"1"==accId?url=GSConstant.GS_CAMPAIGN_URL+"/home.do?campaignkey="+resObj.cky:"2"==accId?url=GSConstant.GS_CAMPAIGN_URL+"/home.do?contactid="+resObj.cid:"3"==accId&&(url=GSConstant.GS_CAMPAIGN_URL+"/home.do?listkey="+resObj.lKey),url},gscampaign.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCampaignCallout");zgssearch.setGSTagElems(menuEl),gscampaign.setCampaignsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscampaign)}(zgssearch,window),function(zgssearch,window){var gssecurity,document=window.document;zgssearch.gssecurity=(gssecurity=void 0,(gssecurity=zgssearch.gssecurity||{}).textDecoder=function(encodedText){var tempDoc=window.document,useXHR=!1,useDOMParser=!1;"function"!=typeof window.HTMLTemplateElement||(decodedText=tempDoc.createElement("template")).content&&decodedText.content.ownerDocument&&(tempDoc=decodedText.content.ownerDocument);function _initDocument(dirty){var doc;if(useXHR){try{dirty=window.encodeURI(dirty)}catch(err){}var body=new window.XMLHttpRequest;body.responseType="document",body.open("GET","data:text/html;charset=utf-8,"+dirty,!1),body.send(null),doc=body.response}if(useDOMParser)try{doc=(new window.DOMParser).parseFromString(dirty,"text/html")}catch(err){}return doc&&doc.documentElement||((body=(doc=tempDoc.implementation.createHTMLDocument("")).body).parentNode.removeChild(body.parentNode.firstElementChild),body.outerHTML=dirty),tempDoc.getElementsByTagName.call(doc,"body")[0]}var decodedText=tempDoc.implementation&&void 0!==tempDoc.implementation.createHTMLDocument&&9!==tempDoc.documentMode;decodedText&&function(){var doc=_initDocument('<svg><g onload="this.parentNode.remove()"></g></svg>');doc.querySelector("svg")||(useXHR=!0);try{(doc=_initDocument('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(useDOMParser=!0)}catch(err){}}();decodedText=_initDocument("<textarea class='toDecode'></textarea>").getElementsByClassName("toDecode")[0];return decodedText.innerHTML=encodedText,decodedText.value},gssecurity.createTextNode=function(text){var textElem=document.createDocumentFragment();return textElem.appendChild(document.createTextNode(text||"")),textElem},gssecurity.createFontNode=function(matchChildElm,attr){var fontElm=document.createElement("FONT");if(attr)for(var at in attr)fontElm.setAttribute(at,attr[at]);var textElem=gssecurity.createTextNode(matchChildElm),matchChildElm=document.createDocumentFragment();return matchChildElm.appendChild(textElem),fontElm.appendChild(matchChildElm),fontElm},gssecurity.getHighlightTextNode=function(prefixElm,match,suffixElm,matchElm){var docFragment=document.createDocumentFragment();return prefixElm&&(prefixElm=gssecurity.createTextNode(prefixElm),docFragment.appendChild(prefixElm)),match&&(matchElm=gssecurity.createFontNode(match,matchElm),docFragment.appendChild(matchElm)),suffixElm&&(suffixElm=gssecurity.createTextNode(suffixElm),docFragment.appendChild(suffixElm)),docFragment},gssecurity)}(zgssearch,window);